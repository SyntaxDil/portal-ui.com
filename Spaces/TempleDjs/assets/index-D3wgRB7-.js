(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var ld={exports:{}},Wo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function AA(){if(a_)return Wo;a_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Wo.Fragment=t,Wo.jsx=i,Wo.jsxs=i,Wo}var o_;function SA(){return o_||(o_=1,ld.exports=AA()),ld.exports}var W=SA(),ud={exports:{}},tl={},cd={exports:{}},hd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function bA(){return l_||(l_=1,(function(s){function t(z,Y){var rt=z.length;z.push(Y);t:for(;0<rt;){var ft=rt-1>>>1,wt=z[ft];if(0<l(wt,Y))z[ft]=Y,z[rt]=wt,rt=ft;else break t}}function i(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var Y=z[0],rt=z.pop();if(rt!==Y){z[0]=rt;t:for(var ft=0,wt=z.length,D=wt>>>1;ft<D;){var H=2*(ft+1)-1,X=z[H],it=H+1,mt=z[it];if(0>l(X,rt))it<wt&&0>l(mt,X)?(z[ft]=mt,z[it]=rt,ft=it):(z[ft]=X,z[H]=rt,ft=H);else if(it<wt&&0>l(mt,rt))z[ft]=mt,z[it]=rt,ft=it;else break t}}return Y}function l(z,Y){var rt=z.sortIndex-Y.sortIndex;return rt!==0?rt:z.id-Y.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],v=[],A=1,b=null,x=3,F=!1,tt=!1,nt=!1,$=!1,ht=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function Ct(z){for(var Y=i(v);Y!==null;){if(Y.callback===null)a(v);else if(Y.startTime<=z)a(v),Y.sortIndex=Y.expirationTime,t(y,Y);else break;Y=i(v)}}function Kt(z){if(nt=!1,Ct(z),!tt)if(i(y)!==null)tt=!0,bt||(bt=!0,U());else{var Y=i(v);Y!==null&&Ae(Kt,Y.startTime-z)}}var bt=!1,C=-1,S=5,w=-1;function O(){return $?!0:!(s.unstable_now()-w<S)}function M(){if($=!1,bt){var z=s.unstable_now();w=z;var Y=!0;try{t:{tt=!1,nt&&(nt=!1,_t(C),C=-1),F=!0;var rt=x;try{e:{for(Ct(z),b=i(y);b!==null&&!(b.expirationTime>z&&O());){var ft=b.callback;if(typeof ft=="function"){b.callback=null,x=b.priorityLevel;var wt=ft(b.expirationTime<=z);if(z=s.unstable_now(),typeof wt=="function"){b.callback=wt,Ct(z),Y=!0;break e}b===i(y)&&a(y),Ct(z)}else a(y);b=i(y)}if(b!==null)Y=!0;else{var D=i(v);D!==null&&Ae(Kt,D.startTime-z),Y=!1}}break t}finally{b=null,x=rt,F=!1}Y=void 0}}finally{Y?U():bt=!1}}}var U;if(typeof ut=="function")U=function(){ut(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ue=I.port2;I.port1.onmessage=M,U=function(){ue.postMessage(null)}}else U=function(){ht(M,0)};function Ae(z,Y){C=ht(function(){z(s.unstable_now())},Y)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(z){z.callback=null},s.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<z?Math.floor(1e3/z):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(z){switch(x){case 1:case 2:case 3:var Y=3;break;default:Y=x}var rt=x;x=Y;try{return z()}finally{x=rt}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var rt=x;x=z;try{return Y()}finally{x=rt}},s.unstable_scheduleCallback=function(z,Y,rt){var ft=s.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?ft+rt:ft):rt=ft,z){case 1:var wt=-1;break;case 2:wt=250;break;case 5:wt=1073741823;break;case 4:wt=1e4;break;default:wt=5e3}return wt=rt+wt,z={id:A++,callback:Y,priorityLevel:z,startTime:rt,expirationTime:wt,sortIndex:-1},rt>ft?(z.sortIndex=rt,t(v,z),i(y)===null&&z===i(v)&&(nt?(_t(C),C=-1):nt=!0,Ae(Kt,rt-ft))):(z.sortIndex=wt,t(y,z),tt||F||(tt=!0,bt||(bt=!0,U()))),z},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(z){var Y=x;return function(){var rt=x;x=Y;try{return z.apply(this,arguments)}finally{x=rt}}}})(hd)),hd}var u_;function wA(){return u_||(u_=1,cd.exports=bA()),cd.exports}var fd={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function RA(){if(c_)return vt;c_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function F(D){return D===null||typeof D!="object"?null:(D=x&&D[x]||D["@@iterator"],typeof D=="function"?D:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,$={};function ht(D,H,X){this.props=D,this.context=H,this.refs=$,this.updater=X||tt}ht.prototype.isReactComponent={},ht.prototype.setState=function(D,H){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,H,"setState")},ht.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function _t(){}_t.prototype=ht.prototype;function ut(D,H,X){this.props=D,this.context=H,this.refs=$,this.updater=X||tt}var Ct=ut.prototype=new _t;Ct.constructor=ut,nt(Ct,ht.prototype),Ct.isPureReactComponent=!0;var Kt=Array.isArray;function bt(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function w(D,H,X){var it=X.ref;return{$$typeof:s,type:D,key:H,ref:it!==void 0?it:null,props:X}}function O(D,H){return w(D.type,H,D.props)}function M(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function U(D){var H={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(X){return H[X]})}var I=/\/+/g;function ue(D,H){return typeof D=="object"&&D!==null&&D.key!=null?U(""+D.key):H.toString(36)}function Ae(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(bt,bt):(D.status="pending",D.then(function(H){D.status==="pending"&&(D.status="fulfilled",D.value=H)},function(H){D.status==="pending"&&(D.status="rejected",D.reason=H)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function z(D,H,X,it,mt){var Rt=typeof D;(Rt==="undefined"||Rt==="boolean")&&(D=null);var xt=!1;if(D===null)xt=!0;else switch(Rt){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(D.$$typeof){case s:case t:xt=!0;break;case A:return xt=D._init,z(xt(D._payload),H,X,it,mt)}}if(xt)return mt=mt(D),xt=it===""?"."+ue(D,0):it,Kt(mt)?(X="",xt!=null&&(X=xt.replace(I,"$&/")+"/"),z(mt,H,X,"",function(Qn){return Qn})):mt!=null&&(M(mt)&&(mt=O(mt,X+(mt.key==null||D&&D.key===mt.key?"":(""+mt.key).replace(I,"$&/")+"/")+xt)),H.push(mt)),1;xt=0;var Ve=it===""?".":it+":";if(Kt(D))for(var ie=0;ie<D.length;ie++)it=D[ie],Rt=Ve+ue(it,ie),xt+=z(it,H,X,Rt,mt);else if(ie=F(D),typeof ie=="function")for(D=ie.call(D),ie=0;!(it=D.next()).done;)it=it.value,Rt=Ve+ue(it,ie++),xt+=z(it,H,X,Rt,mt);else if(Rt==="object"){if(typeof D.then=="function")return z(Ae(D),H,X,it,mt);throw H=String(D),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return xt}function Y(D,H,X){if(D==null)return D;var it=[],mt=0;return z(D,it,"","",function(Rt){return H.call(X,Rt,mt++)}),it}function rt(D){if(D._status===-1){var H=D._result;H=H(),H.then(function(X){(D._status===0||D._status===-1)&&(D._status=1,D._result=X)},function(X){(D._status===0||D._status===-1)&&(D._status=2,D._result=X)}),D._status===-1&&(D._status=0,D._result=H)}if(D._status===1)return D._result.default;throw D._result}var ft=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},wt={map:Y,forEach:function(D,H,X){Y(D,function(){H.apply(this,arguments)},X)},count:function(D){var H=0;return Y(D,function(){H++}),H},toArray:function(D){return Y(D,function(H){return H})||[]},only:function(D){if(!M(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return vt.Activity=b,vt.Children=wt,vt.Component=ht,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=ut,vt.StrictMode=a,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,vt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},vt.cache=function(D){return function(){return D.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(D,H,X){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var it=nt({},D.props),mt=D.key;if(H!=null)for(Rt in H.key!==void 0&&(mt=""+H.key),H)!S.call(H,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&H.ref===void 0||(it[Rt]=H[Rt]);var Rt=arguments.length-2;if(Rt===1)it.children=X;else if(1<Rt){for(var xt=Array(Rt),Ve=0;Ve<Rt;Ve++)xt[Ve]=arguments[Ve+2];it.children=xt}return w(D.type,mt,it)},vt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},vt.createElement=function(D,H,X){var it,mt={},Rt=null;if(H!=null)for(it in H.key!==void 0&&(Rt=""+H.key),H)S.call(H,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(mt[it]=H[it]);var xt=arguments.length-2;if(xt===1)mt.children=X;else if(1<xt){for(var Ve=Array(xt),ie=0;ie<xt;ie++)Ve[ie]=arguments[ie+2];mt.children=Ve}if(D&&D.defaultProps)for(it in xt=D.defaultProps,xt)mt[it]===void 0&&(mt[it]=xt[it]);return w(D,Rt,mt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(D){return{$$typeof:g,render:D}},vt.isValidElement=M,vt.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:rt}},vt.memo=function(D,H){return{$$typeof:v,type:D,compare:H===void 0?null:H}},vt.startTransition=function(D){var H=C.T,X={};C.T=X;try{var it=D(),mt=C.S;mt!==null&&mt(X,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(bt,ft)}catch(Rt){ft(Rt)}finally{H!==null&&X.types!==null&&(H.types=X.types),C.T=H}},vt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},vt.use=function(D){return C.H.use(D)},vt.useActionState=function(D,H,X){return C.H.useActionState(D,H,X)},vt.useCallback=function(D,H){return C.H.useCallback(D,H)},vt.useContext=function(D){return C.H.useContext(D)},vt.useDebugValue=function(){},vt.useDeferredValue=function(D,H){return C.H.useDeferredValue(D,H)},vt.useEffect=function(D,H){return C.H.useEffect(D,H)},vt.useEffectEvent=function(D){return C.H.useEffectEvent(D)},vt.useId=function(){return C.H.useId()},vt.useImperativeHandle=function(D,H,X){return C.H.useImperativeHandle(D,H,X)},vt.useInsertionEffect=function(D,H){return C.H.useInsertionEffect(D,H)},vt.useLayoutEffect=function(D,H){return C.H.useLayoutEffect(D,H)},vt.useMemo=function(D,H){return C.H.useMemo(D,H)},vt.useOptimistic=function(D,H){return C.H.useOptimistic(D,H)},vt.useReducer=function(D,H,X){return C.H.useReducer(D,H,X)},vt.useRef=function(D){return C.H.useRef(D)},vt.useState=function(D){return C.H.useState(D)},vt.useSyncExternalStore=function(D,H,X){return C.H.useSyncExternalStore(D,H,X)},vt.useTransition=function(){return C.H.useTransition()},vt.version="19.2.0",vt}var h_;function Jd(){return h_||(h_=1,fd.exports=RA()),fd.exports}var dd={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function IA(){if(f_)return Ke;f_=1;var s=Jd();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,v,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ke.createPortal=function(y,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(y,v,null,A)},Ke.flushSync=function(y){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=v,a.p=A,a.d.f()}},Ke.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(y,v))},Ke.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ke.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var A=v.as,b=g(A,v.crossOrigin),x=typeof v.integrity=="string"?v.integrity:void 0,F=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:F}):A==="script"&&a.d.X(y,{crossOrigin:b,integrity:x,fetchPriority:F,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ke.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(y)},Ke.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,b=g(A,v.crossOrigin);a.d.L(y,A,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ke.preloadModule=function(y,v){if(typeof y=="string")if(v){var A=g(v.as,v.crossOrigin);a.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(y)},Ke.requestFormReset=function(y){a.d.r(y)},Ke.unstable_batchedUpdates=function(y,v){return y(v)},Ke.useFormState=function(y,v,A){return d.H.useFormState(y,v,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.0",Ke}var d_;function CA(){if(d_)return dd.exports;d_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),dd.exports=IA(),dd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function DA(){if(m_)return tl;m_=1;var s=wA(),t=Jd(),i=CA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,o=f;break}if(E===o){p=!0,o=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,o=h;break}if(E===o){p=!0,o=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),Ct=Symbol.for("react.forward_ref"),Kt=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case ht:return"Profiler";case $:return"StrictMode";case Kt:return"Suspense";case bt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case ut:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case Ct:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ue(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ue(e(n))}catch{}}return null}var Ae=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},ft=[],wt=-1;function D(e){return{current:e}}function H(e){0>wt||(e.current=ft[wt],ft[wt]=null,wt--)}function X(e,n){wt++,ft[wt]=e.current,e.current=n}var it=D(null),mt=D(null),Rt=D(null),xt=D(null);function Ve(e,n){switch(X(Rt,n),X(mt,e),X(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Dy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Dy(n),e=Ny(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(it),X(it,e)}function ie(){H(it),H(mt),H(Rt)}function Qn(e){e.memoizedState!==null&&X(xt,e);var n=it.current,r=Ny(n,e.type);n!==r&&(X(mt,e),X(it,r))}function ci(e){mt.current===e&&(H(it),H(mt)),xt.current===e&&(H(xt),Xo._currentValue=rt)}var Jr,zs;function kn(e){if(Jr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Jr=n&&n[1]||"",zs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jr+e+zs}var Zr=!1;function js(e,n){if(!e||Zr)return"";Zr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var j=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){j=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){j=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&j&&typeof B.stack=="string")return[B.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),P=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{Zr=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?kn(r):""}function rh(e,n){switch(e.tag){case 26:case 27:case 5:return kn(e.type);case 16:return kn("Lazy");case 13:return e.child!==n&&n!==null?kn("Suspense Fallback"):kn("Suspense");case 19:return kn("SuspenseList");case 0:case 15:return js(e.type,!1);case 11:return js(e.type.render,!1);case 1:return js(e.type,!0);case 31:return kn("Activity");default:return""}}function Ml(e){try{var n="",r=null;do n+=rh(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Bs=Object.prototype.hasOwnProperty,Wr=s.unstable_scheduleCallback,qs=s.unstable_cancelCallback,sh=s.unstable_shouldYield,Ja=s.unstable_requestPaint,xe=s.unstable_now,Vl=s.unstable_getCurrentPriorityLevel,Se=s.unstable_ImmediatePriority,Re=s.unstable_UserBlockingPriority,hi=s.unstable_NormalPriority,xl=s.unstable_LowPriority,Za=s.unstable_IdlePriority,ah=s.log,ts=s.unstable_setDisableYieldValue,Yi=null,Ge=null;function bn(e){if(typeof ah=="function"&&ts(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Yi,e)}catch{}}var Ze=Math.clz32?Math.clz32:Ul,oh=Math.log,Wa=Math.LN2;function Ul(e){return e>>>=0,e===0?32:31-(oh(e)/Wa|0)|0}var es=256,Kn=262144,Xi=4194304;function Ln(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wn(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Ln(o):(p&=E,p!==0?h=Ln(p):r||(r=E&~e,r!==0&&(h=Ln(r))))):(E=o&~f,E!==0?h=Ln(E):p!==0?h=Ln(p):r||(r=o&~e,r!==0&&(h=Ln(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function $i(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Hs(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function to(){var e=Xi;return Xi<<=1,(Xi&62914560)===0&&(Xi=4194304),e}function fi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Ji(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ue(e,n,r,o,h,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(r=p&~r;0<r;){var G=31-Ze(r),K=1<<G;E[G]=0,R[G]=-1;var j=P[G];if(j!==null)for(P[G]=null,G=0;G<j.length;G++){var B=j[G];B!==null&&(B.lane&=-536870913)}r&=~K}o!==0&&eo(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function eo(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ze(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function Zi(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Ze(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function Wi(e,n){var r=n&-n;return r=(r&42)!==0?1:no(r),(r&(e.suspendedLanes|n))!==0?0:r}function no(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function io(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function di(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Wy(e.type))}function kl(e,n){var r=Y.p;try{return Y.p=e,n()}finally{Y.p=r}}var Yn=Math.random().toString(36).slice(2),se="__reactFiber$"+Yn,ke="__reactProps$"+Yn,Xn="__reactContainer$"+Yn,tr="__reactEvents$"+Yn,$n="__reactListeners$"+Yn,Ll="__reactHandles$"+Yn,ro="__reactResources$"+Yn,mi="__reactMarker$"+Yn;function ns(e){delete e[se],delete e[ke],delete e[tr],delete e[$n],delete e[Ll]}function gi(e){var n=e[se];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Xn]||r[se]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Ly(e);e!==null;){if(r=e[se])return r;e=Ly(e)}return n}e=r,r=e.parentNode}return null}function pi(e){if(e=e[se]||e[Xn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function is(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Pn(e){var n=e[ro];return n||(n=e[ro]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(e){e[mi]=!0}var Fs=new Set,er={};function We(e,n){Jn(e,n),Jn(e+"Capture",n)}function Jn(e,n){for(er[e]=n,e=0;e<n.length;e++)Fs.add(n[e])}var lh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),so={},ao={};function Pl(e){return Bs.call(ao,e)?!0:Bs.call(so,e)?!1:lh.test(e)?ao[e]=!0:(so[e]=!0,!1)}function nr(e,n,r){if(Pl(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function ir(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Rn(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zl(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function uh(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gs(e){if(!e._valueTracker){var n=zl(e)?"checked":"value";e._valueTracker=uh(e,n,""+e[n])}}function oo(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=zl(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Qs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yi=/[\n"\\]/g;function ae(e){return e.replace(yi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rr(e,n,r,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+tn(n)):e.value!==""+tn(n)&&(e.value=""+tn(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Ks(e,p,tn(n)):r!=null?Ks(e,p,tn(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+tn(E):e.removeAttribute("name")}function rs(e,n,r,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gs(e);return}r=r!=null?""+tn(r):"",n=n!=null?""+tn(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Gs(e)}function Ks(e,n,r){n==="number"&&Qs(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Pt(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+tn(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ss(e,n,r){if(n!=null&&(n=""+tn(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+tn(r):""}function sr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Ae(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=tn(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Gs(e)}function In(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var ch=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||ch.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function jl(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&lo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&lo(e,f,n[f])}function uo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zn(e){return fh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ie(){}var Ys=null;function Xs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _i=null,mn=null;function Bl(e){var n=pi(e);if(n&&(e=n.stateNode)){var r=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(rr(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ae(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(a(90));rr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&oo(o)}break t;case"textarea":ss(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Pt(e,!!r.multiple,n,!1)}}}var co=!1;function ql(e,n,r){if(co)return e(n,r);co=!0;try{var o=e(n);return o}finally{if(co=!1,(_i!==null||mn!==null)&&(Pu(),_i&&(n=_i,e=mn,mn=_i=null,Bl(n),e)))for(n=0;n<e.length;n++)Bl(e[n])}}function an(e,n){var r=e.stateNode;if(r===null)return null;var o=r[ke]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ho=!1;if(zn)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){ho=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{ho=!1}var gn=null,$s=null,ti=null;function ar(){if(ti)return ti;var e,n=$s,r=n.length,o,h="value"in gn?gn.value:gn.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var p=r-e;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return ti=h.slice(e,1<o?1-o:void 0)}function as(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function or(){return!0}function Zt(){return!1}function Qe(e){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?or:Zt,this.isPropagationStopped=Zt,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),n}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},os=Qe(vi),lr=b({},vi,{view:0,detail:0}),Hl=Qe(lr),ur,Js,en,ls=b({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&e.type==="mousemove"?(ur=e.screenX-en.screenX,Js=e.screenY-en.screenY):Js=ur=0,en=e),ur)},movementY:function(e){return"movementY"in e?e.movementY:Js}}),Fl=Qe(ls),us=b({},ls,{dataTransfer:0}),Gl=Qe(us),fo=b({},lr,{relatedTarget:0}),cr=Qe(fo),Ql=b({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Zs=Qe(Ql),dh=b({},vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kl=Qe(dh),cs=b({},vi,{data:0}),mo=Qe(cs),Yl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},go={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},po={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=po[e])?!!n[e]:!1}function hr(){return Xl}var $l=b({},lr,{key:function(e){if(e.key){var n=Yl[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=as(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?go[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(e){return e.type==="keypress"?as(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?as(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jl=Qe($l),Ei=b({},ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yo=Qe(Ei),Zl=b({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),Wl=Qe(Zl),tu=b({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ws=Qe(tu),nn=b({},ls,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eu=Qe(nn),nu=b({},vi,{newState:0,oldState:0}),fr=Qe(nu),u=[9,13,27,32],m=zn&&"CompositionEvent"in window,_=null;zn&&"documentMode"in document&&(_=document.documentMode);var T=zn&&"TextEvent"in window&&!_,k=zn&&(!m||_&&8<_&&11>=_),q=" ",et=!1;function Ht(e,n){switch(e){case"keyup":return u.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var It=!1;function Ce(e,n){switch(e){case"compositionend":return me(n);case"keypress":return n.which!==32?null:(et=!0,q);case"textInput":return e=n.data,e===q&&et?null:e;default:return null}}function De(e,n){if(It)return e==="compositionend"||!m&&Ht(e,n)?(e=ar(),ti=$s=gn=null,It=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return k&&n.locale!=="ko"?null:n.data;default:return null}}var dr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function on(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!dr[e.type]:n==="textarea"}function hs(e,n,r,o){_i?mn?mn.push(o):mn=[o]:_i=o,n=Gu(n,"onChange"),0<n.length&&(r=new os("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Ti=null,_o=null;function XE(e){Sy(e,0)}function iu(e){var n=is(e);if(oo(n))return e}function qm(e,n){if(e==="change")return n}var Hm=!1;if(zn){var mh;if(zn){var gh="oninput"in document;if(!gh){var Fm=document.createElement("div");Fm.setAttribute("oninput","return;"),gh=typeof Fm.oninput=="function"}mh=gh}else mh=!1;Hm=mh&&(!document.documentMode||9<document.documentMode)}function Gm(){Ti&&(Ti.detachEvent("onpropertychange",Qm),_o=Ti=null)}function Qm(e){if(e.propertyName==="value"&&iu(_o)){var n=[];hs(n,_o,e,Xs(e)),ql(XE,n)}}function $E(e,n,r){e==="focusin"?(Gm(),Ti=n,_o=r,Ti.attachEvent("onpropertychange",Qm)):e==="focusout"&&Gm()}function JE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return iu(_o)}function ZE(e,n){if(e==="click")return iu(n)}function WE(e,n){if(e==="input"||e==="change")return iu(n)}function tT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:tT;function vo(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Bs.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function Km(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ym(e,n){var r=Km(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Km(r)}}function Xm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function $m(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Qs(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Qs(e.document)}return n}function ph(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var eT=zn&&"documentMode"in document&&11>=document.documentMode,ta=null,yh=null,Eo=null,_h=!1;function Jm(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_h||ta==null||ta!==Qs(o)||(o=ta,"selectionStart"in o&&ph(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Eo&&vo(Eo,o)||(Eo=o,o=Gu(yh,"onSelect"),0<o.length&&(n=new os("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ta)))}function fs(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ea={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},vh={},Zm={};zn&&(Zm=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function ds(e){if(vh[e])return vh[e];if(!ea[e])return e;var n=ea[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Zm)return vh[e]=n[r];return e}var Wm=ds("animationend"),tg=ds("animationiteration"),eg=ds("animationstart"),nT=ds("transitionrun"),iT=ds("transitionstart"),rT=ds("transitioncancel"),ng=ds("transitionend"),ig=new Map,Eh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eh.push("scrollEnd");function jn(e,n){ig.set(e,n),We(n,[e])}var ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],na=0,Th=0;function su(){for(var e=na,n=Th=na=0;n<e;){var r=Cn[n];Cn[n++]=null;var o=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&rg(r,h,f)}}function au(e,n,r,o){Cn[na++]=e,Cn[na++]=n,Cn[na++]=r,Cn[na++]=o,Th|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ah(e,n,r,o){return au(e,n,r,o),ou(e)}function ms(e,n){return au(e,null,null,n),ou(e)}function rg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ze(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function ou(e){if(50<qo)throw qo=0,Mf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ia={};function sT(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,n,r,o){return new sT(e,n,r,o)}function Sh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ai(e,n){var r=e.alternate;return r===null?(r=yn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function sg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function lu(e,n,r,o,h,f){var p=0;if(o=e,typeof e=="function")Sh(e)&&(p=1);else if(typeof e=="string")p=cA(e,r,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=yn(31,r,n,h),e.elementType=w,e.lanes=f,e;case nt:return gs(r.children,h,f,n);case $:p=8,h|=24;break;case ht:return e=yn(12,r,n,h|2),e.elementType=ht,e.lanes=f,e;case Kt:return e=yn(13,r,n,h),e.elementType=Kt,e.lanes=f,e;case bt:return e=yn(19,r,n,h),e.elementType=bt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ut:p=10;break t;case _t:p=9;break t;case Ct:p=11;break t;case C:p=14;break t;case S:p=16,o=null;break t}p=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=yn(p,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function gs(e,n,r,o){return e=yn(7,e,o,n),e.lanes=r,e}function bh(e,n,r){return e=yn(6,e,null,n),e.lanes=r,e}function ag(e){var n=yn(18,null,null,0);return n.stateNode=e,n}function wh(e,n,r){return n=yn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var og=new WeakMap;function Dn(e,n){if(typeof e=="object"&&e!==null){var r=og.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Ml(n)},og.set(e,n),n)}return{value:e,source:n,stack:Ml(n)}}var ra=[],sa=0,uu=null,To=0,Nn=[],On=0,mr=null,ei=1,ni="";function Si(e,n){ra[sa++]=To,ra[sa++]=uu,uu=e,To=n}function lg(e,n,r){Nn[On++]=ei,Nn[On++]=ni,Nn[On++]=mr,mr=e;var o=ei;e=ni;var h=32-Ze(o)-1;o&=~(1<<h),r+=1;var f=32-Ze(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,ei=1<<32-Ze(n)+h|r<<h|o,ni=f+e}else ei=1<<f|r<<h|o,ni=e}function Rh(e){e.return!==null&&(Si(e,1),lg(e,1,0))}function Ih(e){for(;e===uu;)uu=ra[--sa],ra[sa]=null,To=ra[--sa],ra[sa]=null;for(;e===mr;)mr=Nn[--On],Nn[On]=null,ni=Nn[--On],Nn[On]=null,ei=Nn[--On],Nn[On]=null}function ug(e,n){Nn[On++]=ei,Nn[On++]=ni,Nn[On++]=mr,ei=n.id,ni=n.overflow,mr=e}var Le=null,Wt=null,Ut=!1,gr=null,Mn=!1,Ch=Error(a(519));function pr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ao(Dn(n,e)),Ch}function cg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[se]=e,n[ke]=o,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(r=0;r<Fo.length;r++)Nt(Fo[r],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),rs(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),sr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Iy(n.textContent,r)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=Ie),n=!0):n=!1,n||pr(e,!0)}function hg(e){for(Le=e.return;Le;)switch(Le.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Le=Le.return}}function aa(e){if(e!==Le)return!1;if(!Ut)return hg(e),Ut=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Kf(e.type,e.memoizedProps)),r=!r),r&&Wt&&pr(e),hg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Wt=ky(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Wt=ky(e)}else n===27?(n=Wt,Nr(e.type)?(e=Zf,Zf=null,Wt=e):Wt=n):Wt=Le?xn(e.stateNode.nextSibling):null;return!0}function ps(){Wt=Le=null,Ut=!1}function Dh(){var e=gr;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),gr=null),e}function Ao(e){gr===null?gr=[e]:gr.push(e)}var Nh=D(null),ys=null,bi=null;function yr(e,n,r){X(Nh,n._currentValue),n._currentValue=r}function wi(e){e._currentValue=Nh.current,H(Nh)}function Oh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Mh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Oh(f.return,r,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),Oh(p,r,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function oa(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;pn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===xt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Xo):e=[Xo])}h=h.return}e!==null&&Mh(n,e,r,o),n.flags|=262144}function cu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _s(e){ys=e,bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pe(e){return fg(ys,e)}function hu(e,n){return ys===null&&_s(e),fg(e,n)}function fg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},bi===null){if(e===null)throw Error(a(308));bi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else bi=bi.next=n;return r}var aT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},oT=s.unstable_scheduleCallback,lT=s.unstable_NormalPriority,ge={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vh(){return{controller:new aT,data:new Map,refCount:0}}function So(e){e.refCount--,e.refCount===0&&oT(lT,function(){e.controller.abort()})}var bo=null,xh=0,la=0,ua=null;function uT(e,n){if(bo===null){var r=bo=[];xh=0,la=Pf(),ua={status:"pending",value:void 0,then:function(o){r.push(o)}}}return xh++,n.then(dg,dg),n}function dg(){if(--xh===0&&bo!==null){ua!==null&&(ua.status="fulfilled");var e=bo;bo=null,la=0,ua=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function cT(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var mg=z.S;z.S=function(e,n){Jp=xe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&uT(e,n),mg!==null&&mg(e,n)};var vs=D(null);function Uh(){var e=vs.current;return e!==null?e:Jt.pooledCache}function fu(e,n){n===null?X(vs,vs.current):X(vs,n.pool)}function gg(){var e=Uh();return e===null?null:{parent:ge._currentValue,pool:e}}var ca=Error(a(460)),kh=Error(a(474)),du=Error(a(542)),mu={then:function(){}};function pg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Ie,Ie),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,vg(e),e;default:if(typeof n.status=="string")n.then(Ie,Ie);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,vg(e),e}throw Ts=n,ca}}function Es(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ts=r,ca):r}}var Ts=null;function _g(){if(Ts===null)throw Error(a(459));var e=Ts;return Ts=null,e}function vg(e){if(e===ca||e===du)throw Error(a(483))}var ha=null,wo=0;function gu(e){var n=wo;return wo+=1,ha===null&&(ha=[]),yg(ha,e,n)}function Ro(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function pu(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Eg(e){function n(V,N){if(e){var L=V.deletions;L===null?(V.deletions=[N],V.flags|=16):L.push(N)}}function r(V,N){if(!e)return null;for(;N!==null;)n(V,N),N=N.sibling;return null}function o(V){for(var N=new Map;V!==null;)V.key!==null?N.set(V.key,V):N.set(V.index,V),V=V.sibling;return N}function h(V,N){return V=Ai(V,N),V.index=0,V.sibling=null,V}function f(V,N,L){return V.index=L,e?(L=V.alternate,L!==null?(L=L.index,L<N?(V.flags|=67108866,N):L):(V.flags|=67108866,N)):(V.flags|=1048576,N)}function p(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,N,L,Q){return N===null||N.tag!==6?(N=bh(L,V.mode,Q),N.return=V,N):(N=h(N,L),N.return=V,N)}function R(V,N,L,Q){var ct=L.type;return ct===nt?G(V,N,L.props.children,Q,L.key):N!==null&&(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&Es(ct)===N.type)?(N=h(N,L.props),Ro(N,L),N.return=V,N):(N=lu(L.type,L.key,L.props,null,V.mode,Q),Ro(N,L),N.return=V,N)}function P(V,N,L,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=wh(L,V.mode,Q),N.return=V,N):(N=h(N,L.children||[]),N.return=V,N)}function G(V,N,L,Q,ct){return N===null||N.tag!==7?(N=gs(L,V.mode,Q,ct),N.return=V,N):(N=h(N,L),N.return=V,N)}function K(V,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=bh(""+N,V.mode,L),N.return=V,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case F:return L=lu(N.type,N.key,N.props,null,V.mode,L),Ro(L,N),L.return=V,L;case tt:return N=wh(N,V.mode,L),N.return=V,N;case S:return N=Es(N),K(V,N,L)}if(Ae(N)||U(N))return N=gs(N,V.mode,L,null),N.return=V,N;if(typeof N.then=="function")return K(V,gu(N),L);if(N.$$typeof===ut)return K(V,hu(V,N),L);pu(V,N)}return null}function j(V,N,L,Q){var ct=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ct!==null?null:E(V,N,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===ct?R(V,N,L,Q):null;case tt:return L.key===ct?P(V,N,L,Q):null;case S:return L=Es(L),j(V,N,L,Q)}if(Ae(L)||U(L))return ct!==null?null:G(V,N,L,Q,null);if(typeof L.then=="function")return j(V,N,gu(L),Q);if(L.$$typeof===ut)return j(V,N,hu(V,L),Q);pu(V,L)}return null}function B(V,N,L,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(L)||null,E(N,V,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return V=V.get(Q.key===null?L:Q.key)||null,R(N,V,Q,ct);case tt:return V=V.get(Q.key===null?L:Q.key)||null,P(N,V,Q,ct);case S:return Q=Es(Q),B(V,N,L,Q,ct)}if(Ae(Q)||U(Q))return V=V.get(L)||null,G(N,V,Q,ct,null);if(typeof Q.then=="function")return B(V,N,L,gu(Q),ct);if(Q.$$typeof===ut)return B(V,N,L,hu(N,Q),ct);pu(N,Q)}return null}function st(V,N,L,Q){for(var ct=null,zt=null,lt=N,St=N=0,Mt=null;lt!==null&&St<L.length;St++){lt.index>St?(Mt=lt,lt=null):Mt=lt.sibling;var jt=j(V,lt,L[St],Q);if(jt===null){lt===null&&(lt=Mt);break}e&&lt&&jt.alternate===null&&n(V,lt),N=f(jt,N,St),zt===null?ct=jt:zt.sibling=jt,zt=jt,lt=Mt}if(St===L.length)return r(V,lt),Ut&&Si(V,St),ct;if(lt===null){for(;St<L.length;St++)lt=K(V,L[St],Q),lt!==null&&(N=f(lt,N,St),zt===null?ct=lt:zt.sibling=lt,zt=lt);return Ut&&Si(V,St),ct}for(lt=o(lt);St<L.length;St++)Mt=B(lt,V,St,L[St],Q),Mt!==null&&(e&&Mt.alternate!==null&&lt.delete(Mt.key===null?St:Mt.key),N=f(Mt,N,St),zt===null?ct=Mt:zt.sibling=Mt,zt=Mt);return e&&lt.forEach(function(Ur){return n(V,Ur)}),Ut&&Si(V,St),ct}function gt(V,N,L,Q){if(L==null)throw Error(a(151));for(var ct=null,zt=null,lt=N,St=N=0,Mt=null,jt=L.next();lt!==null&&!jt.done;St++,jt=L.next()){lt.index>St?(Mt=lt,lt=null):Mt=lt.sibling;var Ur=j(V,lt,jt.value,Q);if(Ur===null){lt===null&&(lt=Mt);break}e&&lt&&Ur.alternate===null&&n(V,lt),N=f(Ur,N,St),zt===null?ct=Ur:zt.sibling=Ur,zt=Ur,lt=Mt}if(jt.done)return r(V,lt),Ut&&Si(V,St),ct;if(lt===null){for(;!jt.done;St++,jt=L.next())jt=K(V,jt.value,Q),jt!==null&&(N=f(jt,N,St),zt===null?ct=jt:zt.sibling=jt,zt=jt);return Ut&&Si(V,St),ct}for(lt=o(lt);!jt.done;St++,jt=L.next())jt=B(lt,V,St,jt.value,Q),jt!==null&&(e&&jt.alternate!==null&&lt.delete(jt.key===null?St:jt.key),N=f(jt,N,St),zt===null?ct=jt:zt.sibling=jt,zt=jt);return e&&lt.forEach(function(TA){return n(V,TA)}),Ut&&Si(V,St),ct}function $t(V,N,L,Q){if(typeof L=="object"&&L!==null&&L.type===nt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:t:{for(var ct=L.key;N!==null;){if(N.key===ct){if(ct=L.type,ct===nt){if(N.tag===7){r(V,N.sibling),Q=h(N,L.props.children),Q.return=V,V=Q;break t}}else if(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&Es(ct)===N.type){r(V,N.sibling),Q=h(N,L.props),Ro(Q,L),Q.return=V,V=Q;break t}r(V,N);break}else n(V,N);N=N.sibling}L.type===nt?(Q=gs(L.props.children,V.mode,Q,L.key),Q.return=V,V=Q):(Q=lu(L.type,L.key,L.props,null,V.mode,Q),Ro(Q,L),Q.return=V,V=Q)}return p(V);case tt:t:{for(ct=L.key;N!==null;){if(N.key===ct)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){r(V,N.sibling),Q=h(N,L.children||[]),Q.return=V,V=Q;break t}else{r(V,N);break}else n(V,N);N=N.sibling}Q=wh(L,V.mode,Q),Q.return=V,V=Q}return p(V);case S:return L=Es(L),$t(V,N,L,Q)}if(Ae(L))return st(V,N,L,Q);if(U(L)){if(ct=U(L),typeof ct!="function")throw Error(a(150));return L=ct.call(L),gt(V,N,L,Q)}if(typeof L.then=="function")return $t(V,N,gu(L),Q);if(L.$$typeof===ut)return $t(V,N,hu(V,L),Q);pu(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(r(V,N.sibling),Q=h(N,L),Q.return=V,V=Q):(r(V,N),Q=bh(L,V.mode,Q),Q.return=V,V=Q),p(V)):r(V,N)}return function(V,N,L,Q){try{wo=0;var ct=$t(V,N,L,Q);return ha=null,ct}catch(lt){if(lt===ca||lt===du)throw lt;var zt=yn(29,lt,null,V.mode);return zt.lanes=Q,zt.return=V,zt}finally{}}}var As=Eg(!0),Tg=Eg(!1),_r=!1;function Lh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ph(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=ou(e),rg(e,null,r),n}return au(e,o,n,r),ou(e)}function Io(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Zi(e,r)}}function zh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var jh=!1;function Co(){if(jh){var e=ua;if(e!==null)throw e}}function Do(e,n,r,o){jh=!1;var h=e.updateQueue;_r=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,p===null?f=P:p.next=P,p=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;p=0,G=P=R=null,E=f;do{var j=E.lane&-536870913,B=j!==E.lane;if(B?(Ot&j)===j:(o&j)===j){j!==0&&j===la&&(jh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,gt=E;j=n;var $t=r;switch(gt.tag){case 1:if(st=gt.payload,typeof st=="function"){K=st.call($t,K,j);break t}K=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=gt.payload,j=typeof st=="function"?st.call($t,K,j):st,j==null)break t;K=b({},K,j);break t;case 2:_r=!0}}j=E.callback,j!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[j]:B.push(j))}else B={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=B,R=K):G=G.next=B,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(R=K),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),wr|=p,e.lanes=p,e.memoizedState=K}}function Ag(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Sg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Ag(r[e],n)}var fa=D(null),yu=D(0);function bg(e,n){e=xi,X(yu,e),X(fa,n),xi=e|n.baseLanes}function Bh(){X(yu,xi),X(fa,fa.current)}function qh(){xi=yu.current,H(fa),H(yu)}var _n=D(null),Vn=null;function Tr(e){var n=e.alternate;X(he,he.current&1),X(_n,e),Vn===null&&(n===null||fa.current!==null||n.memoizedState!==null)&&(Vn=e)}function Hh(e){X(he,he.current),X(_n,e),Vn===null&&(Vn=e)}function wg(e){e.tag===22?(X(he,he.current),X(_n,e),Vn===null&&(Vn=e)):Ar()}function Ar(){X(he,he.current),X(_n,_n.current)}function vn(e){H(_n),Vn===e&&(Vn=null),H(he)}var he=D(0);function _u(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||$f(r)||Jf(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ri=0,At=null,Yt=null,pe=null,vu=!1,da=!1,Ss=!1,Eu=0,No=0,ma=null,hT=0;function oe(){throw Error(a(321))}function Fh(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!pn(e[r],n[r]))return!1;return!0}function Gh(e,n,r,o,h,f){return Ri=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,z.H=e===null||e.memoizedState===null?lp:of,Ss=!1,f=r(o,h),Ss=!1,da&&(f=Ig(n,r,o,h)),Rg(e),f}function Rg(e){z.H=Vo;var n=Yt!==null&&Yt.next!==null;if(Ri=0,pe=Yt=At=null,vu=!1,No=0,ma=null,n)throw Error(a(300));e===null||ye||(e=e.dependencies,e!==null&&cu(e)&&(ye=!0))}function Ig(e,n,r,o){At=e;var h=0;do{if(da&&(ma=null),No=0,da=!1,25<=h)throw Error(a(301));if(h+=1,pe=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}z.H=up,f=n(r,o)}while(da);return f}function fT(){var e=z.H,n=e.useState()[0];return n=typeof n.then=="function"?Oo(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(At.flags|=1024),n}function Qh(){var e=Eu!==0;return Eu=0,e}function Kh(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Yh(e){if(vu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}vu=!1}Ri=0,pe=Yt=At=null,da=!1,No=Eu=0,ma=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?At.memoizedState=pe=e:pe=pe.next=e,pe}function fe(){if(Yt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=pe===null?At.memoizedState:pe.next;if(n!==null)pe=n,Yt=e;else{if(e===null)throw At.alternate===null?Error(a(467)):Error(a(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},pe===null?At.memoizedState=pe=e:pe=pe.next=e}return pe}function Tu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oo(e){var n=No;return No+=1,ma===null&&(ma=[]),e=yg(ma,e,n),n=At,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,z.H=n===null||n.memoizedState===null?lp:of),e}function Au(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Oo(e);if(e.$$typeof===ut)return Pe(e)}throw Error(a(438,String(e)))}function Xh(e){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Tu(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=O;return n.index++,r}function Ii(e,n){return typeof n=="function"?n(e):n}function Su(e){var n=fe();return $h(n,Yt,e)}function $h(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,R=null,P=n,G=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(Ot&K)===K:(Ri&K)===K){var j=P.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===la&&(G=!0);else if((Ri&j)===j){P=P.next,j===la&&(G=!0);continue}else K={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=K,p=f):R=R.next=K,At.lanes|=j,wr|=j;K=P.action,Ss&&r(f,K),f=P.hasEagerState?P.eagerState:r(f,K)}else j={lane:K,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=j,p=f):R=R.next=j,At.lanes|=K,wr|=K;P=P.next}while(P!==null&&P!==n);if(R===null?p=f:R.next=E,!pn(f,e.memoizedState)&&(ye=!0,G&&(r=ua,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Jh(e){var n=fe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);pn(f,n.memoizedState)||(ye=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Cg(e,n,r){var o=At,h=fe(),f=Ut;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!pn((Yt||h).memoizedState,r);if(p&&(h.memoizedState=r,ye=!0),h=h.queue,tf(Og.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||pe!==null&&pe.memoizedState.tag&1){if(o.flags|=2048,ga(9,{destroy:void 0},Ng.bind(null,o,h,r,n),null),Jt===null)throw Error(a(349));f||(Ri&127)!==0||Dg(o,n,r)}return r}function Dg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=Tu(),At.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Ng(e,n,r,o){n.value=r,n.getSnapshot=o,Mg(n)&&Vg(e)}function Og(e,n,r){return r(function(){Mg(n)&&Vg(e)})}function Mg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!pn(e,r)}catch{return!0}}function Vg(e){var n=ms(e,2);n!==null&&fn(n,e,2)}function Zh(e){var n=rn();if(typeof e=="function"){var r=e;if(e=r(),Ss){bn(!0);try{r()}finally{bn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},n}function xg(e,n,r,o){return e.baseState=r,$h(e,Yt,typeof o=="function"?o:Ii)}function dT(e,n,r,o,h){if(Ru(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};z.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Ug(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Ug(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=z.T,p={};z.T=p;try{var E=r(h,o),R=z.S;R!==null&&R(p,E),kg(e,n,E)}catch(P){Wh(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),z.T=f}}else try{f=r(h,o),kg(e,n,f)}catch(P){Wh(e,n,P)}}function kg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Lg(e,n,o)},function(o){return Wh(e,n,o)}):Lg(e,n,r)}function Lg(e,n,r){n.status="fulfilled",n.value=r,Pg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Ug(e,r)))}function Wh(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Pg(n),n=n.next;while(n!==o)}e.action=null}function Pg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function zg(e,n){return n}function jg(e,n){if(Ut){var r=Jt.formState;if(r!==null){t:{var o=At;if(Ut){if(Wt){e:{for(var h=Wt,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Wt=xn(h.nextSibling),o=h.data==="F!";break t}}pr(o)}o=!1}o&&(n=r[0])}}return r=rn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zg,lastRenderedState:n},r.queue=o,r=sp.bind(null,At,o),o.dispatch=r,o=Zh(!1),f=af.bind(null,At,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=dT.bind(null,At,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function Bg(e){var n=fe();return qg(n,Yt,e)}function qg(e,n,r){if(n=$h(e,n,zg)[0],e=Su(Ii)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Oo(n)}catch(p){throw p===ca?du:p}else o=n;n=fe();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(At.flags|=2048,ga(9,{destroy:void 0},mT.bind(null,h,r),null)),[o,f,e]}function mT(e,n){e.action=n}function Hg(e){var n=fe(),r=Yt;if(r!==null)return qg(n,r,e);fe(),n=n.memoizedState,r=fe();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function ga(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=Tu(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Fg(){return fe().memoizedState}function bu(e,n,r,o){var h=rn();At.flags|=e,h.memoizedState=ga(1|n,{destroy:void 0},r,o===void 0?null:o)}function wu(e,n,r,o){var h=fe();o=o===void 0?null:o;var f=h.memoizedState.inst;Yt!==null&&o!==null&&Fh(o,Yt.memoizedState.deps)?h.memoizedState=ga(n,f,r,o):(At.flags|=e,h.memoizedState=ga(1|n,f,r,o))}function Gg(e,n){bu(8390656,8,e,n)}function tf(e,n){wu(2048,8,e,n)}function gT(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Tu(),At.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Qg(e){var n=fe().memoizedState;return gT({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Kg(e,n){return wu(4,2,e,n)}function Yg(e,n){return wu(4,4,e,n)}function Xg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function $g(e,n,r){r=r!=null?r.concat([e]):null,wu(4,4,Xg.bind(null,n,e),r)}function ef(){}function Jg(e,n){var r=fe();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Fh(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Zg(e,n){var r=fe();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Fh(n,o[1]))return o[0];if(o=e(),Ss){bn(!0);try{e()}finally{bn(!1)}}return r.memoizedState=[o,n],o}function nf(e,n,r){return r===void 0||(Ri&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Wp(),At.lanes|=e,wr|=e,r)}function Wg(e,n,r,o){return pn(r,n)?r:fa.current!==null?(e=nf(e,r,o),pn(e,n)||(ye=!0),e):(Ri&42)===0||(Ri&1073741824)!==0&&(Ot&261930)===0?(ye=!0,e.memoizedState=r):(e=Wp(),At.lanes|=e,wr|=e,n)}function tp(e,n,r,o,h){var f=Y.p;Y.p=f!==0&&8>f?f:8;var p=z.T,E={};z.T=E,af(e,!1,n,r);try{var R=h(),P=z.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=cT(R,o);Mo(e,n,G,An(e))}else Mo(e,n,o,An(e))}catch(K){Mo(e,n,{then:function(){},status:"rejected",reason:K},An())}finally{Y.p=f,p!==null&&E.types!==null&&(p.types=E.types),z.T=p}}function pT(){}function rf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=ep(e).queue;tp(e,h,n,rt,r===null?pT:function(){return np(e),r(o)})}function ep(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:rt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function np(e){var n=ep(e);n.next===null&&(n=e.alternate.memoizedState),Mo(e,n.next.queue,{},An())}function sf(){return Pe(Xo)}function ip(){return fe().memoizedState}function rp(){return fe().memoizedState}function yT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=An();e=vr(r);var o=Er(n,e,r);o!==null&&(fn(o,n,r),Io(o,n,r)),n={cache:Vh()},e.payload=n;return}n=n.return}}function _T(e,n,r){var o=An();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ru(e)?ap(n,r):(r=Ah(e,n,r,o),r!==null&&(fn(r,e,o),op(r,n,o)))}function sp(e,n,r){var o=An();Mo(e,n,r,o)}function Mo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ru(e))ap(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,pn(E,p))return au(e,n,h,0),Jt===null&&su(),!1}catch{}finally{}if(r=Ah(e,n,h,o),r!==null)return fn(r,e,o),op(r,n,o),!0}return!1}function af(e,n,r,o){if(o={lane:2,revertLane:Pf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ru(e)){if(n)throw Error(a(479))}else n=Ah(e,r,o,2),n!==null&&fn(n,e,2)}function Ru(e){var n=e.alternate;return e===At||n!==null&&n===At}function ap(e,n){da=vu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function op(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Zi(e,r)}}var Vo={readContext:Pe,use:Au,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe};Vo.useEffectEvent=oe;var lp={readContext:Pe,use:Au,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:Pe,useEffect:Gg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,bu(4194308,4,Xg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return bu(4194308,4,e,n)},useInsertionEffect:function(e,n){bu(4,2,e,n)},useMemo:function(e,n){var r=rn();n=n===void 0?null:n;var o=e();if(Ss){bn(!0);try{e()}finally{bn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=rn();if(r!==void 0){var h=r(n);if(Ss){bn(!0);try{r(n)}finally{bn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=_T.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=Zh(e);var n=e.queue,r=sp.bind(null,At,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:ef,useDeferredValue:function(e,n){var r=rn();return nf(r,e,n)},useTransition:function(){var e=Zh(!1);return e=tp.bind(null,At,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=At,h=rn();if(Ut){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Jt===null)throw Error(a(349));(Ot&127)!==0||Dg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Gg(Og.bind(null,o,f,e),[e]),o.flags|=2048,ga(9,{destroy:void 0},Ng.bind(null,o,f,r,n),null),r},useId:function(){var e=rn(),n=Jt.identifierPrefix;if(Ut){var r=ni,o=ei;r=(o&~(1<<32-Ze(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Eu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=hT++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:sf,useFormState:jg,useActionState:jg,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=af.bind(null,At,!0,r),r.dispatch=n,[e,n]},useMemoCache:Xh,useCacheRefresh:function(){return rn().memoizedState=yT.bind(null,At)},useEffectEvent:function(e){var n=rn(),r={impl:e};return n.memoizedState=r,function(){if((qt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},of={readContext:Pe,use:Au,useCallback:Jg,useContext:Pe,useEffect:tf,useImperativeHandle:$g,useInsertionEffect:Kg,useLayoutEffect:Yg,useMemo:Zg,useReducer:Su,useRef:Fg,useState:function(){return Su(Ii)},useDebugValue:ef,useDeferredValue:function(e,n){var r=fe();return Wg(r,Yt.memoizedState,e,n)},useTransition:function(){var e=Su(Ii)[0],n=fe().memoizedState;return[typeof e=="boolean"?e:Oo(e),n]},useSyncExternalStore:Cg,useId:ip,useHostTransitionStatus:sf,useFormState:Bg,useActionState:Bg,useOptimistic:function(e,n){var r=fe();return xg(r,Yt,e,n)},useMemoCache:Xh,useCacheRefresh:rp};of.useEffectEvent=Qg;var up={readContext:Pe,use:Au,useCallback:Jg,useContext:Pe,useEffect:tf,useImperativeHandle:$g,useInsertionEffect:Kg,useLayoutEffect:Yg,useMemo:Zg,useReducer:Jh,useRef:Fg,useState:function(){return Jh(Ii)},useDebugValue:ef,useDeferredValue:function(e,n){var r=fe();return Yt===null?nf(r,e,n):Wg(r,Yt.memoizedState,e,n)},useTransition:function(){var e=Jh(Ii)[0],n=fe().memoizedState;return[typeof e=="boolean"?e:Oo(e),n]},useSyncExternalStore:Cg,useId:ip,useHostTransitionStatus:sf,useFormState:Hg,useActionState:Hg,useOptimistic:function(e,n){var r=fe();return Yt!==null?xg(r,Yt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Xh,useCacheRefresh:rp};up.useEffectEvent=Qg;function lf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var uf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=An(),h=vr(o);h.payload=n,r!=null&&(h.callback=r),n=Er(e,h,o),n!==null&&(fn(n,e,o),Io(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=An(),h=vr(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Er(e,h,o),n!==null&&(fn(n,e,o),Io(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=An(),o=vr(r);o.tag=2,n!=null&&(o.callback=n),n=Er(e,o,r),n!==null&&(fn(n,e,r),Io(n,e,r))}};function cp(e,n,r,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!vo(r,o)||!vo(h,f):!0}function hp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&uf.enqueueReplaceState(n,n.state,null)}function bs(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function fp(e){ru(e)}function dp(e){console.error(e)}function mp(e){ru(e)}function Iu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function gp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function cf(e,n,r){return r=vr(r),r.tag=3,r.payload={element:null},r.callback=function(){Iu(e,n)},r}function pp(e){return e=vr(e),e.tag=3,e}function yp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){gp(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){gp(n,r,o),typeof h!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function vT(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&oa(n,r,h,!0),r=_n.current,r!==null){switch(r.tag){case 31:case 13:return Vn===null?zu():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===mu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Uf(e,o,h)),!1;case 22:return r.flags|=65536,o===mu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Uf(e,o,h)),!1}throw Error(a(435,r.tag))}return Uf(e,o,h),zu(),!1}if(Ut)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Ch&&(e=Error(a(422),{cause:o}),Ao(Dn(e,r)))):(o!==Ch&&(n=Error(a(423),{cause:o}),Ao(Dn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Dn(o,r),h=cf(e.stateNode,o,h),zh(e,h),le!==4&&(le=2)),!1;var f=Error(a(520),{cause:o});if(f=Dn(f,r),Bo===null?Bo=[f]:Bo.push(f),le!==4&&(le=2),n===null)return!0;o=Dn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=cf(r.stateNode,o,e),zh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rr===null||!Rr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=pp(h),yp(h,e,r,o),zh(r,h),!1}r=r.return}while(r!==null);return!1}var hf=Error(a(461)),ye=!1;function ze(e,n,r,o){n.child=e===null?Tg(n,null,r,o):As(n,e.child,r,o)}function _p(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return _s(n),o=Gh(e,n,r,p,f,h),E=Qh(),e!==null&&!ye?(Kh(e,n,h),Ci(e,n,h)):(Ut&&E&&Rh(n),n.flags|=1,ze(e,n,o,h),n.child)}function vp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Sh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Ep(e,n,f,o,h)):(e=lu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!vf(e,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:vo,r(p,o)&&e.ref===n.ref)return Ci(e,n,h)}return n.flags|=1,e=Ai(f,o),e.ref=n.ref,e.return=n,n.child=e}function Ep(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(vo(f,o)&&e.ref===n.ref)if(ye=!1,n.pendingProps=o=f,vf(e,h))(e.flags&131072)!==0&&(ye=!0);else return n.lanes=e.lanes,Ci(e,n,h)}return ff(e,n,r,o,h)}function Tp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Ap(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&fu(n,f!==null?f.cachePool:null),f!==null?bg(n,f):Bh(),wg(n);else return o=n.lanes=536870912,Ap(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(fu(n,f.cachePool),bg(n,f),Ar(),n.memoizedState=null):(e!==null&&fu(n,null),Bh(),Ar());return ze(e,n,h,r),n.child}function xo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ap(e,n,r,o,h){var f=Uh();return f=f===null?null:{parent:ge._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&fu(n,null),Bh(),wg(n),e!==null&&oa(e,n,o,!0),n.childLanes=h,null}function Cu(e,n){return n=Nu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Sp(e,n,r){return As(n,e.child,null,r),e=Cu(n,n.pendingProps),e.flags|=2,vn(n),n.memoizedState=null,e}function ET(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=Cu(n,o),n.lanes=536870912,xo(null,e);if(Hh(n),(e=Wt)?(e=Uy(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:mr!==null?{id:ei,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},r=ag(e),r.return=n,n.child=r,Le=n,Wt=null)):e=null,e===null)throw pr(n);return n.lanes=536870912,null}return Cu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(Hh(n),h)if(n.flags&256)n.flags&=-257,n=Sp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(ye||oa(e,n,r,!1),h=(r&e.childLanes)!==0,ye||h){if(o=Jt,o!==null&&(p=Wi(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,ms(e,p),fn(o,e,p),hf;zu(),n=Sp(e,n,r)}else e=f.treeContext,Wt=xn(p.nextSibling),Le=n,Ut=!0,gr=null,Mn=!1,e!==null&&ug(n,e),n=Cu(n,o),n.flags|=4096;return n}return e=Ai(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Du(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function ff(e,n,r,o,h){return _s(n),r=Gh(e,n,r,o,void 0,h),o=Qh(),e!==null&&!ye?(Kh(e,n,h),Ci(e,n,h)):(Ut&&o&&Rh(n),n.flags|=1,ze(e,n,r,h),n.child)}function bp(e,n,r,o,h,f){return _s(n),n.updateQueue=null,r=Ig(n,o,r,h),Rg(e),o=Qh(),e!==null&&!ye?(Kh(e,n,f),Ci(e,n,f)):(Ut&&o&&Rh(n),n.flags|=1,ze(e,n,r,f),n.child)}function wp(e,n,r,o,h){if(_s(n),n.stateNode===null){var f=ia,p=r.contextType;typeof p=="object"&&p!==null&&(f=Pe(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Lh(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?Pe(p):ia,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(lf(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&uf.enqueueReplaceState(f,f.state,null),Do(n,o,f,h),Co(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=bs(r,E);f.props=R;var P=f.context,G=r.contextType;p=ia,typeof G=="object"&&G!==null&&(p=Pe(G));var K=r.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&hp(n,f,o,p),_r=!1;var j=n.memoizedState;f.state=j,Do(n,o,f,h),Co(),P=n.memoizedState,E||j!==P||_r?(typeof K=="function"&&(lf(n,r,K,o),P=n.memoizedState),(R=_r||cp(n,r,R,o,j,P,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Ph(e,n),p=n.memoizedProps,G=bs(r,p),f.props=G,K=n.pendingProps,j=f.context,P=r.contextType,R=ia,typeof P=="object"&&P!==null&&(R=Pe(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||j!==R)&&hp(n,f,o,R),_r=!1,j=n.memoizedState,f.state=j,Do(n,o,f,h),Co();var B=n.memoizedState;p!==K||j!==B||_r||e!==null&&e.dependencies!==null&&cu(e.dependencies)?(typeof E=="function"&&(lf(n,r,E,o),B=n.memoizedState),(G=_r||cp(n,r,G,o,j,B,R)||e!==null&&e.dependencies!==null&&cu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Du(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=As(n,e.child,null,h),n.child=As(n,null,r,h)):ze(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Ci(e,n,h),e}function Rp(e,n,r,o){return ps(),n.flags|=256,ze(e,n,r,o),n.child}var df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mf(e){return{baseLanes:e,cachePool:gg()}}function gf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Tn),e}function Ip(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(he.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?Tr(n):Ar(),(e=Wt)?(e=Uy(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:mr!==null?{id:ei,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},r=ag(e),r.return=n,n.child=r,Le=n,Wt=null)):e=null,e===null)throw pr(n);return Jf(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ar(),h=n.mode,E=Nu({mode:"hidden",children:E},h),o=gs(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=mf(r),o.childLanes=gf(e,p,r),n.memoizedState=df,xo(null,o)):(Tr(n),pf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Tr(n),n.flags&=-257,n=yf(e,n,r)):n.memoizedState!==null?(Ar(),n.child=e.child,n.flags|=128,n=null):(Ar(),E=o.fallback,h=n.mode,o=Nu({mode:"visible",children:o.children},h),E=gs(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,As(n,e.child,null,r),o=n.child,o.memoizedState=mf(r),o.childLanes=gf(e,p,r),n.memoizedState=df,n=xo(null,o));else if(Tr(n),Jf(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(a(419)),o.stack="",o.digest=p,Ao({value:o,source:null,stack:null}),n=yf(e,n,r)}else if(ye||oa(e,n,r,!1),p=(r&e.childLanes)!==0,ye||p){if(p=Jt,p!==null&&(o=Wi(p,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,ms(e,o),fn(p,e,o),hf;$f(E)||zu(),n=yf(e,n,r)}else $f(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,Wt=xn(E.nextSibling),Le=n,Ut=!0,gr=null,Mn=!1,e!==null&&ug(n,e),n=pf(n,o.children),n.flags|=4096);return n}return h?(Ar(),E=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=Ai(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=Ai(P,E):(E=gs(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,xo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=mf(r):(h=E.cachePool,h!==null?(R=ge._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=gg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=gf(e,p,r),n.memoizedState=df,xo(e.child,o)):(Tr(n),r=e.child,e=r.sibling,r=Ai(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function pf(e,n){return n=Nu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Nu(e,n){return e=yn(22,e,null,n),e.lanes=0,e}function yf(e,n,r){return As(n,e.child,null,r),e=pf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Cp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Oh(e.return,n,r)}function _f(e,n,r,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function Dp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=he.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,X(he,p),ze(e,n,o,r),o=Ut?To:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cp(e,r,n);else if(e.tag===19)Cp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&_u(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),_f(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&_u(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}_f(n,!0,r,null,f,o);break;case"together":_f(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ci(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),wr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(oa(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Ai(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ai(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function vf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&cu(e)))}function TT(e,n,r){switch(n.tag){case 3:Ve(n,n.stateNode.containerInfo),yr(n,ge,e.memoizedState.cache),ps();break;case 27:case 5:Qn(n);break;case 4:Ve(n,n.stateNode.containerInfo);break;case 10:yr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Hh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Tr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Ip(e,n,r):(Tr(n),e=Ci(e,n,r),e!==null?e.sibling:null);Tr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(oa(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Dp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(he,he.current),o)break;return null;case 22:return n.lanes=0,Tp(e,n,r,n.pendingProps);case 24:yr(n,ge,e.memoizedState.cache)}return Ci(e,n,r)}function Np(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)ye=!0;else{if(!vf(e,r)&&(n.flags&128)===0)return ye=!1,TT(e,n,r);ye=(e.flags&131072)!==0}else ye=!1,Ut&&(n.flags&1048576)!==0&&lg(n,To,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Es(n.elementType),n.type=e,typeof e=="function")Sh(e)?(o=bs(e,o),n.tag=1,n=wp(null,n,e,o,r)):(n.tag=0,n=ff(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Ct){n.tag=11,n=_p(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=vp(null,n,e,o,r);break t}}throw n=ue(e)||e,Error(a(306,n,""))}}return n;case 0:return ff(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=bs(o,n.pendingProps),wp(e,n,o,h,r);case 3:t:{if(Ve(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Ph(e,n),Do(n,o,null,r);var p=n.memoizedState;if(o=p.cache,yr(n,ge,o),o!==f.cache&&Mh(n,[ge],r,!0),Co(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Rp(e,n,o,r);break t}else if(o!==h){h=Dn(Error(a(424)),n),Ao(h),n=Rp(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Wt=xn(e.firstChild),Le=n,Ut=!0,gr=null,Mn=!0,r=Tg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ps(),o===h){n=Ci(e,n,r);break t}ze(e,n,o,r)}n=n.child}return n;case 26:return Du(e,n),e===null?(r=By(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ut||(r=n.type,e=n.pendingProps,o=Qu(Rt.current).createElement(r),o[se]=n,o[ke]=e,je(o,r,e),ce(o),n.stateNode=o):n.memoizedState=By(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Qn(n),e===null&&Ut&&(o=n.stateNode=Py(n.type,n.pendingProps,Rt.current),Le=n,Mn=!0,h=Wt,Nr(n.type)?(Zf=h,Wt=xn(o.firstChild)):Wt=h),ze(e,n,n.pendingProps.children,r),Du(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=Wt)&&(o=JT(o,n.type,n.pendingProps,Mn),o!==null?(n.stateNode=o,Le=n,Wt=xn(o.firstChild),Mn=!1,h=!0):h=!1),h||pr(n)),Qn(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,Kf(h,f)?o=null:p!==null&&Kf(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=Gh(e,n,fT,null,null,r),Xo._currentValue=h),Du(e,n),ze(e,n,o,r),n.child;case 6:return e===null&&Ut&&((e=r=Wt)&&(r=ZT(r,n.pendingProps,Mn),r!==null?(n.stateNode=r,Le=n,Wt=null,e=!0):e=!1),e||pr(n)),null;case 13:return Ip(e,n,r);case 4:return Ve(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=As(n,null,o,r):ze(e,n,o,r),n.child;case 11:return _p(e,n,n.type,n.pendingProps,r);case 7:return ze(e,n,n.pendingProps,r),n.child;case 8:return ze(e,n,n.pendingProps.children,r),n.child;case 12:return ze(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,yr(n,n.type,o.value),ze(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,_s(n),h=Pe(h),o=o(h),n.flags|=1,ze(e,n,o,r),n.child;case 14:return vp(e,n,n.type,n.pendingProps,r);case 15:return Ep(e,n,n.type,n.pendingProps,r);case 19:return Dp(e,n,r);case 31:return ET(e,n,r);case 22:return Tp(e,n,r,n.pendingProps);case 24:return _s(n),o=Pe(ge),e===null?(h=Uh(),h===null&&(h=Jt,f=Vh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Lh(n),yr(n,ge,h)):((e.lanes&r)!==0&&(Ph(e,n),Do(n,null,null,r),Co()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),yr(n,ge,o)):(o=f.cache,yr(n,ge,o),o!==h.cache&&Mh(n,[ge],r,!0))),ze(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Di(e){e.flags|=4}function Ef(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(iy())e.flags|=8192;else throw Ts=mu,kh}else e.flags&=-16777217}function Op(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qy(n))if(iy())e.flags|=8192;else throw Ts=mu,kh}function Ou(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?to():536870912,e.lanes|=n,va|=n)}function Uo(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function te(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function AT(e,n,r){var o=n.pendingProps;switch(Ih(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),wi(ge),ie(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(aa(n)?Di(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Dh())),te(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Di(n),f!==null?(te(n),Op(n,f)):(te(n),Ef(n,h,null,o,r))):f?f!==e.memoizedState?(Di(n),te(n),Op(n,f)):(te(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Di(n),te(n),Ef(n,h,e,o,r)),null;case 27:if(ci(n),r=Rt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Di(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return te(n),null}e=it.current,aa(n)?cg(n):(e=Py(h,o,r),n.stateNode=e,Di(n))}return te(n),null;case 5:if(ci(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Di(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return te(n),null}if(f=it.current,aa(n))cg(n);else{var p=Qu(Rt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[se]=n,f[ke]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Di(n)}}return te(n),Ef(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Di(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Rt.current,aa(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Le,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[se]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Iy(e.nodeValue,r)),e||pr(n,!0)}else e=Qu(e).createTextNode(o),e[se]=n,n.stateNode=e}return te(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=aa(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[se]=n}else ps(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),e=!1}else r=Dh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return te(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=aa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[se]=n}else ps(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),h=!1}else h=Dh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Ou(n,n.updateQueue),te(n),null);case 4:return ie(),e===null&&qf(n.stateNode.containerInfo),te(n),null;case 10:return wi(n.type),te(n),null;case 19:if(H(he),o=n.memoizedState,o===null)return te(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Uo(o,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=_u(e),f!==null){for(n.flags|=128,Uo(o,!1),e=f.updateQueue,n.updateQueue=e,Ou(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)sg(r,e),r=r.sibling;return X(he,he.current&1|2),Ut&&Si(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&xe()>ku&&(n.flags|=128,h=!0,Uo(o,!1),n.lanes=4194304)}else{if(!h)if(e=_u(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ou(n,e),Uo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return te(n),null}else 2*xe()-o.renderingStartTime>ku&&r!==536870912&&(n.flags|=128,h=!0,Uo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=xe(),e.sibling=null,r=he.current,X(he,h?r&1|2:r&1),Ut&&Si(n,o.treeForkCount),e):(te(n),null);case 22:case 23:return vn(n),qh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),r=n.updateQueue,r!==null&&Ou(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&H(vs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),wi(ge),te(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function ST(e,n){switch(Ih(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wi(ge),ie(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ci(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(a(340));ps()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ps()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return H(he),null;case 4:return ie(),null;case 10:return wi(n.type),null;case 22:case 23:return vn(n),qh(),e!==null&&H(vs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return wi(ge),null;case 25:return null;default:return null}}function Mp(e,n){switch(Ih(n),n.tag){case 3:wi(ge),ie();break;case 26:case 27:case 5:ci(n);break;case 4:ie();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:H(he);break;case 10:wi(n.type);break;case 22:case 23:vn(n),qh(),e!==null&&H(vs);break;case 24:wi(ge)}}function ko(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(E){Gt(n,n.return,E)}}function Sr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=r,P=E;try{P()}catch(G){Gt(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){Gt(n,n.return,G)}}function Vp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Sg(n,r)}catch(o){Gt(e,e.return,o)}}}function xp(e,n,r){r.props=bs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Gt(e,n,o)}}function Lo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Gt(e,n,h)}}function ii(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Gt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Gt(e,n,h)}else r.current=null}function Up(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Gt(e,e.return,h)}}function Tf(e,n,r){try{var o=e.stateNode;GT(o,e.type,r,n),o[ke]=n}catch(h){Gt(e,e.return,h)}}function kp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Nr(e.type)||e.tag===4}function Af(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||kp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Nr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ie));else if(o!==4&&(o===27&&Nr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Sf(e,n,r),e=e.sibling;e!==null;)Sf(e,n,r),e=e.sibling}function Mu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Nr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Mu(e,n,r),e=e.sibling;e!==null;)Mu(e,n,r),e=e.sibling}function Lp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);je(n,o,r),n[se]=e,n[ke]=r}catch(f){Gt(e,e.return,f)}}var Ni=!1,_e=!1,bf=!1,Pp=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function bT(e,n){if(e=e.containerInfo,Gf=Wu,e=$m(e),ph(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,R=-1,P=0,G=0,K=e,j=null;e:for(;;){for(var B;K!==r||h!==0&&K.nodeType!==3||(E=p+h),K!==f||o!==0&&K.nodeType!==3||(R=p+o),K.nodeType===3&&(p+=K.nodeValue.length),(B=K.firstChild)!==null;)j=K,K=B;for(;;){if(K===e)break e;if(j===r&&++P===h&&(E=p),j===f&&++G===o&&(R=p),(B=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=B}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qf={focusedElem:e,selectionRange:r},Wu=!1,Ne=n;Ne!==null;)if(n=Ne,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ne=e;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var st=bs(r.type,h);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Gt(r,r.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Xf(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ne=e;break}Ne=n.return}}function zp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Mi(e,r),o&4&&ko(5,r);break;case 1:if(Mi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){Gt(r,r.return,p)}else{var h=bs(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Gt(r,r.return,p)}}o&64&&Vp(r),o&512&&Lo(r,r.return);break;case 3:if(Mi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Sg(e,n)}catch(p){Gt(r,r.return,p)}}break;case 27:n===null&&o&4&&Lp(r);case 26:case 5:Mi(e,r),n===null&&o&4&&Up(r),o&512&&Lo(r,r.return);break;case 12:Mi(e,r);break;case 31:Mi(e,r),o&4&&qp(e,r);break;case 13:Mi(e,r),o&4&&Hp(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=VT.bind(null,r),WT(e,r))));break;case 22:if(o=r.memoizedState!==null||Ni,!o){n=n!==null&&n.memoizedState!==null||_e,h=Ni;var f=_e;Ni=o,(_e=n)&&!f?Vi(e,r,(r.subtreeFlags&8772)!==0):Mi(e,r),Ni=h,_e=f}break;case 30:break;default:Mi(e,r)}}function jp(e){var n=e.alternate;n!==null&&(e.alternate=null,jp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ns(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ne=null,ln=!1;function Oi(e,n,r){for(r=r.child;r!==null;)Bp(e,n,r),r=r.sibling}function Bp(e,n,r){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Yi,r)}catch{}switch(r.tag){case 26:_e||ii(r,n),Oi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:_e||ii(r,n);var o=ne,h=ln;Nr(r.type)&&(ne=r.stateNode,ln=!1),Oi(e,n,r),Qo(r.stateNode),ne=o,ln=h;break;case 5:_e||ii(r,n);case 6:if(o=ne,h=ln,ne=null,Oi(e,n,r),ne=o,ln=h,ne!==null)if(ln)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(r.stateNode)}catch(f){Gt(r,n,f)}else try{ne.removeChild(r.stateNode)}catch(f){Gt(r,n,f)}break;case 18:ne!==null&&(ln?(e=ne,Vy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ia(e)):Vy(ne,r.stateNode));break;case 4:o=ne,h=ln,ne=r.stateNode.containerInfo,ln=!0,Oi(e,n,r),ne=o,ln=h;break;case 0:case 11:case 14:case 15:Sr(2,r,n),_e||Sr(4,r,n),Oi(e,n,r);break;case 1:_e||(ii(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&xp(r,n,o)),Oi(e,n,r);break;case 21:Oi(e,n,r);break;case 22:_e=(o=_e)||r.memoizedState!==null,Oi(e,n,r),_e=o;break;default:Oi(e,n,r)}}function qp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ia(e)}catch(r){Gt(n,n.return,r)}}}function Hp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ia(e)}catch(r){Gt(n,n.return,r)}}function wT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Pp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Pp),n;default:throw Error(a(435,e.tag))}}function Vu(e,n){var r=wT(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=xT.bind(null,e,o);o.then(h,h)}})}function un(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Nr(E.type)){ne=E.stateNode,ln=!1;break t}break;case 5:ne=E.stateNode,ln=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,ln=!0;break t}E=E.return}if(ne===null)throw Error(a(160));Bp(f,p,h),ne=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Fp(n,e),n=n.sibling}var Bn=null;function Fp(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(n,e),cn(e),o&4&&(Sr(3,e,e.return),ko(3,e),Sr(5,e,e.return));break;case 1:un(n,e),cn(e),o&512&&(_e||r===null||ii(r,r.return)),o&64&&Ni&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Bn;if(un(n,e),cn(e),o&512&&(_e||r===null||ii(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[mi]||f[se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),je(f,o,r),f[se]=e,ce(f),o=f;break t;case"link":var p=Fy("link","href",h).get(o+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),je(f,o,r),h.head.appendChild(f);break;case"meta":if(p=Fy("meta","content",h).get(o+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=h.createElement(o),je(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[se]=e,ce(f),o=f}e.stateNode=o}else Gy(h,e.type,e.stateNode);else e.stateNode=Hy(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?Gy(h,e.type,e.stateNode):Hy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Tf(e,e.memoizedProps,r.memoizedProps)}break;case 27:un(n,e),cn(e),o&512&&(_e||r===null||ii(r,r.return)),r!==null&&o&4&&Tf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(un(n,e),cn(e),o&512&&(_e||r===null||ii(r,r.return)),e.flags&32){h=e.stateNode;try{In(h,"")}catch(st){Gt(e,e.return,st)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Tf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(bf=!0);break;case 6:if(un(n,e),cn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(st){Gt(e,e.return,st)}}break;case 3:if(Xu=null,h=Bn,Bn=Ku(n.containerInfo),un(n,e),Bn=h,cn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ia(n.containerInfo)}catch(st){Gt(e,e.return,st)}bf&&(bf=!1,Gp(e));break;case 4:o=Bn,Bn=Ku(e.stateNode.containerInfo),un(n,e),cn(e),Bn=o;break;case 12:un(n,e),cn(e);break;case 31:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Vu(e,o)));break;case 13:un(n,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Uu=xe()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Vu(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=Ni,G=_e;if(Ni=P||h,_e=G||R,un(n,e),_e=G,Ni=P,cn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||Ni||_e||ws(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(st){Gt(R,R.return,st)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(st){Gt(R,R.return,st)}}}else if(n.tag===18){if(r===null){R=n;try{var B=R.stateNode;h?xy(B,!0):xy(R.stateNode,!1)}catch(st){Gt(R,R.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Vu(e,r))));break;case 19:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Vu(e,o)));break;case 30:break;case 21:break;default:un(n,e),cn(e)}}function cn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(kp(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Af(e);Mu(e,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(In(p,""),r.flags&=-33);var E=Af(e);Mu(e,E,p);break;case 3:case 4:var R=r.stateNode.containerInfo,P=Af(e);Sf(e,P,R);break;default:throw Error(a(161))}}catch(G){Gt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Gp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Gp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Mi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)zp(e,n.alternate,n),n=n.sibling}function ws(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Sr(4,n,n.return),ws(n);break;case 1:ii(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&xp(n,n.return,r),ws(n);break;case 27:Qo(n.stateNode);case 26:case 5:ii(n,n.return),ws(n);break;case 22:n.memoizedState===null&&ws(n);break;case 30:ws(n);break;default:ws(n)}e=e.sibling}}function Vi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Vi(h,f,r),ko(4,f);break;case 1:if(Vi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Gt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Ag(R[h],E)}catch(P){Gt(o,o.return,P)}}r&&p&64&&Vp(f),Lo(f,f.return);break;case 27:Lp(f);case 26:case 5:Vi(h,f,r),r&&o===null&&p&4&&Up(f),Lo(f,f.return);break;case 12:Vi(h,f,r);break;case 31:Vi(h,f,r),r&&p&4&&qp(h,f);break;case 13:Vi(h,f,r),r&&p&4&&Hp(h,f);break;case 22:f.memoizedState===null&&Vi(h,f,r),Lo(f,f.return);break;case 30:break;default:Vi(h,f,r)}n=n.sibling}}function wf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&So(r))}function Rf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&So(e))}function qn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Qp(e,n,r,o),n=n.sibling}function Qp(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:qn(e,n,r,o),h&2048&&ko(9,n);break;case 1:qn(e,n,r,o);break;case 3:qn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&So(e)));break;case 12:if(h&2048){qn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Gt(n,n.return,R)}}else qn(e,n,r,o);break;case 31:qn(e,n,r,o);break;case 13:qn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?qn(e,n,r,o):Po(e,n):f._visibility&2?qn(e,n,r,o):(f._visibility|=2,pa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&wf(p,n);break;case 24:qn(e,n,r,o),h&2048&&Rf(n.alternate,n);break;default:qn(e,n,r,o)}}function pa(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=r,R=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:pa(f,p,E,R,h),ko(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?pa(f,p,E,R,h):Po(f,p):(G._visibility|=2,pa(f,p,E,R,h)),h&&P&2048&&wf(p.alternate,p);break;case 24:pa(f,p,E,R,h),h&&P&2048&&Rf(p.alternate,p);break;default:pa(f,p,E,R,h)}n=n.sibling}}function Po(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Po(r,o),h&2048&&wf(o.alternate,o);break;case 24:Po(r,o),h&2048&&Rf(o.alternate,o);break;default:Po(r,o)}n=n.sibling}}var zo=8192;function ya(e,n,r){if(e.subtreeFlags&zo)for(e=e.child;e!==null;)Kp(e,n,r),e=e.sibling}function Kp(e,n,r){switch(e.tag){case 26:ya(e,n,r),e.flags&zo&&e.memoizedState!==null&&hA(r,Bn,e.memoizedState,e.memoizedProps);break;case 5:ya(e,n,r);break;case 3:case 4:var o=Bn;Bn=Ku(e.stateNode.containerInfo),ya(e,n,r),Bn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=zo,zo=16777216,ya(e,n,r),zo=o):ya(e,n,r));break;default:ya(e,n,r)}}function Yp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function jo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ne=o,$p(o,e)}Yp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xp(e),e=e.sibling}function Xp(e){switch(e.tag){case 0:case 11:case 15:jo(e),e.flags&2048&&Sr(9,e,e.return);break;case 3:jo(e);break;case 12:jo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,xu(e)):jo(e);break;default:jo(e)}}function xu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ne=o,$p(o,e)}Yp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Sr(8,n,n.return),xu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,xu(n));break;default:xu(n)}e=e.sibling}}function $p(e,n){for(;Ne!==null;){var r=Ne;switch(r.tag){case 0:case 11:case 15:Sr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:So(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ne=o;else t:for(r=e;Ne!==null;){o=Ne;var h=o.sibling,f=o.return;if(jp(o),o===r){Ne=null;break t}if(h!==null){h.return=f,Ne=h;break t}Ne=f}}}var RT={getCacheForType:function(e){var n=Pe(ge),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Pe(ge).controller.signal}},IT=typeof WeakMap=="function"?WeakMap:Map,qt=0,Jt=null,Dt=null,Ot=0,Ft=0,En=null,br=!1,_a=!1,If=!1,xi=0,le=0,wr=0,Rs=0,Cf=0,Tn=0,va=0,Bo=null,hn=null,Df=!1,Uu=0,Jp=0,ku=1/0,Lu=null,Rr=null,be=0,Ir=null,Ea=null,Ui=0,Nf=0,Of=null,Zp=null,qo=0,Mf=null;function An(){return(qt&2)!==0&&Ot!==0?Ot&-Ot:z.T!==null?Pf():di()}function Wp(){if(Tn===0)if((Ot&536870912)===0||Ut){var e=Kn;Kn<<=1,(Kn&3932160)===0&&(Kn=262144),Tn=e}else Tn=536870912;return e=_n.current,e!==null&&(e.flags|=32),Tn}function fn(e,n,r){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ta(e,0),Cr(e,Ot,Tn,!1)),Ji(e,r),((qt&2)===0||e!==Jt)&&(e===Jt&&((qt&2)===0&&(Rs|=r),le===4&&Cr(e,Ot,Tn,!1)),ri(e))}function ty(e,n,r){if((qt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||$i(e,n),h=o?NT(e,n):xf(e,n,!0),f=o;do{if(h===0){_a&&!o&&Cr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!CT(r)){h=xf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=Bo;var R=E.current.memoizedState.isDehydrated;if(R&&(Ta(E,p).flags|=256),p=xf(E,p,!1),p!==2){if(If&&!R){E.errorRecoveryDisabledLanes|=f,Rs|=f,h=4;break t}f=hn,hn=h,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ta(e,0),Cr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Cr(o,n,Tn,!br);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Uu+300-xe(),10<h)){if(Cr(o,n,Tn,!br),wn(o,0,!0)!==0)break t;Ui=n,o.timeoutHandle=Oy(ey.bind(null,o,r,hn,Lu,Df,n,Tn,Rs,va,br,f,"Throttled",-0,0),h);break t}ey(o,r,hn,Lu,Df,n,Tn,Rs,va,br,f,null,-0,0)}}break}while(!0);ri(e)}function ey(e,n,r,o,h,f,p,E,R,P,G,K,j,B){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ie},Kp(n,f,K);var st=(f&62914560)===f?Uu-xe():(f&4194048)===f?Jp-xe():0;if(st=fA(K,st),st!==null){Ui=f,e.cancelPendingCommit=st(uy.bind(null,e,n,f,r,o,h,p,E,R,G,K,null,j,B)),Cr(e,f,p,!P);return}}uy(e,n,f,r,o,h,p,E,R)}function CT(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cr(e,n,r,o){n&=~Cf,n&=~Rs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Ze(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&eo(e,r,n)}function Pu(){return(qt&6)===0?(Ho(0),!1):!0}function Vf(){if(Dt!==null){if(Ft===0)var e=Dt.return;else e=Dt,bi=ys=null,Yh(e),ha=null,wo=0,e=Dt;for(;e!==null;)Mp(e.alternate,e),e=e.return;Dt=null}}function Ta(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,YT(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Ui=0,Vf(),Jt=e,Dt=r=Ai(e.current,null),Ot=n,Ft=0,En=null,br=!1,_a=$i(e,n),If=!1,va=Tn=Cf=Rs=wr=le=0,hn=Bo=null,Df=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ze(o),f=1<<h;n|=e[h],o&=~f}return xi=n,su(),r}function ny(e,n){At=null,z.H=Vo,n===ca||n===du?(n=_g(),Ft=3):n===kh?(n=_g(),Ft=4):Ft=n===hf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Dt===null&&(le=1,Iu(e,Dn(n,e.current)))}function iy(){var e=_n.current;return e===null?!0:(Ot&4194048)===Ot?Vn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===Vn:!1}function ry(){var e=z.H;return z.H=Vo,e===null?Vo:e}function sy(){var e=z.A;return z.A=RT,e}function zu(){le=4,br||(Ot&4194048)!==Ot&&_n.current!==null||(_a=!0),(wr&134217727)===0&&(Rs&134217727)===0||Jt===null||Cr(Jt,Ot,Tn,!1)}function xf(e,n,r){var o=qt;qt|=2;var h=ry(),f=sy();(Jt!==e||Ot!==n)&&(Lu=null,Ta(e,n)),n=!1;var p=le;t:do try{if(Ft!==0&&Dt!==null){var E=Dt,R=En;switch(Ft){case 8:Vf(),p=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var P=Ft;if(Ft=0,En=null,Aa(e,E,R,P),r&&_a){p=0;break t}break;default:P=Ft,Ft=0,En=null,Aa(e,E,R,P)}}DT(),p=le;break}catch(G){ny(e,G)}while(!0);return n&&e.shellSuspendCounter++,bi=ys=null,qt=o,z.H=h,z.A=f,Dt===null&&(Jt=null,Ot=0,su()),p}function DT(){for(;Dt!==null;)ay(Dt)}function NT(e,n){var r=qt;qt|=2;var o=ry(),h=sy();Jt!==e||Ot!==n?(Lu=null,ku=xe()+500,Ta(e,n)):_a=$i(e,n);t:do try{if(Ft!==0&&Dt!==null){n=Dt;var f=En;e:switch(Ft){case 1:Ft=0,En=null,Aa(e,n,f,1);break;case 2:case 9:if(pg(f)){Ft=0,En=null,oy(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),ri(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:pg(f)?(Ft=0,En=null,oy(n)):(Ft=0,En=null,Aa(e,n,f,7));break;case 5:var p=null;switch(Dt.tag){case 26:p=Dt.memoizedState;case 5:case 27:var E=Dt;if(p?Qy(p):E.stateNode.complete){Ft=0,En=null;var R=E.sibling;if(R!==null)Dt=R;else{var P=E.return;P!==null?(Dt=P,ju(P)):Dt=null}break e}}Ft=0,En=null,Aa(e,n,f,5);break;case 6:Ft=0,En=null,Aa(e,n,f,6);break;case 8:Vf(),le=6;break t;default:throw Error(a(462))}}OT();break}catch(G){ny(e,G)}while(!0);return bi=ys=null,z.H=o,z.A=h,qt=r,Dt!==null?0:(Jt=null,Ot=0,su(),le)}function OT(){for(;Dt!==null&&!sh();)ay(Dt)}function ay(e){var n=Np(e.alternate,e,xi);e.memoizedProps=e.pendingProps,n===null?ju(e):Dt=n}function oy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=bp(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=bp(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:Yh(n);default:Mp(r,n),n=Dt=sg(n,xi),n=Np(r,n,xi)}e.memoizedProps=e.pendingProps,n===null?ju(e):Dt=n}function Aa(e,n,r,o){bi=ys=null,Yh(n),ha=null,wo=0;var h=n.return;try{if(vT(e,h,n,r,Ot)){le=1,Iu(e,Dn(r,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;le=1,Iu(e,Dn(r,e.current)),Dt=null;return}n.flags&32768?(Ut||o===1?e=!0:_a||(Ot&536870912)!==0?e=!1:(br=e=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),ly(n,e)):ju(n)}function ju(e){var n=e;do{if((n.flags&32768)!==0){ly(n,br);return}e=n.return;var r=AT(n.alternate,n,xi);if(r!==null){Dt=r;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);le===0&&(le=5)}function ly(e,n){do{var r=ST(e.alternate,e);if(r!==null){r.flags&=32767,Dt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=r}while(e!==null);le=6,Dt=null}function uy(e,n,r,o,h,f,p,E,R){e.cancelPendingCommit=null;do Bu();while(be!==0);if((qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Th,Ue(e,r,f,p,E,R),e===Jt&&(Dt=Jt=null,Ot=0),Ea=n,Ir=e,Ui=r,Nf=f,Of=h,Zp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,UT(hi,function(){return my(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=z.T,z.T=null,h=Y.p,Y.p=2,p=qt,qt|=4;try{bT(e,n,r)}finally{qt=p,Y.p=h,z.T=o}}be=1,cy(),hy(),fy()}}function cy(){if(be===1){be=0;var e=Ir,n=Ea,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=z.T,z.T=null;var o=Y.p;Y.p=2;var h=qt;qt|=4;try{Fp(n,e);var f=Qf,p=$m(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Xm(E.ownerDocument.documentElement,E)){if(R!==null&&ph(E)){var P=R.start,G=R.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var B=j.getSelection(),st=E.textContent.length,gt=Math.min(R.start,st),$t=R.end===void 0?gt:Math.min(R.end,st);!B.extend&&gt>$t&&(p=$t,$t=gt,gt=p);var V=Ym(E,gt),N=Ym(E,$t);if(V&&N&&(B.rangeCount!==1||B.anchorNode!==V.node||B.anchorOffset!==V.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var L=K.createRange();L.setStart(V.node,V.offset),B.removeAllRanges(),gt>$t?(B.addRange(L),B.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),B.addRange(L))}}}}for(K=[],B=E;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Wu=!!Gf,Qf=Gf=null}finally{qt=h,Y.p=o,z.T=r}}e.current=n,be=2}}function hy(){if(be===2){be=0;var e=Ir,n=Ea,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=z.T,z.T=null;var o=Y.p;Y.p=2;var h=qt;qt|=4;try{zp(e,n.alternate,n)}finally{qt=h,Y.p=o,z.T=r}}be=3}}function fy(){if(be===4||be===3){be=0,Ja();var e=Ir,n=Ea,r=Ui,o=Zp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?be=5:(be=0,Ea=Ir=null,dy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rr=null),io(r),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Yi,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=z.T,h=Y.p,Y.p=2,z.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{z.T=n,Y.p=h}}(Ui&3)!==0&&Bu(),ri(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Mf?qo++:(qo=0,Mf=e):qo=0,Ho(0)}}function dy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,So(n)))}function Bu(){return cy(),hy(),fy(),my()}function my(){if(be!==5)return!1;var e=Ir,n=Nf;Nf=0;var r=io(Ui),o=z.T,h=Y.p;try{Y.p=32>r?32:r,z.T=null,r=Of,Of=null;var f=Ir,p=Ui;if(be=0,Ea=Ir=null,Ui=0,(qt&6)!==0)throw Error(a(331));var E=qt;if(qt|=4,Xp(f.current),Qp(f,f.current,p,r),qt=E,Ho(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Yi,f)}catch{}return!0}finally{Y.p=h,z.T=o,dy(e,n)}}function gy(e,n,r){n=Dn(r,n),n=cf(e.stateNode,n,2),e=Er(e,n,2),e!==null&&(Ji(e,2),ri(e))}function Gt(e,n,r){if(e.tag===3)gy(e,e,r);else for(;n!==null;){if(n.tag===3){gy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rr===null||!Rr.has(o))){e=Dn(r,e),r=pp(2),o=Er(n,r,2),o!==null&&(yp(r,o,n,e),Ji(o,2),ri(o));break}}n=n.return}}function Uf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new IT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(If=!0,h.add(r),e=MT.bind(null,e,n,r),n.then(e,e))}function MT(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Jt===e&&(Ot&r)===r&&(le===4||le===3&&(Ot&62914560)===Ot&&300>xe()-Uu?(qt&2)===0&&Ta(e,0):Cf|=r,va===Ot&&(va=0)),ri(e)}function py(e,n){n===0&&(n=to()),e=ms(e,n),e!==null&&(Ji(e,n),ri(e))}function VT(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),py(e,r)}function xT(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),py(e,r)}function UT(e,n){return Wr(e,n)}var qu=null,Sa=null,kf=!1,Hu=!1,Lf=!1,Dr=0;function ri(e){e!==Sa&&e.next===null&&(Sa===null?qu=Sa=e:Sa=Sa.next=e),Hu=!0,kf||(kf=!0,LT())}function Ho(e,n){if(!Lf&&Hu){Lf=!0;do for(var r=!1,o=qu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ze(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Ey(o,f))}else f=Ot,f=wn(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||$i(o,f)||(r=!0,Ey(o,f));o=o.next}while(r);Lf=!1}}function kT(){yy()}function yy(){Hu=kf=!1;var e=0;Dr!==0&&KT()&&(e=Dr);for(var n=xe(),r=null,o=qu;o!==null;){var h=o.next,f=_y(o,n);f===0?(o.next=null,r===null?qu=h:r.next=h,h===null&&(Sa=r)):(r=o,(e!==0||(f&3)!==0)&&(Hu=!0)),o=h}be!==0&&be!==5||Ho(e),Dr!==0&&(Dr=0)}function _y(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-Ze(f),E=1<<p,R=h[p];R===-1?((E&r)===0||(E&o)!==0)&&(h[p]=Hs(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,r=Ot,r=wn(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&qs(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||$i(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&qs(o),io(r)){case 2:case 8:r=Re;break;case 32:r=hi;break;case 268435456:r=Za;break;default:r=hi}return o=vy.bind(null,e),r=Wr(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&qs(o),e.callbackPriority=2,e.callbackNode=null,2}function vy(e,n){if(be!==0&&be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Bu()&&e.callbackNode!==r)return null;var o=Ot;return o=wn(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ty(e,o,n),_y(e,xe()),e.callbackNode!=null&&e.callbackNode===r?vy.bind(null,e):null)}function Ey(e,n){if(Bu())return null;ty(e,n,!0)}function LT(){XT(function(){(qt&6)!==0?Wr(Se,kT):yy()})}function Pf(){if(Dr===0){var e=la;e===0&&(e=es,es<<=1,(es&261888)===0&&(es=256)),Dr=e}return Dr}function Ty(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zn(""+e)}function Ay(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function PT(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Ty((h[ke]||null).action),p=o.submitter;p&&(n=(n=p[ke]||null)?Ty(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new os("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Dr!==0){var R=p?Ay(h,p):new FormData(h);rf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?Ay(h,p):new FormData(h),rf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var zf=0;zf<Eh.length;zf++){var jf=Eh[zf],zT=jf.toLowerCase(),jT=jf[0].toUpperCase()+jf.slice(1);jn(zT,"on"+jT)}jn(Wm,"onAnimationEnd"),jn(tg,"onAnimationIteration"),jn(eg,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(nT,"onTransitionRun"),jn(iT,"onTransitionStart"),jn(rT,"onTransitionCancel"),jn(ng,"onTransitionEnd"),Jn("onMouseEnter",["mouseout","mouseover"]),Jn("onMouseLeave",["mouseout","mouseover"]),Jn("onPointerEnter",["pointerout","pointerover"]),Jn("onPointerLeave",["pointerout","pointerover"]),We("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),We("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),We("onBeforeInput",["compositionend","keypress","textInput","paste"]),We("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fo));function Sy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(G){ru(G)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(G){ru(G)}h.currentTarget=null,f=R}}}}function Nt(e,n){var r=n[tr];r===void 0&&(r=n[tr]=new Set);var o=e+"__bubble";r.has(o)||(by(n,e,2,!1),r.add(o))}function Bf(e,n,r){var o=0;n&&(o|=4),by(r,e,o,n)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function qf(e){if(!e[Fu]){e[Fu]=!0,Fs.forEach(function(r){r!=="selectionchange"&&(BT.has(r)||Bf(r,!1,e),Bf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Fu]||(n[Fu]=!0,Bf("selectionchange",!1,n))}}function by(e,n,r,o){switch(Wy(n)){case 2:var h=gA;break;case 8:h=pA;break;default:h=id}r=h.bind(null,n,r,e),h=void 0,!ho||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function Hf(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=gi(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}E=E.parentNode}}o=o.return}ql(function(){var P=f,G=Xs(r),K=[];t:{var j=ig.get(e);if(j!==void 0){var B=os,st=e;switch(e){case"keypress":if(as(r)===0)break t;case"keydown":case"keyup":B=Jl;break;case"focusin":st="focus",B=cr;break;case"focusout":st="blur",B=cr;break;case"beforeblur":case"afterblur":B=cr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Gl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Wl;break;case Wm:case tg:case eg:B=Zs;break;case ng:B=Ws;break;case"scroll":case"scrollend":B=Hl;break;case"wheel":B=eu;break;case"copy":case"cut":case"paste":B=Kl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=yo;break;case"toggle":case"beforetoggle":B=fr}var gt=(n&4)!==0,$t=!gt&&(e==="scroll"||e==="scrollend"),V=gt?j!==null?j+"Capture":null:j;gt=[];for(var N=P,L;N!==null;){var Q=N;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||V===null||(Q=an(N,V),Q!=null&&gt.push(Go(N,Q,L))),$t)break;N=N.return}0<gt.length&&(j=new B(j,st,null,r,G),K.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",j&&r!==Ys&&(st=r.relatedTarget||r.fromElement)&&(gi(st)||st[Xn]))break t;if((B||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,B?(st=r.relatedTarget||r.toElement,B=P,st=st?gi(st):null,st!==null&&($t=c(st),gt=st.tag,st!==$t||gt!==5&&gt!==27&&gt!==6)&&(st=null)):(B=null,st=P),B!==st)){if(gt=Fl,Q="onMouseLeave",V="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(gt=yo,Q="onPointerLeave",V="onPointerEnter",N="pointer"),$t=B==null?j:is(B),L=st==null?j:is(st),j=new gt(Q,N+"leave",B,r,G),j.target=$t,j.relatedTarget=L,Q=null,gi(G)===P&&(gt=new gt(V,N+"enter",st,r,G),gt.target=L,gt.relatedTarget=$t,Q=gt),$t=Q,B&&st)e:{for(gt=qT,V=B,N=st,L=0,Q=V;Q;Q=gt(Q))L++;Q=0;for(var ct=N;ct;ct=gt(ct))Q++;for(;0<L-Q;)V=gt(V),L--;for(;0<Q-L;)N=gt(N),Q--;for(;L--;){if(V===N||N!==null&&V===N.alternate){gt=V;break e}V=gt(V),N=gt(N)}gt=null}else gt=null;B!==null&&wy(K,j,B,gt,!1),st!==null&&$t!==null&&wy(K,$t,st,gt,!0)}}t:{if(j=P?is(P):window,B=j.nodeName&&j.nodeName.toLowerCase(),B==="select"||B==="input"&&j.type==="file")var zt=qm;else if(on(j))if(Hm)zt=WE;else{zt=JE;var lt=$E}else B=j.nodeName,!B||B.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&uo(P.elementType)&&(zt=qm):zt=ZE;if(zt&&(zt=zt(e,P))){hs(K,zt,r,G);break t}lt&&lt(e,j,P),e==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&Ks(j,"number",j.value)}switch(lt=P?is(P):window,e){case"focusin":(on(lt)||lt.contentEditable==="true")&&(ta=lt,yh=P,Eo=null);break;case"focusout":Eo=yh=ta=null;break;case"mousedown":_h=!0;break;case"contextmenu":case"mouseup":case"dragend":_h=!1,Jm(K,r,G);break;case"selectionchange":if(eT)break;case"keydown":case"keyup":Jm(K,r,G)}var St;if(m)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else It?Ht(e,r)&&(Mt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Mt="onCompositionStart");Mt&&(k&&r.locale!=="ko"&&(It||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&It&&(St=ar()):(gn=G,$s="value"in gn?gn.value:gn.textContent,It=!0)),lt=Gu(P,Mt),0<lt.length&&(Mt=new mo(Mt,e,null,r,G),K.push({event:Mt,listeners:lt}),St?Mt.data=St:(St=me(r),St!==null&&(Mt.data=St)))),(St=T?Ce(e,r):De(e,r))&&(Mt=Gu(P,"onBeforeInput"),0<Mt.length&&(lt=new mo("onBeforeInput","beforeinput",null,r,G),K.push({event:lt,listeners:Mt}),lt.data=St)),PT(K,e,P,r,G)}Sy(K,n)})}function Go(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Gu(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=an(e,r),h!=null&&o.unshift(Go(e,h,f)),h=an(e,n),h!=null&&o.push(Go(e,h,f))),e.tag===3)return o;e=e.return}return[]}function qT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function wy(e,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var E=r,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=an(r,f),P!=null&&p.unshift(Go(r,P,R))):h||(P=an(r,f),P!=null&&p.push(Go(r,P,R)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var HT=/\r\n?/g,FT=/\u0000|\uFFFD/g;function Ry(e){return(typeof e=="string"?e:""+e).replace(HT,`
`).replace(FT,"")}function Iy(e,n){return n=Ry(n),Ry(e)===n}function Xt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||In(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&In(e,""+o);break;case"className":ir(e,"class",o);break;case"tabIndex":ir(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ir(e,r,o);break;case"style":jl(e,o,f);break;case"data":if(n!=="object"){ir(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Zn(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Zn(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Ie);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Zn(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),nr(e,"popover",o);break;case"xlinkActuate":Rn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Rn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Rn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Rn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Rn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Rn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":nr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=hh.get(r)||r,nr(e,r,o))}}function Ff(e,n,r,o,h,f){switch(r){case"style":jl(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?In(e,o):(typeof o=="number"||typeof o=="bigint")&&In(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Ie);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!er.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[ke]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):nr(e,r,o)}}}function je(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,f,p,r,null)}}h&&Xt(e,n,"srcSet",r.srcSet,r,null),o&&Xt(e,n,"src",r.src,r,null);return;case"input":Nt("invalid",e);var E=f=p=h=null,R=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":R=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Xt(e,n,o,G,r,null)}}rs(e,f,E,R,P,p,h,!1);return;case"select":Nt("invalid",e),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Xt(e,n,h,E,r,null)}n=f,r=p,e.multiple=!!o,n!=null?Pt(e,!!o,n,!1):r!=null&&Pt(e,!!o,r,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(e,n,p,E,r,null)}sr(e,o,h,f);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(o=r[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xt(e,n,R,o,r,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<Fo.length;o++)Nt(Fo[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,P,o,r,null)}return;default:if(uo(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&Ff(e,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Xt(e,n,E,o,r,null))}function GT(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,P=null,G=null;for(B in r){var K=r[B];if(r.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=K;default:o.hasOwnProperty(B)||Xt(e,n,B,null,o,K)}}for(var j in o){var B=o[j];if(K=r[j],o.hasOwnProperty(j)&&(B!=null||K!=null))switch(j){case"type":f=B;break;case"name":h=B;break;case"checked":P=B;break;case"defaultChecked":G=B;break;case"value":p=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==K&&Xt(e,n,j,B,o,K)}}rr(e,p,E,R,P,G,f,h);return;case"select":B=p=E=j=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:o.hasOwnProperty(f)||Xt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&Xt(e,n,h,f,o,R)}n=E,r=p,o=B,j!=null?Pt(e,!!r,j,!1):!!o!=!!r&&(n!=null?Pt(e,!!r,n,!0):Pt(e,!!r,r?[]:"",!1));return;case"textarea":B=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Xt(e,n,p,h,o,f)}ss(e,j,B);return;case"option":for(var st in r)if(j=r[st],r.hasOwnProperty(st)&&j!=null&&!o.hasOwnProperty(st))switch(st){case"selected":e.selected=!1;break;default:Xt(e,n,st,null,o,j)}for(R in o)if(j=o[R],B=r[R],o.hasOwnProperty(R)&&j!==B&&(j!=null||B!=null))switch(R){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Xt(e,n,R,j,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)j=r[gt],r.hasOwnProperty(gt)&&j!=null&&!o.hasOwnProperty(gt)&&Xt(e,n,gt,null,o,j);for(P in o)if(j=o[P],B=r[P],o.hasOwnProperty(P)&&j!==B&&(j!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Xt(e,n,P,j,o,B)}return;default:if(uo(n)){for(var $t in r)j=r[$t],r.hasOwnProperty($t)&&j!==void 0&&!o.hasOwnProperty($t)&&Ff(e,n,$t,void 0,o,j);for(G in o)j=o[G],B=r[G],!o.hasOwnProperty(G)||j===B||j===void 0&&B===void 0||Ff(e,n,G,j,o,B);return}}for(var V in r)j=r[V],r.hasOwnProperty(V)&&j!=null&&!o.hasOwnProperty(V)&&Xt(e,n,V,null,o,j);for(K in o)j=o[K],B=r[K],!o.hasOwnProperty(K)||j===B||j==null&&B==null||Xt(e,n,K,j,o,B)}function Cy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Cy(p)){for(p=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],P=R.startTime;if(P>E)break;var G=R.transferSize,K=R.initiatorType;G&&Cy(K)&&(R=R.responseEnd,p+=G*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Gf=null,Qf=null;function Qu(e){return e.nodeType===9?e:e.ownerDocument}function Dy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ny(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Kf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Yf=null;function KT(){var e=window.event;return e&&e.type==="popstate"?e===Yf?!1:(Yf=e,!0):(Yf=null,!1)}var Oy=typeof setTimeout=="function"?setTimeout:void 0,YT=typeof clearTimeout=="function"?clearTimeout:void 0,My=typeof Promise=="function"?Promise:void 0,XT=typeof queueMicrotask=="function"?queueMicrotask:typeof My<"u"?function(e){return My.resolve(null).then(e).catch($T)}:Oy;function $T(e){setTimeout(function(){throw e})}function Nr(e){return e==="head"}function Vy(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ia(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Qo(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Qo(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[mi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&Qo(e.ownerDocument.body);r=h}while(r);Ia(n)}function xy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function Xf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Xf(r),ns(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function JT(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[mi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function ZT(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=xn(e.nextSibling),e===null))return null;return e}function Uy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=xn(e.nextSibling),e===null))return null;return e}function $f(e){return e.data==="$?"||e.data==="$~"}function Jf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function WT(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function xn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Zf=null;function ky(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return xn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Ly(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Py(e,n,r){switch(n=Qu(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Qo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ns(e)}var Un=new Map,zy=new Set;function Ku(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ki=Y.d;Y.d={f:tA,r:eA,D:nA,C:iA,L:rA,m:sA,X:oA,S:aA,M:lA};function tA(){var e=ki.f(),n=Pu();return e||n}function eA(e){var n=pi(e);n!==null&&n.tag===5&&n.type==="form"?np(n):ki.r(e)}var ba=typeof document>"u"?null:document;function jy(e,n,r){var o=ba;if(o&&typeof n=="string"&&n){var h=ae(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),zy.has(h)||(zy.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),je(n,"link",e),ce(n),o.head.appendChild(n)))}}function nA(e){ki.D(e),jy("dns-prefetch",e,null)}function iA(e,n){ki.C(e,n),jy("preconnect",e,n)}function rA(e,n,r){ki.L(e,n,r);var o=ba;if(o&&e&&n){var h='link[rel="preload"][as="'+ae(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+ae(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+ae(r.imageSizes)+'"]')):h+='[href="'+ae(e)+'"]';var f=h;switch(n){case"style":f=wa(e);break;case"script":f=Ra(e)}Un.has(f)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Un.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Ko(f))||n==="script"&&o.querySelector(Yo(f))||(n=o.createElement("link"),je(n,"link",e),ce(n),o.head.appendChild(n)))}}function sA(e,n){ki.m(e,n);var r=ba;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ae(o)+'"][href="'+ae(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ra(e)}if(!Un.has(f)&&(e=b({rel:"modulepreload",href:e},n),Un.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Yo(f)))return}o=r.createElement("link"),je(o,"link",e),ce(o),r.head.appendChild(o)}}}function aA(e,n,r){ki.S(e,n,r);var o=ba;if(o&&e){var h=Pn(o).hoistableStyles,f=wa(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(Ko(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Un.get(f))&&Wf(e,r);var R=p=o.createElement("link");ce(R),je(R,"link",e),R._p=new Promise(function(P,G){R.onload=P,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Yu(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function oA(e,n){ki.X(e,n);var r=ba;if(r&&e){var o=Pn(r).hoistableScripts,h=Ra(e),f=o.get(h);f||(f=r.querySelector(Yo(h)),f||(e=b({src:e,async:!0},n),(n=Un.get(h))&&td(e,n),f=r.createElement("script"),ce(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function lA(e,n){ki.M(e,n);var r=ba;if(r&&e){var o=Pn(r).hoistableScripts,h=Ra(e),f=o.get(h);f||(f=r.querySelector(Yo(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Un.get(h))&&td(e,n),f=r.createElement("script"),ce(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function By(e,n,r,o){var h=(h=Rt.current)?Ku(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=wa(r.href),r=Pn(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=wa(r.href);var f=Pn(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(Ko(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Un.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Un.set(e,r),f||uA(h,e,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ra(r),r=Pn(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function wa(e){return'href="'+ae(e)+'"'}function Ko(e){return'link[rel="stylesheet"]['+e+"]"}function qy(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function uA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),je(n,"link",r),ce(n),e.head.appendChild(n))}function Ra(e){return'[src="'+ae(e)+'"]'}function Yo(e){return"script[async]"+e}function Hy(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ae(r.href)+'"]');if(o)return n.instance=o,ce(o),o;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ce(o),je(o,"style",h),Yu(o,r.precedence,e),n.instance=o;case"stylesheet":h=wa(r.href);var f=e.querySelector(Ko(h));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;o=qy(r),(h=Un.get(h))&&Wf(o,h),f=(e.ownerDocument||e).createElement("link"),ce(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),je(f,"link",o),n.state.loading|=4,Yu(f,r.precedence,e),n.instance=f;case"script":return f=Ra(r.src),(h=e.querySelector(Yo(f)))?(n.instance=h,ce(h),h):(o=r,(h=Un.get(f))&&(o=b({},r),td(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ce(h),je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Yu(o,r.precedence,e));return n.instance}function Yu(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Wf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Xu=null;function Fy(e,n,r){if(Xu===null){var o=new Map,h=Xu=new Map;h.set(r,o)}else h=Xu,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[mi]||f[se]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function Gy(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function cA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Qy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function hA(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=wa(o.href),f=n.querySelector(Ko(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=$u.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,ce(f);return}f=n.ownerDocument||n,o=qy(o),(h=Un.get(h))&&Wf(o,h),f=f.createElement("link"),ce(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),je(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=$u.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var ed=0;function fA(e,n){return e.stylesheets&&e.count===0&&Zu(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&Zu(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&ed===0&&(ed=62500*QT());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zu(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>ed?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function $u(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ju=null;function Zu(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ju=new Map,n.forEach(dA,e),Ju=null,$u.call(e))}function dA(e,n){if(!(n.state.loading&4)){var r=Ju.get(e);if(r)var o=r.get(null);else{r=new Map,Ju.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=$u.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Xo={$$typeof:ut,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function mA(e,n,r,o,h,f,p,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Ky(e,n,r,o,h,f,p,E,R,P,G,K){return e=new mA(e,n,r,p,R,P,G,K,E),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),e.current=f,f.stateNode=e,n=Vh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Lh(f),e}function Yy(e){return e?(e=ia,e):ia}function Xy(e,n,r,o,h,f){h=Yy(h),o.context===null?o.context=h:o.pendingContext=h,o=vr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Er(e,o,n),r!==null&&(fn(r,e,n),Io(r,e,n))}function $y(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function nd(e,n){$y(e,n),(e=e.alternate)&&$y(e,n)}function Jy(e){if(e.tag===13||e.tag===31){var n=ms(e,67108864);n!==null&&fn(n,e,67108864),nd(e,67108864)}}function Zy(e){if(e.tag===13||e.tag===31){var n=An();n=no(n);var r=ms(e,n);r!==null&&fn(r,e,n),nd(e,n)}}var Wu=!0;function gA(e,n,r,o){var h=z.T;z.T=null;var f=Y.p;try{Y.p=2,id(e,n,r,o)}finally{Y.p=f,z.T=h}}function pA(e,n,r,o){var h=z.T;z.T=null;var f=Y.p;try{Y.p=8,id(e,n,r,o)}finally{Y.p=f,z.T=h}}function id(e,n,r,o){if(Wu){var h=rd(o);if(h===null)Hf(e,n,o,tc,r),t_(e,o);else if(_A(h,e,n,r,o))o.stopPropagation();else if(t_(e,o),n&4&&-1<yA.indexOf(e)){for(;h!==null;){var f=pi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Ln(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-Ze(p);E.entanglements[1]|=R,p&=~R}ri(f),(qt&6)===0&&(ku=xe()+500,Ho(0))}}break;case 31:case 13:E=ms(f,2),E!==null&&fn(E,f,2),Pu(),nd(f,2)}if(f=rd(o),f===null&&Hf(e,n,o,tc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else Hf(e,n,o,null,r)}}function rd(e){return e=Xs(e),sd(e)}var tc=null;function sd(e){if(tc=null,e=gi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return tc=e,null}function Wy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vl()){case Se:return 2;case Re:return 8;case hi:case xl:return 32;case Za:return 268435456;default:return 32}default:return 32}}var ad=!1,Or=null,Mr=null,Vr=null,$o=new Map,Jo=new Map,xr=[],yA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t_(e,n){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":$o.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(n.pointerId)}}function Zo(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=pi(n),n!==null&&Jy(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function _A(e,n,r,o,h){switch(n){case"focusin":return Or=Zo(Or,e,n,r,o,h),!0;case"dragenter":return Mr=Zo(Mr,e,n,r,o,h),!0;case"mouseover":return Vr=Zo(Vr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return $o.set(f,Zo($o.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Jo.set(f,Zo(Jo.get(f)||null,e,n,r,o,h)),!0}return!1}function e_(e){var n=gi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,kl(e.priority,function(){Zy(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,kl(e.priority,function(){Zy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=rd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Ys=o,r.target.dispatchEvent(o),Ys=null}else return n=pi(r),n!==null&&Jy(n),e.blockedOn=r,!1;n.shift()}return!0}function n_(e,n,r){ec(e)&&r.delete(n)}function vA(){ad=!1,Or!==null&&ec(Or)&&(Or=null),Mr!==null&&ec(Mr)&&(Mr=null),Vr!==null&&ec(Vr)&&(Vr=null),$o.forEach(n_),Jo.forEach(n_)}function nc(e,n){e.blockedOn===n&&(e.blockedOn=null,ad||(ad=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,vA)))}var ic=null;function i_(e){ic!==e&&(ic=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ic===e&&(ic=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(sd(o||r)===null)continue;break}var f=pi(r);f!==null&&(e.splice(n,3),n-=3,rf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ia(e){function n(R){return nc(R,e)}Or!==null&&nc(Or,e),Mr!==null&&nc(Mr,e),Vr!==null&&nc(Vr,e),$o.forEach(n),Jo.forEach(n);for(var r=0;r<xr.length;r++){var o=xr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<xr.length&&(r=xr[0],r.blockedOn===null);)e_(r),r.blockedOn===null&&xr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[ke]||null;if(typeof f=="function")p||i_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[ke]||null)E=p.formAction;else if(sd(h)!==null)continue}else E=p.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),i_(r)}}}function r_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function od(e){this._internalRoot=e}rc.prototype.render=od.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=An();Xy(r,o,e,n,null,null)},rc.prototype.unmount=od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Xy(e.current,2,null,e,null,null),Pu(),n[Xn]=null}};function rc(e){this._internalRoot=e}rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=di();e={blockedOn:null,target:e,priority:n};for(var r=0;r<xr.length&&n!==0&&n<xr[r].priority;r++);xr.splice(r,0,e),r===0&&e_(e)}};var s_=t.version;if(s_!=="19.2.0")throw Error(a(527,s_,"19.2.0"));Y.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var EA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{Yi=sc.inject(EA),Ge=sc}catch{}}return tl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=fp,f=dp,p=mp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=Ky(e,1,!1,null,null,r,o,null,h,f,p,r_),e[Xn]=n.current,qf(e),new od(n)},tl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=fp,p=dp,E=mp,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=Ky(e,1,!0,n,r??null,o,h,R,f,p,E,r_),n.context=Yy(null),r=n.current,o=An(),o=no(o),h=vr(o),h.callback=null,Er(r,h,o),r=o,n.current.lanes=r,Ji(n,r),ri(n),e[Xn]=n.current,qf(e),new rc(n)},tl.version="19.2.0",tl}var g_;function NA(){if(g_)return ud.exports;g_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),ud.exports=DA(),ud.exports}var OA=NA(),Ee=Jd(),p_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},MA=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Vv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,y=l+2<s.length,v=y?s[l+2]:0,A=c>>2,b=(c&3)<<4|g>>4;let x=(g&15)<<2|v>>6,F=v&63;y||(F=64,d||(x=64)),a.push(i[A],i[b],i[x],i[F])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Mv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):MA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const v=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||v==null||b==null)throw new VA;const x=c<<2|g>>4;if(a.push(x),v!==64){const F=g<<4&240|v>>2;if(a.push(F),b!==64){const tt=v<<6&192|b;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class VA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xA=function(s){const t=Mv(s);return Vv.encodeByteArray(t,!0)},Ac=function(s){return xA(s).replace(/\./g,"")},xv=function(s){try{return Vv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=()=>UA().__FIREBASE_DEFAULTS__,LA=()=>{if(typeof process>"u"||typeof p_>"u")return;const s=p_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},PA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&xv(s[1]);return t&&JSON.parse(t)},zc=()=>{try{return kA()||LA()||PA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Uv=s=>{var t,i;return(i=(t=zc())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[s]},zA=s=>{const t=Uv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},kv=()=>{var s;return(s=zc())===null||s===void 0?void 0:s.config},Lv=s=>{var t;return(t=zc())===null||t===void 0?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Ac(JSON.stringify(i)),Ac(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function HA(){var s;const t=(s=zc())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function QA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KA(){const s=Je();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function YA(){return!HA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XA(){try{return typeof indexedDB=="object"}catch{return!1}}function $A(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="FirebaseError";class Ki extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=JA,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vl.prototype.create)}}class vl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?ZA(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Ki(l,g,a)}}function ZA(s,t){return s.replace(WA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const WA=/\{\$([^}]+)}/g;function tS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Sc(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(y_(c)&&y_(d)){if(!Sc(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function y_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function eS(s,t){const i=new nS(s,t);return i.subscribe.bind(i)}class nS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");iS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=md),l.error===void 0&&(l.error=md),l.complete===void 0&&(l.complete=md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function md(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(s){return s&&s._delegate?s._delegate:s}class Os{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new jA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(aS(t))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Is){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Is){return this.instances.has(t)}getOptions(t=Is){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){var a;const l=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:sS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Is){return this.component?this.component.multipleInstances?t:Is:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sS(s){return s===Is?void 0:s}function aS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new rS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(kt||(kt={}));const lS={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},uS=kt.INFO,cS={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},hS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=cS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Zd{constructor(t){this.name=t,this._logLevel=uS,this._logHandler=hS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?lS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const fS=(s,t)=>t.some(i=>s instanceof i);let __,v_;function dS(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mS(){return v_||(v_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pv=new WeakMap,wd=new WeakMap,zv=new WeakMap,gd=new WeakMap,Wd=new WeakMap;function gS(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(qr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Pv.set(i,s)}).catch(()=>{}),Wd.set(t,s),t}function pS(s){if(wd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});wd.set(s,t)}let Rd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return wd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||zv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function yS(s){Rd=s(Rd)}function _S(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(pd(this),t,...i);return zv.set(a,t.sort?t.sort():[t]),qr(a)}:mS().includes(s)?function(...t){return s.apply(pd(this),t),qr(Pv.get(this))}:function(...t){return qr(s.apply(pd(this),t))}}function vS(s){return typeof s=="function"?_S(s):(s instanceof IDBTransaction&&pS(s),fS(s,dS())?new Proxy(s,Rd):s)}function qr(s){if(s instanceof IDBRequest)return gS(s);if(gd.has(s))return gd.get(s);const t=vS(s);return t!==s&&(gd.set(s,t),Wd.set(t,s)),t}const pd=s=>Wd.get(s);function ES(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=qr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(qr(d.result),y.oldVersion,y.newVersion,qr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const TS=["get","getKey","getAll","getAllKeys","count"],AS=["put","add","delete","clear"],yd=new Map;function E_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(yd.get(t))return yd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=AS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||TS.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let v=y.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&y.done]))[0]};return yd.set(t,c),c}yS(s=>({...s,get:(t,i,a)=>E_(t,i)||s.get(t,i,a),has:(t,i)=>!!E_(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(bS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function bS(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Id="@firebase/app",T_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new Zd("@firebase/app"),wS="@firebase/app-compat",RS="@firebase/analytics-compat",IS="@firebase/analytics",CS="@firebase/app-check-compat",DS="@firebase/app-check",NS="@firebase/auth",OS="@firebase/auth-compat",MS="@firebase/database",VS="@firebase/data-connect",xS="@firebase/database-compat",US="@firebase/functions",kS="@firebase/functions-compat",LS="@firebase/installations",PS="@firebase/installations-compat",zS="@firebase/messaging",jS="@firebase/messaging-compat",BS="@firebase/performance",qS="@firebase/performance-compat",HS="@firebase/remote-config",FS="@firebase/remote-config-compat",GS="@firebase/storage",QS="@firebase/storage-compat",KS="@firebase/firestore",YS="@firebase/vertexai-preview",XS="@firebase/firestore-compat",$S="firebase",JS="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="[DEFAULT]",ZS={[Id]:"fire-core",[wS]:"fire-core-compat",[IS]:"fire-analytics",[RS]:"fire-analytics-compat",[DS]:"fire-app-check",[CS]:"fire-app-check-compat",[NS]:"fire-auth",[OS]:"fire-auth-compat",[MS]:"fire-rtdb",[VS]:"fire-data-connect",[xS]:"fire-rtdb-compat",[US]:"fire-fn",[kS]:"fire-fn-compat",[LS]:"fire-iid",[PS]:"fire-iid-compat",[zS]:"fire-fcm",[jS]:"fire-fcm-compat",[BS]:"fire-perf",[qS]:"fire-perf-compat",[HS]:"fire-rc",[FS]:"fire-rc-compat",[GS]:"fire-gcs",[QS]:"fire-gcs-compat",[KS]:"fire-fst",[XS]:"fire-fst-compat",[YS]:"fire-vertex","fire-js":"fire-js",[$S]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Map,WS=new Map,Dd=new Map;function A_(s,t){try{s.container.addComponent(t)}catch(i){qi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function ka(s){const t=s.name;if(Dd.has(t))return qi.debug(`There were multiple attempts to register component ${t}.`),!1;Dd.set(t,s);for(const i of bc.values())A_(i,s);for(const i of WS.values())A_(i,s);return!0}function tm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Li(s){return s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new vl("app","Firebase",tb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=JS;function jv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Cd,automaticDataCollectionEnabled:!1},t),l=a.name;if(typeof l!="string"||!l)throw Hr.create("bad-app-name",{appName:String(l)});if(i||(i=kv()),!i)throw Hr.create("no-options");const c=bc.get(l);if(c){if(Sc(i,c.options)&&Sc(a,c.config))return c;throw Hr.create("duplicate-app",{appName:l})}const d=new oS(l);for(const y of Dd.values())d.addComponent(y);const g=new eb(i,a,d);return bc.set(l,g),g}function Bv(s=Cd){const t=bc.get(s);if(!t&&s===Cd&&kv())return jv();if(!t)throw Hr.create("no-app",{appName:s});return t}function Fr(s,t,i){var a;let l=(a=ZS[s])!==null&&a!==void 0?a:s;i&&(l+=`-${i}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qi.warn(g.join(" "));return}ka(new Os(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="firebase-heartbeat-database",ib=1,hl="firebase-heartbeat-store";let _d=null;function qv(){return _d||(_d=ES(nb,ib,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(hl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Hr.create("idb-open",{originalErrorMessage:s.message})})),_d}async function rb(s){try{const i=(await qv()).transaction(hl),a=await i.objectStore(hl).get(Hv(s));return await i.done,a}catch(t){if(t instanceof Ki)qi.warn(t.message);else{const i=Hr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});qi.warn(i.message)}}}async function S_(s,t){try{const a=(await qv()).transaction(hl,"readwrite");await a.objectStore(hl).put(t,Hv(s)),await a.done}catch(i){if(i instanceof Ki)qi.warn(i.message);else{const a=Hr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});qi.warn(a.message)}}}function Hv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=1024,ab=720*60*60*1e3;class ob{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ub(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=b_();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const g=new Date(d.date).valueOf();return Date.now()-g<=ab}),this._storage.overwrite(this._heartbeatsCache))}catch(a){qi.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=b_(),{heartbeatsToSend:a,unsentEntries:l}=lb(this._heartbeatsCache.heartbeats),c=Ac(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return qi.warn(i),""}}}function b_(){return new Date().toISOString().substring(0,10)}function lb(s,t=sb){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),w_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),w_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class ub{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XA()?$A().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await rb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return S_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return S_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function w_(s){return Ac(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(s){ka(new Os("platform-logger",t=>new SS(t),"PRIVATE")),ka(new Os("heartbeat",t=>new ob(t),"PRIVATE")),Fr(Id,T_,s),Fr(Id,T_,"esm2017"),Fr("fire-js","")}cb("");var hb="firebase",fb="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr(hb,fb,"app");function em(s,t){var i={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&t.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(i[a[l]]=s[a[l]]);return i}function Fv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const db=Fv,Gv=new vl("auth","Firebase",Fv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Zd("@firebase/auth");function mb(s,...t){wc.logLevel<=kt.WARN&&wc.warn(`Auth (${Ga}): ${s}`,...t)}function fc(s,...t){wc.logLevel<=kt.ERROR&&wc.error(`Auth (${Ga}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(s,...t){throw nm(s,...t)}function si(s,...t){return nm(s,...t)}function Qv(s,t,i){const a=Object.assign(Object.assign({},db()),{[t]:i});return new vl("auth","Firebase",a).create(t,{appName:s.name})}function Gr(s){return Qv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Gv.create(s,...t)}function pt(s,t,...i){if(!s)throw nm(t,...i)}function Pi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw fc(t),new Error(t)}function Fi(s,t){s||Pi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function gb(){return R_()==="http:"||R_()==="https:"}function R_(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gb()||GA()||"connection"in navigator)?navigator.onLine:!0}function yb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Fi(i>t,"Short delay should be less than long delay!"),this.isMobile=qA()||QA()}get(){return pb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(s,t){Fi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=new Tl(3e4,6e4);function jc(s,t){return s.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:s.tenantId}):t}async function Qa(s,t,i,a,l={}){return Yv(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=El(Object.assign({key:s.config.apiKey},d)).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const v=Object.assign({method:t,headers:y},c);return FA()||(v.referrerPolicy="no-referrer"),Kv.fetch()($v(s,s.config.apiHost,i,g),v)})}async function Yv(s,t,i){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},_b),t);try{const l=new Eb(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw ac(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,v]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw ac(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw ac(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw ac(s,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Qv(s,A,v);Hi(s,A)}}catch(l){if(l instanceof Ki)throw l;Hi(s,"network-request-failed",{message:String(l)})}}async function Xv(s,t,i,a,l={}){const c=await Qa(s,t,i,a,l);return"mfaPendingCredential"in c&&Hi(s,"multi-factor-auth-required",{_serverResponse:c}),c}function $v(s,t,i,a){const l=`${t}${i}?${a}`;return s.config.emulator?im(s.config,l):`${s.config.apiScheme}://${l}`}class Eb{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(si(this.auth,"network-request-failed")),vb.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ac(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=si(s,t,a);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tb(s,t){return Qa(s,"POST","/v1/accounts:delete",t)}async function Jv(s,t){return Qa(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Ab(s,t=!1){const i=Me(s),a=await i.getIdToken(t),l=rm(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:a,authTime:al(vd(l.auth_time)),issuedAtTime:al(vd(l.iat)),expirationTime:al(vd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function vd(s){return Number(s)*1e3}function rm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return fc("JWT malformed, contained fewer than 3 sections"),null;try{const l=xv(i);return l?JSON.parse(l):(fc("Failed to decode base64 JWT payload"),null)}catch(l){return fc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function I_(s){const t=rm(s);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Ki&&Sb(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Sb({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=al(this.lastLoginAt),this.creationTime=al(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(s){var t;const i=s.auth,a=await s.getIdToken(),l=await fl(s,Jv(i,{idToken:a}));pt(l==null?void 0:l.users.length,i,"internal-error");const c=l.users[0];s._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?Zv(c.providerUserInfo):[],g=Rb(s.providerData,d),y=s.isAnonymous,v=!(s.email&&c.passwordHash)&&!(g!=null&&g.length),A=y?v:!1,b={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Od(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(s,b)}async function wb(s){const t=Me(s);await Rc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Rb(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Zv(s){return s.map(t=>{var{providerId:i}=t,a=em(t,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ib(s,t){const i=await Yv(s,{},async()=>{const a=El({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=$v(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",Kv.fetch()(d,{method:"POST",headers:g,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Cb(s,t){return Qa(s,"POST","/v2/accounts:revokeToken",jc(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):I_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=I_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Ib(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ma;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ma,this.toJSON())}_performRefresh(){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(s,t){pt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class zi{constructor(t){var{uid:i,auth:a,stsTokenManager:l}=t,c=em(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Od(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await fl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Ab(this,t)}reload(){return wb(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new zi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Rc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Li(this.auth.app))return Promise.reject(Gr(this.auth));const t=await this.getIdToken();return await fl(this,Tb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var a,l,c,d,g,y,v,A;const b=(a=i.displayName)!==null&&a!==void 0?a:void 0,x=(l=i.email)!==null&&l!==void 0?l:void 0,F=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,tt=(d=i.photoURL)!==null&&d!==void 0?d:void 0,nt=(g=i.tenantId)!==null&&g!==void 0?g:void 0,$=(y=i._redirectEventId)!==null&&y!==void 0?y:void 0,ht=(v=i.createdAt)!==null&&v!==void 0?v:void 0,_t=(A=i.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:ut,emailVerified:Ct,isAnonymous:Kt,providerData:bt,stsTokenManager:C}=i;pt(ut&&C,t,"internal-error");const S=Ma.fromJSON(this.name,C);pt(typeof ut=="string",t,"internal-error"),kr(b,t.name),kr(x,t.name),pt(typeof Ct=="boolean",t,"internal-error"),pt(typeof Kt=="boolean",t,"internal-error"),kr(F,t.name),kr(tt,t.name),kr(nt,t.name),kr($,t.name),kr(ht,t.name),kr(_t,t.name);const w=new zi({uid:ut,auth:t,email:x,emailVerified:Ct,displayName:b,isAnonymous:Kt,photoURL:tt,phoneNumber:F,tenantId:nt,stsTokenManager:S,createdAt:ht,lastLoginAt:_t});return bt&&Array.isArray(bt)&&(w.providerData=bt.map(O=>Object.assign({},O))),$&&(w._redirectEventId=$),w}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ma;l.updateFromServerResponse(i);const c=new zi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Rc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Zv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Ma;g.updateFromIdToken(a);const y=new zi({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Od(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(y,v),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=new Map;function ji(s){Fi(s instanceof Function,"Expected a class definition");let t=C_.get(s);return t?(Fi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,C_.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Wv.type="NONE";const Md=Wv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(s,t,i){return`firebase:${s}:${t}:${i}`}class Va{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=dc(this.userKey,l.apiKey,c),this.fullPersistenceKey=dc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?zi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Va(ji(Md),t,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||ji(Md);const d=dc(a,t.config.apiKey,t.name);let g=null;for(const v of i)try{const A=await v._get(d);if(A){const b=zi._fromJSON(t,A);v!==c&&(g=b),c=v;break}}catch{}const y=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Va(c,t,a):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Va(c,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(i0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(t0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(s0(t))return"Blackberry";if(a0(t))return"Webos";if(e0(t))return"Safari";if((t.includes("chrome/")||n0(t))&&!t.includes("edge/"))return"Chrome";if(r0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function t0(s=Je()){return/firefox\//i.test(s)}function e0(s=Je()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function n0(s=Je()){return/crios\//i.test(s)}function i0(s=Je()){return/iemobile/i.test(s)}function r0(s=Je()){return/android/i.test(s)}function s0(s=Je()){return/blackberry/i.test(s)}function a0(s=Je()){return/webos/i.test(s)}function sm(s=Je()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Db(s=Je()){var t;return sm(s)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Nb(){return KA()&&document.documentMode===10}function o0(s=Je()){return sm(s)||r0(s)||a0(s)||s0(s)||/windows phone/i.test(s)||i0(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(s,t=[]){let i;switch(s){case"Browser":i=D_(Je());break;case"Worker":i=`${D_(Je())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ga}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const y=t(c);d(y)}catch(y){g(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mb(s,t={}){return Qa(s,"GET","/v2/passwordPolicy",jc(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=6;class xb{constructor(t){var i,a,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:Vb,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,a,l,c,d,g;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,y),this.validatePasswordCharacterOptions(t,y),y.isValid&&(y.isValid=(i=y.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),y.isValid&&(y.isValid=(a=y.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),y.isValid&&(y.isValid=(l=y.containsLowercaseLetter)!==null&&l!==void 0?l:!0),y.isValid&&(y.isValid=(c=y.containsUppercaseLetter)!==null&&c!==void 0?c:!0),y.isValid&&(y.isValid=(d=y.containsNumericCharacter)!==null&&d!==void 0?d:!0),y.isValid&&(y.isValid=(g=y.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),y}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N_(this),this.idTokenSubscription=new N_(this),this.beforeStateQueue=new Ob(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ji(i)),this._initializationPromise=this.queue(async()=>{var a,l;if(!this._deleted&&(this.persistenceManager=await Va.create(this,t),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Jv(this,{idToken:t}),a=await zi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(Li(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,y=await this.tryRedirectSignIn(t);(!d||d===g)&&(y!=null&&y.user)&&(l=y.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Rc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=yb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Li(this.app))return Promise.reject(Gr(this));const i=t?Me(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Li(this.app)?Promise.reject(Gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Li(this.app)?Promise.reject(Gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Mb(this),i=new xb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new vl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Cb(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ji(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Va.create(this,[ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=l0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&mb(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Bc(s){return Me(s)}class N_{constructor(t){this.auth=t,this.observer=null,this.addObserver=eS(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let am={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kb(s){am=s}function Lb(s){return am.loadJS(s)}function Pb(){return am.gapiScript}function zb(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(s,t){const i=tm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Sc(c,t??{}))return l;Hi(l,"already-initialized")}return i.initialize({options:t})}function Bb(s,t){const i=(t==null?void 0:t.persistence)||[],a=(Array.isArray(i)?i:[i]).map(ji);t!=null&&t.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function qb(s,t,i){const a=Bc(s);pt(a._canInitEmulator,a,"emulator-config-failed"),pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=u0(t),{host:d,port:g}=Hb(t),y=g===null?"":`:${g}`;a.config.emulator={url:`${c}//${d}${y}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})}),Fb()}function u0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Hb(s){const t=u0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:O_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:O_(d)}}}function O_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Fb(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Pi("not implemented")}_getIdTokenResponse(t){return Pi("not implemented")}_linkToIdToken(t,i){return Pi("not implemented")}_getReauthenticationResolver(t){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(s,t){return Xv(s,"POST","/v1/accounts:signInWithIdp",jc(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="http://localhost";class Ms extends c0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ms(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Hi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l}=i,c=em(i,["providerId","signInMethod"]);if(!a||!l)return null;const d=new Ms(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return xa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,xa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,xa(t,i)}buildRequest(){const t={requestUri:Gb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=El(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends h0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Al{constructor(){super("facebook.com")}static credential(t){return Ms._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Lr.credential(t.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Al{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ms._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Pr.credential(i,a)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Al{constructor(){super("github.com")}static credential(t){return Ms._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zr.credential(t.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Al{constructor(){super("twitter.com")}static credential(t,i){return Ms._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return jr.credential(i,a)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await zi._fromIdTokenResponse(t,a,l),d=M_(a);return new Vs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=M_(a);return new Vs({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function M_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends Ki{constructor(t,i,a,l){var c;super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Ic.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Ic(t,i,a,l)}}function f0(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ic._fromErrorAndOperation(s,c,t,a):c})}async function Qb(s,t,i=!1){const a=await fl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Vs._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kb(s,t,i=!1){const{auth:a}=s;if(Li(a.app))return Promise.reject(Gr(a));const l="reauthenticate";try{const c=await fl(s,f0(a,l,t,s),i);pt(c.idToken,a,"internal-error");const d=rm(c.idToken);pt(d,a,"internal-error");const{sub:g}=d;return pt(s.uid===g,a,"user-mismatch"),Vs._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Hi(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yb(s,t,i=!1){if(Li(s.app))return Promise.reject(Gr(s));const a="signIn",l=await f0(s,a,t),c=await Vs._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(s,t){return Xv(s,"POST","/v1/accounts:signInWithCustomToken",jc(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $b(s,t){if(Li(s.app))return Promise.reject(Gr(s));const i=Bc(s),a=await Xb(i,{token:t,returnSecureToken:!0}),l=await Vs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(s,t){return Me(s).setPersistence(t)}function Zb(s,t,i,a){return Me(s).onIdTokenChanged(t,i,a)}function Wb(s,t,i){return Me(s).beforeAuthStateChanged(t,i)}function tw(s,t,i,a){return Me(s).onAuthStateChanged(t,i,a)}const Cc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Cc,"1"),this.storage.removeItem(Cc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=1e3,nw=10;class m0 extends d0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=o0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Nb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,nw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},ew)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}m0.type="LOCAL";const iw=m0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0 extends d0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}g0.type="SESSION";const p0=g0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new qc(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,c)),y=await rw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const v=om("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const x=b;if(x.data.eventId===v)switch(x.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(x.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function aw(s){ai().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function ow(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lw(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function uw(){return y0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="firebaseLocalStorageDb",cw=1,Dc="firebaseLocalStorage",v0="fbase_key";class Sl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Hc(s,t){return s.transaction([Dc],t?"readwrite":"readonly").objectStore(Dc)}function hw(){const s=indexedDB.deleteDatabase(_0);return new Sl(s).toPromise()}function Vd(){const s=indexedDB.open(_0,cw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Dc,{keyPath:v0})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Dc)?t(a):(a.close(),await hw(),t(await Vd()))})})}async function V_(s,t,i){const a=Hc(s,!0).put({[v0]:t,value:i});return new Sl(a).toPromise()}async function fw(s,t){const i=Hc(s,!1).get(t),a=await new Sl(i).toPromise();return a===void 0?null:a.value}function x_(s,t){const i=Hc(s,!0).delete(t);return new Sl(i).toPromise()}const dw=800,mw=3;class E0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>mw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return y0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qc._getInstance(uw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await ow(),!this.activeServiceWorker)return;this.sender=new sw(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||lw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Vd();return await V_(t,Cc,"1"),await x_(t,Cc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>V_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>fw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>x_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Hc(l,!1).getAll();return new Sl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E0.type="LOCAL";const gw=E0;new Tl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(s,t){return t?ji(t):(pt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm extends c0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return xa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return xa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function yw(s){return Yb(s.auth,new lm(s),s.bypassAuthState)}function _w(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),Kb(i,new lm(s),s.bypassAuthState)}async function vw(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),Qb(i,new lm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return yw;case"linkViaPopup":case"linkViaRedirect":return vw;case"reauthViaPopup":case"reauthViaRedirect":return _w;default:Hi(this.auth,"internal-error")}}resolve(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=new Tl(2e3,1e4);class Oa extends T0{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Oa.currentPopupAction&&Oa.currentPopupAction.cancel(),Oa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const t=om();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Ew.get())};t()}}Oa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="pendingRedirect",mc=new Map;class Aw extends T0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=mc.get(this.auth._key());if(!t){try{const a=await Sw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}mc.set(this.auth._key(),t)}return this.bypassAuthState||mc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Sw(s,t){const i=Rw(t),a=ww(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function bw(s,t){mc.set(s._key(),t)}function ww(s){return ji(s._redirectPersistence)}function Rw(s){return dc(Tw,s.config.apiKey,s.name)}async function Iw(s,t,i=!1){if(Li(s.app))return Promise.reject(Gr(s));const a=Bc(s),l=pw(a,t),d=await new Aw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=600*1e3;class Dw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Nw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var a;if(t.error&&!A0(t)){const l=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(si(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Cw&&this.cachedEventUids.clear(),this.cachedEventUids.has(U_(t))}saveEventToCache(t){this.cachedEventUids.add(U_(t)),this.lastProcessedEventTime=Date.now()}}function U_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function A0({type:s,error:t}){return s==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Nw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A0(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ow(s,t={}){return Qa(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vw=/^https?/;async function xw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Ow(s);for(const i of t)try{if(Uw(i))return}catch{}Hi(s,"unauthorized-domain")}function Uw(s){const t=Nd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Vw.test(i))return!1;if(Mw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=new Tl(3e4,6e4);function k_(){const s=ai().___jsl;if(s!=null&&s.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function Lw(s){return new Promise((t,i)=>{var a,l,c;function d(){k_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{k_(),i(si(s,"network-request-failed"))},timeout:kw.get()})}if(!((l=(a=ai().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=ai().gapi)===null||c===void 0)&&c.load)d();else{const g=zb("iframefcb");return ai()[g]=()=>{gapi.load?d():i(si(s,"network-request-failed"))},Lb(`${Pb()}?onload=${g}`).catch(y=>i(y))}}).catch(t=>{throw gc=null,t})}let gc=null;function Pw(s){return gc=gc||Lw(s),gc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=new Tl(5e3,15e3),jw="__/auth/iframe",Bw="emulator/auth/iframe",qw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fw(s){const t=s.config;pt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?im(t,Bw):`https://${s.config.authDomain}/${jw}`,a={apiKey:t.apiKey,appName:s.name,v:Ga},l=Hw.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${El(a).slice(1)}`}async function Gw(s){const t=await Pw(s),i=ai().gapi;return pt(i,s,"internal-error"),t.open({where:document.body,url:Fw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=si(s,"network-request-failed"),g=ai().setTimeout(()=>{c(d)},zw.get());function y(){ai().clearTimeout(g),l(a)}a.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kw=500,Yw=600,Xw="_blank",$w="http://localhost";class L_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Jw(s,t,i,a=Kw,l=Yw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y=Object.assign(Object.assign({},Qw),{width:a.toString(),height:l.toString(),top:c,left:d}),v=Je().toLowerCase();i&&(g=n0(v)?Xw:i),t0(v)&&(t=t||$w,y.scrollbars="yes");const A=Object.entries(y).reduce((x,[F,tt])=>`${x}${F}=${tt},`,"");if(Db(v)&&g!=="_self")return Zw(t||"",g),new L_(null);const b=window.open(t||"",g,A);pt(b,s,"popup-blocked");try{b.focus()}catch{}return new L_(b)}function Zw(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="__/auth/handler",t1="emulator/auth/handler",e1=encodeURIComponent("fac");async function P_(s,t,i,a,l,c){pt(s.config.authDomain,s,"auth-domain-config-required"),pt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Ga,eventId:l};if(t instanceof h0){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",tS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof Al){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const y=await s._getAppCheckToken(),v=y?`#${e1}=${encodeURIComponent(y)}`:"";return`${n1(s)}?${El(g).slice(1)}${v}`}function n1({config:s}){return s.emulator?im(s,t1):`https://${s.authDomain}/${Ww}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="webStorageSupport";class i1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p0,this._completeRedirectFn=Iw,this._overrideRedirectResult=bw}async _openPopup(t,i,a,l){var c;Fi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await P_(t,i,a,Nd(),l);return Jw(t,d,om())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await P_(t,i,a,Nd(),l);return aw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Fi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Gw(t),a=new Dw(t);return i.register("authEvent",l=>(pt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ed,{type:Ed},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Ed];d!==void 0&&i(!!d),Hi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=xw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return o0()||e0()||sm()}}const r1=i1;var z_="@firebase/auth",j_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function o1(s){ka(new Os("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l0(s)},v=new Ub(a,l,c,y);return Bb(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),ka(new Os("auth-internal",t=>{const i=Bc(t.getProvider("auth").getImmediate());return(a=>new s1(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(z_,j_,a1(s)),Fr(z_,j_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=300,u1=Lv("authIdTokenMaxAge")||l1;let B_=null;const c1=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>u1)return;const l=i==null?void 0:i.token;B_!==l&&(B_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function h1(s=Bv()){const t=tm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=jb(s,{popupRedirectResolver:r1,persistence:[gw,iw,p0]}),a=Lv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=c1(c.toString());Wb(i,d,()=>d(i.currentUser)),Zb(i,g=>d(g))}}const l=Uv("auth");return l&&qb(i,`http://${l}`),i}function f1(){var s,t;return(t=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&t!==void 0?t:document}kb({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=si("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",f1().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});o1("Browser");var q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ds,S0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,S){function w(){}w.prototype=S.prototype,C.D=S.prototype,C.prototype=new w,C.prototype.constructor=C,C.C=function(O,M,U){for(var I=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)I[ue-2]=arguments[ue];return S.prototype[M].apply(O,I)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,w){w||(w=0);var O=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)O[M]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(M=0;16>M;++M)O[M]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=C.g[0],w=C.g[1],M=C.g[2];var U=C.g[3],I=S+(U^w&(M^U))+O[0]+3614090360&4294967295;S=w+(I<<7&4294967295|I>>>25),I=U+(M^S&(w^M))+O[1]+3905402710&4294967295,U=S+(I<<12&4294967295|I>>>20),I=M+(w^U&(S^w))+O[2]+606105819&4294967295,M=U+(I<<17&4294967295|I>>>15),I=w+(S^M&(U^S))+O[3]+3250441966&4294967295,w=M+(I<<22&4294967295|I>>>10),I=S+(U^w&(M^U))+O[4]+4118548399&4294967295,S=w+(I<<7&4294967295|I>>>25),I=U+(M^S&(w^M))+O[5]+1200080426&4294967295,U=S+(I<<12&4294967295|I>>>20),I=M+(w^U&(S^w))+O[6]+2821735955&4294967295,M=U+(I<<17&4294967295|I>>>15),I=w+(S^M&(U^S))+O[7]+4249261313&4294967295,w=M+(I<<22&4294967295|I>>>10),I=S+(U^w&(M^U))+O[8]+1770035416&4294967295,S=w+(I<<7&4294967295|I>>>25),I=U+(M^S&(w^M))+O[9]+2336552879&4294967295,U=S+(I<<12&4294967295|I>>>20),I=M+(w^U&(S^w))+O[10]+4294925233&4294967295,M=U+(I<<17&4294967295|I>>>15),I=w+(S^M&(U^S))+O[11]+2304563134&4294967295,w=M+(I<<22&4294967295|I>>>10),I=S+(U^w&(M^U))+O[12]+1804603682&4294967295,S=w+(I<<7&4294967295|I>>>25),I=U+(M^S&(w^M))+O[13]+4254626195&4294967295,U=S+(I<<12&4294967295|I>>>20),I=M+(w^U&(S^w))+O[14]+2792965006&4294967295,M=U+(I<<17&4294967295|I>>>15),I=w+(S^M&(U^S))+O[15]+1236535329&4294967295,w=M+(I<<22&4294967295|I>>>10),I=S+(M^U&(w^M))+O[1]+4129170786&4294967295,S=w+(I<<5&4294967295|I>>>27),I=U+(w^M&(S^w))+O[6]+3225465664&4294967295,U=S+(I<<9&4294967295|I>>>23),I=M+(S^w&(U^S))+O[11]+643717713&4294967295,M=U+(I<<14&4294967295|I>>>18),I=w+(U^S&(M^U))+O[0]+3921069994&4294967295,w=M+(I<<20&4294967295|I>>>12),I=S+(M^U&(w^M))+O[5]+3593408605&4294967295,S=w+(I<<5&4294967295|I>>>27),I=U+(w^M&(S^w))+O[10]+38016083&4294967295,U=S+(I<<9&4294967295|I>>>23),I=M+(S^w&(U^S))+O[15]+3634488961&4294967295,M=U+(I<<14&4294967295|I>>>18),I=w+(U^S&(M^U))+O[4]+3889429448&4294967295,w=M+(I<<20&4294967295|I>>>12),I=S+(M^U&(w^M))+O[9]+568446438&4294967295,S=w+(I<<5&4294967295|I>>>27),I=U+(w^M&(S^w))+O[14]+3275163606&4294967295,U=S+(I<<9&4294967295|I>>>23),I=M+(S^w&(U^S))+O[3]+4107603335&4294967295,M=U+(I<<14&4294967295|I>>>18),I=w+(U^S&(M^U))+O[8]+1163531501&4294967295,w=M+(I<<20&4294967295|I>>>12),I=S+(M^U&(w^M))+O[13]+2850285829&4294967295,S=w+(I<<5&4294967295|I>>>27),I=U+(w^M&(S^w))+O[2]+4243563512&4294967295,U=S+(I<<9&4294967295|I>>>23),I=M+(S^w&(U^S))+O[7]+1735328473&4294967295,M=U+(I<<14&4294967295|I>>>18),I=w+(U^S&(M^U))+O[12]+2368359562&4294967295,w=M+(I<<20&4294967295|I>>>12),I=S+(w^M^U)+O[5]+4294588738&4294967295,S=w+(I<<4&4294967295|I>>>28),I=U+(S^w^M)+O[8]+2272392833&4294967295,U=S+(I<<11&4294967295|I>>>21),I=M+(U^S^w)+O[11]+1839030562&4294967295,M=U+(I<<16&4294967295|I>>>16),I=w+(M^U^S)+O[14]+4259657740&4294967295,w=M+(I<<23&4294967295|I>>>9),I=S+(w^M^U)+O[1]+2763975236&4294967295,S=w+(I<<4&4294967295|I>>>28),I=U+(S^w^M)+O[4]+1272893353&4294967295,U=S+(I<<11&4294967295|I>>>21),I=M+(U^S^w)+O[7]+4139469664&4294967295,M=U+(I<<16&4294967295|I>>>16),I=w+(M^U^S)+O[10]+3200236656&4294967295,w=M+(I<<23&4294967295|I>>>9),I=S+(w^M^U)+O[13]+681279174&4294967295,S=w+(I<<4&4294967295|I>>>28),I=U+(S^w^M)+O[0]+3936430074&4294967295,U=S+(I<<11&4294967295|I>>>21),I=M+(U^S^w)+O[3]+3572445317&4294967295,M=U+(I<<16&4294967295|I>>>16),I=w+(M^U^S)+O[6]+76029189&4294967295,w=M+(I<<23&4294967295|I>>>9),I=S+(w^M^U)+O[9]+3654602809&4294967295,S=w+(I<<4&4294967295|I>>>28),I=U+(S^w^M)+O[12]+3873151461&4294967295,U=S+(I<<11&4294967295|I>>>21),I=M+(U^S^w)+O[15]+530742520&4294967295,M=U+(I<<16&4294967295|I>>>16),I=w+(M^U^S)+O[2]+3299628645&4294967295,w=M+(I<<23&4294967295|I>>>9),I=S+(M^(w|~U))+O[0]+4096336452&4294967295,S=w+(I<<6&4294967295|I>>>26),I=U+(w^(S|~M))+O[7]+1126891415&4294967295,U=S+(I<<10&4294967295|I>>>22),I=M+(S^(U|~w))+O[14]+2878612391&4294967295,M=U+(I<<15&4294967295|I>>>17),I=w+(U^(M|~S))+O[5]+4237533241&4294967295,w=M+(I<<21&4294967295|I>>>11),I=S+(M^(w|~U))+O[12]+1700485571&4294967295,S=w+(I<<6&4294967295|I>>>26),I=U+(w^(S|~M))+O[3]+2399980690&4294967295,U=S+(I<<10&4294967295|I>>>22),I=M+(S^(U|~w))+O[10]+4293915773&4294967295,M=U+(I<<15&4294967295|I>>>17),I=w+(U^(M|~S))+O[1]+2240044497&4294967295,w=M+(I<<21&4294967295|I>>>11),I=S+(M^(w|~U))+O[8]+1873313359&4294967295,S=w+(I<<6&4294967295|I>>>26),I=U+(w^(S|~M))+O[15]+4264355552&4294967295,U=S+(I<<10&4294967295|I>>>22),I=M+(S^(U|~w))+O[6]+2734768916&4294967295,M=U+(I<<15&4294967295|I>>>17),I=w+(U^(M|~S))+O[13]+1309151649&4294967295,w=M+(I<<21&4294967295|I>>>11),I=S+(M^(w|~U))+O[4]+4149444226&4294967295,S=w+(I<<6&4294967295|I>>>26),I=U+(w^(S|~M))+O[11]+3174756917&4294967295,U=S+(I<<10&4294967295|I>>>22),I=M+(S^(U|~w))+O[2]+718787259&4294967295,M=U+(I<<15&4294967295|I>>>17),I=w+(U^(M|~S))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var w=S-this.blockSize,O=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=w;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<S;)if(O[M++]=C.charCodeAt(U++),M==this.blockSize){l(this,O),M=0;break}}else for(;U<S;)if(O[M++]=C[U++],M==this.blockSize){l(this,O),M=0;break}}this.h=M,this.o+=S},a.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var w=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=w&255,w/=256;for(this.u(C),C=Array(16),S=w=0;4>S;++S)for(var O=0;32>O;O+=8)C[w++]=this.g[S]>>>O&255;return C};function c(C,S){var w=g;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=S(C)}function d(C,S){this.h=S;for(var w=[],O=!0,M=C.length-1;0<=M;M--){var U=C[M]|0;O&&U==S||(w[M]=U,O=!1)}this.g=w}var g={};function y(C){return-128<=C&&128>C?c(C,function(S){return new d([S|0],0>S?-1:0)}):new d([C|0],0>C?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return b;if(0>C)return $(v(-C));for(var S=[],w=1,O=0;C>=w;O++)S[O]=C/w|0,w*=4294967296;return new d(S,0)}function A(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return $(A(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(S,8)),O=b,M=0;M<C.length;M+=8){var U=Math.min(8,C.length-M),I=parseInt(C.substring(M,M+U),S);8>U?(U=v(Math.pow(S,U)),O=O.j(U).add(v(I))):(O=O.j(w),O=O.add(v(I)))}return O}var b=y(0),x=y(1),F=y(16777216);s=d.prototype,s.m=function(){if(nt(this))return-$(this).m();for(var C=0,S=1,w=0;w<this.g.length;w++){var O=this.i(w);C+=(0<=O?O:4294967296+O)*S,S*=4294967296}return C},s.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(tt(this))return"0";if(nt(this))return"-"+$(this).toString(C);for(var S=v(Math.pow(C,6)),w=this,O="";;){var M=Ct(w,S).g;w=ht(w,M.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(C);if(w=M,tt(w))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},s.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function tt(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function nt(C){return C.h==-1}s.l=function(C){return C=ht(this,C),nt(C)?-1:tt(C)?0:1};function $(C){for(var S=C.g.length,w=[],O=0;O<S;O++)w[O]=~C.g[O];return new d(w,~C.h).add(x)}s.abs=function(){return nt(this)?$(this):this},s.add=function(C){for(var S=Math.max(this.g.length,C.g.length),w=[],O=0,M=0;M<=S;M++){var U=O+(this.i(M)&65535)+(C.i(M)&65535),I=(U>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);O=I>>>16,U&=65535,I&=65535,w[M]=I<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function ht(C,S){return C.add($(S))}s.j=function(C){if(tt(this)||tt(C))return b;if(nt(this))return nt(C)?$(this).j($(C)):$($(this).j(C));if(nt(C))return $(this.j($(C)));if(0>this.l(F)&&0>C.l(F))return v(this.m()*C.m());for(var S=this.g.length+C.g.length,w=[],O=0;O<2*S;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<C.g.length;M++){var U=this.i(O)>>>16,I=this.i(O)&65535,ue=C.i(M)>>>16,Ae=C.i(M)&65535;w[2*O+2*M]+=I*Ae,_t(w,2*O+2*M),w[2*O+2*M+1]+=U*Ae,_t(w,2*O+2*M+1),w[2*O+2*M+1]+=I*ue,_t(w,2*O+2*M+1),w[2*O+2*M+2]+=U*ue,_t(w,2*O+2*M+2)}for(O=0;O<S;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=S;O<2*S;O++)w[O]=0;return new d(w,0)};function _t(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function ut(C,S){this.g=C,this.h=S}function Ct(C,S){if(tt(S))throw Error("division by zero");if(tt(C))return new ut(b,b);if(nt(C))return S=Ct($(C),S),new ut($(S.g),$(S.h));if(nt(S))return S=Ct(C,$(S)),new ut($(S.g),S.h);if(30<C.g.length){if(nt(C)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=x,O=S;0>=O.l(C);)w=Kt(w),O=Kt(O);var M=bt(w,1),U=bt(O,1);for(O=bt(O,2),w=bt(w,2);!tt(O);){var I=U.add(O);0>=I.l(C)&&(M=M.add(w),U=I),O=bt(O,1),w=bt(w,1)}return S=ht(C,M.j(S)),new ut(M,S)}for(M=b;0<=C.l(S);){for(w=Math.max(1,Math.floor(C.m()/S.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=v(w),I=U.j(S);nt(I)||0<I.l(C);)w-=O,U=v(w),I=U.j(S);tt(U)&&(U=x),M=M.add(U),C=ht(C,I)}return new ut(M,C)}s.A=function(C){return Ct(this,C).h},s.and=function(C){for(var S=Math.max(this.g.length,C.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)&C.i(O);return new d(w,this.h&C.h)},s.or=function(C){for(var S=Math.max(this.g.length,C.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)|C.i(O);return new d(w,this.h|C.h)},s.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)^C.i(O);return new d(w,this.h^C.h)};function Kt(C){for(var S=C.g.length+1,w=[],O=0;O<S;O++)w[O]=C.i(O)<<1|C.i(O-1)>>>31;return new d(w,C.h)}function bt(C,S){var w=S>>5;S%=32;for(var O=C.g.length-w,M=[],U=0;U<O;U++)M[U]=0<S?C.i(U+w)>>>S|C.i(U+w+1)<<32-S:C.i(U+w);return new d(M,C.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,S0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Ds=d}).apply(typeof q_<"u"?q_:typeof self<"u"?self:typeof window<"u"?window:{});var oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var b0,nl,w0,pc,xd,R0,I0,C0;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof oc=="object"&&oc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in _))break t;_=_[k]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,T=!1,k={next:function(){if(!T&&_<u.length){var q=_++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,_){return u.call.apply(u.bind,arguments)}function b(u,m,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,T),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function x(u,m,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:b,x.apply(null,arguments)}function F(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function tt(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,k,q){for(var et=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)et[Ht-2]=arguments[Ht];return m.prototype[k].apply(T,et)}}function nt(u){const m=u.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function $(u,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(y(T)){const k=u.length||0,q=T.length||0;u.length=k+q;for(let et=0;et<q;et++)u[k+et]=T[et]}else u.push(T)}}class ht{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function _t(u){return/^[\s\xa0]*$/.test(u)}function ut(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Ct(u){return Ct[" "](u),u}Ct[" "]=function(){};var Kt=ut().indexOf("Gecko")!=-1&&!(ut().toLowerCase().indexOf("webkit")!=-1&&ut().indexOf("Edge")==-1)&&!(ut().indexOf("Trident")!=-1||ut().indexOf("MSIE")!=-1)&&ut().indexOf("Edge")==-1;function bt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function C(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function S(u){const m={};for(const _ in u)m[_]=u[_];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let _,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(_ in T)u[_]=T[_];for(let q=0;q<w.length;q++)_=w[q],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function M(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function U(u){g.setTimeout(()=>{throw u},0)}function I(){var u=ft;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ue{constructor(){this.h=this.g=null}add(m,_){const T=Ae.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var Ae=new ht(()=>new z,u=>u.reset());class z{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,rt=!1,ft=new ue,wt=()=>{const u=g.Promise.resolve(void 0);Y=()=>{u.then(D)}};var D=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(_){U(_)}var m=Ae;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}rt=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var it=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u})();function mt(u,m){if(X.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Kt){t:{try{Ct(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Rt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&mt.aa.h.call(this)}}tt(mt,X);var Rt={2:"touch",3:"pen",4:"mouse"};mt.prototype.h=function(){mt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function ie(u,m,_,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=k,this.key=++Ve,this.da=this.fa=!1}function Qn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ci(u){this.src=u,this.g={},this.h=0}ci.prototype.add=function(u,m,_,T,k){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var et=zs(u,m,T,k);return-1<et?(m=u[et],_||(m.fa=!1)):(m=new ie(m,this.src,q,!!T,k),m.fa=_,u.push(m)),m};function Jr(u,m){var _=m.type;if(_ in u.g){var T=u.g[_],k=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=k)&&Array.prototype.splice.call(T,k,1),q&&(Qn(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function zs(u,m,_,T){for(var k=0;k<u.length;++k){var q=u[k];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==T)return k}return-1}var kn="closure_lm_"+(1e6*Math.random()|0),Zr={};function js(u,m,_,T,k){if(Array.isArray(m)){for(var q=0;q<m.length;q++)js(u,m[q],_,T,k);return null}return _=Vl(_),u&&u[xt]?u.K(m,_,v(T)?!!T.capture:!1,k):rh(u,m,_,!1,T,k)}function rh(u,m,_,T,k,q){if(!m)throw Error("Invalid event type");var et=v(k)?!!k.capture:!!k,Ht=Ja(u);if(Ht||(u[kn]=Ht=new ci(u)),_=Ht.add(m,_,T,et,q),_.proxy)return _;if(T=Ml(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)it||(k=et),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(qs(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ml(){function u(_){return m.call(u.src,u.listener,_)}const m=sh;return u}function Bs(u,m,_,T,k){if(Array.isArray(m))for(var q=0;q<m.length;q++)Bs(u,m[q],_,T,k);else T=v(T)?!!T.capture:!!T,_=Vl(_),u&&u[xt]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],_=zs(q,_,T,k),-1<_&&(Qn(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ja(u))&&(m=u.g[m.toString()],u=-1,m&&(u=zs(m,_,T,k)),(_=-1<u?m[u]:null)&&Wr(_))}function Wr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[xt])Jr(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(qs(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=Ja(m))?(Jr(_,u),_.h==0&&(_.src=null,m[kn]=null)):Qn(u)}}}function qs(u){return u in Zr?Zr[u]:Zr[u]="on"+u}function sh(u,m){if(u.da)u=!0;else{m=new mt(m,this);var _=u.listener,T=u.ha||u.src;u.fa&&Wr(u),u=_.call(T,m)}return u}function Ja(u){return u=u[kn],u instanceof ci?u:null}var xe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vl(u){return typeof u=="function"?u:(u[xe]||(u[xe]=function(m){return u.handleEvent(m)}),u[xe])}function Se(){H.call(this),this.i=new ci(this),this.M=this,this.F=null}tt(Se,H),Se.prototype[xt]=!0,Se.prototype.removeEventListener=function(u,m,_,T){Bs(this,u,m,_,T)};function Re(u,m){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new X(m,u);else if(m instanceof X)m.target=m.target||u;else{var k=m;m=new X(T,u),O(m,k)}if(k=!0,_)for(var q=_.length-1;0<=q;q--){var et=m.g=_[q];k=hi(et,T,!0,m)&&k}if(et=m.g=u,k=hi(et,T,!0,m)&&k,k=hi(et,T,!1,m)&&k,_)for(q=0;q<_.length;q++)et=m.g=_[q],k=hi(et,T,!1,m)&&k}Se.prototype.N=function(){if(Se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],T=0;T<_.length;T++)Qn(_[T]);delete u.g[m],u.h--}}this.F=null},Se.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},Se.prototype.L=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function hi(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,q=0;q<m.length;++q){var et=m[q];if(et&&!et.da&&et.capture==_){var Ht=et.listener,me=et.ha||et.src;et.fa&&Jr(u.i,et),k=Ht.call(me,T)!==!1&&k}}return k&&!T.defaultPrevented}function xl(u,m,_){if(typeof u=="function")_&&(u=x(u,_));else if(u&&typeof u.handleEvent=="function")u=x(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Za(u){u.g=xl(()=>{u.g=null,u.i&&(u.i=!1,Za(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ah extends H{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Za(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(u){H.call(this),this.h=u,this.g={}}tt(ts,H);var Yi=[];function Ge(u){bt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Wr(m)},u),u.g={}}ts.prototype.N=function(){ts.aa.N.call(this),Ge(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bn=g.JSON.stringify,Ze=g.JSON.parse,oh=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Wa(){}Wa.prototype.h=null;function Ul(u){return u.h||(u.h=u.i())}function es(){}var Kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xi(){X.call(this,"d")}tt(Xi,X);function Ln(){X.call(this,"c")}tt(Ln,X);var wn={},$i=null;function Hs(){return $i=$i||new Se}wn.La="serverreachability";function to(u){X.call(this,wn.La,u)}tt(to,X);function fi(u){const m=Hs();Re(m,new to(m))}wn.STAT_EVENT="statevent";function Ji(u,m){X.call(this,wn.STAT_EVENT,u),this.stat=m}tt(Ji,X);function Ue(u){const m=Hs();Re(m,new Ji(m,u))}wn.Ma="timingevent";function eo(u,m){X.call(this,wn.Ma,u),this.size=m}tt(eo,X);function Zi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Wi(){this.g=!0}Wi.prototype.xa=function(){this.g=!1};function no(u,m,_,T,k,q){u.info(function(){if(u.g)if(q)for(var et="",Ht=q.split("&"),me=0;me<Ht.length;me++){var It=Ht[me].split("=");if(1<It.length){var Ce=It[0];It=It[1];var De=Ce.split("_");et=2<=De.length&&De[1]=="type"?et+(Ce+"="+It+"&"):et+(Ce+"=redacted&")}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+_+`
`+et})}function io(u,m,_,T,k,q,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+_+`
`+q+" "+et})}function di(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Yn(u,_)+(T?" "+T:"")})}function kl(u,m){u.info(function(){return"TIMEOUT: "+m})}Wi.prototype.info=function(){};function Yn(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var k=T[1];if(Array.isArray(k)&&!(1>k.length)){var q=k[0];if(q!="noop"&&q!="stop"&&q!="close")for(var et=1;et<k.length;et++)k[et]=""}}}}return bn(_)}catch{return m}}var se={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ke={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function tr(){}tt(tr,Wa),tr.prototype.g=function(){return new XMLHttpRequest},tr.prototype.i=function(){return{}},Xn=new tr;function $n(u,m,_,T){this.j=u,this.i=m,this.l=_,this.R=T||1,this.U=new ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ll}function Ll(){this.i=null,this.g="",this.h=!1}var ro={},mi={};function ns(u,m,_){u.L=1,u.v=ss(ae(m)),u.m=_,u.P=!0,gi(u,null)}function gi(u,m){u.F=Date.now(),Pn(u),u.A=ae(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),_i(_.i,"t",T),u.C=0,_=u.j.J,u.h=new Ll,u.g=Wl(u.j,_?m:null,!u.m),0<u.O&&(u.M=new ah(x(u.Y,u,u.g),u.O)),m=u.U,_=u.g,T=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Yi[0]=k.toString()),k=Yi);for(var q=0;q<k.length;q++){var et=js(_,k[q],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),fi(),no(u.i,u.u,u.A,u.l,u.R,u.m)}$n.prototype.ca=function(u){u=u.target;const m=this.M;m&&en(u)==3?m.j():this.Y(u)},$n.prototype.Y=function(u){try{if(u==this.g)t:{const De=en(this.g);var m=this.g.Ba();const dr=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||ls(this.g)))){this.J||De!=4||m==7||(m==8||0>=dr?fi(3):fi(2)),Fs(this);var _=this.g.Z();this.X=_;e:if(pi(this)){var T=ls(this.g);u="";var k=T.length,q=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),er(this);var et="";break e}this.h.i=new g.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==k-1)});T.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=_==200,io(this.i,this.u,this.A,this.l,this.R,De,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ht,me=this.g;if((Ht=me.g?me.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_t(Ht)){var It=Ht;break e}}It=null}if(_=It)di(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jn(this,_);else{this.o=!1,this.s=3,Ue(12),We(this),er(this);break t}}if(this.P){_=!0;let on;for(;!this.J&&this.C<et.length;)if(on=is(this,et),on==mi){De==4&&(this.s=4,Ue(14),_=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(on==ro){this.s=4,Ue(15),di(this.i,this.l,et,"[Invalid Chunk]"),_=!1;break}else di(this.i,this.l,on,null),Jn(this,on);if(pi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||et.length!=0||this.h.h||(this.s=1,Ue(16),_=!1),this.o=this.o&&_,!_)di(this.i,this.l,et,"[Invalid Chunked Response]"),We(this),er(this);else if(0<et.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),po(Ce),Ce.M=!0,Ue(11))}}else di(this.i,this.l,et,null),Jn(this,et);De==4&&We(this),this.o&&!this.J&&(De==4?$l(this.j,this):(this.o=!1,Pn(this)))}else Fl(this.g),_==400&&0<et.indexOf("Unknown SID")?(this.s=3,Ue(12)):(this.s=0,Ue(13)),We(this),er(this)}}}catch{}finally{}};function pi(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function is(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?mi:(_=Number(m.substring(_,T)),isNaN(_)?ro:(T+=1,T+_>m.length?mi:(m=m.slice(T,T+_),u.C=T+_,m)))}$n.prototype.cancel=function(){this.J=!0,We(this)};function Pn(u){u.S=Date.now()+u.I,ce(u,u.I)}function ce(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Zi(x(u.ba,u),m)}function Fs(u){u.B&&(g.clearTimeout(u.B),u.B=null)}$n.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(kl(this.i,this.A),this.L!=2&&(fi(),Ue(17)),We(this),this.s=2,er(this)):ce(this,this.S-u)};function er(u){u.j.G==0||u.J||$l(u.j,u)}function We(u){Fs(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ge(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Jn(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||nr(_.h,u))){if(!u.K&&nr(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)hr(_),cr(_);else break t;go(_),Ue(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=Zi(x(_.Za,_),6e3));if(1>=Pl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ei(_,11)}else if((u.K||_.g==u)&&hr(_),!_t(m))for(k=_.Da.g.parse(m),m=0;m<k.length;m++){let It=k[m];if(_.T=It[0],It=It[1],_.G==2)if(It[0]=="c"){_.K=It[1],_.ia=It[2];const Ce=It[3];Ce!=null&&(_.la=Ce,_.j.info("VER="+_.la));const De=It[4];De!=null&&(_.Aa=De,_.j.info("SVER="+_.Aa));const dr=It[5];dr!=null&&typeof dr=="number"&&0<dr&&(T=1.5*dr,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const on=u.g;if(on){const hs=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hs){var q=T.h;q.g||hs.indexOf("spdy")==-1&&hs.indexOf("quic")==-1&&hs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(ir(q,q.h),q.h=null))}if(T.D){const Ti=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;Ti&&(T.ya=Ti,Pt(T.I,T.D,Ti))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var et=u;if(T.qa=Zl(T,T.J?T.ia:null,T.W),et.K){Rn(T.h,et);var Ht=et,me=T.L;me&&(Ht.I=me),Ht.B&&(Fs(Ht),Pn(Ht)),T.g=et}else Yl(T);0<_.i.length&&Zs(_)}else It[0]!="stop"&&It[0]!="close"||Ei(_,7);else _.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?Ei(_,7):fo(_):It[0]!="noop"&&_.l&&_.l.ta(It),_.v=0)}}fi(4)}catch{}}var lh=class{constructor(u,m){this.g=u,this.map=m}};function so(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ao(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Pl(u){return u.h?1:u.g?u.g.size:0}function nr(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ir(u,m){u.g?u.g.add(m):u.h=m}function Rn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}so.prototype.cancel=function(){if(this.i=tn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function tn(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return nt(u.i)}function zl(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],_=u.length,T=0;T<_;T++)m.push(u[T]);return m}m=[],_=0;for(T in u)m[_++]=u[T];return m}function uh(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const T in u)m[_++]=T;return m}}}function Gs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=uh(u),T=zl(u),k=T.length,q=0;q<k;q++)m.call(void 0,T[q],_&&_[q],u)}var oo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qs(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),k=null;if(0<=T){var q=u[_].substring(0,T);k=u[_].substring(T+1)}else q=u[_];m(q,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function yi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof yi){this.h=u.h,rr(this,u.j),this.o=u.o,this.g=u.g,rs(this,u.s),this.l=u.l;var m=u.i,_=new Zn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Ks(this,_),this.m=u.m}else u&&(m=String(u).match(oo))?(this.h=!1,rr(this,m[1]||"",!0),this.o=sr(m[2]||""),this.g=sr(m[3]||"",!0),rs(this,m[4]),this.l=sr(m[5]||"",!0),Ks(this,m[6]||"",!0),this.m=sr(m[7]||"")):(this.h=!1,this.i=new Zn(null,this.h))}yi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(In(m,lo,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(In(m,lo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(In(_,_.charAt(0)=="/"?uo:jl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",In(_,fh)),u.join("")};function ae(u){return new yi(u)}function rr(u,m,_){u.j=_?sr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rs(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ks(u,m,_){m instanceof Zn?(u.i=m,Bl(u.i,u.h)):(_||(m=In(m,hh)),u.i=new Zn(m,u.h))}function Pt(u,m,_){u.i.set(m,_)}function ss(u){return Pt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function sr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function In(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,ch),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ch(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var lo=/[#\/\?@]/g,jl=/[#\?:]/g,uo=/[#\?]/g,hh=/[#\?@]/g,fh=/#/g;function Zn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ie(u){u.g||(u.g=new Map,u.h=0,u.i&&Qs(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=Zn.prototype,s.add=function(u,m){Ie(this),this.i=null,u=mn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Ys(u,m){Ie(u),m=mn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Xs(u,m){return Ie(u),m=mn(u,m),u.g.has(m)}s.forEach=function(u,m){Ie(this),this.g.forEach(function(_,T){_.forEach(function(k){u.call(m,k,T,this)},this)},this)},s.na=function(){Ie(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const k=u[T];for(let q=0;q<k.length;q++)_.push(m[T])}return _},s.V=function(u){Ie(this);let m=[];if(typeof u=="string")Xs(this,u)&&(m=m.concat(this.g.get(mn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},s.set=function(u,m){return Ie(this),this.i=null,u=mn(this,u),Xs(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function _i(u,m,_){Ys(u,m),0<_.length&&(u.i=null,u.g.set(mn(u,m),nt(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const q=encodeURIComponent(String(T)),et=this.V(T);for(T=0;T<et.length;T++){var k=q;et[T]!==""&&(k+="="+encodeURIComponent(String(et[T]))),u.push(k)}}return this.i=u.join("&")};function mn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Bl(u,m){m&&!u.j&&(Ie(u),u.i=null,u.g.forEach(function(_,T){var k=T.toLowerCase();T!=k&&(Ys(this,T),_i(this,k,_))},u)),u.j=m}function co(u,m){const _=new Wi;if(g.Image){const T=new Image;T.onload=F(an,_,"TestLoadImage: loaded",!0,m,T),T.onerror=F(an,_,"TestLoadImage: error",!1,m,T),T.onabort=F(an,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=F(an,_,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function ql(u,m){const _=new Wi,T=new AbortController,k=setTimeout(()=>{T.abort(),an(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(k),q.ok?an(_,"TestPingServer: ok",!0,m):an(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),an(_,"TestPingServer: error",!1,m)})}function an(u,m,_,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(_)}catch{}}function zn(){this.g=new oh}function ho(u,m,_){const T=_||"";try{Gs(u,function(k,q){let et=k;v(k)&&(et=bn(k)),m.push(T+q+"="+encodeURIComponent(et))})}catch(k){throw m.push(T+"type="+encodeURIComponent("_badmap")),k}}function Wn(u){this.l=u.Ub||null,this.j=u.eb||!1}tt(Wn,Wa),Wn.prototype.g=function(){return new gn(this.l,this.j)},Wn.prototype.i=(function(u){return function(){return u}})({});function gn(u,m){Se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}tt(gn,Se),s=gn.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ar(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$s(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function $s(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ti(this):ar(this),this.readyState==3&&$s(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,ti(this))},s.Qa=function(u){this.g&&(this.response=u,ti(this))},s.ga=function(){this.g&&ti(this)};function ti(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ar(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function ar(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function as(u){let m="";return bt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function or(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=as(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Pt(u,m,_))}function Zt(u){Se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}tt(Zt,Se);var Qe=/^https?$/i,vi=["POST","PUT"];s=Zt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?Ul(this.o):Ul(Xn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){os(this,q);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)_.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())_.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),k=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(vi,m,void 0))||T||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of _)this.g.setRequestHeader(q,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Js(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){os(this,q)}};function os(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,lr(u),ur(u)}function lr(u){u.A||(u.A=!0,Re(u,"complete"),Re(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Re(this,"complete"),Re(this,"abort"),ur(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ur(this,!0)),Zt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Hl(this):this.bb())},s.bb=function(){Hl(this)};function Hl(u){if(u.h&&typeof d<"u"&&(!u.v[1]||en(u)!=4||u.Z()!=2)){if(u.u&&en(u)==4)xl(u.Ea,0,u);else if(Re(u,"readystatechange"),en(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=et===0){var k=String(u.D).match(oo)[1]||null;!k&&g.self&&g.self.location&&(k=g.self.location.protocol.slice(0,-1)),T=!Qe.test(k?k.toLowerCase():"")}_=T}if(_)Re(u,"complete"),Re(u,"success");else{u.m=6;try{var q=2<en(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",lr(u)}}finally{ur(u)}}}}function ur(u,m){if(u.g){Js(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Re(u,"ready");try{_.onreadystatechange=T}catch{}}}function Js(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function en(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ze(m)}};function ls(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fl(u){const m={};u=(u.g&&2<=en(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(_t(u[T]))continue;var _=M(u[T]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[k]||[];m[k]=q,q.push(_)}C(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function us(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Gl(u){this.Aa=0,this.i=[],this.j=new Wi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=us("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=us("baseRetryDelayMs",5e3,u),this.cb=us("retryDelaySeedMs",1e4,u),this.Wa=us("forwardChannelMaxRetries",2,u),this.wa=us("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new so(u&&u.concurrentRequestLimit),this.Da=new zn,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Gl.prototype,s.la=8,s.G=1,s.connect=function(u,m,_,T){Ue(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=Zl(this,null,this.W),Zs(this)};function fo(u){if(Ql(u),u.G==3){var m=u.U++,_=ae(u.I);if(Pt(_,"SID",u.K),Pt(_,"RID",m),Pt(_,"TYPE","terminate"),cs(u,_),m=new $n(u,u.j,m),m.L=2,m.v=ss(ae(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=Wl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Pn(m)}yo(u)}function cr(u){u.g&&(po(u),u.g.cancel(),u.g=null)}function Ql(u){cr(u),u.u&&(g.clearTimeout(u.u),u.u=null),hr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Zs(u){if(!ao(u.h)&&!u.s){u.s=!0;var m=u.Ga;Y||wt(),rt||(Y(),rt=!0),ft.add(m,u),u.B=0}}function dh(u,m){return Pl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Zi(x(u.Ga,u,m),Jl(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new $n(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(k.H=q,q=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=mo(this,k,m),_=ae(this.I),Pt(_,"RID",u),Pt(_,"CVER",22),this.D&&Pt(_,"X-HTTP-Session-Id",this.D),cs(this,_),q&&(this.O?m="headers="+encodeURIComponent(String(as(q)))+"&"+m:this.m&&or(_,this.m,q)),ir(this.h,k),this.Ua&&Pt(_,"TYPE","init"),this.P?(Pt(_,"$req",m),Pt(_,"SID","null"),k.T=!0,ns(k,_,null)):ns(k,_,m),this.G=2}}else this.G==3&&(u?Kl(this,u):this.i.length==0||ao(this.h)||Kl(this))};function Kl(u,m){var _;m?_=m.l:_=u.U++;const T=ae(u.I);Pt(T,"SID",u.K),Pt(T,"RID",_),Pt(T,"AID",u.T),cs(u,T),u.m&&u.o&&or(T,u.m,u.o),_=new $n(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=mo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ir(u.h,_),ns(_,T,m)}function cs(u,m){u.H&&bt(u.H,function(_,T){Pt(m,T,_)}),u.l&&Gs({},function(_,T){Pt(m,T,_)})}function mo(u,m,_){_=Math.min(u.i.length,_);var T=u.l?x(u.l.Na,u.l,u):null;t:{var k=u.i;let q=-1;for(;;){const et=["count="+_];q==-1?0<_?(q=k[0].g,et.push("ofs="+q)):q=0:et.push("ofs="+q);let Ht=!0;for(let me=0;me<_;me++){let It=k[me].g;const Ce=k[me].map;if(It-=q,0>It)q=Math.max(0,k[me].g-100),Ht=!1;else try{ho(Ce,et,"req"+It+"_")}catch{T&&T(Ce)}}if(Ht){T=et.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,T}function Yl(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Y||wt(),rt||(Y(),rt=!0),ft.add(m,u),u.v=0}}function go(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Zi(x(u.Fa,u),Jl(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,Xl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Zi(x(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ue(10),cr(this),Xl(this))};function po(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Xl(u){u.g=new $n(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ae(u.qa);Pt(m,"RID","rpc"),Pt(m,"SID",u.K),Pt(m,"AID",u.T),Pt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Pt(m,"TO",u.ja),Pt(m,"TYPE","xmlhttp"),cs(u,m),u.m&&u.o&&or(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ss(ae(m)),_.m=null,_.P=!0,gi(_,u)}s.Za=function(){this.C!=null&&(this.C=null,cr(this),go(this),Ue(19))};function hr(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function $l(u,m){var _=null;if(u.g==m){hr(u),po(u),u.g=null;var T=2}else if(nr(u.h,m))_=m.D,Rn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;T=Hs(),Re(T,new eo(T,_)),Zs(u)}else Yl(u);else if(k=m.s,k==3||k==0&&0<m.X||!(T==1&&dh(u,m)||T==2&&go(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),k){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function Jl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var _=x(u.fb,u),T=u.Xa;const k=!T;T=new yi(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||rr(T,"https"),ss(T),k?co(T.toString(),_):ql(T.toString(),_)}else Ue(2);u.G=0,u.l&&u.l.sa(m),yo(u),Ql(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function yo(u){if(u.G=0,u.ka=[],u.l){const m=tn(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,nt(u.i),u.i.length=0),u.l.ra()}}function Zl(u,m,_){var T=_ instanceof yi?ae(_):new yi(_);if(T.g!="")m&&(T.g=m+"."+T.g),rs(T,T.s);else{var k=g.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var q=new yi(null);T&&rr(q,T),m&&(q.g=m),k&&rs(q,k),_&&(q.l=_),T=q}return _=u.D,m=u.ya,_&&m&&Pt(T,_,m),Pt(T,"VER",u.la),cs(u,T),T}function Wl(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Zt(new Wn({eb:_})):new Zt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function tu(){}s=tu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ws(){}Ws.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){Se.call(this),this.g=new Gl(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!_t(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!_t(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new fr(this)}tt(nn,Se),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){fo(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=bn(u),u=_);m.i.push(new lh(m.Ya++,u)),m.G==3&&Zs(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,fo(this.g),delete this.g,nn.aa.N.call(this)};function eu(u){Xi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}tt(eu,Xi);function nu(){Ln.call(this),this.status=1}tt(nu,Ln);function fr(u){this.g=u}tt(fr,tu),fr.prototype.ua=function(){Re(this.g,"a")},fr.prototype.ta=function(u){Re(this.g,new eu(u))},fr.prototype.sa=function(u){Re(this.g,new nu)},fr.prototype.ra=function(){Re(this.g,"b")},Ws.prototype.createWebChannel=Ws.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,C0=function(){return new Ws},I0=function(){return Hs()},R0=wn,xd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},se.NO_ERROR=0,se.TIMEOUT=8,se.HTTP_ERROR=6,pc=se,ke.COMPLETE="complete",w0=ke,es.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Se.prototype.listen=Se.prototype.K,nl=es,Zt.prototype.listenOnce=Zt.prototype.L,Zt.prototype.getLastError=Zt.prototype.Ka,Zt.prototype.getLastErrorCode=Zt.prototype.Ba,Zt.prototype.getStatus=Zt.prototype.Z,Zt.prototype.getResponseJson=Zt.prototype.Oa,Zt.prototype.getResponseText=Zt.prototype.oa,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Ha,b0=Zt}).apply(typeof oc<"u"?oc:typeof self<"u"?self:typeof window<"u"?window:{});const H_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xe=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ka="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Zd("@firebase/firestore");function el(){return xs.logLevel}function ot(s,...t){if(xs.logLevel<=kt.DEBUG){const i=t.map(um);xs.debug(`Firestore (${Ka}): ${s}`,...i)}}function Gi(s,...t){if(xs.logLevel<=kt.ERROR){const i=t.map(um);xs.error(`Firestore (${Ka}): ${s}`,...i)}}function La(s,...t){if(xs.logLevel<=kt.WARN){const i=t.map(um);xs.warn(`Firestore (${Ka}): ${s}`,...i)}}function um(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(s="Unexpected state"){const t=`FIRESTORE (${Ka}) INTERNAL ASSERTION FAILED: `+s;throw Gi(t),new Error(t)}function Qt(s,t){s||yt()}function Tt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Ki{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class d1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class m1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class g1{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ns,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ns)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qt(typeof a.accessToken=="string"),new D0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string"),new Xe(t)}}class p1{constructor(t,i,a){this.l=t,this.h=i,this.P=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class y1{constructor(t,i,a){this.l=t,this.h=i,this.P=a}getToken(){return Promise.resolve(new p1(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v1{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){Qt(this.o===void 0);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qt(typeof i.token=="string"),this.R=i.token,new _1(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length;let a="";for(;a.length<20;){const l=E1(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%t.length))}return a}}function Bt(s,t){return s<t?-1:s>t?1:0}function Pa(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new at(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return we.fromMillis(Date.now())}static fromDate(t){return we.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor(1e6*(t-1e3*i));return new we(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Et(t)}static min(){return new Et(new we(0,0))}static max(){return new Et(new we(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(),a===void 0?a=t.length-i:a>t.length-i&&yt(),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return dl.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof dl?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=t.get(l),d=i.get(l);if(c<d)return-1;if(c>d)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class ee extends dl{construct(t,i,a){return new ee(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new at(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const T1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends dl{construct(t,i,a){return new qe(t,i,a)}static isValidIdentifier(t){return T1.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qe(["__name__"])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new at(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new at(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new at(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new at(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ee.fromString(t))}static fromName(t){return new dt(ee.fromString(t).popFirst(5))}static empty(){return new dt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ee(t.slice()))}}function A1(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(a===1e9?new we(i+1,0):new we(i,a));return new Kr(l,dt.empty(),t)}function S1(s){return new Kr(s.readTime,s.key,-1)}class Kr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Kr(Et.min(),dt.empty(),-1)}static max(){return new Kr(Et.max(),dt.empty(),-1)}}function b1(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,t.documentKey),i!==0?i:Bt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==w1)throw s;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const v=y;i(t[v]).next((A=>{d[v]=A,++g,g===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Z(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function I1(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ie(a),this.se=a=>i.writeSequenceNumber(a))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}cm.oe=-1;function Fc(s){return s==null}function Nc(s){return s===0&&1/s==-1/0}function C1(s){return typeof s=="number"&&Number.isInteger(s)&&!Nc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Ls(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function O0(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,i){this.comparator=t,this.root=i||Be.EMPTY}insert(t,i){return new re(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lc(this.root,t,this.comparator,!1)}getReverseIterator(){return new lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lc(this.root,t,this.comparator,!0)}}class lc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Be.RED,this.left=l??Be.EMPTY,this.right=c??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Be(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Be.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const t=this.left.check();if(t!==this.right.check())throw yt();return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(t,i,a,l,c){return this}insert(t,i,a){return new Be(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.comparator=t,this.data=new re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new G_(this.data.getIterator())}getIteratorFrom(t){return new G_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new He(this.comparator);return i.data=t,i}}class G_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new Sn([])}unionWith(t){let i=new He(qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Sn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Pa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new M0("Invalid base64 string: "+c):c}})(t);return new Fe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Fe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const D1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(s){if(Qt(!!s),typeof s=="string"){let t=0;const i=D1.exec(s);if(Qt(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:de(s.seconds),nanos:de(s.nanos)}}function de(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Us(s){return typeof s=="string"?Fe.fromBase64String(s):Fe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(s){var t,i;return((i=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function fm(s){const t=s.mapValue.fields.__previous_value__;return hm(t)?fm(t):t}function ml(s){const t=Yr(s.mapValue.fields.__local_write_time__.timestampValue);return new we(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t,i,a,l,c,d,g,y,v){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=v}}class gl{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new gl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof gl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc={mapValue:{}};function ks(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?hm(s)?4:M1(s)?9007199254740991:O1(s)?10:11:yt()}function ui(s,t){if(s===t)return!0;const i=ks(s);if(i!==ks(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return ml(s).isEqual(ml(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Yr(l.timestampValue),g=Yr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Us(l.bytesValue).isEqual(Us(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return de(l.geoPointValue.latitude)===de(c.geoPointValue.latitude)&&de(l.geoPointValue.longitude)===de(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return de(l.integerValue)===de(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=de(l.doubleValue),g=de(c.doubleValue);return d===g?Nc(d)===Nc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return Pa(s.arrayValue.values||[],t.arrayValue.values||[],ui);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(F_(d)!==F_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!ui(d[y],g[y])))return!1;return!0})(s,t);default:return yt()}}function pl(s,t){return(s.values||[]).find((i=>ui(i,t)))!==void 0}function za(s,t){if(s===t)return 0;const i=ks(s),a=ks(t);if(i!==a)return Bt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Bt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=de(c.integerValue||c.doubleValue),y=de(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,t);case 3:return Q_(s.timestampValue,t.timestampValue);case 4:return Q_(ml(s),ml(t));case 5:return Bt(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=Us(c),y=Us(d);return g.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let v=0;v<g.length&&v<y.length;v++){const A=Bt(g[v],y[v]);if(A!==0)return A}return Bt(g.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Bt(de(c.latitude),de(d.latitude));return g!==0?g:Bt(de(c.longitude),de(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return K_(s.arrayValue,t.arrayValue);case 10:return(function(c,d){var g,y,v,A;const b=c.fields||{},x=d.fields||{},F=(g=b.value)===null||g===void 0?void 0:g.arrayValue,tt=(y=x.value)===null||y===void 0?void 0:y.arrayValue,nt=Bt(((v=F==null?void 0:F.values)===null||v===void 0?void 0:v.length)||0,((A=tt==null?void 0:tt.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:K_(F,tt)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===uc.mapValue&&d===uc.mapValue)return 0;if(c===uc.mapValue)return 1;if(d===uc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),v=d.fields||{},A=Object.keys(v);y.sort(),A.sort();for(let b=0;b<y.length&&b<A.length;++b){const x=Bt(y[b],A[b]);if(x!==0)return x;const F=za(g[y[b]],v[A[b]]);if(F!==0)return F}return Bt(y.length,A.length)})(s.mapValue,t.mapValue);default:throw yt()}}function Q_(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Bt(s,t);const i=Yr(s),a=Yr(t),l=Bt(i.seconds,a.seconds);return l!==0?l:Bt(i.nanos,a.nanos)}function K_(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=za(i[l],a[l]);if(c)return c}return Bt(i.length,a.length)}function ja(s){return Ud(s)}function Ud(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Yr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Us(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return dt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Ud(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Ud(i.fields[d])}`;return l+"}"})(s.mapValue):yt()}function Y_(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function kd(s){return!!s&&"integerValue"in s}function dm(s){return!!s&&"arrayValue"in s}function X_(s){return!!s&&"nullValue"in s}function $_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function yc(s){return!!s&&"mapValue"in s}function O1(s){var t,i;return((i=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function ol(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return Ls(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=ol(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=ol(s.arrayValue.values[i]);return t}return Object.assign({},s)}function M1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!yc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=ol(i)}setAll(t){let i=qe.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=ol(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ui(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];yc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Ls(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new dn(ol(this.value))}}function V0(s){const t=[];return Ls(s.fields,((i,a)=>{const l=new qe([i]);if(yc(a)){const c=V0(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Sn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new $e(t,0,Et.min(),Et.min(),Et.min(),dn.empty(),0)}static newFoundDocument(t,i,a,l){return new $e(t,1,i,Et.min(),a,l,0)}static newNoDocument(t,i){return new $e(t,2,i,Et.min(),Et.min(),dn.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,Et.min(),Et.min(),dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,i){this.position=t,this.inclusive=i}}function J_(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=za(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Z_(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ui(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,i="asc"){this.field=t,this.dir=i}}function V1(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{}class Te extends x0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new U1(t,i,a):i==="array-contains"?new P1(t,a):i==="in"?new z1(t,a):i==="not-in"?new j1(t,a):i==="array-contains-any"?new B1(t,a):new Te(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new k1(t,a):new L1(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(za(i,this.value)):i!==null&&ks(this.value)===ks(i)&&this.matchesComparison(za(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends x0{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new Fn(t,i)}matches(t){return U0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function U0(s){return s.op==="and"}function k0(s){return x1(s)&&U0(s)}function x1(s){for(const t of s.filters)if(t instanceof Fn)return!1;return!0}function Ld(s){if(s instanceof Te)return s.field.canonicalString()+s.op.toString()+ja(s.value);if(k0(s))return s.filters.map((t=>Ld(t))).join(",");{const t=s.filters.map((i=>Ld(i))).join(",");return`${s.op}(${t})`}}function L0(s,t){return s instanceof Te?(function(a,l){return l instanceof Te&&a.op===l.op&&a.field.isEqual(l.field)&&ui(a.value,l.value)})(s,t):s instanceof Fn?(function(a,l){return l instanceof Fn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&L0(d,l.filters[g])),!0):!1})(s,t):void yt()}function P0(s){return s instanceof Te?(function(i){return`${i.field.canonicalString()} ${i.op} ${ja(i.value)}`})(s):s instanceof Fn?(function(i){return i.op.toString()+" {"+i.getFilters().map(P0).join(" ,")+"}"})(s):"Filter"}class U1 extends Te{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class k1 extends Te{constructor(t,i){super(t,"in",i),this.keys=z0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class L1 extends Te{constructor(t,i){super(t,"not-in",i),this.keys=z0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function z0(s,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((a=>dt.fromName(a.referenceValue)))}class P1 extends Te{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return dm(i)&&pl(i.arrayValue,this.value)}}class z1 extends Te{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&pl(this.value.arrayValue,i)}}class j1 extends Te{constructor(t,i){super(t,"not-in",i)}matches(t){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!pl(this.value.arrayValue,i)}}class B1 extends Te{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!dm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>pl(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.ue=null}}function W_(s,t=null,i=[],a=[],l=null,c=null,d=null){return new q1(s,t,i,a,l,c,d)}function mm(s){const t=Tt(s);if(t.ue===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Ld(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Fc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>ja(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>ja(a))).join(",")),t.ue=i}return t.ue}function gm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!V1(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!L0(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Z_(s.startAt,t.startAt)&&Z_(s.endAt,t.endAt)}function Pd(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function H1(s,t,i,a,l,c,d,g){return new Rl(s,t,i,a,l,c,d,g)}function pm(s){return new Rl(s)}function tv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function j0(s){return s.collectionGroup!==null}function ll(s){const t=Tt(s);if(t.ce===null){t.ce=[];const i=new Set;for(const c of t.explicitOrderBy)t.ce.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new He(qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.ce.push(new Mc(c,a))})),i.has(qe.keyField().canonicalString())||t.ce.push(new Mc(qe.keyField(),a))}return t.ce}function oi(s){const t=Tt(s);return t.le||(t.le=F1(t,ll(s))),t.le}function F1(s,t){if(s.limitType==="F")return W_(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Mc(l.field,c)}));const i=s.endAt?new Oc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Oc(s.startAt.position,s.startAt.inclusive):null;return W_(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function zd(s,t){const i=s.filters.concat([t]);return new Rl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function jd(s,t,i){return new Rl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Gc(s,t){return gm(oi(s),oi(t))&&s.limitType===t.limitType}function B0(s){return`${mm(oi(s))}|lt:${s.limitType}`}function Ca(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>P0(l))).join(", ")}]`),Fc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>ja(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>ja(l))).join(",")),`Target(${a})`})(oi(s))}; limitType=${s.limitType})`}function Qc(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of ll(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,y){const v=J_(d,g,y);return d.inclusive?v<=0:v<0})(a.startAt,ll(a),l)||a.endAt&&!(function(d,g,y){const v=J_(d,g,y);return d.inclusive?v>=0:v>0})(a.endAt,ll(a),l))})(s,t)}function G1(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function q0(s){return(t,i)=>{let a=!1;for(const l of ll(s)){const c=Q1(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function Q1(s,t,i){const a=s.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,g){const y=d.data.field(c),v=g.data.field(c);return y!==null&&v!==null?za(y,v):yt()})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ls(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return O0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=new re(dt.comparator);function Qi(){return K1}const H0=new re(dt.comparator);function il(...s){let t=H0;for(const i of s)t=t.insert(i.key,i);return t}function F0(s){let t=H0;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Cs(){return ul()}function G0(){return ul()}function ul(){return new Ya((s=>s.toString()),((s,t)=>s.isEqual(t)))}const Y1=new re(dt.comparator),X1=new He(dt.comparator);function Vt(...s){let t=X1;for(const i of s)t=t.add(i);return t}const $1=new He(Bt);function J1(){return $1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nc(t)?"-0":t}}function Q0(s){return{integerValue:""+s}}function Z1(s,t){return C1(t)?Q0(t):ym(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this._=void 0}}function W1(s,t,i){return s instanceof Vc?(function(l,c){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&hm(c)&&(c=fm(c)),c&&(d.fields.__previous_value__=c),{mapValue:d}})(i,t):s instanceof yl?Y0(s,t):s instanceof _l?X0(s,t):(function(l,c){const d=K0(l,c),g=ev(d)+ev(l.Pe);return kd(d)&&kd(l.Pe)?Q0(g):ym(l.serializer,g)})(s,t)}function tR(s,t,i){return s instanceof yl?Y0(s,t):s instanceof _l?X0(s,t):i}function K0(s,t){return s instanceof xc?(function(a){return kd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Vc extends Kc{}class yl extends Kc{constructor(t){super(),this.elements=t}}function Y0(s,t){const i=$0(t);for(const a of s.elements)i.some((l=>ui(l,a)))||i.push(a);return{arrayValue:{values:i}}}class _l extends Kc{constructor(t){super(),this.elements=t}}function X0(s,t){let i=$0(t);for(const a of s.elements)i=i.filter((l=>!ui(l,a)));return{arrayValue:{values:i}}}class xc extends Kc{constructor(t,i){super(),this.serializer=t,this.Pe=i}}function ev(s){return de(s.integerValue||s.doubleValue)}function $0(s){return dm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function eR(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof yl&&l instanceof yl||a instanceof _l&&l instanceof _l?Pa(a.elements,l.elements,ui):a instanceof xc&&l instanceof xc?ui(a.Pe,l.Pe):a instanceof Vc&&l instanceof Vc})(s.transform,t.transform)}class nR{constructor(t,i){this.version=t,this.transformResults=i}}class Hn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Hn}static exists(t){return new Hn(void 0,t)}static updateTime(t){return new Hn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _c(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Yc{}function J0(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new W0(s.key,Hn.none()):new Il(s.key,s.data,Hn.none());{const i=s.data,a=dn.empty();let l=new He(qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new $r(s.key,a,new Sn(l.toArray()),Hn.none())}}function iR(s,t,i){s instanceof Il?(function(l,c,d){const g=l.value.clone(),y=iv(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof $r?(function(l,c,d){if(!_c(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=iv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(Z0(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function cl(s,t,i,a){return s instanceof Il?(function(c,d,g,y){if(!_c(c.precondition,d))return g;const v=c.value.clone(),A=rv(c.fieldTransforms,y,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,t,i,a):s instanceof $r?(function(c,d,g,y){if(!_c(c.precondition,d))return g;const v=rv(c.fieldTransforms,y,d),A=d.data;return A.setAll(Z0(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,a):(function(c,d,g){return _c(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function rR(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=K0(a.transform,l||null);c!=null&&(i===null&&(i=dn.empty()),i.set(a.field,c))}return i||null}function nv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Pa(a,l,((c,d)=>eR(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Il extends Yc{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class $r extends Yc{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Z0(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function iv(s,t,i){const a=new Map;Qt(s.length===i.length);for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,tR(d,g,i[l]))}return a}function rv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,W1(c,d,t))}return a}class W0 extends Yc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sR extends Yc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&iR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=cl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=cl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=G0();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const y=J0(d,g);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&Pa(this.mutations,t.mutations,((i,a)=>nv(i,a)))&&Pa(this.baseMutations,t.baseMutations,((i,a)=>nv(i,a)))}}class _m{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Qt(t.mutations.length===a.length);let l=(function(){return Y1})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new _m(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Lt;function uR(s){switch(s){default:return yt();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function tE(s){if(s===void 0)return Gi("GRPC error has no .code"),J.UNKNOWN;switch(s){case ve.OK:return J.OK;case ve.CANCELLED:return J.CANCELLED;case ve.UNKNOWN:return J.UNKNOWN;case ve.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case ve.INTERNAL:return J.INTERNAL;case ve.UNAVAILABLE:return J.UNAVAILABLE;case ve.UNAUTHENTICATED:return J.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case ve.NOT_FOUND:return J.NOT_FOUND;case ve.ALREADY_EXISTS:return J.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return J.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case ve.ABORTED:return J.ABORTED;case ve.OUT_OF_RANGE:return J.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return J.UNIMPLEMENTED;case ve.DATA_LOSS:return J.DATA_LOSS;default:return yt()}}(Lt=ve||(ve={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=new Ds([4294967295,4294967295],0);function sv(s){const t=cR().encode(s),i=new S0;return i.update(t),new Uint8Array(i.digest())}function av(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ds([i,a],0),new Ds([l,c],0)]}class vm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new rl(`Invalid padding: ${i}`);if(a<0)throw new rl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new rl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new rl(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=Ds.fromNumber(this.Ie)}Ee(t,i,a){let l=t.add(i.multiply(Ds.fromNumber(a)));return l.compare(hR)===1&&(l=new Ds([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const i=sv(t),[a,l]=av(i);for(let c=0;c<this.hashCount;c++){const d=this.Ee(a,l,c);if(!this.de(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new vm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.Ie===0)return;const i=sv(t),[a,l]=av(i);for(let c=0;c<this.hashCount;c++){const d=this.Ee(a,l,c);this.Ae(d)}}Ae(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Cl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Xc(Et.min(),l,new re(Bt),Qi(),Vt())}}class Cl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Cl(a,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t,i,a,l){this.Re=t,this.removedTargetIds=i,this.key=a,this.Ve=l}}class eE{constructor(t,i){this.targetId=t,this.me=i}}class nE{constructor(t,i,a=Fe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class ov{constructor(){this.fe=0,this.ge=uv(),this.pe=Fe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Vt(),i=Vt(),a=Vt();return this.ge.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:yt()}})),new Cl(this.pe,this.ye,t,i,a)}Ce(){this.we=!1,this.ge=uv()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Qt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class fR{constructor(t){this.Le=t,this.Be=new Map,this.ke=Qi(),this.qe=lv(),this.Qe=new re(Bt)}Ke(t){for(const i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(const i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,(i=>{const a=this.Ge(i);switch(t.state){case 0:this.ze(i)&&a.De(t.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(t.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(a.Ne(),a.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),a.De(t.resumeToken));break;default:yt()}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach(((a,l)=>{this.ze(l)&&i(l)}))}He(t){const i=t.targetId,a=t.me.count,l=this.Je(i);if(l){const c=l.target;if(Pd(c))if(a===0){const d=new dt(c.path);this.Ue(i,d,$e.newNoDocument(d,Et.min()))}else Qt(a===1);else{const d=this.Ye(i);if(d!==a){const g=this.Ze(t),y=g?this.Xe(g,t,d):1;if(y!==0){this.je(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,v)}}}}}Ze(t){const i=t.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Us(a).toUint8Array()}catch(y){if(y instanceof M0)return La("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new vm(d,l,c)}catch(y){return La(y instanceof rl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.Ie===0?null:g}Xe(t,i,a){return i.me.count===a-this.nt(t,i.targetId)?0:2}nt(t,i){const a=this.Le.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Le.tt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.Ue(i,c,null),l++)})),l}rt(t){const i=new Map;this.Be.forEach(((c,d)=>{const g=this.Je(d);if(g){if(c.current&&Pd(g.target)){const y=new dt(g.target.path);this.ke.get(y)!==null||this.it(d,y)||this.Ue(d,y,$e.newNoDocument(y,t))}c.be&&(i.set(d,c.ve()),c.Ce())}}));let a=Vt();this.qe.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const v=this.Je(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.ke.forEach(((c,d)=>d.setReadTime(t)));const l=new Xc(t,i,this.Qe,this.ke,a);return this.ke=Qi(),this.qe=lv(),this.Qe=new re(Bt),l}$e(t,i){if(!this.ze(t))return;const a=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,a),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,a){if(!this.ze(t))return;const l=this.Ge(t);this.it(t,i)?l.Fe(i,1):l.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),a&&(this.ke=this.ke.insert(i,a))}removeTarget(t){this.Be.delete(t)}Ye(t){const i=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new ov,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new He(Bt),this.qe=this.qe.insert(t,i)),i}ze(t){const i=this.Je(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}Je(t){const i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new ov),this.Le.getRemoteKeysForTarget(t).forEach((i=>{this.Ue(t,i,null)}))}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}}function lv(){return new re(dt.comparator)}function uv(){return new re(dt.comparator)}const dR={asc:"ASCENDING",desc:"DESCENDING"},mR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gR={and:"AND",or:"OR"};class pR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Bd(s,t){return s.useProto3Json||Fc(t)?t:{value:t}}function Uc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function yR(s,t){return Uc(s,t.toTimestamp())}function li(s){return Qt(!!s),Et.fromTimestamp((function(i){const a=Yr(i);return new we(a.seconds,a.nanos)})(s))}function Em(s,t){return qd(s,t).canonicalString()}function qd(s,t){const i=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function rE(s){const t=ee.fromString(s);return Qt(uE(t)),t}function Hd(s,t){return Em(s.databaseId,t.path)}function Td(s,t){const i=rE(t);if(i.get(1)!==s.databaseId.projectId)throw new at(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(aE(i))}function sE(s,t){return Em(s.databaseId,t)}function _R(s){const t=rE(s);return t.length===4?ee.emptyPath():aE(t)}function Fd(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function aE(s){return Qt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function cv(s,t,i){return{name:Hd(s,t),fields:i.value.mapValue.fields}}function vR(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:yt()})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(v,A){return v.useProto3Json?(Qt(A===void 0||typeof A=="string"),Fe.fromBase64String(A||"")):(Qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),Fe.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(v){const A=v.code===void 0?J.UNKNOWN:tE(v.code);return new at(A,v.message||"")})(d);i=new nE(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Td(s,a.document.name),c=li(a.document.updateTime),d=a.document.createTime?li(a.document.createTime):Et.min(),g=new dn({mapValue:{fields:a.document.fields}}),y=$e.newFoundDocument(l,c,d,g),v=a.targetIds||[],A=a.removedTargetIds||[];i=new vc(v,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Td(s,a.document),c=a.readTime?li(a.readTime):Et.min(),d=$e.newNoDocument(l,c),g=a.removedTargetIds||[];i=new vc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Td(s,a.document),c=a.removedTargetIds||[];i=new vc([],c,l,null)}else{if(!("filter"in t))return yt();{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new lR(l,c),g=a.targetId;i=new eE(g,d)}}return i}function ER(s,t){let i;if(t instanceof Il)i={update:cv(s,t.key,t.value)};else if(t instanceof W0)i={delete:Hd(s,t.key)};else if(t instanceof $r)i={update:cv(s,t.key,t.data),updateMask:DR(t.fieldMask)};else{if(!(t instanceof sR))return yt();i={verify:Hd(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Vc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof yl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof _l)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof xc)return{fieldPath:d.field.canonicalString(),increment:g.Pe};throw yt()})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:yR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt()})(s,t.precondition)),i}function TR(s,t){return s&&s.length>0?(Qt(t!==void 0),s.map((i=>(function(l,c){let d=l.updateTime?li(l.updateTime):li(c);return d.isEqual(Et.min())&&(d=li(c)),new nR(d,l.transformResults||[])})(i,t)))):[]}function AR(s,t){return{documents:[sE(s,t.path)]}}function SR(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=sE(s,l);const c=(function(v){if(v.length!==0)return lE(Fn.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((A=>(function(x){return{field:Da(x.field),direction:RR(x.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Bd(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{_t:i,parent:l}}function bR(s){let t=_R(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Qt(a===1);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const x=oE(b);return x instanceof Fn&&k0(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((x=>(function(tt){return new Mc(Na(tt.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(x)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let x;return x=typeof b=="object"?b.value:b,Fc(x)?null:x})(i.limit));let y=null;i.startAt&&(y=(function(b){const x=!!b.before,F=b.values||[];return new Oc(F,x)})(i.startAt));let v=null;return i.endAt&&(v=(function(b){const x=!b.before,F=b.values||[];return new Oc(F,x)})(i.endAt)),H1(t,l,d,c,g,"F",y,v)}function wR(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function oE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Na(i.unaryFilter.field);return Te.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Na(i.unaryFilter.field);return Te.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Na(i.unaryFilter.field);return Te.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Na(i.unaryFilter.field);return Te.create(d,"!=",{nullValue:"NULL_VALUE"});default:return yt()}})(s):s.fieldFilter!==void 0?(function(i){return Te.create(Na(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Fn.create(i.compositeFilter.filters.map((a=>oE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt()}})(i.compositeFilter.op))})(s):yt()}function RR(s){return dR[s]}function IR(s){return mR[s]}function CR(s){return gR[s]}function Da(s){return{fieldPath:s.canonicalString()}}function Na(s){return qe.fromServerFormat(s.fieldPath)}function lE(s){return s instanceof Te?(function(i){if(i.op==="=="){if($_(i.value))return{unaryFilter:{field:Da(i.field),op:"IS_NAN"}};if(X_(i.value))return{unaryFilter:{field:Da(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if($_(i.value))return{unaryFilter:{field:Da(i.field),op:"IS_NOT_NAN"}};if(X_(i.value))return{unaryFilter:{field:Da(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Da(i.field),op:IR(i.op),value:i.value}}})(s):s instanceof Fn?(function(i){const a=i.getFilters().map((l=>lE(l)));return a.length===1?a[0]:{compositeFilter:{op:CR(i.op),filters:a}}})(s):yt()}function DR(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function uE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(t,i,a,l,c=Et.min(),d=Et.min(),g=Fe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Br(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t){this.ct=t}}function OR(s){const t=bR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?jd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.un=new VR}addToCollectionParentIndex(t,i){return this.un.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.un.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(Kr.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(Kr.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class VR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new He(ee.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new He(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ba(0)}static kn(){return new Ba(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.changes=new Ya((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&cl(a.mutation,l,Sn.empty(),we.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const l=Cs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=il();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Cs();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=Qi();const d=ul(),g=(function(){return ul()})();return i.forEach(((y,v)=>{const A=a.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof $r)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),cl(A.mutation,v,A.mutation.getFieldMask(),we.now())):d.set(v.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>{var b;return g.set(v,new UR(A,(b=d.get(v))!==null&&b!==void 0?b:null))})),g)))}recalculateAndSaveOverlays(t,i){const a=ul();let l=new re(((d,g)=>d-g)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let A=a.get(y)||Sn.empty();A=g.applyToLocalView(v,A),a.set(y,A);const b=(l.get(g.batchId)||Vt()).add(y);l=l.insert(g.batchId,b)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),v=y.key,A=y.value,b=G0();A.forEach((x=>{if(!c.has(x)){const F=J0(i.get(x),a.get(x));F!==null&&b.set(x,F),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,b))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):j0(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Z.resolve(Cs());let g=-1,y=c;return d.next((v=>Z.forEach(v,((A,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(t,A).next((x=>{y=y.insert(A,x)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,y,v,Vt()))).next((A=>({batchId:g,changes:F0(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=il();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=il();return this.indexManager.getCollectionParents(t,c).next((g=>Z.forEach(g,(y=>{const v=(function(b,x){return new Rl(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,a,l).next((A=>{A.forEach(((b,x)=>{d=d.insert(b,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,$e.newInvalidDocument(A)))}));let g=il();return d.forEach(((y,v)=>{const A=c.get(y);A!==void 0&&cl(A.mutation,v,Sn.empty(),we.now()),Qc(i,v)&&(g=g.insert(y,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,i){return Z.resolve(this.hr.get(i))}saveBundleMetadata(t,i){return this.hr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:li(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.Pr.get(i))}saveNamedQuery(t,i){return this.Pr.set(i.name,(function(l){return{name:l.name,query:OR(l.bundledQuery),readTime:li(l.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.overlays=new re(dt.comparator),this.Ir=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Cs();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.ht(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Ir.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Ir.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const l=Cs(),c=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new re(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=c.get(v.largestBatchId);A===null&&(A=Cs(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=Cs(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,A)=>g.set(v,A))),!(g.size()>=l)););return Z.resolve(g)}ht(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Ir.get(l.largestBatchId).delete(a.key);this.Ir.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new oR(i,a));let c=this.Ir.get(i);c===void 0&&(c=Vt(),this.Ir.set(i,c)),this.Ir.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(){this.Tr=new He(Oe.Er),this.dr=new He(Oe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,i){const a=new Oe(t,i);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Vr(new Oe(t,i))}mr(t,i){t.forEach((a=>this.removeReference(a,i)))}gr(t){const i=new dt(new ee([])),a=new Oe(i,t),l=new Oe(i,t+1),c=[];return this.dr.forEachInRange([a,l],(d=>{this.Vr(d),c.push(d.key)})),c}pr(){this.Tr.forEach((t=>this.Vr(t)))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const i=new dt(new ee([])),a=new Oe(i,t),l=new Oe(i,t+1);let c=Vt();return this.dr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Oe(t,0),a=this.Tr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Oe{constructor(t,i){this.key=t,this.wr=i}static Er(t,i){return dt.comparator(t.key,i.key)||Bt(t.wr,i.wr)}static Ar(t,i){return Bt(t.wr,i.wr)||dt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new He(Oe.Er)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new aR(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.br=this.br.add(new Oe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.vr(a),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Oe(i,0),l=new Oe(i,Number.POSITIVE_INFINITY),c=[];return this.br.forEachInRange([a,l],(d=>{const g=this.Dr(d.wr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new He(Bt);return i.forEach((l=>{const c=new Oe(l,0),d=new Oe(l,Number.POSITIVE_INFINITY);this.br.forEachInRange([c,d],(g=>{a=a.add(g.wr)}))})),Z.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new Oe(new dt(c),0);let g=new He(Bt);return this.br.forEachWhile((y=>{const v=y.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(g=g.add(y.wr)),!0)}),d),Z.resolve(this.Cr(g))}Cr(t){const i=[];return t.forEach((a=>{const l=this.Dr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Qt(this.Fr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.br;return Z.forEach(i.mutations,(l=>{const c=new Oe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.br=a}))}On(t){}containsKey(t,i){const a=new Oe(i,0),l=this.br.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}Fr(t,i){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const i=this.vr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t){this.Mr=t,this.docs=(function(){return new re(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.Mr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let a=Qi();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():$e.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Qi();const d=i.path,g=new dt(d.child("")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:v,value:{document:A}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||b1(S1(A),a)<=0||(l.has(A.key)||Qc(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,l){yt()}Or(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new qR(this)}getSize(t){return Z.resolve(this.size)}}class qR extends xR{constructor(t){super(),this.cr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.cr.addEntry(t,l)):this.cr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.cr.getEntry(t,i)}getAllFromCache(t,i){return this.cr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t){this.persistence=t,this.Nr=new Ya((i=>mm(i)),gm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Tm,this.targetCount=0,this.kr=Ba.Bn()}forEachTarget(t,i){return this.Nr.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Lr&&(this.Lr=i),Z.resolve()}Kn(t){this.Nr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.kr=new Ba(i),this.highestTargetId=i),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,i){return this.Kn(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Kn(i),Z.resolve()}removeTargetData(t,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.Nr.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Nr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.Nr.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this.Br.Rr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this.Br.mr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Br.gr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this.Br.yr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this.Br.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t,i){this.qr={},this.overlays={},this.Qr=new cm(0),this.Kr=!1,this.Kr=!0,this.$r=new zR,this.referenceDelegate=t(this),this.Ur=new HR(this),this.indexManager=new MR,this.remoteDocumentCache=(function(l){return new BR(l)})((a=>this.referenceDelegate.Wr(a))),this.serializer=new NR(i),this.Gr=new LR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new PR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.qr[t.toKey()];return a||(a=new jR(i,this.referenceDelegate),this.qr[t.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const l=new GR(this.Qr.next());return this.referenceDelegate.zr(),a(l).next((c=>this.referenceDelegate.jr(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Hr(t,i){return Z.or(Object.values(this.qr).map((a=>()=>a.containsKey(t,i))))}}class GR extends R1{constructor(t){super(),this.currentSequenceNumber=t}}class Am{constructor(t){this.persistence=t,this.Jr=new Tm,this.Yr=null}static Zr(t){return new Am(t)}get Xr(){if(this.Yr)return this.Yr;throw yt()}addReference(t,i,a){return this.Jr.addReference(a,i),this.Xr.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Jr.removeReference(a,i),this.Xr.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.Xr.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Jr.gr(i.targetId).forEach((l=>this.Xr.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.Xr.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}zr(){this.Yr=new Set}jr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,(a=>{const l=dt.fromPath(a);return this.ei(t,l).next((c=>{c||i.removeEntry(l,Et.min())}))})).next((()=>(this.Yr=null,i.apply(t))))}updateLimboDocument(t,i){return this.ei(t,i).next((a=>{a?this.Xr.delete(i.toString()):this.Xr.add(i.toString())}))}Wr(t){return 0}ei(t,i){return Z.or([()=>Z.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Hr(t,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.$i=a,this.Ui=l}static Wi(t,i){let a=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Sm(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return YA()?8:I1(Je())>0?6:4})()}initialize(t,i){this.Ji=t,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.Yi(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.Zi(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new QR;return this.Xi(t,i,d).next((g=>{if(c.result=g,this.zi)return this.es(t,i,d,g.size)}))})).next((()=>c.result))}es(t,i,a,l){return a.documentReadCount<this.ji?(el()<=kt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ca(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(el()<=kt.DEBUG&&ot("QueryEngine","Query:",Ca(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.Hi*l?(el()<=kt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ca(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,oi(i))):Z.resolve())}Yi(t,i){if(tv(i))return Z.resolve(null);let a=oi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=jd(i,null,"F"),a=oi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Vt(...c);return this.Ji.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((y=>{const v=this.ts(i,g);return this.ns(i,v,d,y.readTime)?this.Yi(t,jd(i,null,"F")):this.rs(t,v,i,y)}))))})))))}Zi(t,i,a,l){return tv(i)||l.isEqual(Et.min())?Z.resolve(null):this.Ji.getDocuments(t,a).next((c=>{const d=this.ts(i,c);return this.ns(i,d,a,l)?Z.resolve(null):(el()<=kt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ca(i)),this.rs(t,d,i,A1(l,-1)).next((g=>g)))}))}ts(t,i){let a=new He(q0(t));return i.forEach(((l,c)=>{Qc(t,c)&&(a=a.add(c))})),a}ns(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Xi(t,i,a){return el()<=kt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ca(i)),this.Ji.getDocumentsMatchingQuery(t,i,Kr.min(),a)}rs(t,i,a,l){return this.Ji.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(t,i,a,l){this.persistence=t,this.ss=i,this.serializer=l,this.os=new re(Bt),this._s=new Ya((c=>mm(c)),gm),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(a)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new kR(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.os)))}}function XR(s,t,i,a){return new YR(s,t,i,a)}async function cE(s,t){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.ls(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let y=Vt();for(const v of l){d.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}for(const v of c){g.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next((v=>({hs:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function $R(s,t){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.cs.newChangeBuffer({trackRemovals:!0});return(function(g,y,v,A){const b=v.batch,x=b.keys();let F=Z.resolve();return x.forEach((tt=>{F=F.next((()=>A.getEntry(y,tt))).next((nt=>{const $=v.docVersions.get(tt);Qt($!==null),nt.version.compareTo($)<0&&(b.applyToRemoteDocument(nt,v),nt.isValidDocument()&&(nt.setReadTime(v.commitVersion),A.addEntry(nt)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(y,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=Vt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(y=y.add(g.batch.mutations[v].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function hE(s){const t=Tt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Ur.getLastRemoteSnapshotVersion(i)))}function JR(s,t){const i=Tt(s),a=t.snapshotVersion;let l=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.cs.newChangeBuffer({trackRemovals:!0});l=i.os;const g=[];t.targetChanges.forEach(((A,b)=>{const x=l.get(b);if(!x)return;g.push(i.Ur.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Ur.addMatchingKeys(c,A.addedDocuments,b))));let F=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?F=F.withResumeToken(Fe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,a)),l=l.insert(b,F),(function(nt,$,ht){return nt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=3e8?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(x,F,A)&&g.push(i.Ur.updateTargetData(c,F))}));let y=Qi(),v=Vt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(ZR(c,d,t.documentUpdates).next((A=>{y=A.Ps,v=A.Is}))),!a.isEqual(Et.min())){const A=i.Ur.getLastRemoteSnapshotVersion(c).next((b=>i.Ur.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(A)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(i.os=l,c)))}function ZR(s,t,i){let a=Vt(),l=Vt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=Qi();return i.forEach(((g,y)=>{const v=c.get(g);y.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(Et.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):ot("LocalStore","Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",y.version)})),{Ps:d,Is:l}}))}function WR(s,t){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function tI(s,t){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Ur.getTargetData(a,t).next((c=>c?(l=c,Z.resolve(l)):i.Ur.allocateTargetId(a).next((d=>(l=new Br(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Ur.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.os.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.os=i.os.insert(a.targetId,a),i._s.set(t,a.targetId)),a}))}async function Gd(s,t,i){const a=Tt(s),l=a.os.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!wl(d))throw d;ot("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}a.os=a.os.remove(t),a._s.delete(l.target)}function hv(s,t,i){const a=Tt(s);let l=Et.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,A){const b=Tt(y),x=b._s.get(A);return x!==void 0?Z.resolve(b.os.get(x)):b.Ur.getTargetData(v,A)})(a,d,oi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>a.ss.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?c:Vt()))).next((g=>(eI(a,G1(t),g),{documents:g,Ts:c})))))}function eI(s,t,i){let a=s.us.get(t)||Et.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.us.set(t,a)}class fv{constructor(){this.activeTargetIds=J1()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class nI{constructor(){this.so=new fv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,i,a){this.oo[t]=i}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new fv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc=null;function Ad(){return cc===null?cc=(function(){return 268435456+Math.round(2147483648*Math.random())})():cc++,"0x"+cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class aI extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const a=i.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+i.host,this.vo=`projects/${l}/databases/${c}`,this.Co=this.databaseId.database==="(default)"?`project_id=${l}`:`project_id=${l}&database_id=${c}`}get Fo(){return!1}Mo(i,a,l,c,d){const g=Ad(),y=this.xo(i,a.toUriEncodedString());ot("RestConnection",`Sending RPC '${i}' ${g}:`,y,l);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,c,d),this.No(i,y,v,l).then((A=>(ot("RestConnection",`Received RPC '${i}' ${g}: `,A),A)),(A=>{throw La("RestConnection",`RPC '${i}' ${g} failed with error: `,A,"url: ",y,"request:",l),A}))}Lo(i,a,l,c,d,g){return this.Mo(i,a,l,c,d)}Oo(i,a,l){i["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ka})(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((c,d)=>i[d]=c)),l&&l.headers.forEach(((c,d)=>i[d]=c))}xo(i,a){const l=rI[i];return`${this.Do}/v1/${a}:${l}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,i,a,l){const c=Ad();return new Promise(((d,g)=>{const y=new b0;y.setWithCredentials(!0),y.listenOnce(w0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case pc.NO_ERROR:const A=y.getResponseJson();ot(Ye,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),d(A);break;case pc.TIMEOUT:ot(Ye,`RPC '${t}' ${c} timed out`),g(new at(J.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:const b=y.getStatus();if(ot(Ye,`RPC '${t}' ${c} failed with status:`,b,"response text:",y.getResponseText()),b>0){let x=y.getResponseJson();Array.isArray(x)&&(x=x[0]);const F=x==null?void 0:x.error;if(F&&F.status&&F.message){const tt=(function($){const ht=$.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ht)>=0?ht:J.UNKNOWN})(F.status);g(new at(tt,F.message))}else g(new at(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new at(J.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{ot(Ye,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(l);ot(Ye,`RPC '${t}' ${c} sending request:`,l),y.send(i,"POST",v,a,15)}))}Bo(t,i,a){const l=Ad(),c=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=C0(),g=I0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Oo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=c.join("");ot(Ye,`Creating RPC '${t}' stream ${l}: ${A}`,y);const b=d.createWebChannel(A,y);let x=!1,F=!1;const tt=new sI({Io:$=>{F?ot(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(x||(ot(Ye,`Opening RPC '${t}' stream ${l} transport.`),b.open(),x=!0),ot(Ye,`RPC '${t}' stream ${l} sending:`,$),b.send($))},To:()=>b.close()}),nt=($,ht,_t)=>{$.listen(ht,(ut=>{try{_t(ut)}catch(Ct){setTimeout((()=>{throw Ct}),0)}}))};return nt(b,nl.EventType.OPEN,(()=>{F||(ot(Ye,`RPC '${t}' stream ${l} transport opened.`),tt.yo())})),nt(b,nl.EventType.CLOSE,(()=>{F||(F=!0,ot(Ye,`RPC '${t}' stream ${l} transport closed`),tt.So())})),nt(b,nl.EventType.ERROR,($=>{F||(F=!0,La(Ye,`RPC '${t}' stream ${l} transport errored:`,$),tt.So(new at(J.UNAVAILABLE,"The operation could not be completed")))})),nt(b,nl.EventType.MESSAGE,($=>{var ht;if(!F){const _t=$.data[0];Qt(!!_t);const ut=_t,Ct=ut.error||((ht=ut[0])===null||ht===void 0?void 0:ht.error);if(Ct){ot(Ye,`RPC '${t}' stream ${l} received error:`,Ct);const Kt=Ct.status;let bt=(function(w){const O=ve[w];if(O!==void 0)return tE(O)})(Kt),C=Ct.message;bt===void 0&&(bt=J.INTERNAL,C="Unknown error status: "+Kt+" with message "+Ct.message),F=!0,tt.So(new at(bt,C)),b.close()}else ot(Ye,`RPC '${t}' stream ${l} received:`,_t),tt.bo(_t)}})),nt(g,R0.STAT_EVENT,($=>{$.stat===xd.PROXY?ot(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===xd.NOPROXY&&ot(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{tt.wo()}),0),tt}}function Sd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(s){return new pR(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.ui=t,this.timerId=i,this.ko=a,this.qo=l,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const i=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),l=Math.max(0,i-a);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,l,(()=>(this.Uo=Date.now(),t()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t,i,a,l,c,d,g,y){this.ui=t,this.Ho=a,this.Jo=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new fE(t,i)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,i){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Gi(i.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(i)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.Yo===i&&this.P_(a,l)}),(a=>{t((()=>{const l=new at(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(l)}))}))}P_(t,i){const a=this.h_(this.Yo);this.stream=this.T_(t,i),this.stream.Eo((()=>{a((()=>this.listener.Eo()))})),this.stream.Ro((()=>{a((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((l=>{a((()=>this.I_(l)))})),this.stream.onMessage((l=>{a((()=>++this.e_==1?this.E_(l):this.onNext(l)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(t){return ot("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return i=>{this.ui.enqueueAndForget((()=>this.Yo===t?i():(ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oI extends dE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}T_(t,i){return this.connection.Bo("Listen",t,i)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const i=vR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?li(d.readTime):Et.min()})(t);return this.listener.d_(i,a)}A_(t){const i={};i.database=Fd(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=Pd(y)?{documents:AR(c,y)}:{query:SR(c,y)._t},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=iE(c,d.resumeToken);const v=Bd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=Uc(c,d.snapshotVersion.toTimestamp());const v=Bd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,t);const a=wR(this.serializer,t);a&&(i.labels=a),this.a_(i)}R_(t){const i={};i.database=Fd(this.serializer),i.removeTarget=t,this.a_(i)}}class lI extends dE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,i){return this.connection.Bo("Write",t,i)}E_(t){return Qt(!!t.streamToken),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Qt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const i=TR(t.writeResults,t.commitTime),a=li(t.commitTime);return this.listener.g_(a,i)}p_(){const t={};t.database=Fd(this.serializer),this.a_(t)}m_(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>ER(this.serializer,a)))};this.a_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI extends class{}{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.y_=!1}w_(){if(this.y_)throw new at(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,i,a,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Mo(t,qd(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(J.UNKNOWN,c.toString())}))}Lo(t,i,a,l,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Lo(t,qd(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(J.UNKNOWN,d.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class cI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Gi(i),this.D_=!1):ot("OnlineStateTracker",i)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=c,this.k_._o((d=>{a.enqueueAndForget((async()=>{Ps(this)&&(ot("RemoteStore","Restarting streams for network reachability change."),await(async function(y){const v=Tt(y);v.L_.add(4),await Dl(v),v.q_.set("Unknown"),v.L_.delete(4),await Jc(v)})(this))}))})),this.q_=new cI(a,l)}}async function Jc(s){if(Ps(s))for(const t of s.B_)await t(!0)}async function Dl(s){for(const t of s.B_)await t(!1)}function mE(s,t){const i=Tt(s);i.N_.has(t.targetId)||(i.N_.set(t.targetId,t),Im(i)?Rm(i):Xa(i).r_()&&wm(i,t))}function bm(s,t){const i=Tt(s),a=Xa(i);i.N_.delete(t),a.r_()&&gE(i,t),i.N_.size===0&&(a.r_()?a.o_():Ps(i)&&i.q_.set("Unknown"))}function wm(s,t){if(s.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Xa(s).A_(t)}function gE(s,t){s.Q_.xe(t),Xa(s).R_(t)}function Rm(s){s.Q_=new fR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>s.N_.get(t)||null,tt:()=>s.datastore.serializer.databaseId}),Xa(s).start(),s.q_.v_()}function Im(s){return Ps(s)&&!Xa(s).n_()&&s.N_.size>0}function Ps(s){return Tt(s).L_.size===0}function pE(s){s.Q_=void 0}async function fI(s){s.q_.set("Online")}async function dI(s){s.N_.forEach(((t,i)=>{wm(s,t)}))}async function mI(s,t){pE(s),Im(s)?(s.q_.M_(t),Rm(s)):s.q_.set("Unknown")}async function gI(s,t,i){if(s.q_.set("Online"),t instanceof nE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.N_.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.N_.delete(g),l.Q_.removeTarget(g))})(s,t)}catch(a){ot("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),a),await kc(s,a)}else if(t instanceof vc?s.Q_.Ke(t):t instanceof eE?s.Q_.He(t):s.Q_.We(t),!i.isEqual(Et.min()))try{const a=await hE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Q_.rt(d);return g.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.N_.get(v);A&&c.N_.set(v,A.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,v)=>{const A=c.N_.get(y);if(!A)return;c.N_.set(y,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),gE(c,y);const b=new Br(A.target,y,v,A.sequenceNumber);wm(c,b)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){ot("RemoteStore","Failed to raise snapshot:",a),await kc(s,a)}}async function kc(s,t,i){if(!wl(t))throw t;s.L_.add(1),await Dl(s),s.q_.set("Offline"),i||(i=()=>hE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot("RemoteStore","Retrying IndexedDB access"),await i(),s.L_.delete(1),await Jc(s)}))}function yE(s,t){return t().catch((i=>kc(s,i,t)))}async function Zc(s){const t=Tt(s),i=Xr(t);let a=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;pI(t);)try{const l=await WR(t.localStore,a);if(l===null){t.O_.length===0&&i.o_();break}a=l.batchId,yI(t,l)}catch(l){await kc(t,l)}_E(t)&&vE(t)}function pI(s){return Ps(s)&&s.O_.length<10}function yI(s,t){s.O_.push(t);const i=Xr(s);i.r_()&&i.V_&&i.m_(t.mutations)}function _E(s){return Ps(s)&&!Xr(s).n_()&&s.O_.length>0}function vE(s){Xr(s).start()}async function _I(s){Xr(s).p_()}async function vI(s){const t=Xr(s);for(const i of s.O_)t.m_(i.mutations)}async function EI(s,t,i){const a=s.O_.shift(),l=_m.from(a,t,i);await yE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Zc(s)}async function TI(s,t){t&&Xr(s).V_&&await(async function(a,l){if((function(d){return uR(d)&&d!==J.ABORTED})(l.code)){const c=a.O_.shift();Xr(a).s_(),await yE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Zc(a)}})(s,t),_E(s)&&vE(s)}async function mv(s,t){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),ot("RemoteStore","RemoteStore received new credentials");const a=Ps(i);i.L_.add(3),await Dl(i),a&&i.q_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.L_.delete(3),await Jc(i)}async function AI(s,t){const i=Tt(s);t?(i.L_.delete(2),await Jc(i)):t||(i.L_.add(2),await Dl(i),i.q_.set("Unknown"))}function Xa(s){return s.K_||(s.K_=(function(i,a,l){const c=Tt(i);return c.w_(),new oI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Eo:fI.bind(null,s),Ro:dI.bind(null,s),mo:mI.bind(null,s),d_:gI.bind(null,s)}),s.B_.push((async t=>{t?(s.K_.s_(),Im(s)?Rm(s):s.q_.set("Unknown")):(await s.K_.stop(),pE(s))}))),s.K_}function Xr(s){return s.U_||(s.U_=(function(i,a,l){const c=Tt(i);return c.w_(),new lI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Eo:()=>Promise.resolve(),Ro:_I.bind(null,s),mo:TI.bind(null,s),f_:vI.bind(null,s),g_:EI.bind(null,s)}),s.B_.push((async t=>{t?(s.U_.s_(),await Zc(s)):(await s.U_.stop(),s.O_.length>0&&(ot("RemoteStore",`Stopping write stream with ${s.O_.length} pending writes`),s.O_=[]))}))),s.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new Cm(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dm(s,t){if(Gi("AsyncQueue",`${t}: ${s}`),wl(s))return new at(J.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=il(),this.sortedSet=new re(this.comparator)}static emptySet(t){return new Ua(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ua)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ua;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.W_=new re(dt.comparator)}track(t){const i=t.doc.key,a=this.W_.get(i);a?t.type!==0&&a.type===3?this.W_=this.W_.insert(i,t):t.type===3&&a.type!==1?this.W_=this.W_.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.W_=this.W_.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.W_=this.W_.remove(i):t.type===1&&a.type===2?this.W_=this.W_.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):yt():this.W_=this.W_.insert(i,t)}G_(){const t=[];return this.W_.inorderTraversal(((i,a)=>{t.push(a)})),t}}class qa{constructor(t,i,a,l,c,d,g,y,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new qa(t,i,Ua.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((t=>t.J_()))}}class bI{constructor(){this.queries=pv(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(i,a){const l=Tt(i),c=l.queries;l.queries=pv(),c.forEach(((d,g)=>{for(const y of g.j_)y.onError(a)}))})(this,new at(J.ABORTED,"Firestore shutting down"))}}function pv(){return new Ya((s=>B0(s)),Gc)}async function wI(s,t){const i=Tt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.H_()&&t.J_()&&(a=2):(c=new SI,a=t.J_()?0:1);try{switch(a){case 0:c.z_=await i.onListen(l,!0);break;case 1:c.z_=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Dm(d,`Initialization of query '${Ca(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.j_.push(t),t.Z_(i.onlineState),c.z_&&t.X_(c.z_)&&Nm(i)}async function RI(s,t){const i=Tt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.j_.indexOf(t);d>=0&&(c.j_.splice(d,1),c.j_.length===0?l=t.J_()?0:1:!c.H_()&&t.J_()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function II(s,t){const i=Tt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.j_)g.X_(l)&&(a=!0);d.z_=l}}a&&Nm(i)}function CI(s,t,i){const a=Tt(s),l=a.queries.get(t);if(l)for(const c of l.j_)c.onError(i);a.queries.delete(t)}function Nm(s){s.Y_.forEach((t=>{t.next()}))}var Qd,yv;(yv=Qd||(Qd={})).ea="default",yv.Cache="cache";class DI{constructor(t,i,a){this.query=t,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new qa(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.na?this.ia(t)&&(this.ta.next(t),i=!0):this.sa(t,this.onlineState)&&(this.oa(t),i=!0),this.ra=t,i}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),i=!0),i}sa(t,i){if(!t.fromCache||!this.J_())return!0;const a=i!=="Offline";return(!this.options._a||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const i=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}oa(t){t=qa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(t){this.key=t}}class TE{constructor(t){this.key=t}}class NI{constructor(t,i){this.query=t,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Vt(),this.mutatedKeys=Vt(),this.Aa=q0(t),this.Ra=new Ua(this.Aa)}get Va(){return this.Ta}ma(t,i){const a=i?i.fa:new gv,l=i?i.Ra:this.Ra;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const x=l.get(A),F=Qc(this.query,b)?b:null,tt=!!x&&this.mutatedKeys.has(x.key),nt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let $=!1;x&&F?x.data.isEqual(F.data)?tt!==nt&&(a.track({type:3,doc:F}),$=!0):this.ga(x,F)||(a.track({type:2,doc:F}),$=!0,(y&&this.Aa(F,y)>0||v&&this.Aa(F,v)<0)&&(g=!0)):!x&&F?(a.track({type:0,doc:F}),$=!0):x&&!F&&(a.track({type:1,doc:x}),$=!0,(y||v)&&(g=!0)),$&&(F?(d=d.add(F),c=nt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{Ra:d,fa:a,ns:g,mutatedKeys:c}}ga(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const d=t.fa.G_();d.sort(((A,b)=>(function(F,tt){const nt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return nt(F)-nt(tt)})(A.type,b.type)||this.Aa(A.doc,b.doc))),this.pa(a),l=l!=null&&l;const g=i&&!l?this.ya():[],y=this.da.size===0&&this.current&&!l?1:0,v=y!==this.Ea;return this.Ea=y,d.length!==0||v?{snapshot:new qa(this.query,t.Ra,c,d,t.mutatedKeys,y===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:g}:{wa:g}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new gv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach((i=>this.Ta=this.Ta.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ta=this.Ta.delete(i))),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Vt(),this.Ra.forEach((a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))}));const i=[];return t.forEach((a=>{this.da.has(a)||i.push(new TE(a))})),this.da.forEach((a=>{t.has(a)||i.push(new EE(a))})),i}ba(t){this.Ta=t.Ts,this.da=Vt();const i=this.ma(t.documents);return this.applyChanges(i,!0)}Da(){return qa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class OI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class MI{constructor(t){this.key=t,this.va=!1}}class VI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new Ya((g=>B0(g)),Gc),this.Ma=new Map,this.xa=new Set,this.Oa=new re(dt.comparator),this.Na=new Map,this.La=new Tm,this.Ba={},this.ka=new Map,this.qa=Ba.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function xI(s,t,i=!0){const a=IE(s);let l;const c=a.Fa.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Da()):l=await AE(a,t,i,!0),l}async function UI(s,t){const i=IE(s);await AE(i,t,!0,!1)}async function AE(s,t,i,a){const l=await tI(s.localStore,oi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await kI(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&mE(s.remoteStore,l),g}async function kI(s,t,i,a,l){s.Ka=(b,x,F)=>(async function(nt,$,ht,_t){let ut=$.view.ma(ht);ut.ns&&(ut=await hv(nt.localStore,$.query,!1).then((({documents:C})=>$.view.ma(C,ut))));const Ct=_t&&_t.targetChanges.get($.targetId),Kt=_t&&_t.targetMismatches.get($.targetId)!=null,bt=$.view.applyChanges(ut,nt.isPrimaryClient,Ct,Kt);return vv(nt,$.targetId,bt.wa),bt.snapshot})(s,b,x,F);const c=await hv(s.localStore,t,!0),d=new NI(t,c.Ts),g=d.ma(c.documents),y=Cl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),v=d.applyChanges(g,s.isPrimaryClient,y);vv(s,i,v.wa);const A=new OI(t,i,d);return s.Fa.set(t,A),s.Ma.has(i)?s.Ma.get(i).push(t):s.Ma.set(i,[t]),v.snapshot}async function LI(s,t,i){const a=Tt(s),l=a.Fa.get(t),c=a.Ma.get(l.targetId);if(c.length>1)return a.Ma.set(l.targetId,c.filter((d=>!Gc(d,t)))),void a.Fa.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Gd(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&bm(a.remoteStore,l.targetId),Kd(a,l.targetId)})).catch(bl)):(Kd(a,l.targetId),await Gd(a.localStore,l.targetId,!0))}async function PI(s,t){const i=Tt(s),a=i.Fa.get(t),l=i.Ma.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),bm(i.remoteStore,a.targetId))}async function zI(s,t,i){const a=QI(s);try{const l=await(function(d,g){const y=Tt(d),v=we.now(),A=g.reduce(((F,tt)=>F.add(tt.key)),Vt());let b,x;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let tt=Qi(),nt=Vt();return y.cs.getEntries(F,A).next(($=>{tt=$,tt.forEach(((ht,_t)=>{_t.isValidDocument()||(nt=nt.add(ht))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,tt))).next(($=>{b=$;const ht=[];for(const _t of g){const ut=rR(_t,b.get(_t.key).overlayedDocument);ut!=null&&ht.push(new $r(_t.key,ut,V0(ut.value.mapValue),Hn.exists(!0)))}return y.mutationQueue.addMutationBatch(F,v,ht,g)})).next(($=>{x=$;const ht=$.applyToLocalDocumentSet(b,nt);return y.documentOverlayCache.saveOverlays(F,$.batchId,ht)}))})).then((()=>({batchId:x.batchId,changes:F0(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let v=d.Ba[d.currentUser.toKey()];v||(v=new re(Bt)),v=v.insert(g,y),d.Ba[d.currentUser.toKey()]=v})(a,l.batchId,i),await Nl(a,l.changes),await Zc(a.remoteStore)}catch(l){const c=Dm(l,"Failed to persist write");i.reject(c)}}async function SE(s,t){const i=Tt(s);try{const a=await JR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Na.get(c);d&&(Qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.va=!0:l.modifiedDocuments.size>0?Qt(d.va):l.removedDocuments.size>0&&(Qt(d.va),d.va=!1))})),await Nl(i,a,t)}catch(a){await bl(a)}}function _v(s,t,i){const a=Tt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Fa.forEach(((c,d)=>{const g=d.view.Z_(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Tt(d);y.onlineState=g;let v=!1;y.queries.forEach(((A,b)=>{for(const x of b.j_)x.Z_(g)&&(v=!0)})),v&&Nm(y)})(a.eventManager,t),l.length&&a.Ca.d_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function jI(s,t,i){const a=Tt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Na.get(t),c=l&&l.key;if(c){let d=new re(dt.comparator);d=d.insert(c,$e.newNoDocument(c,Et.min()));const g=Vt().add(c),y=new Xc(Et.min(),new Map,new re(Bt),d,g);await SE(a,y),a.Oa=a.Oa.remove(c),a.Na.delete(t),Om(a)}else await Gd(a.localStore,t,!1).then((()=>Kd(a,t,i))).catch(bl)}async function BI(s,t){const i=Tt(s),a=t.batch.batchId;try{const l=await $R(i.localStore,t);wE(i,a,null),bE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Nl(i,l)}catch(l){await bl(l)}}async function qI(s,t,i){const a=Tt(s);try{const l=await(function(d,g){const y=Tt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return y.mutationQueue.lookupMutationBatch(v,g).next((b=>(Qt(b!==null),A=b.keys(),y.mutationQueue.removeMutationBatch(v,b)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,A,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>y.localDocuments.getDocuments(v,A)))}))})(a.localStore,t);wE(a,t,i),bE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Nl(a,l)}catch(l){await bl(l)}}function bE(s,t){(s.ka.get(t)||[]).forEach((i=>{i.resolve()})),s.ka.delete(t)}function wE(s,t,i){const a=Tt(s);let l=a.Ba[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Ba[a.currentUser.toKey()]=l}}function Kd(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Ma.get(t))s.Fa.delete(a),i&&s.Ca.$a(a,i);s.Ma.delete(t),s.isPrimaryClient&&s.La.gr(t).forEach((a=>{s.La.containsKey(a)||RE(s,a)}))}function RE(s,t){s.xa.delete(t.path.canonicalString());const i=s.Oa.get(t);i!==null&&(bm(s.remoteStore,i),s.Oa=s.Oa.remove(t),s.Na.delete(i),Om(s))}function vv(s,t,i){for(const a of i)a instanceof EE?(s.La.addReference(a.key,t),HI(s,a)):a instanceof TE?(ot("SyncEngine","Document no longer in limbo: "+a.key),s.La.removeReference(a.key,t),s.La.containsKey(a.key)||RE(s,a.key)):yt()}function HI(s,t){const i=t.key,a=i.path.canonicalString();s.Oa.get(i)||s.xa.has(a)||(ot("SyncEngine","New document in limbo: "+i),s.xa.add(a),Om(s))}function Om(s){for(;s.xa.size>0&&s.Oa.size<s.maxConcurrentLimboResolutions;){const t=s.xa.values().next().value;s.xa.delete(t);const i=new dt(ee.fromString(t)),a=s.qa.next();s.Na.set(a,new MI(i)),s.Oa=s.Oa.insert(i,a),mE(s.remoteStore,new Br(oi(pm(i.path)),a,"TargetPurposeLimboResolution",cm.oe))}}async function Nl(s,t,i){const a=Tt(s),l=[],c=[],d=[];a.Fa.isEmpty()||(a.Fa.forEach(((g,y)=>{d.push(a.Ka(y,t,i).then((v=>{var A;if((v||i)&&a.isPrimaryClient){const b=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(y.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(v){l.push(v);const b=Sm.Wi(y.targetId,v);c.push(b)}})))})),await Promise.all(d),a.Ca.d_(l),await(async function(y,v){const A=Tt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(v,(x=>Z.forEach(x.$i,(F=>A.persistence.referenceDelegate.addReference(b,x.targetId,F))).next((()=>Z.forEach(x.Ui,(F=>A.persistence.referenceDelegate.removeReference(b,x.targetId,F)))))))))}catch(b){if(!wl(b))throw b;ot("LocalStore","Failed to update sequence numbers: "+b)}for(const b of v){const x=b.targetId;if(!b.fromCache){const F=A.os.get(x),tt=F.snapshotVersion,nt=F.withLastLimboFreeSnapshotVersion(tt);A.os=A.os.insert(x,nt)}}})(a.localStore,c))}async function FI(s,t){const i=Tt(s);if(!i.currentUser.isEqual(t)){ot("SyncEngine","User change. New user:",t.toKey());const a=await cE(i.localStore,t);i.currentUser=t,(function(c,d){c.ka.forEach((g=>{g.forEach((y=>{y.reject(new at(J.CANCELLED,d))}))})),c.ka.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Nl(i,a.hs)}}function GI(s,t){const i=Tt(s),a=i.Na.get(t);if(a&&a.va)return Vt().add(a.key);{let l=Vt();const c=i.Ma.get(t);if(!c)return l;for(const d of c){const g=i.Fa.get(d);l=l.unionWith(g.view.Va)}return l}}function IE(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=SE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=GI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jI.bind(null,t),t.Ca.d_=II.bind(null,t.eventManager),t.Ca.$a=CI.bind(null,t.eventManager),t}function QI(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=BI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qI.bind(null,t),t}class Lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=$c(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,i){return null}Ha(t,i){return null}za(t){return XR(this.persistence,new KR,t.initialUser,this.serializer)}Ga(t){return new FR(Am.Zr,this.serializer)}Wa(t){return new nI}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lc.provider={build:()=>new Lc};class Yd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>_v(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=FI.bind(null,this.syncEngine),await AI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new bI})()}createDatastore(t){const i=$c(t.databaseInfo.databaseId),a=(function(c){return new aI(c)})(t.databaseInfo);return(function(c,d,g,y){return new uI(c,d,g,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new hI(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>_v(this.syncEngine,i,0)),(function(){return dv.D()?new dv:new iI})())}createSyncEngine(t,i){return(function(l,c,d,g,y,v,A){const b=new VI(l,c,d,g,y,v);return A&&(b.Qa=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(l){const c=Tt(l);ot("RemoteStore","RemoteStore shutting down."),c.L_.add(5),await Dl(c),c.k_.shutdown(),c.q_.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Yd.provider={build:()=>new Yd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Gi("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=N0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Dm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function bd(s,t){s.asyncQueue.verifyOperationInProgress(),ot("FirestoreClient","Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await cE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Ev(s,t){s.asyncQueue.verifyOperationInProgress();const i=await XI(s);ot("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>mv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>mv(t.remoteStore,l))),s._onlineComponents=t}async function XI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot("FirestoreClient","Using user provided OfflineComponentProvider");try{await bd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;La("Error using user provided cache. Falling back to memory cache: "+i),await bd(s,new Lc)}}else ot("FirestoreClient","Using default OfflineComponentProvider"),await bd(s,new Lc);return s._offlineComponents}async function CE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot("FirestoreClient","Using user provided OnlineComponentProvider"),await Ev(s,s._uninitializedComponentsProvider._online)):(ot("FirestoreClient","Using default OnlineComponentProvider"),await Ev(s,new Yd))),s._onlineComponents}function $I(s){return CE(s).then((t=>t.syncEngine))}async function Tv(s){const t=await CE(s),i=t.eventManager;return i.onListen=xI.bind(null,t.syncEngine),i.onUnlisten=LI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=UI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=PI.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(s,t,i){if(!i)throw new at(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function JI(s,t,i,a){if(t===!0&&a===!0)throw new at(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Sv(s){if(!dt.isDocumentKey(s))throw new at(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function bv(s){if(dt.isDocumentKey(s))throw new at(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Wc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":yt()}function Bi(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new at(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Wc(s);throw new at(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new at(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(i=t.ssl)===null||i===void 0||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new at(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}JI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DE((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),(function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new at(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new at(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new at(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class th{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wv(t),t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new d1;switch(a.type){case"firstParty":return new y1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Av.get(i);a&&(ot("ComponentProvider","Removing Datastore"),Av.delete(i),a.terminate())})(this),Promise.resolve()}}function ZI(s,t,i,a={}){var l;const c=(s=Bi(s,th))._getSettings(),d=`${t}:${i}`;if(c.host!=="firestore.googleapis.com"&&c.host!==d&&La("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),a.mockUserToken){let g,y;if(typeof a.mockUserToken=="string")g=a.mockUserToken,y=Xe.MOCK_USER;else{g=BA(a.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const v=a.mockUserToken.sub||a.mockUserToken.user_id;if(!v)throw new at(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Xe(v)}s._authCredentials=new m1(new D0(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new $a(this.firestore,t,this._query)}}class sn{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new sn(this.firestore,t,this._key)}}class Qr extends $a{constructor(t,i,a){super(t,i,pm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new sn(this.firestore,null,new dt(t))}withConverter(t){return new Qr(this.firestore,t,this._path)}}function OE(s,t,...i){if(s=Me(s),NE("collection","path",t),s instanceof th){const a=ee.fromString(t,...i);return bv(a),new Qr(s,null,a)}{if(!(s instanceof sn||s instanceof Qr))throw new at(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ee.fromString(t,...i));return bv(a),new Qr(s.firestore,null,a)}}function Ec(s,t,...i){if(s=Me(s),arguments.length===1&&(t=N0.newId()),NE("doc","path",t),s instanceof th){const a=ee.fromString(t,...i);return Sv(a),new sn(s,null,new dt(a))}{if(!(s instanceof sn||s instanceof Qr))throw new at(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ee.fromString(t,...i));return Sv(a),new sn(s.firestore,s instanceof Qr?s.converter:null,new dt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new fE(this,"async_queue_retry"),this.Vu=()=>{const a=Sd();a&&ot("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=t;const i=Sd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const i=Sd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise((()=>{}));const i=new Ns;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Pu.push(t),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!wl(t))throw t;ot("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(t){const i=this.mu.then((()=>(this.du=!0,t().catch((a=>{this.Eu=a,this.du=!1;const l=(function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g})(a);throw Gi("INTERNAL UNHANDLED ERROR: ",l),a})).then((a=>(this.du=!1,a))))));return this.mu=i,i}enqueueAfterDelay(t,i,a){this.fu(),this.Ru.indexOf(t)>-1&&(i=0);const l=Cm.createAndSchedule(this,t,i,a,(c=>this.yu(c)));return this.Tu.push(l),l}fu(){this.Eu&&yt()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const i of this.Tu)if(i.timerId===t)return!0;return!1}bu(t){return this.wu().then((()=>{this.Tu.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.Tu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.wu()}))}Du(t){this.Ru.push(t)}yu(t){const i=this.Tu.indexOf(t);this.Tu.splice(i,1)}}function Iv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Ha extends th{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Rv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Rv(t),this._firestoreClient=void 0,await t}}}function WI(s,t){const i=typeof s=="object"?s:Bv(),a=typeof s=="string"?s:"(default)",l=tm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=zA("firestore");c&&ZI(l,...c)}return l}function ME(s){if(s._terminated)throw new at(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||t2(s),s._firestoreClient}function t2(s){var t,i,a;const l=s._freezeSettings(),c=(function(g,y,v,A){return new N1(g,y,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,DE(A.experimentalLongPollingOptions),A.useFetchStreams)})(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new YI(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&(function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fa(Fe.fromBase64String(t))}catch(i){throw new at(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Fa(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=/^__.*__$/;class n2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new $r(t,this.data,this.fieldMask,i,this.fieldTransforms):new Il(t,this.data,i,this.fieldTransforms)}}class VE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new $r(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function xE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class Um{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.vu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Um(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Fu({path:a,xu:!1});return l.Ou(t),l}Nu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Fu({path:a,xu:!1});return l.vu(),l}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Pc(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(xE(this.Cu)&&e2.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class i2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||$c(t)}Qu(t,i,a,l=!1){return new Um({Cu:t,methodName:i,qu:a,path:qe.emptyPath(),xu:!1,ku:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nh(s){const t=s._freezeSettings(),i=$c(s._databaseId);return new i2(s._databaseId,!!t.ignoreUndefinedProperties,i)}function UE(s,t,i,a,l,c={}){const d=s.Qu(c.merge||c.mergeFields?2:0,t,i,l);km("Data must be an object, but it was:",d,a);const g=kE(a,d);let y,v;if(c.merge)y=new Sn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const x=Xd(t,b,i);if(!d.contains(x))throw new at(J.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);PE(A,x)||A.push(x)}y=new Sn(A),v=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,v=d.fieldTransforms;return new n2(new dn(g),y,v)}class ih extends Mm{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ih}}function r2(s,t,i,a){const l=s.Qu(1,t,i);km("Data must be an object, but it was:",l,a);const c=[],d=dn.empty();Ls(a,((y,v)=>{const A=Lm(t,y,i);v=Me(v);const b=l.Nu(A);if(v instanceof ih)c.push(A);else{const x=Ol(v,b);x!=null&&(c.push(A),d.set(A,x))}}));const g=new Sn(c);return new VE(d,g,l.fieldTransforms)}function s2(s,t,i,a,l,c){const d=s.Qu(1,t,i),g=[Xd(t,a,i)],y=[l];if(c.length%2!=0)throw new at(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)g.push(Xd(t,c[x])),y.push(c[x+1]);const v=[],A=dn.empty();for(let x=g.length-1;x>=0;--x)if(!PE(v,g[x])){const F=g[x];let tt=y[x];tt=Me(tt);const nt=d.Nu(F);if(tt instanceof ih)v.push(F);else{const $=Ol(tt,nt);$!=null&&(v.push(F),A.set(F,$))}}const b=new Sn(v);return new VE(A,b,d.fieldTransforms)}function a2(s,t,i,a=!1){return Ol(i,s.Qu(a?4:3,t))}function Ol(s,t){if(LE(s=Me(s)))return km("Unsupported field value:",t,s),kE(s,t);if(s instanceof Mm)return(function(a,l){if(!xE(l.Cu))throw l.Bu(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Bu(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let y=Ol(g,l.Lu(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=Me(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Z1(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=we.fromDate(a);return{timestampValue:Uc(l.serializer,c)}}if(a instanceof we){const c=new we(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Uc(l.serializer,c)}}if(a instanceof Vm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Fa)return{bytesValue:iE(l.serializer,a._byteString)};if(a instanceof sn){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Em(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof xm)return(function(d,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Bu("VectorValues must only contain numeric values.");return ym(g.serializer,y)}))}}}}}})(a,l);throw l.Bu(`Unsupported field value: ${Wc(a)}`)})(s,t)}function kE(s,t){const i={};return O0(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ls(s,((a,l)=>{const c=Ol(l,t.Mu(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function LE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof we||s instanceof Vm||s instanceof Fa||s instanceof sn||s instanceof Mm||s instanceof xm)}function km(s,t,i){if(!LE(i)||!(function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)})(i)){const a=Wc(i);throw a==="an object"?t.Bu(s+" a custom object"):t.Bu(s+" "+a)}}function Xd(s,t,i){if((t=Me(t))instanceof eh)return t._internalPath;if(typeof t=="string")return Lm(s,t);throw Pc("Field path arguments must be of type string or ",s,!1,void 0,i)}const o2=new RegExp("[~\\*/\\[\\]]");function Lm(s,t,i){if(t.search(o2)>=0)throw Pc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new eh(...t.split("."))._internalPath}catch{throw Pc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Pc(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new at(J.INVALID_ARGUMENT,g+s+y)}function PE(s,t){return s.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new l2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(jE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class l2 extends zE{data(){return super.data()}}function jE(s,t){return typeof t=="string"?Lm(s,t):t instanceof eh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pm{}class c2 extends Pm{}function h2(s,t,...i){let a=[];t instanceof Pm&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof jm)).length,g=c.filter((y=>y instanceof zm)).length;if(d>1||d>0&&g>0)throw new at(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class zm extends c2{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new zm(t,i,a)}_apply(t){const i=this._parse(t);return BE(t._query,i),new $a(t.firestore,t.converter,zd(t._query,i))}_parse(t){const i=nh(t.firestore);return(function(c,d,g,y,v,A,b){let x;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Dv(b,A);const F=[];for(const tt of b)F.push(Cv(y,c,tt));x={arrayValue:{values:F}}}else x=Cv(y,c,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Dv(b,A),x=a2(g,d,b,A==="in"||A==="not-in");return Te.create(v,A,x)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class jm extends Pm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new jm(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Fn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const y of g)BE(d,y),d=zd(d,y)})(t._query,i),new $a(t.firestore,t.converter,zd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Cv(s,t,i){if(typeof(i=Me(i))=="string"){if(i==="")throw new at(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j0(t)&&i.indexOf("/")!==-1)throw new at(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(ee.fromString(i));if(!dt.isDocumentKey(a))throw new at(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Y_(s,new dt(a))}if(i instanceof sn)return Y_(s,i._key);throw new at(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wc(i)}.`)}function Dv(s,t){if(!Array.isArray(s)||s.length===0)throw new at(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function BE(s,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new at(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class f2{convertValue(t,i="none"){switch(ks(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Us(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Ls(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){var i,a,l;const c=(l=(a=(i=t.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map((d=>de(d.doubleValue)));return new xm(c)}convertGeoPoint(t){return new Vm(de(t.latitude),de(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=fm(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ml(t));default:return null}}convertTimestamp(t){const i=Yr(t);return new we(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ee.fromString(t);Qt(uE(a));const l=new gl(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||Gi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(s,t,i){let a;return a=s?s.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class HE extends zE{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(jE("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Tc extends HE{data(t={}){return super.data(t)}}class d2{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new sl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Tc(this._firestore,this._userDataWriter,a.key,a,new sl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new Tc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new sl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Tc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new sl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:m2(g.type),doc:y,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function m2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}class FE extends f2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fa(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new sn(this.firestore,null,i)}}function g2(s,t,i){s=Bi(s,sn);const a=Bi(s.firestore,Ha),l=qE(s.converter,t);return Bm(a,[UE(nh(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Hn.none())])}function Nv(s,t,i,...a){s=Bi(s,sn);const l=Bi(s.firestore,Ha),c=nh(l);let d;return d=typeof(t=Me(t))=="string"||t instanceof eh?s2(c,"updateDoc",s._key,t,i,a):r2(c,"updateDoc",s._key,t),Bm(l,[d.toMutation(s._key,Hn.exists(!0))])}function p2(s,t){const i=Bi(s.firestore,Ha),a=Ec(s),l=qE(s.converter,t);return Bm(i,[UE(nh(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Hn.exists(!1))]).then((()=>a))}function Ov(s,...t){var i,a,l;s=Me(s);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||Iv(t[d])||(c=t[d],d++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Iv(t[d])){const b=t[d];t[d]=(i=b.next)===null||i===void 0?void 0:i.bind(b),t[d+1]=(a=b.error)===null||a===void 0?void 0:a.bind(b),t[d+2]=(l=b.complete)===null||l===void 0?void 0:l.bind(b)}let y,v,A;if(s instanceof sn)v=Bi(s.firestore,Ha),A=pm(s._key.path),y={next:b=>{t[d]&&t[d](y2(v,s,b))},error:t[d+1],complete:t[d+2]};else{const b=Bi(s,$a);v=Bi(b.firestore,Ha),A=b._query;const x=new FE(v);y={next:F=>{t[d]&&t[d](new d2(v,x,b,F))},error:t[d+1],complete:t[d+2]},u2(s._query)}return(function(x,F,tt,nt){const $=new KI(nt),ht=new DI(F,$,tt);return x.asyncQueue.enqueueAndForget((async()=>wI(await Tv(x),ht))),()=>{$.Za(),x.asyncQueue.enqueueAndForget((async()=>RI(await Tv(x),ht)))}})(ME(v),A,g,y)}function Bm(s,t){return(function(a,l){const c=new Ns;return a.asyncQueue.enqueueAndForget((async()=>zI(await $I(a),l,c))),c.promise})(ME(s),t)}function y2(s,t,i){const a=i.docs.get(t._key),l=new FE(s);return new HE(s,l,t._key,a,new sl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){Ka=l})(Ga),ka(new Os("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Ha(new g1(a.getProvider("auth-internal")),new v1(a.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new at(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(v.options.projectId,A)})(d,l),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Fr(H_,"4.7.3",t),Fr(H_,"4.7.3","esm2017")})();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GE=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var v2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=Ee.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},y)=>Ee.createElement("svg",{ref:y,...v2,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:GE("lucide",l),...g},[...d.map(([v,A])=>Ee.createElement(v,A)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=(s,t)=>{const i=Ee.forwardRef(({className:a,...l},c)=>Ee.createElement(E2,{ref:c,iconNode:t,className:GE(`lucide-${_2(s)}`,a),...l}));return i.displayName=`${s}`,i};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=Gn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=Gn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=Gn("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=Gn("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=Gn("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=Gn("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=Gn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=Gn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=Gn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=Gn("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=Gn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),D2=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{},hc=typeof __app_id<"u"?__app_id:"default-doof-crew";function N2(){const[s,t]=Ee.useState(null),[i,a]=Ee.useState(null),[l,c]=Ee.useState(null),[d,g]=Ee.useState(!1),[y,v]=Ee.useState([]),[A,b]=Ee.useState(null),[x,F]=Ee.useState(null),[tt,nt]=Ee.useState(!1),[$,ht]=Ee.useState(!1),[_t,ut]=Ee.useState(null),[Ct,Kt]=Ee.useState(0);Ee.useEffect(()=>{try{const z=jv(D2),Y=h1(z),rt=WI(z);t(rt),a(Y);const ft=tw(Y,async wt=>{if(wt){c(wt.uid),g(!0);return}try{if(typeof __initial_auth_token<"u"&&__initial_auth_token){await Jb(Y,Md),await $b(Y,__initial_auth_token);return}}catch(H){console.error("Error during custom-token sign-in:",H)}const D="/login.html?redirect=/Spaces/TempleDjs/";window.location.href=D});return()=>ft()}catch(z){console.error("Error initializing Firebase:",z),ut("Failed to initialize application. Invalid configuration.")}},[]),Ee.useEffect(()=>{if(!d||!s||!l)return;const z=`users/${l}/apps/${hc}`,Y=`${z}/djs`,rt=h2(OE(s,Y)),ft=Ov(rt,X=>{const it=[];X.forEach(mt=>{it.push({id:mt.id,...mt.data()})}),v(it)},X=>{console.error("Error listening to DJs:",X),ut("Failed to load DJ list.")}),wt=`${z}/schedule/mainStage`,D=Ec(s,wt),H=Ov(D,async X=>{if(X.exists())b(X.data());else{const it={name:"Main Stage",timeSlots:[{time:"18:00 - 19:00",djId:null,djName:null},{time:"19:00 - 20:00",djId:null,djName:null},{time:"20:00 - 21:00",djId:null,djName:null},{time:"21:00 - 22:00",djId:null,djName:null},{time:"22:00 - 23:00",djId:null,djName:null},{time:"23:00 - 00:00",djId:null,djName:null},{time:"00:00 - 01:00",djId:null,djName:null},{time:"01:00 - 02:00",djId:null,djName:null}]};try{await g2(D,it),b(it)}catch(mt){console.error("Error creating default schedule:",mt),ut("Failed to initialize schedule.")}}},X=>{console.error("Error listening to schedule:",X),ut("Failed to load schedule.")});return()=>{ft(),H()}},[d,s,l]);const bt=z=>{F(z),nt(!0)},C=()=>{nt(!1),F(null)},S=(z,Y)=>{z.dataTransfer.setData("application/json",JSON.stringify(Y)),z.dataTransfer.effectAllowed="move"},w=z=>{z.preventDefault(),z.dataTransfer.dropEffect="move"},O=z=>{z.preventDefault(),Kt(Y=>Y+1)},M=z=>{z.preventDefault(),Kt(Y=>Y-1)},U=async(z,Y)=>{z.preventDefault(),Kt(0),ht(!0);try{const rt=JSON.parse(z.dataTransfer.getData("application/json")),ft=[...A.timeSlots],wt=Ec(s,`users/${l}/apps/${hc}/schedule/mainStage`);if(rt.from==="pool"){const D=rt.dj.id,H=rt.dj.djName,X=ft.findIndex(it=>it.djId===D);if(X>-1){const it={...ft[Y]};ft[Y]={...ft[Y],djId:D,djName:H},ft[X]={...ft[X],djId:it.djId,djName:it.djName}}else ft[Y]={...ft[Y],djId:D,djName:H}}else if(rt.from==="slot"){const D=rt.slotIndex;if(D===Y)return;const H={...ft[D]},X={...ft[Y]};ft[Y]={...X,djId:H.djId,djName:H.djName},ft[D]={...H,djId:X.djId,djName:X.djName}}await Nv(wt,{timeSlots:ft})}catch(rt){console.error("Error handling drop on slot:",rt),ut("Failed to update schedule.")}finally{ht(!1)}},I=async z=>{z.preventDefault(),Kt(0),ht(!0);try{const Y=JSON.parse(z.dataTransfer.getData("application/json"));if(Y.from==="slot"){const rt=Y.slotIndex,ft=[...A.timeSlots];ft[rt]={...ft[rt],djId:null,djName:null};const wt=Ec(s,`users/${l}/apps/${hc}/schedule/mainStage`);await Nv(wt,{timeSlots:ft})}}catch(Y){console.error("Error unassigning DJ:",Y),ut("Failed to update schedule.")}finally{ht(!1)}},ue=new Set(((A==null?void 0:A.timeSlots)||[]).map(z=>z.djId).filter(Boolean)),Ae=y.filter(z=>!ue.has(z.id));return!d||!A?W.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white font-sans p-4",children:[W.jsxs("div",{className:"flex items-center",children:[W.jsx(S2,{className:"animate-pulse w-16 h-16"}),W.jsx("span",{className:"ml-4 text-2xl",children:"Loading Crew Data..."})]}),_t&&W.jsxs("div",{className:"mt-6 max-w-xl w-full bg-red-800 border border-red-600 text-white p-4 rounded-lg",children:[W.jsxs("div",{className:"flex items-center",children:[W.jsx($d,{className:"w-5 h-5 mr-3"}),W.jsx("p",{className:"font-semibold",children:_t})]}),W.jsx("p",{className:"text-sm text-red-200 mt-2",children:"If this persists, you may not have permission to read or write your schedule. Please sign out and back in, or contact support."})]})]}):W.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 font-sans p-4 md:p-8",children:[W.jsxs("header",{className:"mb-6",children:[W.jsx("h1",{className:"text-4xl font-bold text-center text-blue-400",children:"Doof Crew Admin"}),l&&W.jsxs("p",{className:"text-center text-sm text-gray-400 mt-2",children:["Share this User ID with your crew: ",W.jsx("code",{className:"bg-gray-700 p-1 rounded-md",children:l})]})]}),_t&&W.jsxs("div",{className:"bg-red-800 border border-red-600 text-white p-4 rounded-lg mb-6 flex items-center",children:[W.jsx($d,{className:"w-5 h-5 mr-3"}),W.jsx("p",{children:_t}),W.jsx("button",{onClick:()=>ut(null),className:"ml-auto text-red-200 hover:text-white",children:W.jsx(KE,{className:"w-5 h-5"})})]}),W.jsxs("main",{className:"flex flex-col lg:flex-row gap-8",children:[W.jsxs("aside",{className:"w-full lg:w-1/3 flex flex-col gap-6",children:[W.jsx(O2,{db:s,userId:l,appId:hc,setIsLoading:ht,setError:ut,disabled:$}),W.jsx(M2,{djs:Ae,onDjClick:bt,onDragStart:S,onDragOver:w,onDragEnter:O,onDragLeave:M,onDrop:I,isDropZoneActive:Ct>0,disabled:$})]}),W.jsx("section",{className:"w-full lg:w-2/3",children:W.jsx(V2,{schedule:A,djs:y,onDjClick:bt,onDragStart:S,onDragOver:w,onDragEnter:O,onDragLeave:M,onDrop:U,isDropZoneActive:Ct>0,disabled:$})})]}),tt&&x&&W.jsx(U2,{dj:x,onClose:C})]})}function O2({db:s,userId:t,appId:i,setIsLoading:a,setError:l,disabled:c}){const[d,g]=Ee.useState({djName:"",realName:"",info:"",photoUrl:"",visualUrl:""}),y=A=>{const{name:b,value:x}=A.target;g(F=>({...F,[b]:x}))},v=async A=>{if(A.preventDefault(),!d.djName||!d.realName){l("DJ Name and Real Name are required.");return}a(!0),l(null);try{const b=`users/${t}/apps/${i}/djs`;await p2(OE(s,b),{...d,createdAt:new Date().toISOString()}),g({djName:"",realName:"",info:"",photoUrl:"",visualUrl:""})}catch(b){console.error("Error registering DJ:",b),l("Failed to register DJ. Please try again.")}finally{a(!1)}};return W.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[W.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center",children:[W.jsx(I2,{className:"w-6 h-6 mr-3 text-blue-400"}),"Register DJ"]}),W.jsxs("form",{onSubmit:v,className:"space-y-4",children:[W.jsxs("div",{children:[W.jsx("label",{htmlFor:"djName",className:"block text-sm font-medium text-gray-300",children:"DJ Name"}),W.jsx("input",{type:"text",id:"djName",name:"djName",value:d.djName,onChange:y,required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),W.jsxs("div",{children:[W.jsx("label",{htmlFor:"realName",className:"block text-sm font-medium text-gray-300",children:"Real Name"}),W.jsx("input",{type:"text",id:"realName",name:"realName",value:d.realName,onChange:y,required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),W.jsxs("div",{children:[W.jsx("label",{htmlFor:"info",className:"block text-sm font-medium text-gray-300",children:"Promo Info / Bio"}),W.jsx("textarea",{id:"info",name:"info",rows:3,value:d.info,onChange:y,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),W.jsxs("div",{children:[W.jsx("label",{htmlFor:"photoUrl",className:"block text-sm font-medium text-gray-300",children:"Promo Photo (URL)"}),W.jsx("input",{type:"url",id:"photoUrl",name:"photoUrl",value:d.photoUrl,onChange:y,placeholder:"https://example.com/photo.jpg",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),W.jsxs("div",{children:[W.jsx("label",{htmlFor:"visualUrl",className:"block text-sm font-medium text-gray-300",children:"Visuals / Content (URL)"}),W.jsx("input",{type:"url",id:"visualUrl",name:"visualUrl",value:d.visualUrl,onChange:y,placeholder:"https://youtube.com/watch?v=...",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),W.jsx("button",{type:"submit",disabled:c,className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Registering...":"Register DJ"})]})]})}function M2({djs:s,onDjClick:t,onDragStart:i,onDragOver:a,onDragEnter:l,onDragLeave:c,onDrop:d,isDropZoneActive:g,disabled:y}){return W.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg flex-grow",children:[W.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center",children:[W.jsx(QE,{className:"w-6 h-6 mr-3 text-blue-400"}),"Unassigned DJs"]}),W.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:s.length===0?W.jsx("p",{className:"text-gray-400",children:"No unassigned DJs. Register one!"}):s.map(v=>W.jsx("div",{children:W.jsx(YE,{dj:v,onClick:()=>t(v),isDraggable:!y,onDragStart:A=>i(A,{from:"pool",dj:v})})},v.id))}),W.jsx("div",{onDragOver:a,onDragEnter:l,onDragLeave:c,onDrop:d,className:`mt-6 p-4 border-2 border-dashed rounded-lg text-center transition-all duration-200 ${g?"border-red-500 bg-red-900/50":"border-gray-600"}`,children:W.jsxs("div",{className:"flex flex-col items-center justify-center pointer-events-none",children:[W.jsx(w2,{className:`w-8 h-8 ${g?"text-red-400":"text-gray-500"}`}),W.jsx("p",{className:`mt-2 text-sm ${g?"text-red-300":"text-gray-400"}`,children:"Drag a DJ here to unassign"})]})})]})}function V2({schedule:s,djs:t,onDjClick:i,onDragStart:a,onDragOver:l,onDragEnter:c,onDragLeave:d,onDrop:g,isDropZoneActive:y,disabled:v}){return W.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[W.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[W.jsx(T2,{className:"w-6 h-6 mr-3 text-blue-400"}),s.name," Set Times"]}),W.jsx("div",{className:"space-y-4",children:s.timeSlots.map((A,b)=>W.jsx("div",{children:W.jsx(x2,{slot:A,slotIndex:b,allDjs:t,onDjClick:i,onDragStart:a,onDragOver:l,onDragEnter:c,onDragLeave:d,onDrop:g,disabled:v})},b))})]})}function x2({slot:s,slotIndex:t,allDjs:i,onDjClick:a,onDragStart:l,onDragOver:c,onDragEnter:d,onDragLeave:g,onDrop:y,disabled:v}){const[A,b]=Ee.useState(!1),x=s.djId&&i.find($=>$.id===s.djId)||null,F=$=>{$.preventDefault(),$.stopPropagation(),b(!0),d($)},tt=$=>{$.preventDefault(),$.stopPropagation(),b(!1),g($)},nt=$=>{$.preventDefault(),$.stopPropagation(),b(!1),y($,t)};return W.jsxs("div",{className:`flex items-center bg-gray-700 rounded-lg p-3 transition-all duration-200 ${A?"ring-2 ring-blue-500 bg-gray-600":""}`,onDragOver:c,onDragEnter:F,onDragLeave:tt,onDrop:nt,children:[W.jsxs("div",{className:"w-32 flex-shrink-0 text-blue-300 font-mono flex items-center",children:[W.jsx(A2,{className:"w-4 h-4 mr-2"}),s.time]}),W.jsx("div",{className:"flex-grow",children:x?W.jsx(YE,{dj:x,onClick:()=>a(x),isDraggable:!v,onDragStart:$=>l($,{from:"slot",slotIndex:t,djId:x.id,djName:x.djName})}):W.jsx("div",{className:"text-center text-gray-500 p-3 border border-dashed border-gray-600 rounded-md",children:"Empty Slot"})})]})}function YE({dj:s,onClick:t,isDraggable:i,onDragStart:a}){var c;const l=`https://placehold.co/40x40/374151/9CA3AF?text=${encodeURIComponent(((c=s.djName)==null?void 0:c.charAt(0))||"D")}`;return W.jsxs("div",{draggable:i,onDragStart:a,className:`flex items-center bg-gray-900 p-2 rounded-md shadow-sm ${i?"cursor-move":"cursor-pointer"} border border-gray-700 hover:bg-gray-800 transition-colors`,children:[W.jsx(b2,{className:"w-5 h-5 mr-2 text-gray-500 flex-shrink-0"}),W.jsx("img",{src:s.photoUrl||l,alt:s.djName,onError:d=>{d.currentTarget.src=l},className:"w-10 h-10 rounded-full object-cover mr-3 flex-shrink-0"}),W.jsxs("div",{className:"flex-grow min-w-0",onClick:t,children:[W.jsx("p",{className:"text-md font-semibold text-white truncate",children:s.djName}),W.jsx("p",{className:"text-sm text-gray-400 truncate",children:s.realName})]})]})}function U2({dj:s,onClose:t}){const i="https://placehold.co/600x400/374151/9CA3AF?text=No+Photo";return W.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-75 backdrop-blur-sm",onClick:t,children:W.jsxs("div",{className:"bg-gray-800 w-full max-w-lg rounded-xl shadow-2xl overflow-hidden",onClick:a=>a.stopPropagation(),children:[W.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[W.jsxs("h2",{className:"text-2xl font-bold text-blue-400 flex items-center",children:[W.jsx(QE,{className:"w-6 h-6 mr-3"}),s.djName]}),W.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white rounded-full p-1 transition-colors",children:W.jsx(KE,{className:"w-6 h-6"})})]}),W.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[W.jsx("img",{src:s.photoUrl||i,alt:s.djName,onError:a=>{a.currentTarget.src=i},className:"w-full h-64 object-cover rounded-lg bg-gray-700"}),W.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[W.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[W.jsx(R2,{className:"w-4 h-4 mr-2"}),"Real Name"]}),W.jsx("p",{className:"text-lg text-white",children:s.realName})]}),s.info&&W.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[W.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[W.jsx($d,{className:"w-4 h-4 mr-2"}),"Bio / Info"]}),W.jsx("p",{className:"text-white whitespace-pre-wrap",children:s.info})]}),s.visualUrl&&W.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[W.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[W.jsx(C2,{className:"w-4 h-4 mr-2"}),"Visuals / Content"]}),W.jsx("a",{href:s.visualUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline truncate block",children:s.visualUrl})]})]})]})})}const k2=document.getElementById("root"),L2=OA.createRoot(k2);L2.render(W.jsx(N2,{}));
