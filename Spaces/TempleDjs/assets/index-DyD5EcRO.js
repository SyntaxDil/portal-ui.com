(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var _d={exports:{}},al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function LA(){if(y_)return al;y_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return al.Fragment=t,al.jsx=i,al.jsxs=i,al}var __;function PA(){return __||(__=1,_d.exports=LA()),_d.exports}var k=PA(),vd={exports:{}},ol={},Ed={exports:{}},Td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function jA(){return v_||(v_=1,(function(r){function t(G,nt){var ht=G.length;G.push(nt);t:for(;0<ht;){var Pt=ht-1>>>1,lt=G[Pt];if(0<l(lt,nt))G[Pt]=nt,G[ht]=lt,ht=Pt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var nt=G[0],ht=G.pop();if(ht!==nt){G[0]=ht;t:for(var Pt=0,lt=G.length,C=lt>>>1;Pt<C;){var F=2*(Pt+1)-1,$=G[F],it=F+1,ct=G[it];if(0>l($,ht))it<lt&&0>l(ct,$)?(G[Pt]=ct,G[it]=ht,Pt=it):(G[Pt]=$,G[F]=ht,Pt=F);else if(it<lt&&0>l(ct,ht))G[Pt]=ct,G[it]=ht,Pt=it;else break t}}return nt}function l(G,nt){var ht=G.sortIndex-nt.sortIndex;return ht!==0?ht:G.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],v=[],T=1,S=null,x=3,H=!1,Z=!1,tt=!1,K=!1,ot=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Ct(G){for(var nt=i(v);nt!==null;){if(nt.callback===null)a(v);else if(nt.startTime<=G)a(v),nt.sortIndex=nt.expirationTime,t(p,nt);else break;nt=i(v)}}function Qt(G){if(tt=!1,Ct(G),!Z)if(i(p)!==null)Z=!0,wt||(wt=!0,U());else{var nt=i(v);nt!==null&&ye(Qt,nt.startTime-G)}}var wt=!1,N=-1,b=5,w=-1;function O(){return K?!0:!(r.unstable_now()-w<b)}function M(){if(K=!1,wt){var G=r.unstable_now();w=G;var nt=!0;try{t:{Z=!1,tt&&(tt=!1,pt(N),N=-1),H=!0;var ht=x;try{e:{for(Ct(G),S=i(p);S!==null&&!(S.expirationTime>G&&O());){var Pt=S.callback;if(typeof Pt=="function"){S.callback=null,x=S.priorityLevel;var lt=Pt(S.expirationTime<=G);if(G=r.unstable_now(),typeof lt=="function"){S.callback=lt,Ct(G),nt=!0;break e}S===i(p)&&a(p),Ct(G)}else a(p);S=i(p)}if(S!==null)nt=!0;else{var C=i(v);C!==null&&ye(Qt,C.startTime-G),nt=!1}}break t}finally{S=null,x=ht,H=!1}nt=void 0}}finally{nt?U():wt=!1}}}var U;if(typeof mt=="function")U=function(){mt(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,le=I.port2;I.port1.onmessage=M,U=function(){le.postMessage(null)}}else U=function(){ot(M,0)};function ye(G,nt){N=ot(function(){G(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(G){switch(x){case 1:case 2:case 3:var nt=3;break;default:nt=x}var ht=x;x=nt;try{return G()}finally{x=ht}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=x;x=G;try{return nt()}finally{x=ht}},r.unstable_scheduleCallback=function(G,nt,ht){var Pt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Pt+ht:Pt):ht=Pt,G){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=ht+lt,G={id:T++,callback:nt,priorityLevel:G,startTime:ht,expirationTime:lt,sortIndex:-1},ht>Pt?(G.sortIndex=ht,t(v,G),i(p)===null&&G===i(v)&&(tt?(pt(N),N=-1):tt=!0,ye(Qt,ht-Pt))):(G.sortIndex=lt,t(p,G),Z||H||(Z=!0,wt||(wt=!0,U()))),G},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(G){var nt=x;return function(){var ht=x;x=nt;try{return G.apply(this,arguments)}finally{x=ht}}}})(Td)),Td}var E_;function zA(){return E_||(E_=1,Ed.exports=jA()),Ed.exports}var Ad={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function BA(){if(T_)return Tt;T_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function H(C){return C===null||typeof C!="object"?null:(C=x&&C[x]||C["@@iterator"],typeof C=="function"?C:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,K={};function ot(C,F,$){this.props=C,this.context=F,this.refs=K,this.updater=$||Z}ot.prototype.isReactComponent={},ot.prototype.setState=function(C,F){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,F,"setState")},ot.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function pt(){}pt.prototype=ot.prototype;function mt(C,F,$){this.props=C,this.context=F,this.refs=K,this.updater=$||Z}var Ct=mt.prototype=new pt;Ct.constructor=mt,tt(Ct,ot.prototype),Ct.isPureReactComponent=!0;var Qt=Array.isArray;function wt(){}var N={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function w(C,F,$){var it=$.ref;return{$$typeof:r,type:C,key:F,ref:it!==void 0?it:null,props:$}}function O(C,F){return w(C.type,F,C.props)}function M(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function U(C){var F={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function($){return F[$]})}var I=/\/+/g;function le(C,F){return typeof C=="object"&&C!==null&&C.key!=null?U(""+C.key):F.toString(36)}function ye(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(wt,wt):(C.status="pending",C.then(function(F){C.status==="pending"&&(C.status="fulfilled",C.value=F)},function(F){C.status==="pending"&&(C.status="rejected",C.reason=F)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function G(C,F,$,it,ct){var yt=typeof C;(yt==="undefined"||yt==="boolean")&&(C=null);var vt=!1;if(C===null)vt=!0;else switch(yt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(C.$$typeof){case r:case t:vt=!0;break;case T:return vt=C._init,G(vt(C._payload),F,$,it,ct)}}if(vt)return ct=ct(C),vt=it===""?"."+le(C,0):it,Qt(ct)?($="",vt!=null&&($=vt.replace(I,"$&/")+"/"),G(ct,F,$,"",function(te){return te})):ct!=null&&(M(ct)&&(ct=O(ct,$+(ct.key==null||C&&C.key===ct.key?"":(""+ct.key).replace(I,"$&/")+"/")+vt)),F.push(ct)),1;vt=0;var ee=it===""?".":it+":";if(Qt(C))for(var xt=0;xt<C.length;xt++)it=C[xt],yt=ee+le(it,xt),vt+=G(it,F,$,yt,ct);else if(xt=H(C),typeof xt=="function")for(C=xt.call(C),xt=0;!(it=C.next()).done;)it=it.value,yt=ee+le(it,xt++),vt+=G(it,F,$,yt,ct);else if(yt==="object"){if(typeof C.then=="function")return G(ye(C),F,$,it,ct);throw F=String(C),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return vt}function nt(C,F,$){if(C==null)return C;var it=[],ct=0;return G(C,it,"","",function(yt){return F.call($,yt,ct++)}),it}function ht(C){if(C._status===-1){var F=C._result;F=F(),F.then(function($){(C._status===0||C._status===-1)&&(C._status=1,C._result=$)},function($){(C._status===0||C._status===-1)&&(C._status=2,C._result=$)}),C._status===-1&&(C._status=0,C._result=F)}if(C._status===1)return C._result.default;throw C._result}var Pt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},lt={map:nt,forEach:function(C,F,$){nt(C,function(){F.apply(this,arguments)},$)},count:function(C){var F=0;return nt(C,function(){F++}),F},toArray:function(C){return nt(C,function(F){return F})||[]},only:function(C){if(!M(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Tt.Activity=S,Tt.Children=lt,Tt.Component=ot,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=mt,Tt.StrictMode=a,Tt.Suspense=p,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return N.H.useMemoCache(C)}},Tt.cache=function(C){return function(){return C.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(C,F,$){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var it=tt({},C.props),ct=C.key;if(F!=null)for(yt in F.key!==void 0&&(ct=""+F.key),F)!b.call(F,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&F.ref===void 0||(it[yt]=F[yt]);var yt=arguments.length-2;if(yt===1)it.children=$;else if(1<yt){for(var vt=Array(yt),ee=0;ee<yt;ee++)vt[ee]=arguments[ee+2];it.children=vt}return w(C.type,ct,it)},Tt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},Tt.createElement=function(C,F,$){var it,ct={},yt=null;if(F!=null)for(it in F.key!==void 0&&(yt=""+F.key),F)b.call(F,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(ct[it]=F[it]);var vt=arguments.length-2;if(vt===1)ct.children=$;else if(1<vt){for(var ee=Array(vt),xt=0;xt<vt;xt++)ee[xt]=arguments[xt+2];ct.children=ee}if(C&&C.defaultProps)for(it in vt=C.defaultProps,vt)ct[it]===void 0&&(ct[it]=vt[it]);return w(C,yt,ct)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(C){return{$$typeof:g,render:C}},Tt.isValidElement=M,Tt.lazy=function(C){return{$$typeof:T,_payload:{_status:-1,_result:C},_init:ht}},Tt.memo=function(C,F){return{$$typeof:v,type:C,compare:F===void 0?null:F}},Tt.startTransition=function(C){var F=N.T,$={};N.T=$;try{var it=C(),ct=N.S;ct!==null&&ct($,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(wt,Pt)}catch(yt){Pt(yt)}finally{F!==null&&$.types!==null&&(F.types=$.types),N.T=F}},Tt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Tt.use=function(C){return N.H.use(C)},Tt.useActionState=function(C,F,$){return N.H.useActionState(C,F,$)},Tt.useCallback=function(C,F){return N.H.useCallback(C,F)},Tt.useContext=function(C){return N.H.useContext(C)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(C,F){return N.H.useDeferredValue(C,F)},Tt.useEffect=function(C,F){return N.H.useEffect(C,F)},Tt.useEffectEvent=function(C){return N.H.useEffectEvent(C)},Tt.useId=function(){return N.H.useId()},Tt.useImperativeHandle=function(C,F,$){return N.H.useImperativeHandle(C,F,$)},Tt.useInsertionEffect=function(C,F){return N.H.useInsertionEffect(C,F)},Tt.useLayoutEffect=function(C,F){return N.H.useLayoutEffect(C,F)},Tt.useMemo=function(C,F){return N.H.useMemo(C,F)},Tt.useOptimistic=function(C,F){return N.H.useOptimistic(C,F)},Tt.useReducer=function(C,F,$){return N.H.useReducer(C,F,$)},Tt.useRef=function(C){return N.H.useRef(C)},Tt.useState=function(C){return N.H.useState(C)},Tt.useSyncExternalStore=function(C,F,$){return N.H.useSyncExternalStore(C,F,$)},Tt.useTransition=function(){return N.H.useTransition()},Tt.version="19.2.0",Tt}var A_;function lm(){return A_||(A_=1,Ad.exports=BA()),Ad.exports}var Sd={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function qA(){if(S_)return Xe;S_=1;var r=lm();function t(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,v,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:p,containerInfo:v,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Xe.createPortal=function(p,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(p,v,null,T)},Xe.flushSync=function(p){var v=d.T,T=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=v,a.p=T,a.d.f()}},Xe.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(p,v))},Xe.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Xe.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var T=v.as,S=g(T,v.crossOrigin),x=typeof v.integrity=="string"?v.integrity:void 0,H=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?a.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:H}):T==="script"&&a.d.X(p,{crossOrigin:S,integrity:x,fetchPriority:H,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Xe.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=g(v.as,v.crossOrigin);a.d.M(p,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(p)},Xe.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,S=g(T,v.crossOrigin);a.d.L(p,T,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Xe.preloadModule=function(p,v){if(typeof p=="string")if(v){var T=g(v.as,v.crossOrigin);a.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(p)},Xe.requestFormReset=function(p){a.d.r(p)},Xe.unstable_batchedUpdates=function(p,v){return p(v)},Xe.useFormState=function(p,v,T){return d.H.useFormState(p,v,T)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.0",Xe}var b_;function HA(){if(b_)return Sd.exports;b_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Sd.exports=qA(),Sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function FA(){if(w_)return ol;w_=1;var r=zA(),t=lm(),i=HA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return p(h),e;if(f===o)return p(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===s){y=!0,s=h,o=f;break}if(E===o){y=!0,o=h,s=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===s){y=!0,s=f,o=h;break}if(E===o){y=!0,o=f,s=h;break}E=E.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),pt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Ct=Symbol.for("react.forward_ref"),Qt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case ot:return"Profiler";case K:return"StrictMode";case Qt:return"Suspense";case wt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case mt:return e.displayName||"Context";case pt:return(e._context.displayName||"Context")+".Consumer";case Ct:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:le(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return le(e(n))}catch{}}return null}var ye=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Pt=[],lt=-1;function C(e){return{current:e}}function F(e){0>lt||(e.current=Pt[lt],Pt[lt]=null,lt--)}function $(e,n){lt++,Pt[lt]=e.current,e.current=n}var it=C(null),ct=C(null),yt=C(null),vt=C(null);function ee(e,n){switch($(yt,n),$(ct,e),$(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?zy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=zy(n),e=By(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(it),$(it,e)}function xt(){F(it),F(ct),F(yt)}function te(e){e.memoizedState!==null&&$(vt,e);var n=it.current,s=By(n,e.type);n!==s&&($(ct,e),$(it,s))}function Qe(e){ct.current===e&&(F(it),F(ct)),vt.current===e&&(F(vt),nl._currentValue=ht)}var di,Zi;function pn(e){if(di===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);di=n&&n[1]||"",Zi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+di+e+Zi}var ns=!1;function Gs(e,n){if(!e||ns)return"";ns=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(B){var z=B}Reflect.construct(e,[],X)}else{try{X.call()}catch(B){z=B}e.call(X.prototype)}}else{try{throw Error()}catch(B){z=B}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),j=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===j.length)for(o=R.length-1,h=j.length-1;1<=o&&0<=h&&R[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==j[h]){var Q=`
`+R[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{ns=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?pn(s):""}function mh(e,n){switch(e.tag){case 26:case 27:case 5:return pn(e.type);case 16:return pn("Lazy");case 13:return e.child!==n&&n!==null?pn("Suspense Fallback"):pn("Suspense");case 19:return pn("SuspenseList");case 0:case 15:return Gs(e.type,!1);case 11:return Gs(e.type.render,!1);case 1:return Gs(e.type,!0);case 31:return pn("Activity");default:return""}}function ql(e){try{var n="",s=null;do n+=mh(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Qs=Object.prototype.hasOwnProperty,is=r.unstable_scheduleCallback,Ks=r.unstable_cancelCallback,gh=r.unstable_shouldYield,ro=r.unstable_requestPaint,Ue=r.unstable_now,Hl=r.unstable_getCurrentPriorityLevel,we=r.unstable_ImmediatePriority,Ne=r.unstable_UserBlockingPriority,mi=r.unstable_NormalPriority,Fl=r.unstable_LowPriority,so=r.unstable_IdlePriority,ph=r.log,rs=r.unstable_setDisableYieldValue,Wi=null,Ke=null;function In(e){if(typeof ph=="function"&&rs(e),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(Wi,e)}catch{}}var tn=Math.clz32?Math.clz32:Gl,yh=Math.log,ao=Math.LN2;function Gl(e){return e>>>=0,e===0?32:31-(yh(e)/ao|0)|0}var ss=256,Xn=262144,tr=4194304;function jn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Cn(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=jn(o):(y&=E,y!==0?h=jn(y):s||(s=E&~e,s!==0&&(h=jn(s))))):(E=o&~f,E!==0?h=jn(E):y!==0?h=jn(y):s||(s=o&~e,s!==0&&(h=jn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function er(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ys(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(){var e=tr;return tr<<=1,(tr&62914560)===0&&(tr=4194304),e}function gi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function nr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ke(e,n,s,o,h,f){var y=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,j=e.hiddenUpdates;for(s=y&~s;0<s;){var Q=31-tn(s),X=1<<Q;E[Q]=0,R[Q]=-1;var z=j[Q];if(z!==null)for(j[Q]=null,Q=0;Q<z.length;Q++){var B=z[Q];B!==null&&(B.lane&=-536870913)}s&=~X}o!==0&&lo(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function lo(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-tn(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function ir(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-tn(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function rr(e,n){var s=n&-n;return s=(s&42)!==0?1:uo(s),(s&(e.suspendedLanes|n))!==0?0:s}function uo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function co(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function pi(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:c_(e.type))}function Ql(e,n){var s=nt.p;try{return nt.p=e,n()}finally{nt.p=s}}var $n=Math.random().toString(36).slice(2),ue="__reactFiber$"+$n,Le="__reactProps$"+$n,Jn="__reactContainer$"+$n,sr="__reactEvents$"+$n,Zn="__reactListeners$"+$n,Kl="__reactHandles$"+$n,ho="__reactResources$"+$n,yi="__reactMarker$"+$n;function as(e){delete e[ue],delete e[Le],delete e[sr],delete e[Zn],delete e[Kl]}function _i(e){var n=e[ue];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Jn]||s[ue]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Yy(e);e!==null;){if(s=e[ue])return s;e=Yy(e)}return n}e=s,s=e.parentNode}return null}function vi(e){if(e=e[ue]||e[Jn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function os(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function zn(e){var n=e[ho];return n||(n=e[ho]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function de(e){e[yi]=!0}var Xs=new Set,ar={};function en(e,n){Wn(e,n),Wn(e+"Capture",n)}function Wn(e,n){for(ar[e]=n,e=0;e<n.length;e++)Xs.add(n[e])}var _h=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fo={},mo={};function Yl(e){return Qs.call(mo,e)?!0:Qs.call(fo,e)?!1:_h.test(e)?mo[e]=!0:(fo[e]=!0,!1)}function or(e,n,s){if(Yl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function lr(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Nn(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xl(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vh(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $s(e){if(!e._valueTracker){var n=Xl(e)?"checked":"value";e._valueTracker=vh(e,n,""+e[n])}}function go(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=Xl(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ei=/[\n"\\]/g;function ce(e){return e.replace(Ei,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ur(e,n,s,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+nn(n)):e.value!==""+nn(n)&&(e.value=""+nn(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?Zs(e,y,nn(n)):s!=null?Zs(e,y,nn(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+nn(E):e.removeAttribute("name")}function ls(e,n,s,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$s(e);return}s=s!=null?""+nn(s):"",n=n!=null?""+nn(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),$s(e)}function Zs(e,n,s){n==="number"&&Js(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function zt(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+nn(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function us(e,n,s){if(n!=null&&(n=""+nn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+nn(s):""}function cr(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ye(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=nn(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),$s(e)}function Dn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Eh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function po(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||Eh.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function $l(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&po(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&po(e,f,n[f])}function yo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Th=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ah=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ti(e){return Ah.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function De(){}var Ws=null;function ta(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ti=null,yn=null;function Jl(e){var n=vi(e);if(n&&(e=n.stateNode)){var s=e[Le]||null;t:switch(e=n.stateNode,n.type){case"input":if(ur(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ce(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Le]||null;if(!h)throw Error(a(90));ur(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&go(o)}break t;case"textarea":us(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&zt(e,!!s.multiple,n,!1)}}}var _o=!1;function Zl(e,n,s){if(_o)return e(n,s);_o=!0;try{var o=e(n);return o}finally{if(_o=!1,(Ti!==null||yn!==null)&&(Yu(),Ti&&(n=Ti,e=yn,yn=Ti=null,Jl(n),e)))for(n=0;n<e.length;n++)Jl(e[n])}}function ln(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Le]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vo=!1;if(Bn)try{var ei={};Object.defineProperty(ei,"passive",{get:function(){vo=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch{vo=!1}var _n=null,ea=null,ni=null;function hr(){if(ni)return ni;var e,n=ea,s=n.length,o,h="value"in _n?_n.value:_n.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var y=s-e;for(o=1;o<=y&&n[s-o]===h[f-o];o++);return ni=h.slice(e,1<o?1-o:void 0)}function cs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function fr(){return!0}function ne(){return!1}function Ye(e){function n(s,o,h,f,y){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?fr:ne,this.isPropagationStopped=ne,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),n}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hs=Ye(Ai),dr=S({},Ai,{view:0,detail:0}),Wl=Ye(dr),mr,na,rn,fs=S({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rn&&(rn&&e.type==="mousemove"?(mr=e.screenX-rn.screenX,na=e.screenY-rn.screenY):na=mr=0,rn=e),mr)},movementY:function(e){return"movementY"in e?e.movementY:na}}),tu=Ye(fs),ds=S({},fs,{dataTransfer:0}),eu=Ye(ds),Eo=S({},dr,{relatedTarget:0}),gr=Ye(Eo),nu=S({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),ia=Ye(nu),Sh=S({},Ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iu=Ye(Sh),ms=S({},Ai,{data:0}),To=Ye(ms),ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ao={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},So={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function su(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=So[e])?!!n[e]:!1}function pr(){return su}var au=S({},dr,{key:function(e){if(e.key){var n=ru[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ao[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pr,charCode:function(e){return e.type==="keypress"?cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ou=Ye(au),Si=S({},fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bo=Ye(Si),lu=S({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pr}),uu=Ye(lu),cu=S({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),ra=Ye(cu),sn=S({},fs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hu=Ye(sn),fu=S({},Ai,{newState:0,oldState:0}),yr=Ye(fu),u=[9,13,27,32],m=Bn&&"CompositionEvent"in window,_=null;Bn&&"documentMode"in document&&(_=document.documentMode);var A=Bn&&"TextEvent"in window&&!_,L=Bn&&(!m||_&&8<_&&11>=_),q=" ",et=!1;function Gt(e,n){switch(e){case"keyup":return u.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var It=!1;function Oe(e,n){switch(e){case"compositionend":return _e(n);case"keypress":return n.which!==32?null:(et=!0,q);case"textInput":return e=n.data,e===q&&et?null:e;default:return null}}function xe(e,n){if(It)return e==="compositionend"||!m&&Gt(e,n)?(e=hr(),ni=ea=_n=null,It=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return L&&n.locale!=="ko"?null:n.data;default:return null}}var _r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function un(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!_r[e.type]:n==="textarea"}function gs(e,n,s,o){Ti?yn?yn.push(o):yn=[o]:Ti=o,n=ec(n,"onChange"),0<n.length&&(s=new hs("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var bi=null,wo=null;function cT(e){Vy(e,0)}function du(e){var n=os(e);if(go(n))return e}function Wm(e,n){if(e==="change")return n}var tg=!1;if(Bn){var bh;if(Bn){var wh="oninput"in document;if(!wh){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),wh=typeof eg.oninput=="function"}bh=wh}else bh=!1;tg=bh&&(!document.documentMode||9<document.documentMode)}function ng(){bi&&(bi.detachEvent("onpropertychange",ig),wo=bi=null)}function ig(e){if(e.propertyName==="value"&&du(wo)){var n=[];gs(n,wo,e,ta(e)),Zl(cT,n)}}function hT(e,n,s){e==="focusin"?(ng(),bi=n,wo=s,bi.attachEvent("onpropertychange",ig)):e==="focusout"&&ng()}function fT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return du(wo)}function dT(e,n){if(e==="click")return du(n)}function mT(e,n){if(e==="input"||e==="change")return du(n)}function gT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var vn=typeof Object.is=="function"?Object.is:gT;function Ro(e,n){if(vn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Qs.call(n,h)||!vn(e[h],n[h]))return!1}return!0}function rg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sg(e,n){var s=rg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=rg(s)}}function ag(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ag(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function og(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Js(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Js(e.document)}return n}function Rh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var pT=Bn&&"documentMode"in document&&11>=document.documentMode,sa=null,Ih=null,Io=null,Ch=!1;function lg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ch||sa==null||sa!==Js(o)||(o=sa,"selectionStart"in o&&Rh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Io&&Ro(Io,o)||(Io=o,o=ec(Ih,"onSelect"),0<o.length&&(n=new hs("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=sa)))}function ps(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var aa={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionrun:ps("Transition","TransitionRun"),transitionstart:ps("Transition","TransitionStart"),transitioncancel:ps("Transition","TransitionCancel"),transitionend:ps("Transition","TransitionEnd")},Nh={},ug={};Bn&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function ys(e){if(Nh[e])return Nh[e];if(!aa[e])return e;var n=aa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in ug)return Nh[e]=n[s];return e}var cg=ys("animationend"),hg=ys("animationiteration"),fg=ys("animationstart"),yT=ys("transitionrun"),_T=ys("transitionstart"),vT=ys("transitioncancel"),dg=ys("transitionend"),mg=new Map,Dh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dh.push("scrollEnd");function qn(e,n){mg.set(e,n),en(n,[e])}var mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],oa=0,Oh=0;function gu(){for(var e=oa,n=Oh=oa=0;n<e;){var s=On[n];On[n++]=null;var o=On[n];On[n++]=null;var h=On[n];On[n++]=null;var f=On[n];if(On[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&gg(s,h,f)}}function pu(e,n,s,o){On[oa++]=e,On[oa++]=n,On[oa++]=s,On[oa++]=o,Oh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function xh(e,n,s,o){return pu(e,n,s,o),yu(e)}function _s(e,n){return pu(e,null,null,n),yu(e)}function gg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-tn(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function yu(e){if(50<Xo)throw Xo=0,qf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var la={};function ET(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,n,s,o){return new ET(e,n,s,o)}function Mh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wi(e,n){var s=e.alternate;return s===null?(s=En(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function pg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _u(e,n,s,o,h,f){var y=0;if(o=e,typeof e=="function")Mh(e)&&(y=1);else if(typeof e=="string")y=wA(e,s,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=En(31,s,n,h),e.elementType=w,e.lanes=f,e;case tt:return vs(s.children,h,f,n);case K:y=8,h|=24;break;case ot:return e=En(12,s,n,h|2),e.elementType=ot,e.lanes=f,e;case Qt:return e=En(13,s,n,h),e.elementType=Qt,e.lanes=f,e;case wt:return e=En(19,s,n,h),e.elementType=wt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:y=10;break t;case pt:y=9;break t;case Ct:y=11;break t;case N:y=14;break t;case b:y=16,o=null;break t}y=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=En(y,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function vs(e,n,s,o){return e=En(7,e,o,n),e.lanes=s,e}function Vh(e,n,s){return e=En(6,e,null,n),e.lanes=s,e}function yg(e){var n=En(18,null,null,0);return n.stateNode=e,n}function Uh(e,n,s){return n=En(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var _g=new WeakMap;function xn(e,n){if(typeof e=="object"&&e!==null){var s=_g.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ql(n)},_g.set(e,n),n)}return{value:e,source:n,stack:ql(n)}}var ua=[],ca=0,vu=null,Co=0,Mn=[],Vn=0,vr=null,ii=1,ri="";function Ri(e,n){ua[ca++]=Co,ua[ca++]=vu,vu=e,Co=n}function vg(e,n,s){Mn[Vn++]=ii,Mn[Vn++]=ri,Mn[Vn++]=vr,vr=e;var o=ii;e=ri;var h=32-tn(o)-1;o&=~(1<<h),s+=1;var f=32-tn(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,ii=1<<32-tn(n)+h|s<<h|o,ri=f+e}else ii=1<<f|s<<h|o,ri=e}function kh(e){e.return!==null&&(Ri(e,1),vg(e,1,0))}function Lh(e){for(;e===vu;)vu=ua[--ca],ua[ca]=null,Co=ua[--ca],ua[ca]=null;for(;e===vr;)vr=Mn[--Vn],Mn[Vn]=null,ri=Mn[--Vn],Mn[Vn]=null,ii=Mn[--Vn],Mn[Vn]=null}function Eg(e,n){Mn[Vn++]=ii,Mn[Vn++]=ri,Mn[Vn++]=vr,ii=n.id,ri=n.overflow,vr=e}var Pe=null,ie=null,kt=!1,Er=null,Un=!1,Ph=Error(a(519));function Tr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw No(xn(n,e)),Ph}function Tg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ue]=e,n[Le]=o,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<Jo.length;s++)Dt(Jo[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),ls(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),cr(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Py(n.textContent,s)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=De),n=!0):n=!1,n||Tr(e,!0)}function Ag(e){for(Pe=e.return;Pe;)switch(Pe.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Pe=Pe.return}}function ha(e){if(e!==Pe)return!1;if(!kt)return Ag(e),kt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||id(e.type,e.memoizedProps)),s=!s),s&&ie&&Tr(e),Ag(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=Ky(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=Ky(e)}else n===27?(n=ie,Ur(e.type)?(e=ld,ld=null,ie=e):ie=n):ie=Pe?Ln(e.stateNode.nextSibling):null;return!0}function Es(){ie=Pe=null,kt=!1}function jh(){var e=Er;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Er=null),e}function No(e){Er===null?Er=[e]:Er.push(e)}var zh=C(null),Ts=null,Ii=null;function Ar(e,n,s){$(zh,n._currentValue),n._currentValue=s}function Ci(e){e._currentValue=zh.current,F(zh)}function Bh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function qh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Bh(f.return,s,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),Bh(y,s,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function fa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=h.type;vn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===vt.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(nl):e=[nl])}h=h.return}e!==null&&qh(n,e,s,o),n.flags|=262144}function Eu(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function As(e){Ts=e,Ii=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return Sg(Ts,e)}function Tu(e,n){return Ts===null&&As(e),Sg(e,n)}function Sg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ii===null){if(e===null)throw Error(a(308));Ii=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ii=Ii.next=n;return s}var TT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},AT=r.unstable_scheduleCallback,ST=r.unstable_NormalPriority,ve={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hh(){return{controller:new TT,data:new Map,refCount:0}}function Do(e){e.refCount--,e.refCount===0&&AT(ST,function(){e.controller.abort()})}var Oo=null,Fh=0,da=0,ma=null;function bT(e,n){if(Oo===null){var s=Oo=[];Fh=0,da=Yf(),ma={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Fh++,n.then(bg,bg),n}function bg(){if(--Fh===0&&Oo!==null){ma!==null&&(ma.status="fulfilled");var e=Oo;Oo=null,da=0,ma=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function wT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var wg=G.S;G.S=function(e,n){ly=Ue(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&bT(e,n),wg!==null&&wg(e,n)};var Ss=C(null);function Gh(){var e=Ss.current;return e!==null?e:Wt.pooledCache}function Au(e,n){n===null?$(Ss,Ss.current):$(Ss,n.pool)}function Rg(){var e=Gh();return e===null?null:{parent:ve._currentValue,pool:e}}var ga=Error(a(460)),Qh=Error(a(474)),Su=Error(a(542)),bu={then:function(){}};function Ig(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Cg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(De,De),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Dg(e),e;default:if(typeof n.status=="string")n.then(De,De);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Dg(e),e}throw ws=n,ga}}function bs(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ws=s,ga):s}}var ws=null;function Ng(){if(ws===null)throw Error(a(459));var e=ws;return ws=null,e}function Dg(e){if(e===ga||e===Su)throw Error(a(483))}var pa=null,xo=0;function wu(e){var n=xo;return xo+=1,pa===null&&(pa=[]),Cg(pa,e,n)}function Mo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ru(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Og(e){function n(V,D){if(e){var P=V.deletions;P===null?(V.deletions=[D],V.flags|=16):P.push(D)}}function s(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=wi(V,D),V.index=0,V.sibling=null,V}function f(V,D,P){return V.index=P,e?(P=V.alternate,P!==null?(P=P.index,P<D?(V.flags|=67108866,D):P):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function y(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,P,Y){return D===null||D.tag!==6?(D=Vh(P,V.mode,Y),D.return=V,D):(D=h(D,P),D.return=V,D)}function R(V,D,P,Y){var ft=P.type;return ft===tt?Q(V,D,P.props.children,Y,P.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&bs(ft)===D.type)?(D=h(D,P.props),Mo(D,P),D.return=V,D):(D=_u(P.type,P.key,P.props,null,V.mode,Y),Mo(D,P),D.return=V,D)}function j(V,D,P,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Uh(P,V.mode,Y),D.return=V,D):(D=h(D,P.children||[]),D.return=V,D)}function Q(V,D,P,Y,ft){return D===null||D.tag!==7?(D=vs(P,V.mode,Y,ft),D.return=V,D):(D=h(D,P),D.return=V,D)}function X(V,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Vh(""+D,V.mode,P),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return P=_u(D.type,D.key,D.props,null,V.mode,P),Mo(P,D),P.return=V,P;case Z:return D=Uh(D,V.mode,P),D.return=V,D;case b:return D=bs(D),X(V,D,P)}if(ye(D)||U(D))return D=vs(D,V.mode,P,null),D.return=V,D;if(typeof D.then=="function")return X(V,wu(D),P);if(D.$$typeof===mt)return X(V,Tu(V,D),P);Ru(V,D)}return null}function z(V,D,P,Y){var ft=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(V,D,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===ft?R(V,D,P,Y):null;case Z:return P.key===ft?j(V,D,P,Y):null;case b:return P=bs(P),z(V,D,P,Y)}if(ye(P)||U(P))return ft!==null?null:Q(V,D,P,Y,null);if(typeof P.then=="function")return z(V,D,wu(P),Y);if(P.$$typeof===mt)return z(V,D,Tu(V,P),Y);Ru(V,P)}return null}function B(V,D,P,Y,ft){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return V=V.get(P)||null,E(D,V,""+Y,ft);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:return V=V.get(Y.key===null?P:Y.key)||null,R(D,V,Y,ft);case Z:return V=V.get(Y.key===null?P:Y.key)||null,j(D,V,Y,ft);case b:return Y=bs(Y),B(V,D,P,Y,ft)}if(ye(Y)||U(Y))return V=V.get(P)||null,Q(D,V,Y,ft,null);if(typeof Y.then=="function")return B(V,D,P,wu(Y),ft);if(Y.$$typeof===mt)return B(V,D,P,Tu(D,Y),ft);Ru(D,Y)}return null}function rt(V,D,P,Y){for(var ft=null,Bt=null,ut=D,Rt=D=0,Vt=null;ut!==null&&Rt<P.length;Rt++){ut.index>Rt?(Vt=ut,ut=null):Vt=ut.sibling;var qt=z(V,ut,P[Rt],Y);if(qt===null){ut===null&&(ut=Vt);break}e&&ut&&qt.alternate===null&&n(V,ut),D=f(qt,D,Rt),Bt===null?ft=qt:Bt.sibling=qt,Bt=qt,ut=Vt}if(Rt===P.length)return s(V,ut),kt&&Ri(V,Rt),ft;if(ut===null){for(;Rt<P.length;Rt++)ut=X(V,P[Rt],Y),ut!==null&&(D=f(ut,D,Rt),Bt===null?ft=ut:Bt.sibling=ut,Bt=ut);return kt&&Ri(V,Rt),ft}for(ut=o(ut);Rt<P.length;Rt++)Vt=B(ut,V,Rt,P[Rt],Y),Vt!==null&&(e&&Vt.alternate!==null&&ut.delete(Vt.key===null?Rt:Vt.key),D=f(Vt,D,Rt),Bt===null?ft=Vt:Bt.sibling=Vt,Bt=Vt);return e&&ut.forEach(function(zr){return n(V,zr)}),kt&&Ri(V,Rt),ft}function gt(V,D,P,Y){if(P==null)throw Error(a(151));for(var ft=null,Bt=null,ut=D,Rt=D=0,Vt=null,qt=P.next();ut!==null&&!qt.done;Rt++,qt=P.next()){ut.index>Rt?(Vt=ut,ut=null):Vt=ut.sibling;var zr=z(V,ut,qt.value,Y);if(zr===null){ut===null&&(ut=Vt);break}e&&ut&&zr.alternate===null&&n(V,ut),D=f(zr,D,Rt),Bt===null?ft=zr:Bt.sibling=zr,Bt=zr,ut=Vt}if(qt.done)return s(V,ut),kt&&Ri(V,Rt),ft;if(ut===null){for(;!qt.done;Rt++,qt=P.next())qt=X(V,qt.value,Y),qt!==null&&(D=f(qt,D,Rt),Bt===null?ft=qt:Bt.sibling=qt,Bt=qt);return kt&&Ri(V,Rt),ft}for(ut=o(ut);!qt.done;Rt++,qt=P.next())qt=B(ut,V,Rt,qt.value,Y),qt!==null&&(e&&qt.alternate!==null&&ut.delete(qt.key===null?Rt:qt.key),D=f(qt,D,Rt),Bt===null?ft=qt:Bt.sibling=qt,Bt=qt);return e&&ut.forEach(function(kA){return n(V,kA)}),kt&&Ri(V,Rt),ft}function Zt(V,D,P,Y){if(typeof P=="object"&&P!==null&&P.type===tt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var ft=P.key;D!==null;){if(D.key===ft){if(ft=P.type,ft===tt){if(D.tag===7){s(V,D.sibling),Y=h(D,P.props.children),Y.return=V,V=Y;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&bs(ft)===D.type){s(V,D.sibling),Y=h(D,P.props),Mo(Y,P),Y.return=V,V=Y;break t}s(V,D);break}else n(V,D);D=D.sibling}P.type===tt?(Y=vs(P.props.children,V.mode,Y,P.key),Y.return=V,V=Y):(Y=_u(P.type,P.key,P.props,null,V.mode,Y),Mo(Y,P),Y.return=V,V=Y)}return y(V);case Z:t:{for(ft=P.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(V,D.sibling),Y=h(D,P.children||[]),Y.return=V,V=Y;break t}else{s(V,D);break}else n(V,D);D=D.sibling}Y=Uh(P,V.mode,Y),Y.return=V,V=Y}return y(V);case b:return P=bs(P),Zt(V,D,P,Y)}if(ye(P))return rt(V,D,P,Y);if(U(P)){if(ft=U(P),typeof ft!="function")throw Error(a(150));return P=ft.call(P),gt(V,D,P,Y)}if(typeof P.then=="function")return Zt(V,D,wu(P),Y);if(P.$$typeof===mt)return Zt(V,D,Tu(V,P),Y);Ru(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(V,D.sibling),Y=h(D,P),Y.return=V,V=Y):(s(V,D),Y=Vh(P,V.mode,Y),Y.return=V,V=Y),y(V)):s(V,D)}return function(V,D,P,Y){try{xo=0;var ft=Zt(V,D,P,Y);return pa=null,ft}catch(ut){if(ut===ga||ut===Su)throw ut;var Bt=En(29,ut,null,V.mode);return Bt.lanes=Y,Bt.return=V,Bt}finally{}}}var Rs=Og(!0),xg=Og(!1),Sr=!1;function Kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function br(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wr(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=yu(e),gg(e,null,s),n}return pu(e,o,n,s),yu(e)}function Vo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,ir(e,s)}}function Xh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var $h=!1;function Uo(){if($h){var e=ma;if(e!==null)throw e}}function ko(e,n,s,o){$h=!1;var h=e.updateQueue;Sr=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,j=R.next;R.next=null,y===null?f=j:y.next=j,y=R;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=j:E.next=j,Q.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;y=0,Q=j=R=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Mt&z)===z:(o&z)===z){z!==0&&z===da&&($h=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,gt=E;z=n;var Zt=s;switch(gt.tag){case 1:if(rt=gt.payload,typeof rt=="function"){X=rt.call(Zt,X,z);break t}X=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=gt.payload,z=typeof rt=="function"?rt.call(Zt,X,z):rt,z==null)break t;X=S({},X,z);break t;case 2:Sr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(j=Q=B,R=X):Q=Q.next=B,y|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);Q===null&&(R=X),h.baseState=R,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Dr|=y,e.lanes=y,e.memoizedState=X}}function Mg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Vg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Mg(s[e],n)}var ya=C(null),Iu=C(0);function Ug(e,n){e=Li,$(Iu,e),$(ya,n),Li=e|n.baseLanes}function Jh(){$(Iu,Li),$(ya,ya.current)}function Zh(){Li=Iu.current,F(ya),F(Iu)}var Tn=C(null),kn=null;function Rr(e){var n=e.alternate;$(me,me.current&1),$(Tn,e),kn===null&&(n===null||ya.current!==null||n.memoizedState!==null)&&(kn=e)}function Wh(e){$(me,me.current),$(Tn,e),kn===null&&(kn=e)}function kg(e){e.tag===22?($(me,me.current),$(Tn,e),kn===null&&(kn=e)):Ir()}function Ir(){$(me,me.current),$(Tn,Tn.current)}function An(e){F(Tn),kn===e&&(kn=null),F(me)}var me=C(0);function Cu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ad(s)||od(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ni=0,bt=null,$t=null,Ee=null,Nu=!1,_a=!1,Is=!1,Du=0,Lo=0,va=null,RT=0;function he(){throw Error(a(321))}function tf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!vn(e[s],n[s]))return!1;return!0}function ef(e,n,s,o,h,f){return Ni=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?vp:yf,Is=!1,f=s(o,h),Is=!1,_a&&(f=Pg(n,s,o,h)),Lg(e),f}function Lg(e){G.H=zo;var n=$t!==null&&$t.next!==null;if(Ni=0,Ee=$t=bt=null,Nu=!1,Lo=0,va=null,n)throw Error(a(300));e===null||Te||(e=e.dependencies,e!==null&&Eu(e)&&(Te=!0))}function Pg(e,n,s,o){bt=e;var h=0;do{if(_a&&(va=null),Lo=0,_a=!1,25<=h)throw Error(a(301));if(h+=1,Ee=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Ep,f=n(s,o)}while(_a);return f}function IT(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Po(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(bt.flags|=1024),n}function nf(){var e=Du!==0;return Du=0,e}function rf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function sf(e){if(Nu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Nu=!1}Ni=0,Ee=$t=bt=null,_a=!1,Lo=Du=0,va=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?bt.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function ge(){if($t===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=Ee===null?bt.memoizedState:Ee.next;if(n!==null)Ee=n,$t=e;else{if(e===null)throw bt.alternate===null?Error(a(467)):Error(a(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ee===null?bt.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Po(e){var n=Lo;return Lo+=1,va===null&&(va=[]),e=Cg(va,e,n),n=bt,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?vp:yf),e}function xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Po(e);if(e.$$typeof===mt)return je(e)}throw Error(a(438,String(e)))}function af(e){var n=null,s=bt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Ou(),bt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=O;return n.index++,s}function Di(e,n){return typeof n=="function"?n(e):n}function Mu(e){var n=ge();return of(n,$t,e)}function of(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,R=null,j=n,Q=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Mt&X)===X:(Ni&X)===X){var z=j.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===da&&(Q=!0);else if((Ni&z)===z){j=j.next,z===da&&(Q=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=X,y=f):R=R.next=X,bt.lanes|=z,Dr|=z;X=j.action,Is&&s(f,X),f=j.hasEagerState?j.eagerState:s(f,X)}else z={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=z,y=f):R=R.next=z,bt.lanes|=X,Dr|=X;j=j.next}while(j!==null&&j!==n);if(R===null?y=f:R.next=E,!vn(f,e.memoizedState)&&(Te=!0,Q&&(s=ma,s!==null)))throw s;e.memoizedState=f,e.baseState=y,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function lf(e){var n=ge(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);vn(f,n.memoizedState)||(Te=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function jg(e,n,s){var o=bt,h=ge(),f=kt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var y=!vn(($t||h).memoizedState,s);if(y&&(h.memoizedState=s,Te=!0),h=h.queue,hf(qg.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||Ee!==null&&Ee.memoizedState.tag&1){if(o.flags|=2048,Ea(9,{destroy:void 0},Bg.bind(null,o,h,s,n),null),Wt===null)throw Error(a(349));f||(Ni&127)!==0||zg(o,n,s)}return s}function zg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=bt.updateQueue,n===null?(n=Ou(),bt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Bg(e,n,s,o){n.value=s,n.getSnapshot=o,Hg(n)&&Fg(e)}function qg(e,n,s){return s(function(){Hg(n)&&Fg(e)})}function Hg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!vn(e,s)}catch{return!0}}function Fg(e){var n=_s(e,2);n!==null&&mn(n,e,2)}function uf(e){var n=an();if(typeof e=="function"){var s=e;if(e=s(),Is){In(!0);try{s()}finally{In(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:e},n}function Gg(e,n,s,o){return e.baseState=s,of(e,$t,typeof o=="function"?o:Di)}function CT(e,n,s,o,h){if(ku(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Qg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Qg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,y={};G.T=y;try{var E=s(h,o),R=G.S;R!==null&&R(y,E),Kg(e,n,E)}catch(j){cf(e,n,j)}finally{f!==null&&y.types!==null&&(f.types=y.types),G.T=f}}else try{f=s(h,o),Kg(e,n,f)}catch(j){cf(e,n,j)}}function Kg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Yg(e,n,o)},function(o){return cf(e,n,o)}):Yg(e,n,s)}function Yg(e,n,s){n.status="fulfilled",n.value=s,Xg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Qg(e,s)))}function cf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Xg(n),n=n.next;while(n!==o)}e.action=null}function Xg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function $g(e,n){return n}function Jg(e,n){if(kt){var s=Wt.formState;if(s!==null){t:{var o=bt;if(kt){if(ie){e:{for(var h=ie,f=Un;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=Ln(h.nextSibling),o=h.data==="F!";break t}}Tr(o)}o=!1}o&&(n=s[0])}}return s=an(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:n},s.queue=o,s=pp.bind(null,bt,o),o.dispatch=s,o=uf(!1),f=pf.bind(null,bt,!1,o.queue),o=an(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=CT.bind(null,bt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Zg(e){var n=ge();return Wg(n,$t,e)}function Wg(e,n,s){if(n=of(e,n,$g)[0],e=Mu(Di)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Po(n)}catch(y){throw y===ga?Su:y}else o=n;n=ge();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(bt.flags|=2048,Ea(9,{destroy:void 0},NT.bind(null,h,s),null)),[o,f,e]}function NT(e,n){e.action=n}function tp(e){var n=ge(),s=$t;if(s!==null)return Wg(n,s,e);ge(),n=n.memoizedState,s=ge();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ea(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=Ou(),bt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function ep(){return ge().memoizedState}function Vu(e,n,s,o){var h=an();bt.flags|=e,h.memoizedState=Ea(1|n,{destroy:void 0},s,o===void 0?null:o)}function Uu(e,n,s,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;$t!==null&&o!==null&&tf(o,$t.memoizedState.deps)?h.memoizedState=Ea(n,f,s,o):(bt.flags|=e,h.memoizedState=Ea(1|n,f,s,o))}function np(e,n){Vu(8390656,8,e,n)}function hf(e,n){Uu(2048,8,e,n)}function DT(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=Ou(),bt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function ip(e){var n=ge().memoizedState;return DT({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function rp(e,n){return Uu(4,2,e,n)}function sp(e,n){return Uu(4,4,e,n)}function ap(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function op(e,n,s){s=s!=null?s.concat([e]):null,Uu(4,4,ap.bind(null,n,e),s)}function ff(){}function lp(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&tf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function up(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&tf(n,o[1]))return o[0];if(o=e(),Is){In(!0);try{e()}finally{In(!1)}}return s.memoizedState=[o,n],o}function df(e,n,s){return s===void 0||(Ni&1073741824)!==0&&(Mt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=cy(),bt.lanes|=e,Dr|=e,s)}function cp(e,n,s,o){return vn(s,n)?s:ya.current!==null?(e=df(e,s,o),vn(e,n)||(Te=!0),e):(Ni&42)===0||(Ni&1073741824)!==0&&(Mt&261930)===0?(Te=!0,e.memoizedState=s):(e=cy(),bt.lanes|=e,Dr|=e,n)}function hp(e,n,s,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=G.T,E={};G.T=E,pf(e,!1,n,s);try{var R=h(),j=G.S;if(j!==null&&j(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=wT(R,o);jo(e,n,Q,wn(e))}else jo(e,n,o,wn(e))}catch(X){jo(e,n,{then:function(){},status:"rejected",reason:X},wn())}finally{nt.p=f,y!==null&&E.types!==null&&(y.types=E.types),G.T=y}}function OT(){}function mf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=fp(e).queue;hp(e,h,n,ht,s===null?OT:function(){return dp(e),s(o)})}function fp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function dp(e){var n=fp(e);n.next===null&&(n=e.alternate.memoizedState),jo(e,n.next.queue,{},wn())}function gf(){return je(nl)}function mp(){return ge().memoizedState}function gp(){return ge().memoizedState}function xT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=wn();e=br(s);var o=wr(n,e,s);o!==null&&(mn(o,n,s),Vo(o,n,s)),n={cache:Hh()},e.payload=n;return}n=n.return}}function MT(e,n,s){var o=wn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ku(e)?yp(n,s):(s=xh(e,n,s,o),s!==null&&(mn(s,e,o),_p(s,n,o)))}function pp(e,n,s){var o=wn();jo(e,n,s,o)}function jo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ku(e))yp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,s);if(h.hasEagerState=!0,h.eagerState=E,vn(E,y))return pu(e,n,h,0),Wt===null&&gu(),!1}catch{}finally{}if(s=xh(e,n,h,o),s!==null)return mn(s,e,o),_p(s,n,o),!0}return!1}function pf(e,n,s,o){if(o={lane:2,revertLane:Yf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ku(e)){if(n)throw Error(a(479))}else n=xh(e,s,o,2),n!==null&&mn(n,e,2)}function ku(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function yp(e,n){_a=Nu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function _p(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,ir(e,s)}}var zo={readContext:je,use:xu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};zo.useEffectEvent=he;var vp={readContext:je,use:xu,useCallback:function(e,n){return an().memoizedState=[e,n===void 0?null:n],e},useContext:je,useEffect:np,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Vu(4194308,4,ap.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Vu(4194308,4,e,n)},useInsertionEffect:function(e,n){Vu(4,2,e,n)},useMemo:function(e,n){var s=an();n=n===void 0?null:n;var o=e();if(Is){In(!0);try{e()}finally{In(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=an();if(s!==void 0){var h=s(n);if(Is){In(!0);try{s(n)}finally{In(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=MT.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=an();return e={current:e},n.memoizedState=e},useState:function(e){e=uf(e);var n=e.queue,s=pp.bind(null,bt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:ff,useDeferredValue:function(e,n){var s=an();return df(s,e,n)},useTransition:function(){var e=uf(!1);return e=hp.bind(null,bt,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=bt,h=an();if(kt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Wt===null)throw Error(a(349));(Mt&127)!==0||zg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,np(qg.bind(null,o,f,e),[e]),o.flags|=2048,Ea(9,{destroy:void 0},Bg.bind(null,o,f,s,n),null),s},useId:function(){var e=an(),n=Wt.identifierPrefix;if(kt){var s=ri,o=ii;s=(o&~(1<<32-tn(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Du++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=RT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:gf,useFormState:Jg,useActionState:Jg,useOptimistic:function(e){var n=an();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=pf.bind(null,bt,!0,s),s.dispatch=n,[e,n]},useMemoCache:af,useCacheRefresh:function(){return an().memoizedState=xT.bind(null,bt)},useEffectEvent:function(e){var n=an(),s={impl:e};return n.memoizedState=s,function(){if((Ft&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},yf={readContext:je,use:xu,useCallback:lp,useContext:je,useEffect:hf,useImperativeHandle:op,useInsertionEffect:rp,useLayoutEffect:sp,useMemo:up,useReducer:Mu,useRef:ep,useState:function(){return Mu(Di)},useDebugValue:ff,useDeferredValue:function(e,n){var s=ge();return cp(s,$t.memoizedState,e,n)},useTransition:function(){var e=Mu(Di)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Po(e),n]},useSyncExternalStore:jg,useId:mp,useHostTransitionStatus:gf,useFormState:Zg,useActionState:Zg,useOptimistic:function(e,n){var s=ge();return Gg(s,$t,e,n)},useMemoCache:af,useCacheRefresh:gp};yf.useEffectEvent=ip;var Ep={readContext:je,use:xu,useCallback:lp,useContext:je,useEffect:hf,useImperativeHandle:op,useInsertionEffect:rp,useLayoutEffect:sp,useMemo:up,useReducer:lf,useRef:ep,useState:function(){return lf(Di)},useDebugValue:ff,useDeferredValue:function(e,n){var s=ge();return $t===null?df(s,e,n):cp(s,$t.memoizedState,e,n)},useTransition:function(){var e=lf(Di)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Po(e),n]},useSyncExternalStore:jg,useId:mp,useHostTransitionStatus:gf,useFormState:tp,useActionState:tp,useOptimistic:function(e,n){var s=ge();return $t!==null?Gg(s,$t,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:af,useCacheRefresh:gp};Ep.useEffectEvent=ip;function _f(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var vf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=wn(),h=br(o);h.payload=n,s!=null&&(h.callback=s),n=wr(e,h,o),n!==null&&(mn(n,e,o),Vo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=wn(),h=br(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=wr(e,h,o),n!==null&&(mn(n,e,o),Vo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=wn(),o=br(s);o.tag=2,n!=null&&(o.callback=n),n=wr(e,o,s),n!==null&&(mn(n,e,s),Vo(n,e,s))}};function Tp(e,n,s,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ro(s,o)||!Ro(h,f):!0}function Ap(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&vf.enqueueReplaceState(n,n.state,null)}function Cs(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Sp(e){mu(e)}function bp(e){console.error(e)}function wp(e){mu(e)}function Lu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Rp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ef(e,n,s){return s=br(s),s.tag=3,s.payload={element:null},s.callback=function(){Lu(e,n)},s}function Ip(e){return e=br(e),e.tag=3,e}function Cp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Rp(n,s,o)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Rp(n,s,o),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function VT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&fa(n,s,h,!0),s=Tn.current,s!==null){switch(s.tag){case 31:case 13:return kn===null?Xu():s.alternate===null&&fe===0&&(fe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===bu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Gf(e,o,h)),!1;case 22:return s.flags|=65536,o===bu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Gf(e,o,h)),!1}throw Error(a(435,s.tag))}return Gf(e,o,h),Xu(),!1}if(kt)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Ph&&(e=Error(a(422),{cause:o}),No(xn(e,s)))):(o!==Ph&&(n=Error(a(423),{cause:o}),No(xn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=xn(o,s),h=Ef(e.stateNode,o,h),Xh(e,h),fe!==4&&(fe=2)),!1;var f=Error(a(520),{cause:o});if(f=xn(f,s),Yo===null?Yo=[f]:Yo.push(f),fe!==4&&(fe=2),n===null)return!0;o=xn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Ef(s.stateNode,o,e),Xh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Or===null||!Or.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Ip(h),Cp(h,e,s,o),Xh(s,h),!1}s=s.return}while(s!==null);return!1}var Tf=Error(a(461)),Te=!1;function ze(e,n,s,o){n.child=e===null?xg(n,null,s,o):Rs(n,e.child,s,o)}function Np(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return As(n),o=ef(e,n,s,y,f,h),E=nf(),e!==null&&!Te?(rf(e,n,h),Oi(e,n,h)):(kt&&E&&kh(n),n.flags|=1,ze(e,n,o,h),n.child)}function Dp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Mh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Op(e,n,f,o,h)):(e=_u(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Nf(e,h)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ro,s(y,o)&&e.ref===n.ref)return Oi(e,n,h)}return n.flags|=1,e=wi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Op(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Ro(f,o)&&e.ref===n.ref)if(Te=!1,n.pendingProps=o=f,Nf(e,h))(e.flags&131072)!==0&&(Te=!0);else return n.lanes=e.lanes,Oi(e,n,h)}return Af(e,n,s,o,h)}function xp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Mp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Au(n,f!==null?f.cachePool:null),f!==null?Ug(n,f):Jh(),kg(n);else return o=n.lanes=536870912,Mp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Au(n,f.cachePool),Ug(n,f),Ir(),n.memoizedState=null):(e!==null&&Au(n,null),Jh(),Ir());return ze(e,n,h,s),n.child}function Bo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Mp(e,n,s,o,h){var f=Gh();return f=f===null?null:{parent:ve._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Au(n,null),Jh(),kg(n),e!==null&&fa(e,n,o,!0),n.childLanes=h,null}function Pu(e,n){return n=zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Vp(e,n,s){return Rs(n,e.child,null,s),e=Pu(n,n.pendingProps),e.flags|=2,An(n),n.memoizedState=null,e}function UT(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(o.mode==="hidden")return e=Pu(n,o),n.lanes=536870912,Bo(null,e);if(Wh(n),(e=ie)?(e=Qy(e,Un),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vr!==null?{id:ii,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},s=yg(e),s.return=n,n.child=s,Pe=n,ie=null)):e=null,e===null)throw Tr(n);return n.lanes=536870912,null}return Pu(n,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(Wh(n),h)if(n.flags&256)n.flags&=-257,n=Vp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Te||fa(e,n,s,!1),h=(s&e.childLanes)!==0,Te||h){if(o=Wt,o!==null&&(y=rr(o,s),y!==0&&y!==f.retryLane))throw f.retryLane=y,_s(e,y),mn(o,e,y),Tf;Xu(),n=Vp(e,n,s)}else e=f.treeContext,ie=Ln(y.nextSibling),Pe=n,kt=!0,Er=null,Un=!1,e!==null&&Eg(n,e),n=Pu(n,o),n.flags|=4096;return n}return e=wi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ju(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Af(e,n,s,o,h){return As(n),s=ef(e,n,s,o,void 0,h),o=nf(),e!==null&&!Te?(rf(e,n,h),Oi(e,n,h)):(kt&&o&&kh(n),n.flags|=1,ze(e,n,s,h),n.child)}function Up(e,n,s,o,h,f){return As(n),n.updateQueue=null,s=Pg(n,o,s,h),Lg(e),o=nf(),e!==null&&!Te?(rf(e,n,f),Oi(e,n,f)):(kt&&o&&kh(n),n.flags|=1,ze(e,n,s,f),n.child)}function kp(e,n,s,o,h){if(As(n),n.stateNode===null){var f=la,y=s.contextType;typeof y=="object"&&y!==null&&(f=je(y)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Kh(n),y=s.contextType,f.context=typeof y=="object"&&y!==null?je(y):la,f.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(_f(n,s,y,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&vf.enqueueReplaceState(f,f.state,null),ko(n,o,f,h),Uo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Cs(s,E);f.props=R;var j=f.context,Q=s.contextType;y=la,typeof Q=="object"&&Q!==null&&(y=je(Q));var X=s.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==y)&&Ap(n,f,o,y),Sr=!1;var z=n.memoizedState;f.state=z,ko(n,o,f,h),Uo(),j=n.memoizedState,E||z!==j||Sr?(typeof X=="function"&&(_f(n,s,X,o),j=n.memoizedState),(R=Sr||Tp(n,s,R,o,z,j,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=y,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Yh(e,n),y=n.memoizedProps,Q=Cs(s,y),f.props=Q,X=n.pendingProps,z=f.context,j=s.contextType,R=la,typeof j=="object"&&j!==null&&(R=je(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||z!==R)&&Ap(n,f,o,R),Sr=!1,z=n.memoizedState,f.state=z,ko(n,o,f,h),Uo();var B=n.memoizedState;y!==X||z!==B||Sr||e!==null&&e.dependencies!==null&&Eu(e.dependencies)?(typeof E=="function"&&(_f(n,s,E,o),B=n.memoizedState),(Q=Sr||Tp(n,s,Q,o,z,B,R)||e!==null&&e.dependencies!==null&&Eu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=R,o=Q):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Rs(n,e.child,null,h),n.child=Rs(n,null,s,h)):ze(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Oi(e,n,h),e}function Lp(e,n,s,o){return Es(),n.flags|=256,ze(e,n,s,o),n.child}var Sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bf(e){return{baseLanes:e,cachePool:Rg()}}function wf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=bn),e}function Pp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?Rr(n):Ir(),(e=ie)?(e=Qy(e,Un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vr!==null?{id:ii,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},s=yg(e),s.return=n,n.child=s,Pe=n,ie=null)):e=null,e===null)throw Tr(n);return od(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ir(),h=n.mode,E=zu({mode:"hidden",children:E},h),o=vs(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=bf(s),o.childLanes=wf(e,y,s),n.memoizedState=Sf,Bo(null,o)):(Rr(n),Rf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Rr(n),n.flags&=-257,n=If(e,n,s)):n.memoizedState!==null?(Ir(),n.child=e.child,n.flags|=128,n=null):(Ir(),E=o.fallback,h=n.mode,o=zu({mode:"visible",children:o.children},h),E=vs(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Rs(n,e.child,null,s),o=n.child,o.memoizedState=bf(s),o.childLanes=wf(e,y,s),n.memoizedState=Sf,n=Bo(null,o));else if(Rr(n),od(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var j=y.dgst;y=j,o=Error(a(419)),o.stack="",o.digest=y,No({value:o,source:null,stack:null}),n=If(e,n,s)}else if(Te||fa(e,n,s,!1),y=(s&e.childLanes)!==0,Te||y){if(y=Wt,y!==null&&(o=rr(y,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,_s(e,o),mn(y,e,o),Tf;ad(E)||Xu(),n=If(e,n,s)}else ad(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ie=Ln(E.nextSibling),Pe=n,kt=!0,Er=null,Un=!1,e!==null&&Eg(n,e),n=Rf(n,o.children),n.flags|=4096);return n}return h?(Ir(),E=o.fallback,h=n.mode,R=e.child,j=R.sibling,o=wi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,j!==null?E=wi(j,E):(E=vs(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Bo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=bf(s):(h=E.cachePool,h!==null?(R=ve._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Rg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=wf(e,y,s),n.memoizedState=Sf,Bo(e.child,o)):(Rr(n),s=e.child,e=s.sibling,s=wi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=s,n.memoizedState=null,s)}function Rf(e,n){return n=zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function zu(e,n){return e=En(22,e,null,n),e.lanes=0,e}function If(e,n,s){return Rs(n,e.child,null,s),e=Rf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function jp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Bh(e.return,n,s)}function Cf(e,n,s,o,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=s,y.tailMode=h,y.treeForkCount=f)}function zp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=me.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,$(me,y),ze(e,n,o,s),o=kt?Co:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jp(e,s,n);else if(e.tag===19)jp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Cu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Cf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Cu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Cf(n,!0,s,null,f,o);break;case"together":Cf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Oi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Dr|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(fa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=wi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=wi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Nf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Eu(e)))}function kT(e,n,s){switch(n.tag){case 3:ee(n,n.stateNode.containerInfo),Ar(n,ve,e.memoizedState.cache),Es();break;case 27:case 5:te(n);break;case 4:ee(n,n.stateNode.containerInfo);break;case 10:Ar(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Wh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Rr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Pp(e,n,s):(Rr(n),e=Oi(e,n,s),e!==null?e.sibling:null);Rr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(fa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return zp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$(me,me.current),o)break;return null;case 22:return n.lanes=0,xp(e,n,s,n.pendingProps);case 24:Ar(n,ve,e.memoizedState.cache)}return Oi(e,n,s)}function Bp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Te=!0;else{if(!Nf(e,s)&&(n.flags&128)===0)return Te=!1,kT(e,n,s);Te=(e.flags&131072)!==0}else Te=!1,kt&&(n.flags&1048576)!==0&&vg(n,Co,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=bs(n.elementType),n.type=e,typeof e=="function")Mh(e)?(o=Cs(e,o),n.tag=1,n=kp(null,n,e,o,s)):(n.tag=0,n=Af(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Ct){n.tag=11,n=Np(null,n,e,o,s);break t}else if(h===N){n.tag=14,n=Dp(null,n,e,o,s);break t}}throw n=le(e)||e,Error(a(306,n,""))}}return n;case 0:return Af(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Cs(o,n.pendingProps),kp(e,n,o,h,s);case 3:t:{if(ee(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Yh(e,n),ko(n,o,null,s);var y=n.memoizedState;if(o=y.cache,Ar(n,ve,o),o!==f.cache&&qh(n,[ve],s,!0),Uo(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Lp(e,n,o,s);break t}else if(o!==h){h=xn(Error(a(424)),n),No(h),n=Lp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ie=Ln(e.firstChild),Pe=n,kt=!0,Er=null,Un=!0,s=xg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Es(),o===h){n=Oi(e,n,s);break t}ze(e,n,o,s)}n=n.child}return n;case 26:return ju(e,n),e===null?(s=Zy(n.type,null,n.pendingProps,null))?n.memoizedState=s:kt||(s=n.type,e=n.pendingProps,o=nc(yt.current).createElement(s),o[ue]=n,o[Le]=e,Be(o,s,e),de(o),n.stateNode=o):n.memoizedState=Zy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return te(n),e===null&&kt&&(o=n.stateNode=Xy(n.type,n.pendingProps,yt.current),Pe=n,Un=!0,h=ie,Ur(n.type)?(ld=h,ie=Ln(o.firstChild)):ie=h),ze(e,n,n.pendingProps.children,s),ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=o=ie)&&(o=fA(o,n.type,n.pendingProps,Un),o!==null?(n.stateNode=o,Pe=n,ie=Ln(o.firstChild),Un=!1,h=!0):h=!1),h||Tr(n)),te(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,id(h,f)?o=null:y!==null&&id(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=ef(e,n,IT,null,null,s),nl._currentValue=h),ju(e,n),ze(e,n,o,s),n.child;case 6:return e===null&&kt&&((e=s=ie)&&(s=dA(s,n.pendingProps,Un),s!==null?(n.stateNode=s,Pe=n,ie=null,e=!0):e=!1),e||Tr(n)),null;case 13:return Pp(e,n,s);case 4:return ee(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Rs(n,null,o,s):ze(e,n,o,s),n.child;case 11:return Np(e,n,n.type,n.pendingProps,s);case 7:return ze(e,n,n.pendingProps,s),n.child;case 8:return ze(e,n,n.pendingProps.children,s),n.child;case 12:return ze(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ar(n,n.type,o.value),ze(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,As(n),h=je(h),o=o(h),n.flags|=1,ze(e,n,o,s),n.child;case 14:return Dp(e,n,n.type,n.pendingProps,s);case 15:return Op(e,n,n.type,n.pendingProps,s);case 19:return zp(e,n,s);case 31:return UT(e,n,s);case 22:return xp(e,n,s,n.pendingProps);case 24:return As(n),o=je(ve),e===null?(h=Gh(),h===null&&(h=Wt,f=Hh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Kh(n),Ar(n,ve,h)):((e.lanes&s)!==0&&(Yh(e,n),ko(n,null,null,s),Uo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ar(n,ve,o)):(o=f.cache,Ar(n,ve,o),o!==h.cache&&qh(n,[ve],s,!0))),ze(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function xi(e){e.flags|=4}function Df(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(my())e.flags|=8192;else throw ws=bu,Qh}else e.flags&=-16777217}function qp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!i_(n))if(my())e.flags|=8192;else throw ws=bu,Qh}function Bu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?oo():536870912,e.lanes|=n,ba|=n)}function qo(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function LT(e,n,s){var o=n.pendingProps;switch(Lh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ci(ve),xt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ha(n)?xi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,jh())),re(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(xi(n),f!==null?(re(n),qp(n,f)):(re(n),Df(n,h,null,o,s))):f?f!==e.memoizedState?(xi(n),re(n),qp(n,f)):(re(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&xi(n),re(n),Df(n,h,e,o,s)),null;case 27:if(Qe(n),s=yt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&xi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return re(n),null}e=it.current,ha(n)?Tg(n):(e=Xy(h,o,s),n.stateNode=e,xi(n))}return re(n),null;case 5:if(Qe(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&xi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return re(n),null}if(f=it.current,ha(n))Tg(n);else{var y=nc(yt.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[ue]=n,f[Le]=o;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(Be(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&xi(n)}}return re(n),Df(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&xi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=yt.current,ha(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Pe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ue]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Py(e.nodeValue,s)),e||Tr(n,!0)}else e=nc(e).createTextNode(o),e[ue]=n,n.stateNode=e}return re(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ha(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ue]=n}else Es(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),e=!1}else s=jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(An(n),n):(An(n),null);if((n.flags&128)!==0)throw Error(a(558))}return re(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ha(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ue]=n}else Es(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),h=!1}else h=jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(An(n),n):(An(n),null)}return An(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Bu(n,n.updateQueue),re(n),null);case 4:return xt(),e===null&&Zf(n.stateNode.containerInfo),re(n),null;case 10:return Ci(n.type),re(n),null;case 19:if(F(me),o=n.memoizedState,o===null)return re(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)qo(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Cu(e),f!==null){for(n.flags|=128,qo(o,!1),e=f.updateQueue,n.updateQueue=e,Bu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)pg(s,e),s=s.sibling;return $(me,me.current&1|2),kt&&Ri(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ue()>Qu&&(n.flags|=128,h=!0,qo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Cu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Bu(n,e),qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!kt)return re(n),null}else 2*Ue()-o.renderingStartTime>Qu&&s!==536870912&&(n.flags|=128,h=!0,qo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ue(),e.sibling=null,s=me.current,$(me,h?s&1|2:s&1),kt&&Ri(n,o.treeForkCount),e):(re(n),null);case 22:case 23:return An(n),Zh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),s=n.updateQueue,s!==null&&Bu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&F(Ss),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ci(ve),re(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function PT(e,n){switch(Lh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ci(ve),xt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Qe(n),null;case 31:if(n.memoizedState!==null){if(An(n),n.alternate===null)throw Error(a(340));Es()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(An(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Es()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return F(me),null;case 4:return xt(),null;case 10:return Ci(n.type),null;case 22:case 23:return An(n),Zh(),e!==null&&F(Ss),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ci(ve),null;case 25:return null;default:return null}}function Hp(e,n){switch(Lh(n),n.tag){case 3:Ci(ve),xt();break;case 26:case 27:case 5:Qe(n);break;case 4:xt();break;case 31:n.memoizedState!==null&&An(n);break;case 13:An(n);break;case 19:F(me);break;case 10:Ci(n.type);break;case 22:case 23:An(n),Zh(),e!==null&&F(Ss);break;case 24:Ci(ve)}}function Ho(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,y=s.inst;o=f(),y.destroy=o}s=s.next}while(s!==h)}}catch(E){Yt(n,n.return,E)}}function Cr(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var R=s,j=E;try{j()}catch(Q){Yt(h,R,Q)}}}o=o.next}while(o!==f)}}catch(Q){Yt(n,n.return,Q)}}function Fp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Vg(n,s)}catch(o){Yt(e,e.return,o)}}}function Gp(e,n,s){s.props=Cs(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Yt(e,n,o)}}function Fo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Yt(e,n,h)}}function si(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Yt(e,n,h)}else s.current=null}function Qp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Yt(e,e.return,h)}}function Of(e,n,s){try{var o=e.stateNode;aA(o,e.type,s,n),o[Le]=n}catch(h){Yt(e,e.return,h)}}function Kp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ur(e.type)||e.tag===4}function xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Kp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ur(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=De));else if(o!==4&&(o===27&&Ur(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Mf(e,n,s),e=e.sibling;e!==null;)Mf(e,n,s),e=e.sibling}function qu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ur(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(qu(e,n,s),e=e.sibling;e!==null;)qu(e,n,s),e=e.sibling}function Yp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Be(n,o,s),n[ue]=e,n[Le]=s}catch(f){Yt(e,e.return,f)}}var Mi=!1,Ae=!1,Vf=!1,Xp=typeof WeakSet=="function"?WeakSet:Set,Me=null;function jT(e,n){if(e=e.containerInfo,ed=uc,e=og(e),Rh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var y=0,E=-1,R=-1,j=0,Q=0,X=e,z=null;e:for(;;){for(var B;X!==s||h!==0&&X.nodeType!==3||(E=y+h),X!==f||o!==0&&X.nodeType!==3||(R=y+o),X.nodeType===3&&(y+=X.nodeValue.length),(B=X.firstChild)!==null;)z=X,X=B;for(;;){if(X===e)break e;if(z===s&&++j===h&&(E=y),z===f&&++Q===o&&(R=y),(B=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=B}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(nd={focusedElem:e,selectionRange:s},uc=!1,Me=n;Me!==null;)if(n=Me,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Me=e;else for(;Me!==null;){switch(n=Me,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var rt=Cs(s.type,h);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Yt(s,s.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)sd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Me=e;break}Me=n.return}}function $p(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Ui(e,s),o&4&&Ho(5,s);break;case 1:if(Ui(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(y){Yt(s,s.return,y)}else{var h=Cs(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Yt(s,s.return,y)}}o&64&&Fp(s),o&512&&Fo(s,s.return);break;case 3:if(Ui(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Vg(e,n)}catch(y){Yt(s,s.return,y)}}break;case 27:n===null&&o&4&&Yp(s);case 26:case 5:Ui(e,s),n===null&&o&4&&Qp(s),o&512&&Fo(s,s.return);break;case 12:Ui(e,s);break;case 31:Ui(e,s),o&4&&Wp(e,s);break;case 13:Ui(e,s),o&4&&ty(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=YT.bind(null,s),mA(e,s))));break;case 22:if(o=s.memoizedState!==null||Mi,!o){n=n!==null&&n.memoizedState!==null||Ae,h=Mi;var f=Ae;Mi=o,(Ae=n)&&!f?ki(e,s,(s.subtreeFlags&8772)!==0):Ui(e,s),Mi=h,Ae=f}break;case 30:break;default:Ui(e,s)}}function Jp(e){var n=e.alternate;n!==null&&(e.alternate=null,Jp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&as(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,cn=!1;function Vi(e,n,s){for(s=s.child;s!==null;)Zp(e,n,s),s=s.sibling}function Zp(e,n,s){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Wi,s)}catch{}switch(s.tag){case 26:Ae||si(s,n),Vi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ae||si(s,n);var o=ae,h=cn;Ur(s.type)&&(ae=s.stateNode,cn=!1),Vi(e,n,s),Wo(s.stateNode),ae=o,cn=h;break;case 5:Ae||si(s,n);case 6:if(o=ae,h=cn,ae=null,Vi(e,n,s),ae=o,cn=h,ae!==null)if(cn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Yt(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Yt(s,n,f)}break;case 18:ae!==null&&(cn?(e=ae,Fy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),xa(e)):Fy(ae,s.stateNode));break;case 4:o=ae,h=cn,ae=s.stateNode.containerInfo,cn=!0,Vi(e,n,s),ae=o,cn=h;break;case 0:case 11:case 14:case 15:Cr(2,s,n),Ae||Cr(4,s,n),Vi(e,n,s);break;case 1:Ae||(si(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Gp(s,n,o)),Vi(e,n,s);break;case 21:Vi(e,n,s);break;case 22:Ae=(o=Ae)||s.memoizedState!==null,Vi(e,n,s),Ae=o;break;default:Vi(e,n,s)}}function Wp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{xa(e)}catch(s){Yt(n,n.return,s)}}}function ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xa(e)}catch(s){Yt(n,n.return,s)}}function zT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Xp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Xp),n;default:throw Error(a(435,e.tag))}}function Hu(e,n){var s=zT(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=XT.bind(null,e,o);o.then(h,h)}})}function hn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Ur(E.type)){ae=E.stateNode,cn=!1;break t}break;case 5:ae=E.stateNode,cn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(ae===null)throw Error(a(160));Zp(f,y,h),ae=null,cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ey(n,e),n=n.sibling}var Hn=null;function ey(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(n,e),fn(e),o&4&&(Cr(3,e,e.return),Ho(3,e),Cr(5,e,e.return));break;case 1:hn(n,e),fn(e),o&512&&(Ae||s===null||si(s,s.return)),o&64&&Mi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Hn;if(hn(n,e),fn(e),o&512&&(Ae||s===null||si(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[yi]||f[ue]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Be(f,o,s),f[ue]=e,de(f),o=f;break t;case"link":var y=e_("link","href",h).get(o+(s.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),Be(f,o,s),h.head.appendChild(f);break;case"meta":if(y=e_("meta","content",h).get(o+(s.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(E,1);break e}}f=h.createElement(o),Be(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ue]=e,de(f),o=f}e.stateNode=o}else n_(h,e.type,e.stateNode);else e.stateNode=t_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?n_(h,e.type,e.stateNode):t_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Of(e,e.memoizedProps,s.memoizedProps)}break;case 27:hn(n,e),fn(e),o&512&&(Ae||s===null||si(s,s.return)),s!==null&&o&4&&Of(e,e.memoizedProps,s.memoizedProps);break;case 5:if(hn(n,e),fn(e),o&512&&(Ae||s===null||si(s,s.return)),e.flags&32){h=e.stateNode;try{Dn(h,"")}catch(rt){Yt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Of(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Vf=!0);break;case 6:if(hn(n,e),fn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(rt){Yt(e,e.return,rt)}}break;case 3:if(sc=null,h=Hn,Hn=ic(n.containerInfo),hn(n,e),Hn=h,fn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{xa(n.containerInfo)}catch(rt){Yt(e,e.return,rt)}Vf&&(Vf=!1,ny(e));break;case 4:o=Hn,Hn=ic(e.stateNode.containerInfo),hn(n,e),fn(e),Hn=o;break;case 12:hn(n,e),fn(e);break;case 31:hn(n,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 13:hn(n,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Gu=Ue()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,j=Mi,Q=Ae;if(Mi=j||h,Ae=Q||R,hn(n,e),Ae=Q,Mi=j,fn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||Mi||Ae||Ns(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(rt){Yt(R,R.return,rt)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(rt){Yt(R,R.return,rt)}}}else if(n.tag===18){if(s===null){R=n;try{var B=R.stateNode;h?Gy(B,!0):Gy(R.stateNode,!1)}catch(rt){Yt(R,R.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Hu(e,s))));break;case 19:hn(n,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hu(e,o)));break;case 30:break;case 21:break;default:hn(n,e),fn(e)}}function fn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Kp(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=xf(e);qu(e,f,h);break;case 5:var y=s.stateNode;s.flags&32&&(Dn(y,""),s.flags&=-33);var E=xf(e);qu(e,E,y);break;case 3:case 4:var R=s.stateNode.containerInfo,j=xf(e);Mf(e,j,R);break;default:throw Error(a(161))}}catch(Q){Yt(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ui(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$p(e,n.alternate,n),n=n.sibling}function Ns(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Cr(4,n,n.return),Ns(n);break;case 1:si(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Gp(n,n.return,s),Ns(n);break;case 27:Wo(n.stateNode);case 26:case 5:si(n,n.return),Ns(n);break;case 22:n.memoizedState===null&&Ns(n);break;case 30:Ns(n);break;default:Ns(n)}e=e.sibling}}function ki(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ki(h,f,s),Ho(4,f);break;case 1:if(ki(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Yt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Mg(R[h],E)}catch(j){Yt(o,o.return,j)}}s&&y&64&&Fp(f),Fo(f,f.return);break;case 27:Yp(f);case 26:case 5:ki(h,f,s),s&&o===null&&y&4&&Qp(f),Fo(f,f.return);break;case 12:ki(h,f,s);break;case 31:ki(h,f,s),s&&y&4&&Wp(h,f);break;case 13:ki(h,f,s),s&&y&4&&ty(h,f);break;case 22:f.memoizedState===null&&ki(h,f,s),Fo(f,f.return);break;case 30:break;default:ki(h,f,s)}n=n.sibling}}function Uf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Do(s))}function kf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Do(e))}function Fn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)iy(e,n,s,o),n=n.sibling}function iy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(e,n,s,o),h&2048&&Ho(9,n);break;case 1:Fn(e,n,s,o);break;case 3:Fn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Do(e)));break;case 12:if(h&2048){Fn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Yt(n,n.return,R)}}else Fn(e,n,s,o);break;case 31:Fn(e,n,s,o);break;case 13:Fn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Fn(e,n,s,o):Go(e,n):f._visibility&2?Fn(e,n,s,o):(f._visibility|=2,Ta(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Uf(y,n);break;case 24:Fn(e,n,s,o),h&2048&&kf(n.alternate,n);break;default:Fn(e,n,s,o)}}function Ta(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,E=s,R=o,j=y.flags;switch(y.tag){case 0:case 11:case 15:Ta(f,y,E,R,h),Ho(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Ta(f,y,E,R,h):Go(f,y):(Q._visibility|=2,Ta(f,y,E,R,h)),h&&j&2048&&Uf(y.alternate,y);break;case 24:Ta(f,y,E,R,h),h&&j&2048&&kf(y.alternate,y);break;default:Ta(f,y,E,R,h)}n=n.sibling}}function Go(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Go(s,o),h&2048&&Uf(o.alternate,o);break;case 24:Go(s,o),h&2048&&kf(o.alternate,o);break;default:Go(s,o)}n=n.sibling}}var Qo=8192;function Aa(e,n,s){if(e.subtreeFlags&Qo)for(e=e.child;e!==null;)ry(e,n,s),e=e.sibling}function ry(e,n,s){switch(e.tag){case 26:Aa(e,n,s),e.flags&Qo&&e.memoizedState!==null&&RA(s,Hn,e.memoizedState,e.memoizedProps);break;case 5:Aa(e,n,s);break;case 3:case 4:var o=Hn;Hn=ic(e.stateNode.containerInfo),Aa(e,n,s),Hn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Qo,Qo=16777216,Aa(e,n,s),Qo=o):Aa(e,n,s));break;default:Aa(e,n,s)}}function sy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ko(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Me=o,oy(o,e)}sy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ay(e),e=e.sibling}function ay(e){switch(e.tag){case 0:case 11:case 15:Ko(e),e.flags&2048&&Cr(9,e,e.return);break;case 3:Ko(e);break;case 12:Ko(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Fu(e)):Ko(e);break;default:Ko(e)}}function Fu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Me=o,oy(o,e)}sy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Cr(8,n,n.return),Fu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Fu(n));break;default:Fu(n)}e=e.sibling}}function oy(e,n){for(;Me!==null;){var s=Me;switch(s.tag){case 0:case 11:case 15:Cr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Do(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Me=o;else t:for(s=e;Me!==null;){o=Me;var h=o.sibling,f=o.return;if(Jp(o),o===s){Me=null;break t}if(h!==null){h.return=f,Me=h;break t}Me=f}}}var BT={getCacheForType:function(e){var n=je(ve),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return je(ve).controller.signal}},qT=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Wt=null,Nt=null,Mt=0,Kt=0,Sn=null,Nr=!1,Sa=!1,Lf=!1,Li=0,fe=0,Dr=0,Ds=0,Pf=0,bn=0,ba=0,Yo=null,dn=null,jf=!1,Gu=0,ly=0,Qu=1/0,Ku=null,Or=null,Re=0,xr=null,wa=null,Pi=0,zf=0,Bf=null,uy=null,Xo=0,qf=null;function wn(){return(Ft&2)!==0&&Mt!==0?Mt&-Mt:G.T!==null?Yf():pi()}function cy(){if(bn===0)if((Mt&536870912)===0||kt){var e=Xn;Xn<<=1,(Xn&3932160)===0&&(Xn=262144),bn=e}else bn=536870912;return e=Tn.current,e!==null&&(e.flags|=32),bn}function mn(e,n,s){(e===Wt&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Ra(e,0),Mr(e,Mt,bn,!1)),nr(e,s),((Ft&2)===0||e!==Wt)&&(e===Wt&&((Ft&2)===0&&(Ds|=s),fe===4&&Mr(e,Mt,bn,!1)),ai(e))}function hy(e,n,s){if((Ft&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||er(e,n),h=o?GT(e,n):Ff(e,n,!0),f=o;do{if(h===0){Sa&&!o&&Mr(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!HT(s)){h=Ff(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=Yo;var R=E.current.memoizedState.isDehydrated;if(R&&(Ra(E,y).flags|=256),y=Ff(E,y,!1),y!==2){if(Lf&&!R){E.errorRecoveryDisabledLanes|=f,Ds|=f,h=4;break t}f=dn,dn=h,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Ra(e,0),Mr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Mr(o,n,bn,!Nr);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Gu+300-Ue(),10<h)){if(Mr(o,n,bn,!Nr),Cn(o,0,!0)!==0)break t;Pi=n,o.timeoutHandle=qy(fy.bind(null,o,s,dn,Ku,jf,n,bn,Ds,ba,Nr,f,"Throttled",-0,0),h);break t}fy(o,s,dn,Ku,jf,n,bn,Ds,ba,Nr,f,null,-0,0)}}break}while(!0);ai(e)}function fy(e,n,s,o,h,f,y,E,R,j,Q,X,z,B){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:De},ry(n,f,X);var rt=(f&62914560)===f?Gu-Ue():(f&4194048)===f?ly-Ue():0;if(rt=IA(X,rt),rt!==null){Pi=f,e.cancelPendingCommit=rt(Ey.bind(null,e,n,f,s,o,h,y,E,R,Q,X,null,z,B)),Mr(e,f,y,!j);return}}Ey(e,n,f,s,o,h,y,E,R)}function HT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!vn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Mr(e,n,s,o){n&=~Pf,n&=~Ds,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-tn(h),y=1<<f;o[f]=-1,h&=~y}s!==0&&lo(e,s,n)}function Yu(){return(Ft&6)===0?($o(0),!1):!0}function Hf(){if(Nt!==null){if(Kt===0)var e=Nt.return;else e=Nt,Ii=Ts=null,sf(e),pa=null,xo=0,e=Nt;for(;e!==null;)Hp(e.alternate,e),e=e.return;Nt=null}}function Ra(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,uA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Pi=0,Hf(),Wt=e,Nt=s=wi(e.current,null),Mt=n,Kt=0,Sn=null,Nr=!1,Sa=er(e,n),Lf=!1,ba=bn=Pf=Ds=Dr=fe=0,dn=Yo=null,jf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-tn(o),f=1<<h;n|=e[h],o&=~f}return Li=n,gu(),s}function dy(e,n){bt=null,G.H=zo,n===ga||n===Su?(n=Ng(),Kt=3):n===Qh?(n=Ng(),Kt=4):Kt=n===Tf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Sn=n,Nt===null&&(fe=1,Lu(e,xn(n,e.current)))}function my(){var e=Tn.current;return e===null?!0:(Mt&4194048)===Mt?kn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?e===kn:!1}function gy(){var e=G.H;return G.H=zo,e===null?zo:e}function py(){var e=G.A;return G.A=BT,e}function Xu(){fe=4,Nr||(Mt&4194048)!==Mt&&Tn.current!==null||(Sa=!0),(Dr&134217727)===0&&(Ds&134217727)===0||Wt===null||Mr(Wt,Mt,bn,!1)}function Ff(e,n,s){var o=Ft;Ft|=2;var h=gy(),f=py();(Wt!==e||Mt!==n)&&(Ku=null,Ra(e,n)),n=!1;var y=fe;t:do try{if(Kt!==0&&Nt!==null){var E=Nt,R=Sn;switch(Kt){case 8:Hf(),y=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var j=Kt;if(Kt=0,Sn=null,Ia(e,E,R,j),s&&Sa){y=0;break t}break;default:j=Kt,Kt=0,Sn=null,Ia(e,E,R,j)}}FT(),y=fe;break}catch(Q){dy(e,Q)}while(!0);return n&&e.shellSuspendCounter++,Ii=Ts=null,Ft=o,G.H=h,G.A=f,Nt===null&&(Wt=null,Mt=0,gu()),y}function FT(){for(;Nt!==null;)yy(Nt)}function GT(e,n){var s=Ft;Ft|=2;var o=gy(),h=py();Wt!==e||Mt!==n?(Ku=null,Qu=Ue()+500,Ra(e,n)):Sa=er(e,n);t:do try{if(Kt!==0&&Nt!==null){n=Nt;var f=Sn;e:switch(Kt){case 1:Kt=0,Sn=null,Ia(e,n,f,1);break;case 2:case 9:if(Ig(f)){Kt=0,Sn=null,_y(n);break}n=function(){Kt!==2&&Kt!==9||Wt!==e||(Kt=7),ai(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Ig(f)?(Kt=0,Sn=null,_y(n)):(Kt=0,Sn=null,Ia(e,n,f,7));break;case 5:var y=null;switch(Nt.tag){case 26:y=Nt.memoizedState;case 5:case 27:var E=Nt;if(y?i_(y):E.stateNode.complete){Kt=0,Sn=null;var R=E.sibling;if(R!==null)Nt=R;else{var j=E.return;j!==null?(Nt=j,$u(j)):Nt=null}break e}}Kt=0,Sn=null,Ia(e,n,f,5);break;case 6:Kt=0,Sn=null,Ia(e,n,f,6);break;case 8:Hf(),fe=6;break t;default:throw Error(a(462))}}QT();break}catch(Q){dy(e,Q)}while(!0);return Ii=Ts=null,G.H=o,G.A=h,Ft=s,Nt!==null?0:(Wt=null,Mt=0,gu(),fe)}function QT(){for(;Nt!==null&&!gh();)yy(Nt)}function yy(e){var n=Bp(e.alternate,e,Li);e.memoizedProps=e.pendingProps,n===null?$u(e):Nt=n}function _y(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Up(s,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Up(s,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:sf(n);default:Hp(s,n),n=Nt=pg(n,Li),n=Bp(s,n,Li)}e.memoizedProps=e.pendingProps,n===null?$u(e):Nt=n}function Ia(e,n,s,o){Ii=Ts=null,sf(n),pa=null,xo=0;var h=n.return;try{if(VT(e,h,n,s,Mt)){fe=1,Lu(e,xn(s,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;fe=1,Lu(e,xn(s,e.current)),Nt=null;return}n.flags&32768?(kt||o===1?e=!0:Sa||(Mt&536870912)!==0?e=!1:(Nr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Tn.current,o!==null&&o.tag===13&&(o.flags|=16384))),vy(n,e)):$u(n)}function $u(e){var n=e;do{if((n.flags&32768)!==0){vy(n,Nr);return}e=n.return;var s=LT(n.alternate,n,Li);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);fe===0&&(fe=5)}function vy(e,n){do{var s=PT(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);fe=6,Nt=null}function Ey(e,n,s,o,h,f,y,E,R){e.cancelPendingCommit=null;do Ju();while(Re!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Oh,ke(e,s,f,y,E,R),e===Wt&&(Nt=Wt=null,Mt=0),wa=n,xr=e,Pi=s,zf=f,Bf=h,uy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,$T(mi,function(){return wy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=nt.p,nt.p=2,y=Ft,Ft|=4;try{jT(e,n,s)}finally{Ft=y,nt.p=h,G.T=o}}Re=1,Ty(),Ay(),Sy()}}function Ty(){if(Re===1){Re=0;var e=xr,n=wa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Ft;Ft|=4;try{ey(n,e);var f=nd,y=og(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&ag(E.ownerDocument.documentElement,E)){if(R!==null&&Rh(E)){var j=R.start,Q=R.end;if(Q===void 0&&(Q=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var B=z.getSelection(),rt=E.textContent.length,gt=Math.min(R.start,rt),Zt=R.end===void 0?gt:Math.min(R.end,rt);!B.extend&&gt>Zt&&(y=Zt,Zt=gt,gt=y);var V=sg(E,gt),D=sg(E,Zt);if(V&&D&&(B.rangeCount!==1||B.anchorNode!==V.node||B.anchorOffset!==V.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var P=X.createRange();P.setStart(V.node,V.offset),B.removeAllRanges(),gt>Zt?(B.addRange(P),B.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),B.addRange(P))}}}}for(X=[],B=E;B=B.parentNode;)B.nodeType===1&&X.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}uc=!!ed,nd=ed=null}finally{Ft=h,nt.p=o,G.T=s}}e.current=n,Re=2}}function Ay(){if(Re===2){Re=0;var e=xr,n=wa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Ft;Ft|=4;try{$p(e,n.alternate,n)}finally{Ft=h,nt.p=o,G.T=s}}Re=3}}function Sy(){if(Re===4||Re===3){Re=0,ro();var e=xr,n=wa,s=Pi,o=uy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Re=5:(Re=0,wa=xr=null,by(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Or=null),co(s),n=n.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Wi,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=nt.p,nt.p=2,G.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{G.T=n,nt.p=h}}(Pi&3)!==0&&Ju(),ai(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===qf?Xo++:(Xo=0,qf=e):Xo=0,$o(0)}}function by(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Do(n)))}function Ju(){return Ty(),Ay(),Sy(),wy()}function wy(){if(Re!==5)return!1;var e=xr,n=zf;zf=0;var s=co(Pi),o=G.T,h=nt.p;try{nt.p=32>s?32:s,G.T=null,s=Bf,Bf=null;var f=xr,y=Pi;if(Re=0,wa=xr=null,Pi=0,(Ft&6)!==0)throw Error(a(331));var E=Ft;if(Ft|=4,ay(f.current),iy(f,f.current,y,s),Ft=E,$o(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Wi,f)}catch{}return!0}finally{nt.p=h,G.T=o,by(e,n)}}function Ry(e,n,s){n=xn(s,n),n=Ef(e.stateNode,n,2),e=wr(e,n,2),e!==null&&(nr(e,2),ai(e))}function Yt(e,n,s){if(e.tag===3)Ry(e,e,s);else for(;n!==null;){if(n.tag===3){Ry(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Or===null||!Or.has(o))){e=xn(s,e),s=Ip(2),o=wr(n,s,2),o!==null&&(Cp(s,o,n,e),nr(o,2),ai(o));break}}n=n.return}}function Gf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new qT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Lf=!0,h.add(s),e=KT.bind(null,e,n,s),n.then(e,e))}function KT(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Wt===e&&(Mt&s)===s&&(fe===4||fe===3&&(Mt&62914560)===Mt&&300>Ue()-Gu?(Ft&2)===0&&Ra(e,0):Pf|=s,ba===Mt&&(ba=0)),ai(e)}function Iy(e,n){n===0&&(n=oo()),e=_s(e,n),e!==null&&(nr(e,n),ai(e))}function YT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Iy(e,s)}function XT(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Iy(e,s)}function $T(e,n){return is(e,n)}var Zu=null,Ca=null,Qf=!1,Wu=!1,Kf=!1,Vr=0;function ai(e){e!==Ca&&e.next===null&&(Ca===null?Zu=Ca=e:Ca=Ca.next=e),Wu=!0,Qf||(Qf=!0,ZT())}function $o(e,n){if(!Kf&&Wu){Kf=!0;do for(var s=!1,o=Zu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-tn(42|e)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Oy(o,f))}else f=Mt,f=Cn(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||er(o,f)||(s=!0,Oy(o,f));o=o.next}while(s);Kf=!1}}function JT(){Cy()}function Cy(){Wu=Qf=!1;var e=0;Vr!==0&&lA()&&(e=Vr);for(var n=Ue(),s=null,o=Zu;o!==null;){var h=o.next,f=Ny(o,n);f===0?(o.next=null,s===null?Zu=h:s.next=h,h===null&&(Ca=s)):(s=o,(e!==0||(f&3)!==0)&&(Wu=!0)),o=h}Re!==0&&Re!==5||$o(e),Vr!==0&&(Vr=0)}function Ny(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-tn(f),E=1<<y,R=h[y];R===-1?((E&s)===0||(E&o)!==0)&&(h[y]=Ys(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,s=Mt,s=Cn(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ks(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||er(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&Ks(o),co(s)){case 2:case 8:s=Ne;break;case 32:s=mi;break;case 268435456:s=so;break;default:s=mi}return o=Dy.bind(null,e),s=is(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&Ks(o),e.callbackPriority=2,e.callbackNode=null,2}function Dy(e,n){if(Re!==0&&Re!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Ju()&&e.callbackNode!==s)return null;var o=Mt;return o=Cn(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(hy(e,o,n),Ny(e,Ue()),e.callbackNode!=null&&e.callbackNode===s?Dy.bind(null,e):null)}function Oy(e,n){if(Ju())return null;hy(e,n,!0)}function ZT(){cA(function(){(Ft&6)!==0?is(we,JT):Cy()})}function Yf(){if(Vr===0){var e=da;e===0&&(e=ss,ss<<=1,(ss&261888)===0&&(ss=256)),Vr=e}return Vr}function xy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ti(""+e)}function My(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function WT(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=xy((h[Le]||null).action),y=o.submitter;y&&(n=(n=y[Le]||null)?xy(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new hs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Vr!==0){var R=y?My(h,y):new FormData(h);mf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?My(h,y):new FormData(h),mf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Xf=0;Xf<Dh.length;Xf++){var $f=Dh[Xf],tA=$f.toLowerCase(),eA=$f[0].toUpperCase()+$f.slice(1);qn(tA,"on"+eA)}qn(cg,"onAnimationEnd"),qn(hg,"onAnimationIteration"),qn(fg,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(yT,"onTransitionRun"),qn(_T,"onTransitionStart"),qn(vT,"onTransitionCancel"),qn(dg,"onTransitionEnd"),Wn("onMouseEnter",["mouseout","mouseover"]),Wn("onMouseLeave",["mouseout","mouseover"]),Wn("onPointerEnter",["pointerout","pointerover"]),Wn("onPointerLeave",["pointerout","pointerover"]),en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),en("onBeforeInput",["compositionend","keypress","textInput","paste"]),en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function Vy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],R=E.instance,j=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Q){mu(Q)}h.currentTarget=null,f=R}else for(y=0;y<o.length;y++){if(E=o[y],R=E.instance,j=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Q){mu(Q)}h.currentTarget=null,f=R}}}}function Dt(e,n){var s=n[sr];s===void 0&&(s=n[sr]=new Set);var o=e+"__bubble";s.has(o)||(Uy(n,e,2,!1),s.add(o))}function Jf(e,n,s){var o=0;n&&(o|=4),Uy(s,e,o,n)}var tc="_reactListening"+Math.random().toString(36).slice(2);function Zf(e){if(!e[tc]){e[tc]=!0,Xs.forEach(function(s){s!=="selectionchange"&&(nA.has(s)||Jf(s,!1,e),Jf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[tc]||(n[tc]=!0,Jf("selectionchange",!1,n))}}function Uy(e,n,s,o){switch(c_(n)){case 2:var h=DA;break;case 8:h=OA;break;default:h=dd}s=h.bind(null,n,s,e),h=void 0,!vo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Wf(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=_i(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){o=f=y;continue t}E=E.parentNode}}o=o.return}Zl(function(){var j=f,Q=ta(s),X=[];t:{var z=mg.get(e);if(z!==void 0){var B=hs,rt=e;switch(e){case"keypress":if(cs(s)===0)break t;case"keydown":case"keyup":B=ou;break;case"focusin":rt="focus",B=gr;break;case"focusout":rt="blur",B=gr;break;case"beforeblur":case"afterblur":B=gr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=tu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=uu;break;case cg:case hg:case fg:B=ia;break;case dg:B=ra;break;case"scroll":case"scrollend":B=Wl;break;case"wheel":B=hu;break;case"copy":case"cut":case"paste":B=iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=bo;break;case"toggle":case"beforetoggle":B=yr}var gt=(n&4)!==0,Zt=!gt&&(e==="scroll"||e==="scrollend"),V=gt?z!==null?z+"Capture":null:z;gt=[];for(var D=j,P;D!==null;){var Y=D;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||V===null||(Y=ln(D,V),Y!=null&&gt.push(Zo(D,Y,P))),Zt)break;D=D.return}0<gt.length&&(z=new B(z,rt,null,s,Q),X.push({event:z,listeners:gt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&s!==Ws&&(rt=s.relatedTarget||s.fromElement)&&(_i(rt)||rt[Jn]))break t;if((B||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,B?(rt=s.relatedTarget||s.toElement,B=j,rt=rt?_i(rt):null,rt!==null&&(Zt=c(rt),gt=rt.tag,rt!==Zt||gt!==5&&gt!==27&&gt!==6)&&(rt=null)):(B=null,rt=j),B!==rt)){if(gt=tu,Y="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(gt=bo,Y="onPointerLeave",V="onPointerEnter",D="pointer"),Zt=B==null?z:os(B),P=rt==null?z:os(rt),z=new gt(Y,D+"leave",B,s,Q),z.target=Zt,z.relatedTarget=P,Y=null,_i(Q)===j&&(gt=new gt(V,D+"enter",rt,s,Q),gt.target=P,gt.relatedTarget=Zt,Y=gt),Zt=Y,B&&rt)e:{for(gt=iA,V=B,D=rt,P=0,Y=V;Y;Y=gt(Y))P++;Y=0;for(var ft=D;ft;ft=gt(ft))Y++;for(;0<P-Y;)V=gt(V),P--;for(;0<Y-P;)D=gt(D),Y--;for(;P--;){if(V===D||D!==null&&V===D.alternate){gt=V;break e}V=gt(V),D=gt(D)}gt=null}else gt=null;B!==null&&ky(X,z,B,gt,!1),rt!==null&&Zt!==null&&ky(X,Zt,rt,gt,!0)}}t:{if(z=j?os(j):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var Bt=Wm;else if(un(z))if(tg)Bt=mT;else{Bt=fT;var ut=hT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&yo(j.elementType)&&(Bt=Wm):Bt=dT;if(Bt&&(Bt=Bt(e,j))){gs(X,Bt,s,Q);break t}ut&&ut(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Zs(z,"number",z.value)}switch(ut=j?os(j):window,e){case"focusin":(un(ut)||ut.contentEditable==="true")&&(sa=ut,Ih=j,Io=null);break;case"focusout":Io=Ih=sa=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,lg(X,s,Q);break;case"selectionchange":if(pT)break;case"keydown":case"keyup":lg(X,s,Q)}var Rt;if(m)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else It?Gt(e,s)&&(Vt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Vt="onCompositionStart");Vt&&(L&&s.locale!=="ko"&&(It||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&It&&(Rt=hr()):(_n=Q,ea="value"in _n?_n.value:_n.textContent,It=!0)),ut=ec(j,Vt),0<ut.length&&(Vt=new To(Vt,e,null,s,Q),X.push({event:Vt,listeners:ut}),Rt?Vt.data=Rt:(Rt=_e(s),Rt!==null&&(Vt.data=Rt)))),(Rt=A?Oe(e,s):xe(e,s))&&(Vt=ec(j,"onBeforeInput"),0<Vt.length&&(ut=new To("onBeforeInput","beforeinput",null,s,Q),X.push({event:ut,listeners:Vt}),ut.data=Rt)),WT(X,e,j,s,Q)}Vy(X,n)})}function Zo(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ec(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ln(e,s),h!=null&&o.unshift(Zo(e,h,f)),h=ln(e,n),h!=null&&o.push(Zo(e,h,f))),e.tag===3)return o;e=e.return}return[]}function iA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ky(e,n,s,o,h){for(var f=n._reactName,y=[];s!==null&&s!==o;){var E=s,R=E.alternate,j=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||j===null||(R=j,h?(j=ln(s,f),j!=null&&y.unshift(Zo(s,j,R))):h||(j=ln(s,f),j!=null&&y.push(Zo(s,j,R)))),s=s.return}y.length!==0&&e.push({event:n,listeners:y})}var rA=/\r\n?/g,sA=/\u0000|\uFFFD/g;function Ly(e){return(typeof e=="string"?e:""+e).replace(rA,`
`).replace(sA,"")}function Py(e,n){return n=Ly(n),Ly(e)===n}function Jt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Dn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Dn(e,""+o);break;case"className":lr(e,"class",o);break;case"tabIndex":lr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(e,s,o);break;case"style":$l(e,o,f);break;case"data":if(n!=="object"){lr(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ti(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ti(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=De);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ti(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),or(e,"popover",o);break;case"xlinkActuate":Nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Nn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Nn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Nn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Nn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":or(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Th.get(s)||s,or(e,s,o))}}function td(e,n,s,o,h,f){switch(s){case"style":$l(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?Dn(e,o):(typeof o=="number"||typeof o=="bigint")&&Dn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=De);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ar.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Le]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):or(e,s,o)}}}function Be(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,f,y,s,null)}}h&&Jt(e,n,"srcSet",s.srcSet,s,null),o&&Jt(e,n,"src",s.src,s,null);return;case"input":Dt("invalid",e);var E=f=y=h=null,R=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var Q=s[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":y=Q;break;case"checked":R=Q;break;case"defaultChecked":j=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Jt(e,n,o,Q,s,null)}}ls(e,f,E,R,j,y,h,!1);return;case"select":Dt("invalid",e),o=y=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Jt(e,n,h,E,s,null)}n=f,s=y,e.multiple=!!o,n!=null?zt(e,!!o,n,!1):s!=null&&zt(e,!!o,s,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(y in s)if(s.hasOwnProperty(y)&&(E=s[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Jt(e,n,y,E,s,null)}cr(e,o,h,f);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(o=s[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Jt(e,n,R,o,s,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<Jo.length;o++)Dt(Jo[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,j,o,s,null)}return;default:if(yo(n)){for(Q in s)s.hasOwnProperty(Q)&&(o=s[Q],o!==void 0&&td(e,n,Q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Jt(e,n,E,o,s,null))}function aA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,R=null,j=null,Q=null;for(B in s){var X=s[B];if(s.hasOwnProperty(B)&&X!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=X;default:o.hasOwnProperty(B)||Jt(e,n,B,null,o,X)}}for(var z in o){var B=o[z];if(X=s[z],o.hasOwnProperty(z)&&(B!=null||X!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":j=B;break;case"defaultChecked":Q=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==X&&Jt(e,n,z,B,o,X)}}ur(e,y,E,R,j,Q,f,h);return;case"select":B=y=E=z=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&Jt(e,n,h,f,o,R)}n=E,s=y,o=B,z!=null?zt(e,!!s,z,!1):!!o!=!!s&&(n!=null?zt(e,!!s,n,!0):zt(e,!!s,s?[]:"",!1));return;case"textarea":B=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,h)}for(y in o)if(h=o[y],f=s[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Jt(e,n,y,h,o,f)}us(e,z,B);return;case"option":for(var rt in s)if(z=s[rt],s.hasOwnProperty(rt)&&z!=null&&!o.hasOwnProperty(rt))switch(rt){case"selected":e.selected=!1;break;default:Jt(e,n,rt,null,o,z)}for(R in o)if(z=o[R],B=s[R],o.hasOwnProperty(R)&&z!==B&&(z!=null||B!=null))switch(R){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Jt(e,n,R,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)z=s[gt],s.hasOwnProperty(gt)&&z!=null&&!o.hasOwnProperty(gt)&&Jt(e,n,gt,null,o,z);for(j in o)if(z=o[j],B=s[j],o.hasOwnProperty(j)&&z!==B&&(z!=null||B!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Jt(e,n,j,z,o,B)}return;default:if(yo(n)){for(var Zt in s)z=s[Zt],s.hasOwnProperty(Zt)&&z!==void 0&&!o.hasOwnProperty(Zt)&&td(e,n,Zt,void 0,o,z);for(Q in o)z=o[Q],B=s[Q],!o.hasOwnProperty(Q)||z===B||z===void 0&&B===void 0||td(e,n,Q,z,o,B);return}}for(var V in s)z=s[V],s.hasOwnProperty(V)&&z!=null&&!o.hasOwnProperty(V)&&Jt(e,n,V,null,o,z);for(X in o)z=o[X],B=s[X],!o.hasOwnProperty(X)||z===B||z==null&&B==null||Jt(e,n,X,z,o,B)}function jy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&jy(y)){for(y=0,E=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],j=R.startTime;if(j>E)break;var Q=R.transferSize,X=R.initiatorType;Q&&jy(X)&&(R=R.responseEnd,y+=Q*(R<E?1:(E-j)/(R-j)))}if(--o,n+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ed=null,nd=null;function nc(e){return e.nodeType===9?e:e.ownerDocument}function zy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function By(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function id(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var rd=null;function lA(){var e=window.event;return e&&e.type==="popstate"?e===rd?!1:(rd=e,!0):(rd=null,!1)}var qy=typeof setTimeout=="function"?setTimeout:void 0,uA=typeof clearTimeout=="function"?clearTimeout:void 0,Hy=typeof Promise=="function"?Promise:void 0,cA=typeof queueMicrotask=="function"?queueMicrotask:typeof Hy<"u"?function(e){return Hy.resolve(null).then(e).catch(hA)}:qy;function hA(e){setTimeout(function(){throw e})}function Ur(e){return e==="head"}function Fy(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),xa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Wo(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Wo(s);for(var f=s.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[yi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=y}}else s==="body"&&Wo(e.ownerDocument.body);s=h}while(s);xa(n)}function Gy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function sd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":sd(s),as(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function fA(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[yi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function dA(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Ln(e.nextSibling),e===null))return null;return e}function Qy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ln(e.nextSibling),e===null))return null;return e}function ad(e){return e.data==="$?"||e.data==="$~"}function od(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function mA(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ld=null;function Ky(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Ln(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Yy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Xy(e,n,s){switch(n=nc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Wo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);as(e)}var Pn=new Map,$y=new Set;function ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ji=nt.d;nt.d={f:gA,r:pA,D:yA,C:_A,L:vA,m:EA,X:AA,S:TA,M:SA};function gA(){var e=ji.f(),n=Yu();return e||n}function pA(e){var n=vi(e);n!==null&&n.tag===5&&n.type==="form"?dp(n):ji.r(e)}var Na=typeof document>"u"?null:document;function Jy(e,n,s){var o=Na;if(o&&typeof n=="string"&&n){var h=ce(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),$y.has(h)||($y.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Be(n,"link",e),de(n),o.head.appendChild(n)))}}function yA(e){ji.D(e),Jy("dns-prefetch",e,null)}function _A(e,n){ji.C(e,n),Jy("preconnect",e,n)}function vA(e,n,s){ji.L(e,n,s);var o=Na;if(o&&e&&n){var h='link[rel="preload"][as="'+ce(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+ce(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+ce(s.imageSizes)+'"]')):h+='[href="'+ce(e)+'"]';var f=h;switch(n){case"style":f=Da(e);break;case"script":f=Oa(e)}Pn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Pn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(tl(f))||n==="script"&&o.querySelector(el(f))||(n=o.createElement("link"),Be(n,"link",e),de(n),o.head.appendChild(n)))}}function EA(e,n){ji.m(e,n);var s=Na;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ce(o)+'"][href="'+ce(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Oa(e)}if(!Pn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Pn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(el(f)))return}o=s.createElement("link"),Be(o,"link",e),de(o),s.head.appendChild(o)}}}function TA(e,n,s){ji.S(e,n,s);var o=Na;if(o&&e){var h=zn(o).hoistableStyles,f=Da(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(tl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Pn.get(f))&&ud(e,s);var R=y=o.createElement("link");de(R),Be(R,"link",e),R._p=new Promise(function(j,Q){R.onload=j,R.onerror=Q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,rc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function AA(e,n){ji.X(e,n);var s=Na;if(s&&e){var o=zn(s).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=s.querySelector(el(h)),f||(e=S({src:e,async:!0},n),(n=Pn.get(h))&&cd(e,n),f=s.createElement("script"),de(f),Be(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function SA(e,n){ji.M(e,n);var s=Na;if(s&&e){var o=zn(s).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=s.querySelector(el(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Pn.get(h))&&cd(e,n),f=s.createElement("script"),de(f),Be(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Zy(e,n,s,o){var h=(h=yt.current)?ic(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Da(s.href),s=zn(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Da(s.href);var f=zn(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(tl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Pn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Pn.set(e,s),f||bA(h,e,s,y.state))),n&&o===null)throw Error(a(528,""));return y}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Oa(s),s=zn(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Da(e){return'href="'+ce(e)+'"'}function tl(e){return'link[rel="stylesheet"]['+e+"]"}function Wy(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function bA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Be(n,"link",s),de(n),e.head.appendChild(n))}function Oa(e){return'[src="'+ce(e)+'"]'}function el(e){return"script[async]"+e}function t_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ce(s.href)+'"]');if(o)return n.instance=o,de(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),de(o),Be(o,"style",h),rc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Da(s.href);var f=e.querySelector(tl(h));if(f)return n.state.loading|=4,n.instance=f,de(f),f;o=Wy(s),(h=Pn.get(h))&&ud(o,h),f=(e.ownerDocument||e).createElement("link"),de(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Be(f,"link",o),n.state.loading|=4,rc(f,s.precedence,e),n.instance=f;case"script":return f=Oa(s.src),(h=e.querySelector(el(f)))?(n.instance=h,de(h),h):(o=s,(h=Pn.get(f))&&(o=S({},s),cd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),de(h),Be(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,rc(o,s.precedence,e));return n.instance}function rc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var sc=null;function e_(e,n,s){if(sc===null){var o=new Map,h=sc=new Map;h.set(s,o)}else h=sc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[yi]||f[ue]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function n_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function wA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function i_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function RA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Da(o.href),f=n.querySelector(tl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ac.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,de(f);return}f=n.ownerDocument||n,o=Wy(o),(h=Pn.get(h))&&ud(o,h),f=f.createElement("link"),de(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Be(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=ac.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var hd=0;function IA(e,n){return e.stylesheets&&e.count===0&&lc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&lc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&hd===0&&(hd=62500*oA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&lc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>hd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oc=null;function lc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oc=new Map,n.forEach(CA,e),oc=null,ac.call(e))}function CA(e,n){if(!(n.state.loading&4)){var s=oc.get(e);if(s)var o=s.get(null);else{s=new Map,oc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),o=y)}o&&s.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=s.get(y)||o,f===o&&s.set(null,h),s.set(y,h),this.count++,o=ac.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var nl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function NA(e,n,s,o,h,f,y,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function r_(e,n,s,o,h,f,y,E,R,j,Q,X){return e=new NA(e,n,s,y,R,j,Q,X,E),n=1,f===!0&&(n|=24),f=En(3,null,null,n),e.current=f,f.stateNode=e,n=Hh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Kh(f),e}function s_(e){return e?(e=la,e):la}function a_(e,n,s,o,h,f){h=s_(h),o.context===null?o.context=h:o.pendingContext=h,o=br(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=wr(e,o,n),s!==null&&(mn(s,e,n),Vo(s,e,n))}function o_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function fd(e,n){o_(e,n),(e=e.alternate)&&o_(e,n)}function l_(e){if(e.tag===13||e.tag===31){var n=_s(e,67108864);n!==null&&mn(n,e,67108864),fd(e,67108864)}}function u_(e){if(e.tag===13||e.tag===31){var n=wn();n=uo(n);var s=_s(e,n);s!==null&&mn(s,e,n),fd(e,n)}}var uc=!0;function DA(e,n,s,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=2,dd(e,n,s,o)}finally{nt.p=f,G.T=h}}function OA(e,n,s,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=8,dd(e,n,s,o)}finally{nt.p=f,G.T=h}}function dd(e,n,s,o){if(uc){var h=md(o);if(h===null)Wf(e,n,o,cc,s),h_(e,o);else if(MA(h,e,n,s,o))o.stopPropagation();else if(h_(e,o),n&4&&-1<xA.indexOf(e)){for(;h!==null;){var f=vi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=jn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-tn(y);E.entanglements[1]|=R,y&=~R}ai(f),(Ft&6)===0&&(Qu=Ue()+500,$o(0))}}break;case 31:case 13:E=_s(f,2),E!==null&&mn(E,f,2),Yu(),fd(f,2)}if(f=md(o),f===null&&Wf(e,n,o,cc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Wf(e,n,o,null,s)}}function md(e){return e=ta(e),gd(e)}var cc=null;function gd(e){if(cc=null,e=_i(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return cc=e,null}function c_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hl()){case we:return 2;case Ne:return 8;case mi:case Fl:return 32;case so:return 268435456;default:return 32}default:return 32}}var pd=!1,kr=null,Lr=null,Pr=null,il=new Map,rl=new Map,jr=[],xA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(e,n){switch(e){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":il.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(n.pointerId)}}function sl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=vi(n),n!==null&&l_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function MA(e,n,s,o,h){switch(n){case"focusin":return kr=sl(kr,e,n,s,o,h),!0;case"dragenter":return Lr=sl(Lr,e,n,s,o,h),!0;case"mouseover":return Pr=sl(Pr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return il.set(f,sl(il.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,rl.set(f,sl(rl.get(f)||null,e,n,s,o,h)),!0}return!1}function f_(e){var n=_i(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Ql(e.priority,function(){u_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Ql(e.priority,function(){u_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=md(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Ws=o,s.target.dispatchEvent(o),Ws=null}else return n=vi(s),n!==null&&l_(n),e.blockedOn=s,!1;n.shift()}return!0}function d_(e,n,s){hc(e)&&s.delete(n)}function VA(){pd=!1,kr!==null&&hc(kr)&&(kr=null),Lr!==null&&hc(Lr)&&(Lr=null),Pr!==null&&hc(Pr)&&(Pr=null),il.forEach(d_),rl.forEach(d_)}function fc(e,n){e.blockedOn===n&&(e.blockedOn=null,pd||(pd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,VA)))}var dc=null;function m_(e){dc!==e&&(dc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){dc===e&&(dc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(gd(o||s)===null)continue;break}var f=vi(s);f!==null&&(e.splice(n,3),n-=3,mf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function xa(e){function n(R){return fc(R,e)}kr!==null&&fc(kr,e),Lr!==null&&fc(Lr,e),Pr!==null&&fc(Pr,e),il.forEach(n),rl.forEach(n);for(var s=0;s<jr.length;s++){var o=jr[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<jr.length&&(s=jr[0],s.blockedOn===null);)f_(s),s.blockedOn===null&&jr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],y=h[Le]||null;if(typeof f=="function")y||m_(s);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Le]||null)E=y.formAction;else if(gd(h)!==null)continue}else E=y.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),m_(s)}}}function g_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function yd(e){this._internalRoot=e}mc.prototype.render=yd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=wn();a_(s,o,e,n,null,null)},mc.prototype.unmount=yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;a_(e.current,2,null,e,null,null),Yu(),n[Jn]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=pi();e={blockedOn:null,target:e,priority:n};for(var s=0;s<jr.length&&n!==0&&n<jr[s].priority;s++);jr.splice(s,0,e),s===0&&f_(e)}};var p_=t.version;if(p_!=="19.2.0")throw Error(a(527,p_,"19.2.0"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var UA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{Wi=gc.inject(UA),Ke=gc}catch{}}return ol.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Sp,f=bp,y=wp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=r_(e,1,!1,null,null,s,o,null,h,f,y,g_),e[Jn]=n.current,Zf(e),new yd(n)},ol.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Sp,y=bp,E=wp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=r_(e,1,!0,n,s??null,o,h,R,f,y,E,g_),n.context=s_(null),s=n.current,o=wn(),o=uo(o),h=br(o),h.callback=null,wr(s,h,o),s=o,n.current.lanes=s,nr(n,s),ai(n),e[Jn]=n.current,Zf(e),new mc(n)},ol.version="19.2.0",ol}var R_;function GA(){if(R_)return vd.exports;R_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),vd.exports=FA(),vd.exports}var QA=GA(),Ot=lm(),I_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},KA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,v=p?r[l+2]:0,T=c>>2,S=(c&3)<<4|g>>4;let x=(g&15)<<2|v>>6,H=v&63;p||(H=64,d||(x=64)),a.push(i[T],i[S],i[x],i[H])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Qv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):KA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const v=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||v==null||S==null)throw new YA;const x=c<<2|g>>4;if(a.push(x),v!==64){const H=g<<4&240|v>>2;if(a.push(H),S!==64){const Z=v<<6&192|S;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class YA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XA=function(r){const t=Qv(r);return Kv.encodeByteArray(t,!0)},Dc=function(r){return XA(r).replace(/\./g,"")},Yv=function(r){try{return Kv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=()=>$A().__FIREBASE_DEFAULTS__,ZA=()=>{if(typeof process>"u"||typeof I_>"u")return;const r=I_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},WA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Yv(r[1]);return t&&JSON.parse(t)},Yc=()=>{try{return JA()||ZA()||WA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Xv=r=>{var t,i;return(i=(t=Yc())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},tS=r=>{const t=Xv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},$v=()=>{var r;return(r=Yc())===null||r===void 0?void 0:r.config},Jv=r=>{var t;return(t=Yc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Dc(JSON.stringify(i)),Dc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function rS(){var r;const t=(r=Yc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function oS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lS(){const r=We();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function uS(){return!rS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cS(){try{return typeof indexedDB=="object"}catch{return!1}}function hS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="FirebaseError";class Xi extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=fS,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nl.prototype.create)}}class Nl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?dS(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Xi(l,g,a)}}function dS(r,t){return r.replace(mS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const mS=/\{\$([^}]+)}/g;function gS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function El(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(C_(c)&&C_(d)){if(!El(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function C_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function ul(r){const t={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function cl(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}function pS(r,t){const i=new yS(r,t);return i.subscribe.bind(i)}class yS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");_S(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=bd),l.error===void 0&&(l.error=bd),l.complete===void 0&&(l.complete=bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _S(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function bd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r){return r&&r._delegate?r._delegate:r}class ks{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new eS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(TS(t))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=xs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=xs){return this.instances.has(t)}getOptions(t=xs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){var a;const l=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:ES(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=xs){return this.component?this.component.multipleInstances?t:xs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ES(r){return r===xs?void 0:r}function TS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new vS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const SS={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},bS=Lt.INFO,wS={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},RS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=wS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class um{constructor(t){this.name=t,this._logLevel=bS,this._logHandler=RS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?SS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const IS=(r,t)=>t.some(i=>r instanceof i);let N_,D_;function CS(){return N_||(N_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NS(){return D_||(D_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zv=new WeakMap,kd=new WeakMap,Wv=new WeakMap,wd=new WeakMap,cm=new WeakMap;function DS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Yr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Zv.set(i,r)}).catch(()=>{}),cm.set(t,r),t}function OS(r){if(kd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});kd.set(r,t)}let Ld={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return kd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Wv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Yr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function xS(r){Ld=r(Ld)}function MS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Rd(this),t,...i);return Wv.set(a,t.sort?t.sort():[t]),Yr(a)}:NS().includes(r)?function(...t){return r.apply(Rd(this),t),Yr(Zv.get(this))}:function(...t){return Yr(r.apply(Rd(this),t))}}function VS(r){return typeof r=="function"?MS(r):(r instanceof IDBTransaction&&OS(r),IS(r,CS())?new Proxy(r,Ld):r)}function Yr(r){if(r instanceof IDBRequest)return DS(r);if(wd.has(r))return wd.get(r);const t=VS(r);return t!==r&&(wd.set(r,t),cm.set(t,r)),t}const Rd=r=>cm.get(r);function US(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Yr(d);return a&&d.addEventListener("upgradeneeded",p=>{a(Yr(d.result),p.oldVersion,p.newVersion,Yr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const kS=["get","getKey","getAll","getAllKeys","count"],LS=["put","add","delete","clear"],Id=new Map;function O_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Id.get(t))return Id.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=LS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||kS.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let v=p.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&p.done]))[0]};return Id.set(t,c),c}xS(r=>({...r,get:(t,i,a)=>O_(t,i)||r.get(t,i,a),has:(t,i)=>!!O_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(jS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function jS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Pd="@firebase/app",x_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new um("@firebase/app"),zS="@firebase/app-compat",BS="@firebase/analytics-compat",qS="@firebase/analytics",HS="@firebase/app-check-compat",FS="@firebase/app-check",GS="@firebase/auth",QS="@firebase/auth-compat",KS="@firebase/database",YS="@firebase/data-connect",XS="@firebase/database-compat",$S="@firebase/functions",JS="@firebase/functions-compat",ZS="@firebase/installations",WS="@firebase/installations-compat",tb="@firebase/messaging",eb="@firebase/messaging-compat",nb="@firebase/performance",ib="@firebase/performance-compat",rb="@firebase/remote-config",sb="@firebase/remote-config-compat",ab="@firebase/storage",ob="@firebase/storage-compat",lb="@firebase/firestore",ub="@firebase/vertexai-preview",cb="@firebase/firestore-compat",hb="firebase",fb="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="[DEFAULT]",db={[Pd]:"fire-core",[zS]:"fire-core-compat",[qS]:"fire-analytics",[BS]:"fire-analytics-compat",[FS]:"fire-app-check",[HS]:"fire-app-check-compat",[GS]:"fire-auth",[QS]:"fire-auth-compat",[KS]:"fire-rtdb",[YS]:"fire-data-connect",[XS]:"fire-rtdb-compat",[$S]:"fire-fn",[JS]:"fire-fn-compat",[ZS]:"fire-iid",[WS]:"fire-iid-compat",[tb]:"fire-fcm",[eb]:"fire-fcm-compat",[nb]:"fire-perf",[ib]:"fire-perf-compat",[rb]:"fire-rc",[sb]:"fire-rc-compat",[ab]:"fire-gcs",[ob]:"fire-gcs-compat",[lb]:"fire-fst",[cb]:"fire-fst-compat",[ub]:"fire-vertex","fire-js":"fire-js",[hb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=new Map,mb=new Map,zd=new Map;function M_(r,t){try{r.container.addComponent(t)}catch(i){Gi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ba(r){const t=r.name;if(zd.has(t))return Gi.debug(`There were multiple attempts to register component ${t}.`),!1;zd.set(t,r);for(const i of Oc.values())M_(i,r);for(const i of mb.values())M_(i,r);return!0}function hm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function oi(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new Nl("app","Firebase",gb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=fb;function t0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:jd,automaticDataCollectionEnabled:!1},t),l=a.name;if(typeof l!="string"||!l)throw Xr.create("bad-app-name",{appName:String(l)});if(i||(i=$v()),!i)throw Xr.create("no-options");const c=Oc.get(l);if(c){if(El(i,c.options)&&El(a,c.config))return c;throw Xr.create("duplicate-app",{appName:l})}const d=new AS(l);for(const p of zd.values())d.addComponent(p);const g=new pb(i,a,d);return Oc.set(l,g),g}function e0(r=jd){const t=Oc.get(r);if(!t&&r===jd&&$v())return t0();if(!t)throw Xr.create("no-app",{appName:r});return t}function $r(r,t,i){var a;let l=(a=db[r])!==null&&a!==void 0?a:r;i&&(l+=`-${i}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gi.warn(g.join(" "));return}Ba(new ks(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="firebase-heartbeat-database",_b=1,Tl="firebase-heartbeat-store";let Cd=null;function n0(){return Cd||(Cd=US(yb,_b,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Tl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Xr.create("idb-open",{originalErrorMessage:r.message})})),Cd}async function vb(r){try{const i=(await n0()).transaction(Tl),a=await i.objectStore(Tl).get(i0(r));return await i.done,a}catch(t){if(t instanceof Xi)Gi.warn(t.message);else{const i=Xr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Gi.warn(i.message)}}}async function V_(r,t){try{const a=(await n0()).transaction(Tl,"readwrite");await a.objectStore(Tl).put(t,i0(r)),await a.done}catch(i){if(i instanceof Xi)Gi.warn(i.message);else{const a=Xr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Gi.warn(a.message)}}}function i0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=1024,Tb=720*60*60*1e3;class Ab{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new bb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=U_();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const g=new Date(d.date).valueOf();return Date.now()-g<=Tb}),this._storage.overwrite(this._heartbeatsCache))}catch(a){Gi.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=U_(),{heartbeatsToSend:a,unsentEntries:l}=Sb(this._heartbeatsCache.heartbeats),c=Dc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Gi.warn(i),""}}}function U_(){return new Date().toISOString().substring(0,10)}function Sb(r,t=Eb){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),k_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),k_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class bb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cS()?hS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await vb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return V_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return V_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function k_(r){return Dc(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(r){Ba(new ks("platform-logger",t=>new PS(t),"PRIVATE")),Ba(new ks("heartbeat",t=>new Ab(t),"PRIVATE")),$r(Pd,x_,r),$r(Pd,x_,"esm2017"),$r("fire-js","")}wb("");var Rb="firebase",Ib="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r(Rb,Ib,"app");function fm(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(i[a[l]]=r[a[l]]);return i}function r0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Cb=r0,s0=new Nl("auth","Firebase",r0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new um("@firebase/auth");function Nb(r,...t){xc.logLevel<=Lt.WARN&&xc.warn(`Auth (${Ja}): ${r}`,...t)}function Tc(r,...t){xc.logLevel<=Lt.ERROR&&xc.error(`Auth (${Ja}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(r,...t){throw dm(r,...t)}function li(r,...t){return dm(r,...t)}function a0(r,t,i){const a=Object.assign(Object.assign({},Cb()),{[t]:i});return new Nl("auth","Firebase",a).create(t,{appName:r.name})}function Hi(r){return a0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return s0.create(r,...t)}function _t(r,t,...i){if(!r)throw dm(t,...i)}function zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Tc(t),new Error(t)}function Qi(r,t){r||zi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function Db(){return L_()==="http:"||L_()==="https:"}function L_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Db()||aS()||"connection"in navigator)?navigator.onLine:!0}function xb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,i){this.shortDelay=t,this.longDelay=i,Qi(i>t,"Short delay should be less than long delay!"),this.isMobile=iS()||oS()}get(){return Ob()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(r,t){Qi(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=new Ol(3e4,6e4);function $i(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Ji(r,t,i,a,l={}){return l0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Dl(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:t,headers:p},c);return sS()||(v.referrerPolicy="no-referrer"),o0.fetch()(u0(r,r.config.apiHost,i,g),v)})}async function l0(r,t,i){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},Mb),t);try{const l=new kb(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw pc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,v]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw pc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw pc(r,"user-disabled",d);const T=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw a0(r,T,v);Qn(r,T)}}catch(l){if(l instanceof Xi)throw l;Qn(r,"network-request-failed",{message:String(l)})}}async function xl(r,t,i,a,l={}){const c=await Ji(r,t,i,a,l);return"mfaPendingCredential"in c&&Qn(r,"multi-factor-auth-required",{_serverResponse:c}),c}function u0(r,t,i,a){const l=`${t}${i}?${a}`;return r.config.emulator?mm(r.config,l):`${r.config.apiScheme}://${l}`}function Ub(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kb{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(li(this.auth,"network-request-failed")),Vb.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=li(r,t,a);return l.customData._tokenResponse=i,l}function P_(r){return r!==void 0&&r.enterprise!==void 0}class Lb{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return Ub(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function Pb(r,t){return Ji(r,"GET","/v2/recaptchaConfig",$i(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(r,t){return Ji(r,"POST","/v1/accounts:delete",t)}async function c0(r,t){return Ji(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function zb(r,t=!1){const i=Ce(r),a=await i.getIdToken(t),l=gm(a);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:a,authTime:gl(Nd(l.auth_time)),issuedAtTime:gl(Nd(l.iat)),expirationTime:gl(Nd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Nd(r){return Number(r)*1e3}function gm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Tc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Yv(i);return l?JSON.parse(l):(Tc("Failed to decode base64 JWT payload"),null)}catch(l){return Tc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function j_(r){const t=gm(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Xi&&Bb(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function Bb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=gl(this.lastLoginAt),this.creationTime=gl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(r){var t;const i=r.auth,a=await r.getIdToken(),l=await Al(r,c0(i,{idToken:a}));_t(l==null?void 0:l.users.length,i,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?h0(c.providerUserInfo):[],g=Fb(r.providerData,d),p=r.isAnonymous,v=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),T=p?v:!1,S={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new qd(c.createdAt,c.lastLoginAt),isAnonymous:T};Object.assign(r,S)}async function Hb(r){const t=Ce(r);await Mc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Fb(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function h0(r){return r.map(t=>{var{providerId:i}=t,a=fm(t,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gb(r,t){const i=await l0(r,{},async()=>{const a=Dl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=u0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",o0.fetch()(d,{method:"POST",headers:g,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Qb(r,t){return Ji(r,"POST","/v2/accounts:revokeToken",$i(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):j_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=j_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Gb(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new La;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new La,this.toJSON())}_performRefresh(){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Bi{constructor(t){var{uid:i,auth:a,stsTokenManager:l}=t,c=fm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new qd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await Al(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return zb(this,t)}reload(){return Hb(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Bi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Mc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(Hi(this.auth));const t=await this.getIdToken();return await Al(this,jb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var a,l,c,d,g,p,v,T;const S=(a=i.displayName)!==null&&a!==void 0?a:void 0,x=(l=i.email)!==null&&l!==void 0?l:void 0,H=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,Z=(d=i.photoURL)!==null&&d!==void 0?d:void 0,tt=(g=i.tenantId)!==null&&g!==void 0?g:void 0,K=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,ot=(v=i.createdAt)!==null&&v!==void 0?v:void 0,pt=(T=i.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:mt,emailVerified:Ct,isAnonymous:Qt,providerData:wt,stsTokenManager:N}=i;_t(mt&&N,t,"internal-error");const b=La.fromJSON(this.name,N);_t(typeof mt=="string",t,"internal-error"),Br(S,t.name),Br(x,t.name),_t(typeof Ct=="boolean",t,"internal-error"),_t(typeof Qt=="boolean",t,"internal-error"),Br(H,t.name),Br(Z,t.name),Br(tt,t.name),Br(K,t.name),Br(ot,t.name),Br(pt,t.name);const w=new Bi({uid:mt,auth:t,email:x,emailVerified:Ct,displayName:S,isAnonymous:Qt,photoURL:Z,phoneNumber:H,tenantId:tt,stsTokenManager:b,createdAt:ot,lastLoginAt:pt});return wt&&Array.isArray(wt)&&(w.providerData=wt.map(O=>Object.assign({},O))),K&&(w._redirectEventId=K),w}static async _fromIdTokenResponse(t,i,a=!1){const l=new La;l.updateFromServerResponse(i);const c=new Bi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Mc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?h0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new La;g.updateFromIdToken(a);const p=new Bi({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new qd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=new Map;function qi(r){Qi(r instanceof Function,"Expected a class definition");let t=z_.get(r);return t?(Qi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,z_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}f0.type="NONE";const B_=f0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(r,t,i){return`firebase:${r}:${t}:${i}`}class Pa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Ac(this.userKey,l.apiKey,c),this.fullPersistenceKey=Ac("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Bi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Pa(qi(B_),t,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||qi(B_);const d=Ac(a,t.config.apiKey,t.name);let g=null;for(const v of i)try{const T=await v._get(d);if(T){const S=Bi._fromJSON(t,T);v!==c&&(g=S),c=v;break}}catch{}const p=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Pa(c,t,a):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Pa(c,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(p0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(d0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_0(t))return"Blackberry";if(v0(t))return"Webos";if(m0(t))return"Safari";if((t.includes("chrome/")||g0(t))&&!t.includes("edge/"))return"Chrome";if(y0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function d0(r=We()){return/firefox\//i.test(r)}function m0(r=We()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function g0(r=We()){return/crios\//i.test(r)}function p0(r=We()){return/iemobile/i.test(r)}function y0(r=We()){return/android/i.test(r)}function _0(r=We()){return/blackberry/i.test(r)}function v0(r=We()){return/webos/i.test(r)}function pm(r=We()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Kb(r=We()){var t;return pm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Yb(){return lS()&&document.documentMode===10}function E0(r=We()){return pm(r)||y0(r)||v0(r)||_0(r)||/windows phone/i.test(r)||p0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(r,t=[]){let i;switch(r){case"Browser":i=q_(We());break;case"Worker":i=`${q_(We())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ja}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $b(r,t={}){return Ji(r,"GET","/v2/passwordPolicy",$i(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=6;class Zb{constructor(t){var i,a,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:Jb,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,a,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H_(this),this.idTokenSubscription=new H_(this),this.beforeStateQueue=new Xb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=qi(i)),this._initializationPromise=this.queue(async()=>{var a,l;if(!this._deleted&&(this.persistenceManager=await Pa.create(this,t),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await c0(this,{idToken:t}),a=await Bi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(oi(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Mc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=xb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(oi(this.app))return Promise.reject(Hi(this));const i=t?Ce(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return oi(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await $b(this),i=new Zb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Nl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Qb(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&qi(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[qi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,a,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=T0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&Nb(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function qs(r){return Ce(r)}class H_{constructor(t){this.auth=t,this.observer=null,this.addObserver=pS(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tw(r){Xc=r}function A0(r){return Xc.loadJS(r)}function ew(){return Xc.recaptchaEnterpriseScript}function nw(){return Xc.gapiScript}function iw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const rw="recaptcha-enterprise",sw="NO_RECAPTCHA";class aw{constructor(t){this.type=rw,this.auth=qs(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{Pb(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const v=new Lb(p);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(p=>{g(p)})})}function l(c,d,g){const p=window.grecaptcha;P_(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:t}).then(v=>{d(v)}).catch(()=>{d(sw)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((c,d)=>{a(this.auth).then(g=>{if(!i&&P_(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ew();p.length!==0&&(p+=g),A0(p).then(()=>{l(g,c,d)}).catch(v=>{d(v)})}}).catch(g=>{d(g)})})}}async function F_(r,t,i,a=!1){const l=new aw(r);let c;try{c=await l.verify(i)}catch{c=await l.verify(i,!0)}const d=Object.assign({},t);return a?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Hd(r,t,i,a){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await F_(r,t,i,i==="getOobCode");return a(r,c)}else return a(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await F_(r,t,i,i==="getOobCode");return a(r,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(r,t){const i=hm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(El(c,t??{}))return l;Qn(l,"already-initialized")}return i.initialize({options:t})}function lw(r,t){const i=(t==null?void 0:t.persistence)||[],a=(Array.isArray(i)?i:[i]).map(qi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function uw(r,t,i){const a=qs(r);_t(a._canInitEmulator,a,"emulator-config-failed"),_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=S0(t),{host:d,port:g}=cw(t),p=g===null?"":`:${g}`;a.config.emulator={url:`${c}//${d}${p}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})}),hw()}function S0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function cw(r){const t=S0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:G_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:G_(d)}}}function G_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function hw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return zi("not implemented")}_getIdTokenResponse(t){return zi("not implemented")}_linkToIdToken(t,i){return zi("not implemented")}_getReauthenticationResolver(t){return zi("not implemented")}}async function fw(r,t){return Ji(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dw(r,t){return xl(r,"POST","/v1/accounts:signInWithPassword",$i(r,t))}async function mw(r,t){return Ji(r,"POST","/v1/accounts:sendOobCode",$i(r,t))}async function gw(r,t){return mw(r,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pw(r,t){return xl(r,"POST","/v1/accounts:signInWithEmailLink",$i(r,t))}async function yw(r,t){return xl(r,"POST","/v1/accounts:signInWithEmailLink",$i(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends ym{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Sl(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new Sl(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hd(t,i,"signInWithPassword",dw);case"emailLink":return pw(t,{email:this._email,oobCode:this._password});default:Qn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hd(t,a,"signUpPassword",fw);case"emailLink":return yw(t,{idToken:i,email:this._email,oobCode:this._password});default:Qn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(r,t){return xl(r,"POST","/v1/accounts:signInWithIdp",$i(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="http://localhost";class Ls extends ym{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ls(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Qn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l}=i,c=fm(i,["providerId","signInMethod"]);if(!a||!l)return null;const d=new Ls(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return ja(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,ja(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ja(t,i)}buildRequest(){const t={requestUri:_w,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Dl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ew(r){const t=ul(cl(r)).link,i=t?ul(cl(t)).deep_link_id:null,a=ul(cl(r)).deep_link_id;return(a?ul(cl(a)).link:null)||a||i||t||r}class _m{constructor(t){var i,a,l,c,d,g;const p=ul(cl(t)),v=(i=p.apiKey)!==null&&i!==void 0?i:null,T=(a=p.oobCode)!==null&&a!==void 0?a:null,S=vw((l=p.mode)!==null&&l!==void 0?l:null);_t(v&&T&&S,"argument-error"),this.apiKey=v,this.operation=S,this.code=T,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(t){const i=Ew(t);try{return new _m(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.providerId=Za.PROVIDER_ID}static credential(t,i){return Sl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=_m.parseLink(i);return _t(a,"argument-error"),Sl._fromEmailAndCode(t,a.code,a.tenantId)}}Za.PROVIDER_ID="password";Za.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends b0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Ml{constructor(){super("facebook.com")}static credential(t){return Ls._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Ml{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ls._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Hr.credential(i,a)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Ml{constructor(){super("github.com")}static credential(t){return Ls._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fr.credential(t.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Ml{constructor(){super("twitter.com")}static credential(t,i){return Ls._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Gr.credential(i,a)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tw(r,t){return xl(r,"POST","/v1/accounts:signUp",$i(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Bi._fromIdTokenResponse(t,a,l),d=Q_(a);return new Ps({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=Q_(a);return new Ps({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function Q_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends Xi{constructor(t,i,a,l){var c;super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Vc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Vc(t,i,a,l)}}function w0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Vc._fromErrorAndOperation(r,c,t,a):c})}async function Aw(r,t,i=!1){const a=await Al(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Ps._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sw(r,t,i=!1){const{auth:a}=r;if(oi(a.app))return Promise.reject(Hi(a));const l="reauthenticate";try{const c=await Al(r,w0(a,l,t,r),i);_t(c.idToken,a,"internal-error");const d=gm(c.idToken);_t(d,a,"internal-error");const{sub:g}=d;return _t(r.uid===g,a,"user-mismatch"),Ps._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Qn(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R0(r,t,i=!1){if(oi(r.app))return Promise.reject(Hi(r));const a="signIn",l=await w0(r,a,t),c=await Ps._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function bw(r,t){return R0(qs(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I0(r){const t=qs(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ww(r,t,i){if(oi(r.app))return Promise.reject(Hi(r));const a=qs(r),d=await Hd(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Tw).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&I0(r),p}),g=await Ps._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(g.user),g}function Rw(r,t,i){return oi(r.app)?Promise.reject(Hi(r)):bw(Ce(r),Za.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&I0(r),a})}async function Iw(r,t){const i=Ce(r),l={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:c}=await gw(i.auth,l);c!==r.email&&await r.reload()}function Cw(r,t,i,a){return Ce(r).onIdTokenChanged(t,i,a)}function Nw(r,t,i){return Ce(r).beforeAuthStateChanged(t,i)}function Dw(r,t,i,a){return Ce(r).onAuthStateChanged(t,i,a)}const Uc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Uc,"1"),this.storage.removeItem(Uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=1e3,xw=10;class N0 extends C0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Yb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,xw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}N0.type="LOCAL";const Mw=N0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0 extends C0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}D0.type="SESSION";const O0=D0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new $c(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,c)),p=await Vw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$c.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const v=vm("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const x=S;if(x.data.eventId===v)switch(x.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(x.data.response);break;default:clearTimeout(T),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return window}function kw(r){ui().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function Lw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Pw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function jw(){return x0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="firebaseLocalStorageDb",zw=1,kc="firebaseLocalStorage",V0="fbase_key";class Vl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Jc(r,t){return r.transaction([kc],t?"readwrite":"readonly").objectStore(kc)}function Bw(){const r=indexedDB.deleteDatabase(M0);return new Vl(r).toPromise()}function Fd(){const r=indexedDB.open(M0,zw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(kc,{keyPath:V0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(kc)?t(a):(a.close(),await Bw(),t(await Fd()))})})}async function K_(r,t,i){const a=Jc(r,!0).put({[V0]:t,value:i});return new Vl(a).toPromise()}async function qw(r,t){const i=Jc(r,!1).get(t),a=await new Vl(i).toPromise();return a===void 0?null:a.value}function Y_(r,t){const i=Jc(r,!0).delete(t);return new Vl(i).toPromise()}const Hw=800,Fw=3;class U0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Fw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$c._getInstance(jw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await Lw(),!this.activeServiceWorker)return;this.sender=new Uw(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Pw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Fd();return await K_(t,Uc,"1"),await Y_(t,Uc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>K_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>qw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Y_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Jc(l,!1).getAll();return new Vl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Hw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}U0.type="LOCAL";const Gw=U0;new Ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(r,t){return t?qi(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em extends ym{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Kw(r){return R0(r.auth,new Em(r),r.bypassAuthState)}function Yw(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),Sw(i,new Em(r),r.bypassAuthState)}async function Xw(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),Aw(i,new Em(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Kw;case"linkViaPopup":case"linkViaRedirect":return Xw;case"reauthViaPopup":case"reauthViaRedirect":return Yw;default:Qn(this.auth,"internal-error")}}resolve(t){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=new Ol(2e3,1e4);class ka extends k0{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,ka.currentPopupAction&&ka.currentPopupAction.cancel(),ka.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){Qi(this.filter.length===1,"Popup operations only handle one event");const t=vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ka.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,$w.get())};t()}}ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="pendingRedirect",Sc=new Map;class Zw extends k0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Sc.get(this.auth._key());if(!t){try{const a=await Ww(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Sc.set(this.auth._key(),t)}return this.bypassAuthState||Sc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ww(r,t){const i=nR(t),a=eR(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function tR(r,t){Sc.set(r._key(),t)}function eR(r){return qi(r._redirectPersistence)}function nR(r){return Ac(Jw,r.config.apiKey,r.name)}async function iR(r,t,i=!1){if(oi(r.app))return Promise.reject(Hi(r));const a=qs(r),l=Qw(a,t),d=await new Zw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=600*1e3;class sR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!aR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var a;if(t.error&&!L0(t)){const l=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(li(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=rR&&this.cachedEventUids.clear(),this.cachedEventUids.has(X_(t))}saveEventToCache(t){this.cachedEventUids.add(X_(t)),this.lastProcessedEventTime=Date.now()}}function X_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function L0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function aR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(r,t={}){return Ji(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uR=/^https?/;async function cR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await oR(r);for(const i of t)try{if(hR(i))return}catch{}Qn(r,"unauthorized-domain")}function hR(r){const t=Bd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!uR.test(i))return!1;if(lR.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=new Ol(3e4,6e4);function $_(){const r=ui().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function dR(r){return new Promise((t,i)=>{var a,l,c;function d(){$_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$_(),i(li(r,"network-request-failed"))},timeout:fR.get()})}if(!((l=(a=ui().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=ui().gapi)===null||c===void 0)&&c.load)d();else{const g=iw("iframefcb");return ui()[g]=()=>{gapi.load?d():i(li(r,"network-request-failed"))},A0(`${nw()}?onload=${g}`).catch(p=>i(p))}}).catch(t=>{throw bc=null,t})}let bc=null;function mR(r){return bc=bc||dR(r),bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=new Ol(5e3,15e3),pR="__/auth/iframe",yR="emulator/auth/iframe",_R={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ER(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?mm(t,yR):`https://${r.config.authDomain}/${pR}`,a={apiKey:t.apiKey,appName:r.name,v:Ja},l=vR.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Dl(a).slice(1)}`}async function TR(r){const t=await mR(r),i=ui().gapi;return _t(i,r,"internal-error"),t.open({where:document.body,url:ER(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_R,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=li(r,"network-request-failed"),g=ui().setTimeout(()=>{c(d)},gR.get());function p(){ui().clearTimeout(g),l(a)}a.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SR=500,bR=600,wR="_blank",RR="http://localhost";class J_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IR(r,t,i,a=SR,l=bR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const p=Object.assign(Object.assign({},AR),{width:a.toString(),height:l.toString(),top:c,left:d}),v=We().toLowerCase();i&&(g=g0(v)?wR:i),d0(v)&&(t=t||RR,p.scrollbars="yes");const T=Object.entries(p).reduce((x,[H,Z])=>`${x}${H}=${Z},`,"");if(Kb(v)&&g!=="_self")return CR(t||"",g),new J_(null);const S=window.open(t||"",g,T);_t(S,r,"popup-blocked");try{S.focus()}catch{}return new J_(S)}function CR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="__/auth/handler",DR="emulator/auth/handler",OR=encodeURIComponent("fac");async function Z_(r,t,i,a,l,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Ja,eventId:l};if(t instanceof b0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",gS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(t instanceof Ml){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),v=p?`#${OR}=${encodeURIComponent(p)}`:"";return`${xR(r)}?${Dl(g).slice(1)}${v}`}function xR({config:r}){return r.emulator?mm(r,DR):`https://${r.authDomain}/${NR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="webStorageSupport";class MR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O0,this._completeRedirectFn=iR,this._overrideRedirectResult=tR}async _openPopup(t,i,a,l){var c;Qi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await Z_(t,i,a,Bd(),l);return IR(t,d,vm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await Z_(t,i,a,Bd(),l);return kw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Qi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await TR(t),a=new sR(t);return i.register("authEvent",l=>(_t(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Dd,{type:Dd},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Dd];d!==void 0&&i(!!d),Qn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=cR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return E0()||m0()||pm()}}const VR=MR;var W_="@firebase/auth",tv="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LR(r){Ba(new ks("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:T0(r)},v=new Wb(a,l,c,p);return lw(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ba(new ks("auth-internal",t=>{const i=qs(t.getProvider("auth").getImmediate());return(a=>new UR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r(W_,tv,kR(r)),$r(W_,tv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=300,jR=Jv("authIdTokenMaxAge")||PR;let ev=null;const zR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>jR)return;const l=i==null?void 0:i.token;ev!==l&&(ev=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function BR(r=e0()){const t=hm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=ow(r,{popupRedirectResolver:VR,persistence:[Gw,Mw,O0]}),a=Jv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=zR(c.toString());Nw(i,d,()=>d(i.currentUser)),Cw(i,g=>d(g))}}const l=Xv("auth");return l&&uw(i,`http://${l}`),i}function qR(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}tw({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=li("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",qR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LR("Browser");var nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vs,P0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,b){function w(){}w.prototype=b.prototype,N.D=b.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(O,M,U){for(var I=Array(arguments.length-2),le=2;le<arguments.length;le++)I[le-2]=arguments[le];return b.prototype[M].apply(O,I)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,b,w){w||(w=0);var O=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)O[M]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(M=0;16>M;++M)O[M]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=N.g[0],w=N.g[1],M=N.g[2];var U=N.g[3],I=b+(U^w&(M^U))+O[0]+3614090360&4294967295;b=w+(I<<7&4294967295|I>>>25),I=U+(M^b&(w^M))+O[1]+3905402710&4294967295,U=b+(I<<12&4294967295|I>>>20),I=M+(w^U&(b^w))+O[2]+606105819&4294967295,M=U+(I<<17&4294967295|I>>>15),I=w+(b^M&(U^b))+O[3]+3250441966&4294967295,w=M+(I<<22&4294967295|I>>>10),I=b+(U^w&(M^U))+O[4]+4118548399&4294967295,b=w+(I<<7&4294967295|I>>>25),I=U+(M^b&(w^M))+O[5]+1200080426&4294967295,U=b+(I<<12&4294967295|I>>>20),I=M+(w^U&(b^w))+O[6]+2821735955&4294967295,M=U+(I<<17&4294967295|I>>>15),I=w+(b^M&(U^b))+O[7]+4249261313&4294967295,w=M+(I<<22&4294967295|I>>>10),I=b+(U^w&(M^U))+O[8]+1770035416&4294967295,b=w+(I<<7&4294967295|I>>>25),I=U+(M^b&(w^M))+O[9]+2336552879&4294967295,U=b+(I<<12&4294967295|I>>>20),I=M+(w^U&(b^w))+O[10]+4294925233&4294967295,M=U+(I<<17&4294967295|I>>>15),I=w+(b^M&(U^b))+O[11]+2304563134&4294967295,w=M+(I<<22&4294967295|I>>>10),I=b+(U^w&(M^U))+O[12]+1804603682&4294967295,b=w+(I<<7&4294967295|I>>>25),I=U+(M^b&(w^M))+O[13]+4254626195&4294967295,U=b+(I<<12&4294967295|I>>>20),I=M+(w^U&(b^w))+O[14]+2792965006&4294967295,M=U+(I<<17&4294967295|I>>>15),I=w+(b^M&(U^b))+O[15]+1236535329&4294967295,w=M+(I<<22&4294967295|I>>>10),I=b+(M^U&(w^M))+O[1]+4129170786&4294967295,b=w+(I<<5&4294967295|I>>>27),I=U+(w^M&(b^w))+O[6]+3225465664&4294967295,U=b+(I<<9&4294967295|I>>>23),I=M+(b^w&(U^b))+O[11]+643717713&4294967295,M=U+(I<<14&4294967295|I>>>18),I=w+(U^b&(M^U))+O[0]+3921069994&4294967295,w=M+(I<<20&4294967295|I>>>12),I=b+(M^U&(w^M))+O[5]+3593408605&4294967295,b=w+(I<<5&4294967295|I>>>27),I=U+(w^M&(b^w))+O[10]+38016083&4294967295,U=b+(I<<9&4294967295|I>>>23),I=M+(b^w&(U^b))+O[15]+3634488961&4294967295,M=U+(I<<14&4294967295|I>>>18),I=w+(U^b&(M^U))+O[4]+3889429448&4294967295,w=M+(I<<20&4294967295|I>>>12),I=b+(M^U&(w^M))+O[9]+568446438&4294967295,b=w+(I<<5&4294967295|I>>>27),I=U+(w^M&(b^w))+O[14]+3275163606&4294967295,U=b+(I<<9&4294967295|I>>>23),I=M+(b^w&(U^b))+O[3]+4107603335&4294967295,M=U+(I<<14&4294967295|I>>>18),I=w+(U^b&(M^U))+O[8]+1163531501&4294967295,w=M+(I<<20&4294967295|I>>>12),I=b+(M^U&(w^M))+O[13]+2850285829&4294967295,b=w+(I<<5&4294967295|I>>>27),I=U+(w^M&(b^w))+O[2]+4243563512&4294967295,U=b+(I<<9&4294967295|I>>>23),I=M+(b^w&(U^b))+O[7]+1735328473&4294967295,M=U+(I<<14&4294967295|I>>>18),I=w+(U^b&(M^U))+O[12]+2368359562&4294967295,w=M+(I<<20&4294967295|I>>>12),I=b+(w^M^U)+O[5]+4294588738&4294967295,b=w+(I<<4&4294967295|I>>>28),I=U+(b^w^M)+O[8]+2272392833&4294967295,U=b+(I<<11&4294967295|I>>>21),I=M+(U^b^w)+O[11]+1839030562&4294967295,M=U+(I<<16&4294967295|I>>>16),I=w+(M^U^b)+O[14]+4259657740&4294967295,w=M+(I<<23&4294967295|I>>>9),I=b+(w^M^U)+O[1]+2763975236&4294967295,b=w+(I<<4&4294967295|I>>>28),I=U+(b^w^M)+O[4]+1272893353&4294967295,U=b+(I<<11&4294967295|I>>>21),I=M+(U^b^w)+O[7]+4139469664&4294967295,M=U+(I<<16&4294967295|I>>>16),I=w+(M^U^b)+O[10]+3200236656&4294967295,w=M+(I<<23&4294967295|I>>>9),I=b+(w^M^U)+O[13]+681279174&4294967295,b=w+(I<<4&4294967295|I>>>28),I=U+(b^w^M)+O[0]+3936430074&4294967295,U=b+(I<<11&4294967295|I>>>21),I=M+(U^b^w)+O[3]+3572445317&4294967295,M=U+(I<<16&4294967295|I>>>16),I=w+(M^U^b)+O[6]+76029189&4294967295,w=M+(I<<23&4294967295|I>>>9),I=b+(w^M^U)+O[9]+3654602809&4294967295,b=w+(I<<4&4294967295|I>>>28),I=U+(b^w^M)+O[12]+3873151461&4294967295,U=b+(I<<11&4294967295|I>>>21),I=M+(U^b^w)+O[15]+530742520&4294967295,M=U+(I<<16&4294967295|I>>>16),I=w+(M^U^b)+O[2]+3299628645&4294967295,w=M+(I<<23&4294967295|I>>>9),I=b+(M^(w|~U))+O[0]+4096336452&4294967295,b=w+(I<<6&4294967295|I>>>26),I=U+(w^(b|~M))+O[7]+1126891415&4294967295,U=b+(I<<10&4294967295|I>>>22),I=M+(b^(U|~w))+O[14]+2878612391&4294967295,M=U+(I<<15&4294967295|I>>>17),I=w+(U^(M|~b))+O[5]+4237533241&4294967295,w=M+(I<<21&4294967295|I>>>11),I=b+(M^(w|~U))+O[12]+1700485571&4294967295,b=w+(I<<6&4294967295|I>>>26),I=U+(w^(b|~M))+O[3]+2399980690&4294967295,U=b+(I<<10&4294967295|I>>>22),I=M+(b^(U|~w))+O[10]+4293915773&4294967295,M=U+(I<<15&4294967295|I>>>17),I=w+(U^(M|~b))+O[1]+2240044497&4294967295,w=M+(I<<21&4294967295|I>>>11),I=b+(M^(w|~U))+O[8]+1873313359&4294967295,b=w+(I<<6&4294967295|I>>>26),I=U+(w^(b|~M))+O[15]+4264355552&4294967295,U=b+(I<<10&4294967295|I>>>22),I=M+(b^(U|~w))+O[6]+2734768916&4294967295,M=U+(I<<15&4294967295|I>>>17),I=w+(U^(M|~b))+O[13]+1309151649&4294967295,w=M+(I<<21&4294967295|I>>>11),I=b+(M^(w|~U))+O[4]+4149444226&4294967295,b=w+(I<<6&4294967295|I>>>26),I=U+(w^(b|~M))+O[11]+3174756917&4294967295,U=b+(I<<10&4294967295|I>>>22),I=M+(b^(U|~w))+O[2]+718787259&4294967295,M=U+(I<<15&4294967295|I>>>17),I=w+(U^(M|~b))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.u=function(N,b){b===void 0&&(b=N.length);for(var w=b-this.blockSize,O=this.B,M=this.h,U=0;U<b;){if(M==0)for(;U<=w;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<b;)if(O[M++]=N.charCodeAt(U++),M==this.blockSize){l(this,O),M=0;break}}else for(;U<b;)if(O[M++]=N[U++],M==this.blockSize){l(this,O),M=0;break}}this.h=M,this.o+=b},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;var w=8*this.o;for(b=N.length-8;b<N.length;++b)N[b]=w&255,w/=256;for(this.u(N),N=Array(16),b=w=0;4>b;++b)for(var O=0;32>O;O+=8)N[w++]=this.g[b]>>>O&255;return N};function c(N,b){var w=g;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=b(N)}function d(N,b){this.h=b;for(var w=[],O=!0,M=N.length-1;0<=M;M--){var U=N[M]|0;O&&U==b||(w[M]=U,O=!1)}this.g=w}var g={};function p(N){return-128<=N&&128>N?c(N,function(b){return new d([b|0],0>b?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return S;if(0>N)return K(v(-N));for(var b=[],w=1,O=0;N>=w;O++)b[O]=N/w|0,w*=4294967296;return new d(b,0)}function T(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return K(T(N.substring(1),b));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(b,8)),O=S,M=0;M<N.length;M+=8){var U=Math.min(8,N.length-M),I=parseInt(N.substring(M,M+U),b);8>U?(U=v(Math.pow(b,U)),O=O.j(U).add(v(I))):(O=O.j(w),O=O.add(v(I)))}return O}var S=p(0),x=p(1),H=p(16777216);r=d.prototype,r.m=function(){if(tt(this))return-K(this).m();for(var N=0,b=1,w=0;w<this.g.length;w++){var O=this.i(w);N+=(0<=O?O:4294967296+O)*b,b*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(tt(this))return"-"+K(this).toString(N);for(var b=v(Math.pow(N,6)),w=this,O="";;){var M=Ct(w,b).g;w=ot(w,M.j(b));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=M,Z(w))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(var b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function tt(N){return N.h==-1}r.l=function(N){return N=ot(this,N),tt(N)?-1:Z(N)?0:1};function K(N){for(var b=N.g.length,w=[],O=0;O<b;O++)w[O]=~N.g[O];return new d(w,~N.h).add(x)}r.abs=function(){return tt(this)?K(this):this},r.add=function(N){for(var b=Math.max(this.g.length,N.g.length),w=[],O=0,M=0;M<=b;M++){var U=O+(this.i(M)&65535)+(N.i(M)&65535),I=(U>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);O=I>>>16,U&=65535,I&=65535,w[M]=I<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function ot(N,b){return N.add(K(b))}r.j=function(N){if(Z(this)||Z(N))return S;if(tt(this))return tt(N)?K(this).j(K(N)):K(K(this).j(N));if(tt(N))return K(this.j(K(N)));if(0>this.l(H)&&0>N.l(H))return v(this.m()*N.m());for(var b=this.g.length+N.g.length,w=[],O=0;O<2*b;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<N.g.length;M++){var U=this.i(O)>>>16,I=this.i(O)&65535,le=N.i(M)>>>16,ye=N.i(M)&65535;w[2*O+2*M]+=I*ye,pt(w,2*O+2*M),w[2*O+2*M+1]+=U*ye,pt(w,2*O+2*M+1),w[2*O+2*M+1]+=I*le,pt(w,2*O+2*M+1),w[2*O+2*M+2]+=U*le,pt(w,2*O+2*M+2)}for(O=0;O<b;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=b;O<2*b;O++)w[O]=0;return new d(w,0)};function pt(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function mt(N,b){this.g=N,this.h=b}function Ct(N,b){if(Z(b))throw Error("division by zero");if(Z(N))return new mt(S,S);if(tt(N))return b=Ct(K(N),b),new mt(K(b.g),K(b.h));if(tt(b))return b=Ct(N,K(b)),new mt(K(b.g),b.h);if(30<N.g.length){if(tt(N)||tt(b))throw Error("slowDivide_ only works with positive integers.");for(var w=x,O=b;0>=O.l(N);)w=Qt(w),O=Qt(O);var M=wt(w,1),U=wt(O,1);for(O=wt(O,2),w=wt(w,2);!Z(O);){var I=U.add(O);0>=I.l(N)&&(M=M.add(w),U=I),O=wt(O,1),w=wt(w,1)}return b=ot(N,M.j(b)),new mt(M,b)}for(M=S;0<=N.l(b);){for(w=Math.max(1,Math.floor(N.m()/b.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=v(w),I=U.j(b);tt(I)||0<I.l(N);)w-=O,U=v(w),I=U.j(b);Z(U)&&(U=x),M=M.add(U),N=ot(N,I)}return new mt(M,N)}r.A=function(N){return Ct(this,N).h},r.and=function(N){for(var b=Math.max(this.g.length,N.g.length),w=[],O=0;O<b;O++)w[O]=this.i(O)&N.i(O);return new d(w,this.h&N.h)},r.or=function(N){for(var b=Math.max(this.g.length,N.g.length),w=[],O=0;O<b;O++)w[O]=this.i(O)|N.i(O);return new d(w,this.h|N.h)},r.xor=function(N){for(var b=Math.max(this.g.length,N.g.length),w=[],O=0;O<b;O++)w[O]=this.i(O)^N.i(O);return new d(w,this.h^N.h)};function Qt(N){for(var b=N.g.length+1,w=[],O=0;O<b;O++)w[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(w,N.h)}function wt(N,b){var w=b>>5;b%=32;for(var O=N.g.length-w,M=[],U=0;U<O;U++)M[U]=0<b?N.i(U+w)>>>b|N.i(U+w+1)<<32-b:N.i(U+w);return new d(M,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,P0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=T,Vs=d}).apply(typeof nv<"u"?nv:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j0,hl,z0,wc,Gd,B0,q0,H0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in _))break t;_=_[L]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,A=!1,L={next:function(){if(!A&&_<u.length){var q=_++;return{value:m(q,u[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,_){return u.call.apply(u.bind,arguments)}function S(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function x(u,m,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:S,x.apply(null,arguments)}function H(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function Z(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,L,q){for(var et=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)et[Gt-2]=arguments[Gt];return m.prototype[L].apply(A,et)}}function tt(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function K(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const L=u.length||0,q=A.length||0;u.length=L+q;for(let et=0;et<q;et++)u[L+et]=A[et]}else u.push(A)}}class ot{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function pt(u){return/^[\s\xa0]*$/.test(u)}function mt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Ct(u){return Ct[" "](u),u}Ct[" "]=function(){};var Qt=mt().indexOf("Gecko")!=-1&&!(mt().toLowerCase().indexOf("webkit")!=-1&&mt().indexOf("Edge")==-1)&&!(mt().indexOf("Trident")!=-1||mt().indexOf("MSIE")!=-1)&&mt().indexOf("Edge")==-1;function wt(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function N(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function b(u){const m={};for(const _ in u)m[_]=u[_];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let _,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(_ in A)u[_]=A[_];for(let q=0;q<w.length;q++)_=w[q],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function M(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function U(u){g.setTimeout(()=>{throw u},0)}function I(){var u=Pt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class le{constructor(){this.h=this.g=null}add(m,_){const A=ye.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ye=new ot(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ht=!1,Pt=new le,lt=()=>{const u=g.Promise.resolve(void 0);nt=()=>{u.then(C)}};var C=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(_){U(_)}var m=ye;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ht=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var it=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u})();function ct(u,m){if($.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Qt){t:{try{Ct(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ct.aa.h.call(this)}}Z(ct,$);var yt={2:"touch",3:"pen",4:"mouse"};ct.prototype.h=function(){ct.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),ee=0;function xt(u,m,_,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=L,this.key=++ee,this.da=this.fa=!1}function te(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Qe(u){this.src=u,this.g={},this.h=0}Qe.prototype.add=function(u,m,_,A,L){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var et=Zi(u,m,A,L);return-1<et?(m=u[et],_||(m.fa=!1)):(m=new xt(m,this.src,q,!!A,L),m.fa=_,u.push(m)),m};function di(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],L=Array.prototype.indexOf.call(A,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(A,L,1),q&&(te(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Zi(u,m,_,A){for(var L=0;L<u.length;++L){var q=u[L];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==A)return L}return-1}var pn="closure_lm_"+(1e6*Math.random()|0),ns={};function Gs(u,m,_,A,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Gs(u,m[q],_,A,L);return null}return _=Hl(_),u&&u[vt]?u.K(m,_,v(A)?!!A.capture:!1,L):mh(u,m,_,!1,A,L)}function mh(u,m,_,A,L,q){if(!m)throw Error("Invalid event type");var et=v(L)?!!L.capture:!!L,Gt=ro(u);if(Gt||(u[pn]=Gt=new Qe(u)),_=Gt.add(m,_,A,et,q),_.proxy)return _;if(A=ql(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)it||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent(Ks(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ql(){function u(_){return m.call(u.src,u.listener,_)}const m=gh;return u}function Qs(u,m,_,A,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Qs(u,m[q],_,A,L);else A=v(A)?!!A.capture:!!A,_=Hl(_),u&&u[vt]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],_=Zi(q,_,A,L),-1<_&&(te(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=ro(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Zi(m,_,A,L)),(_=-1<u?m[u]:null)&&is(_))}function is(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[vt])di(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(Ks(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=ro(m))?(di(_,u),_.h==0&&(_.src=null,m[pn]=null)):te(u)}}}function Ks(u){return u in ns?ns[u]:ns[u]="on"+u}function gh(u,m){if(u.da)u=!0;else{m=new ct(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&is(u),u=_.call(A,m)}return u}function ro(u){return u=u[pn],u instanceof Qe?u:null}var Ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hl(u){return typeof u=="function"?u:(u[Ue]||(u[Ue]=function(m){return u.handleEvent(m)}),u[Ue])}function we(){F.call(this),this.i=new Qe(this),this.M=this,this.F=null}Z(we,F),we.prototype[vt]=!0,we.prototype.removeEventListener=function(u,m,_,A){Qs(this,u,m,_,A)};function Ne(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new $(m,u);else if(m instanceof $)m.target=m.target||u;else{var L=m;m=new $(A,u),O(m,L)}if(L=!0,_)for(var q=_.length-1;0<=q;q--){var et=m.g=_[q];L=mi(et,A,!0,m)&&L}if(et=m.g=u,L=mi(et,A,!0,m)&&L,L=mi(et,A,!1,m)&&L,_)for(q=0;q<_.length;q++)et=m.g=_[q],L=mi(et,A,!1,m)&&L}we.prototype.N=function(){if(we.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)te(_[A]);delete u.g[m],u.h--}}this.F=null},we.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},we.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function mi(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var et=m[q];if(et&&!et.da&&et.capture==_){var Gt=et.listener,_e=et.ha||et.src;et.fa&&di(u.i,et),L=Gt.call(_e,A)!==!1&&L}}return L&&!A.defaultPrevented}function Fl(u,m,_){if(typeof u=="function")_&&(u=x(u,_));else if(u&&typeof u.handleEvent=="function")u=x(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function so(u){u.g=Fl(()=>{u.g=null,u.i&&(u.i=!1,so(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ph extends F{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:so(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(u){F.call(this),this.h=u,this.g={}}Z(rs,F);var Wi=[];function Ke(u){wt(u.g,function(m,_){this.g.hasOwnProperty(_)&&is(m)},u),u.g={}}rs.prototype.N=function(){rs.aa.N.call(this),Ke(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=g.JSON.stringify,tn=g.JSON.parse,yh=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function ao(){}ao.prototype.h=null;function Gl(u){return u.h||(u.h=u.i())}function ss(){}var Xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tr(){$.call(this,"d")}Z(tr,$);function jn(){$.call(this,"c")}Z(jn,$);var Cn={},er=null;function Ys(){return er=er||new we}Cn.La="serverreachability";function oo(u){$.call(this,Cn.La,u)}Z(oo,$);function gi(u){const m=Ys();Ne(m,new oo(m))}Cn.STAT_EVENT="statevent";function nr(u,m){$.call(this,Cn.STAT_EVENT,u),this.stat=m}Z(nr,$);function ke(u){const m=Ys();Ne(m,new nr(m,u))}Cn.Ma="timingevent";function lo(u,m){$.call(this,Cn.Ma,u),this.size=m}Z(lo,$);function ir(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function rr(){this.g=!0}rr.prototype.xa=function(){this.g=!1};function uo(u,m,_,A,L,q){u.info(function(){if(u.g)if(q)for(var et="",Gt=q.split("&"),_e=0;_e<Gt.length;_e++){var It=Gt[_e].split("=");if(1<It.length){var Oe=It[0];It=It[1];var xe=Oe.split("_");et=2<=xe.length&&xe[1]=="type"?et+(Oe+"="+It+"&"):et+(Oe+"=redacted&")}}else et=null;else et=q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+_+`
`+et})}function co(u,m,_,A,L,q,et){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+_+`
`+q+" "+et})}function pi(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+$n(u,_)+(A?" "+A:"")})}function Ql(u,m){u.info(function(){return"TIMEOUT: "+m})}rr.prototype.info=function(){};function $n(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var et=1;et<L.length;et++)L[et]=""}}}}return In(_)}catch{return m}}var ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Le={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jn;function sr(){}Z(sr,ao),sr.prototype.g=function(){return new XMLHttpRequest},sr.prototype.i=function(){return{}},Jn=new sr;function Zn(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kl}function Kl(){this.i=null,this.g="",this.h=!1}var ho={},yi={};function as(u,m,_){u.L=1,u.v=us(ce(m)),u.m=_,u.P=!0,_i(u,null)}function _i(u,m){u.F=Date.now(),zn(u),u.A=ce(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Ti(_.i,"t",A),u.C=0,_=u.j.J,u.h=new Kl,u.g=uu(u.j,_?m:null,!u.m),0<u.O&&(u.M=new ph(x(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Wi[0]=L.toString()),L=Wi);for(var q=0;q<L.length;q++){var et=Gs(_,L[q],A||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),gi(),uo(u.i,u.u,u.A,u.l,u.R,u.m)}Zn.prototype.ca=function(u){u=u.target;const m=this.M;m&&rn(u)==3?m.j():this.Y(u)},Zn.prototype.Y=function(u){try{if(u==this.g)t:{const xe=rn(this.g);var m=this.g.Ba();const _r=this.g.Z();if(!(3>xe)&&(xe!=3||this.g&&(this.h.h||this.g.oa()||fs(this.g)))){this.J||xe!=4||m==7||(m==8||0>=_r?gi(3):gi(2)),Xs(this);var _=this.g.Z();this.X=_;e:if(vi(this)){var A=fs(this.g);u="";var L=A.length,q=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),ar(this);var et="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(q&&m==L-1)});A.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=_==200,co(this.i,this.u,this.A,this.l,this.R,xe,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Gt,_e=this.g;if((Gt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(Gt)){var It=Gt;break e}}It=null}if(_=It)pi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wn(this,_);else{this.o=!1,this.s=3,ke(12),en(this),ar(this);break t}}if(this.P){_=!0;let un;for(;!this.J&&this.C<et.length;)if(un=os(this,et),un==yi){xe==4&&(this.s=4,ke(14),_=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(un==ho){this.s=4,ke(15),pi(this.i,this.l,et,"[Invalid Chunk]"),_=!1;break}else pi(this.i,this.l,un,null),Wn(this,un);if(vi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||et.length!=0||this.h.h||(this.s=1,ke(16),_=!1),this.o=this.o&&_,!_)pi(this.i,this.l,et,"[Invalid Chunked Response]"),en(this),ar(this);else if(0<et.length&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.ba&&!Oe.M&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),So(Oe),Oe.M=!0,ke(11))}}else pi(this.i,this.l,et,null),Wn(this,et);xe==4&&en(this),this.o&&!this.J&&(xe==4?au(this.j,this):(this.o=!1,zn(this)))}else tu(this.g),_==400&&0<et.indexOf("Unknown SID")?(this.s=3,ke(12)):(this.s=0,ke(13)),en(this),ar(this)}}}catch{}finally{}};function vi(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function os(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?yi:(_=Number(m.substring(_,A)),isNaN(_)?ho:(A+=1,A+_>m.length?yi:(m=m.slice(A,A+_),u.C=A+_,m)))}Zn.prototype.cancel=function(){this.J=!0,en(this)};function zn(u){u.S=Date.now()+u.I,de(u,u.I)}function de(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ir(x(u.ba,u),m)}function Xs(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Zn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ql(this.i,this.A),this.L!=2&&(gi(),ke(17)),en(this),this.s=2,ar(this)):de(this,this.S-u)};function ar(u){u.j.G==0||u.J||au(u.j,u)}function en(u){Xs(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ke(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Wn(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||or(_.h,u))){if(!u.K&&or(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)pr(_),gr(_);else break t;Ao(_),ke(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=ir(x(_.Za,_),6e3));if(1>=Yl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Si(_,11)}else if((u.K||_.g==u)&&pr(_),!pt(m))for(L=_.Da.g.parse(m),m=0;m<L.length;m++){let It=L[m];if(_.T=It[0],It=It[1],_.G==2)if(It[0]=="c"){_.K=It[1],_.ia=It[2];const Oe=It[3];Oe!=null&&(_.la=Oe,_.j.info("VER="+_.la));const xe=It[4];xe!=null&&(_.Aa=xe,_.j.info("SVER="+_.Aa));const _r=It[5];_r!=null&&typeof _r=="number"&&0<_r&&(A=1.5*_r,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const un=u.g;if(un){const gs=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gs){var q=A.h;q.g||gs.indexOf("spdy")==-1&&gs.indexOf("quic")==-1&&gs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(lr(q,q.h),q.h=null))}if(A.D){const bi=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;bi&&(A.ya=bi,zt(A.I,A.D,bi))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var et=u;if(A.qa=lu(A,A.J?A.ia:null,A.W),et.K){Nn(A.h,et);var Gt=et,_e=A.L;_e&&(Gt.I=_e),Gt.B&&(Xs(Gt),zn(Gt)),A.g=et}else ru(A);0<_.i.length&&ia(_)}else It[0]!="stop"&&It[0]!="close"||Si(_,7);else _.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?Si(_,7):Eo(_):It[0]!="noop"&&_.l&&_.l.ta(It),_.v=0)}}gi(4)}catch{}}var _h=class{constructor(u,m){this.g=u,this.map=m}};function fo(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Yl(u){return u.h?1:u.g?u.g.size:0}function or(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function lr(u,m){u.g?u.g.add(m):u.h=m}function Nn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fo.prototype.cancel=function(){if(this.i=nn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function nn(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return tt(u.i)}function Xl(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function vh(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function $s(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=vh(u),A=Xl(u),L=A.length,q=0;q<L;q++)m.call(void 0,A[q],_&&_[q],u)}var go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Js(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),L=null;if(0<=A){var q=u[_].substring(0,A);L=u[_].substring(A+1)}else q=u[_];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ei(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ei){this.h=u.h,ur(this,u.j),this.o=u.o,this.g=u.g,ls(this,u.s),this.l=u.l;var m=u.i,_=new ti;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Zs(this,_),this.m=u.m}else u&&(m=String(u).match(go))?(this.h=!1,ur(this,m[1]||"",!0),this.o=cr(m[2]||""),this.g=cr(m[3]||"",!0),ls(this,m[4]),this.l=cr(m[5]||"",!0),Zs(this,m[6]||"",!0),this.m=cr(m[7]||"")):(this.h=!1,this.i=new ti(null,this.h))}Ei.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Dn(m,po,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Dn(m,po,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Dn(_,_.charAt(0)=="/"?yo:$l,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Dn(_,Ah)),u.join("")};function ce(u){return new Ei(u)}function ur(u,m,_){u.j=_?cr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ls(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Zs(u,m,_){m instanceof ti?(u.i=m,Jl(u.i,u.h)):(_||(m=Dn(m,Th)),u.i=new ti(m,u.h))}function zt(u,m,_){u.i.set(m,_)}function us(u){return zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function cr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Dn(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Eh),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Eh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var po=/[#\/\?@]/g,$l=/[#\?:]/g,yo=/[#\?]/g,Th=/[#\?@]/g,Ah=/#/g;function ti(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function De(u){u.g||(u.g=new Map,u.h=0,u.i&&Js(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=ti.prototype,r.add=function(u,m){De(this),this.i=null,u=yn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Ws(u,m){De(u),m=yn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ta(u,m){return De(u),m=yn(u,m),u.g.has(m)}r.forEach=function(u,m){De(this),this.g.forEach(function(_,A){_.forEach(function(L){u.call(m,L,A,this)},this)},this)},r.na=function(){De(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const L=u[A];for(let q=0;q<L.length;q++)_.push(m[A])}return _},r.V=function(u){De(this);let m=[];if(typeof u=="string")ta(this,u)&&(m=m.concat(this.g.get(yn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return De(this),this.i=null,u=yn(this,u),ta(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ti(u,m,_){Ws(u,m),0<_.length&&(u.i=null,u.g.set(yn(u,m),tt(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const q=encodeURIComponent(String(A)),et=this.V(A);for(A=0;A<et.length;A++){var L=q;et[A]!==""&&(L+="="+encodeURIComponent(String(et[A]))),u.push(L)}}return this.i=u.join("&")};function yn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Jl(u,m){m&&!u.j&&(De(u),u.i=null,u.g.forEach(function(_,A){var L=A.toLowerCase();A!=L&&(Ws(this,A),Ti(this,L,_))},u)),u.j=m}function _o(u,m){const _=new rr;if(g.Image){const A=new Image;A.onload=H(ln,_,"TestLoadImage: loaded",!0,m,A),A.onerror=H(ln,_,"TestLoadImage: error",!1,m,A),A.onabort=H(ln,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=H(ln,_,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Zl(u,m){const _=new rr,A=new AbortController,L=setTimeout(()=>{A.abort(),ln(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(L),q.ok?ln(_,"TestPingServer: ok",!0,m):ln(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),ln(_,"TestPingServer: error",!1,m)})}function ln(u,m,_,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(_)}catch{}}function Bn(){this.g=new yh}function vo(u,m,_){const A=_||"";try{$s(u,function(L,q){let et=L;v(L)&&(et=In(L)),m.push(A+q+"="+encodeURIComponent(et))})}catch(L){throw m.push(A+"type="+encodeURIComponent("_badmap")),L}}function ei(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(ei,ao),ei.prototype.g=function(){return new _n(this.l,this.j)},ei.prototype.i=(function(u){return function(){return u}})({});function _n(u,m){we.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(_n,we),r=_n.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,hr(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,hr(this)),this.g&&(this.readyState=3,hr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ea(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ea(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ni(this):hr(this),this.readyState==3&&ea(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,ni(this))},r.Qa=function(u){this.g&&(this.response=u,ni(this))},r.ga=function(){this.g&&ni(this)};function ni(u){u.readyState=4,u.l=null,u.j=null,u.v=null,hr(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function hr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_n.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function cs(u){let m="";return wt(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function fr(u,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=cs(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):zt(u,m,_))}function ne(u){we.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(ne,we);var Ye=/^https?$/i,Ai=["POST","PUT"];r=ne.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jn.g(),this.v=this.o?Gl(this.o):Gl(Jn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){hs(this,q);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)_.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())_.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ai,m,void 0))||A||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of _)this.g.setRequestHeader(q,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{na(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){hs(this,q)}};function hs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,dr(u),mr(u)}function dr(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ne(this,"complete"),Ne(this,"abort"),mr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mr(this,!0)),ne.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Wl(this):this.bb())},r.bb=function(){Wl(this)};function Wl(u){if(u.h&&typeof d<"u"&&(!u.v[1]||rn(u)!=4||u.Z()!=2)){if(u.u&&rn(u)==4)Fl(u.Ea,0,u);else if(Ne(u,"readystatechange"),rn(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=et===0){var L=String(u.D).match(go)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),A=!Ye.test(L?L.toLowerCase():"")}_=A}if(_)Ne(u,"complete"),Ne(u,"success");else{u.m=6;try{var q=2<rn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",dr(u)}}finally{mr(u)}}}}function mr(u,m){if(u.g){na(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ne(u,"ready");try{_.onreadystatechange=A}catch{}}}function na(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function rn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),tn(m)}};function fs(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function tu(u){const m={};u=(u.g&&2<=rn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(pt(u[A]))continue;var _=M(u[A]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[L]||[];m[L]=q,q.push(_)}N(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ds(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function eu(u){this.Aa=0,this.i=[],this.j=new rr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ds("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ds("baseRetryDelayMs",5e3,u),this.cb=ds("retryDelaySeedMs",1e4,u),this.Wa=ds("forwardChannelMaxRetries",2,u),this.wa=ds("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new fo(u&&u.concurrentRequestLimit),this.Da=new Bn,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=eu.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,A){ke(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=lu(this,null,this.W),ia(this)};function Eo(u){if(nu(u),u.G==3){var m=u.U++,_=ce(u.I);if(zt(_,"SID",u.K),zt(_,"RID",m),zt(_,"TYPE","terminate"),ms(u,_),m=new Zn(u,u.j,m),m.L=2,m.v=us(ce(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=uu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),zn(m)}bo(u)}function gr(u){u.g&&(So(u),u.g.cancel(),u.g=null)}function nu(u){gr(u),u.u&&(g.clearTimeout(u.u),u.u=null),pr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ia(u){if(!mo(u.h)&&!u.s){u.s=!0;var m=u.Ga;nt||lt(),ht||(nt(),ht=!0),Pt.add(m,u),u.B=0}}function Sh(u,m){return Yl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ir(x(u.Ga,u,m),ou(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Zn(this,this.j,u);let q=this.o;if(this.S&&(q?(q=b(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=To(this,L,m),_=ce(this.I),zt(_,"RID",u),zt(_,"CVER",22),this.D&&zt(_,"X-HTTP-Session-Id",this.D),ms(this,_),q&&(this.O?m="headers="+encodeURIComponent(String(cs(q)))+"&"+m:this.m&&fr(_,this.m,q)),lr(this.h,L),this.Ua&&zt(_,"TYPE","init"),this.P?(zt(_,"$req",m),zt(_,"SID","null"),L.T=!0,as(L,_,null)):as(L,_,m),this.G=2}}else this.G==3&&(u?iu(this,u):this.i.length==0||mo(this.h)||iu(this))};function iu(u,m){var _;m?_=m.l:_=u.U++;const A=ce(u.I);zt(A,"SID",u.K),zt(A,"RID",_),zt(A,"AID",u.T),ms(u,A),u.m&&u.o&&fr(A,u.m,u.o),_=new Zn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=To(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),lr(u.h,_),as(_,A,m)}function ms(u,m){u.H&&wt(u.H,function(_,A){zt(m,A,_)}),u.l&&$s({},function(_,A){zt(m,A,_)})}function To(u,m,_){_=Math.min(u.i.length,_);var A=u.l?x(u.l.Na,u.l,u):null;t:{var L=u.i;let q=-1;for(;;){const et=["count="+_];q==-1?0<_?(q=L[0].g,et.push("ofs="+q)):q=0:et.push("ofs="+q);let Gt=!0;for(let _e=0;_e<_;_e++){let It=L[_e].g;const Oe=L[_e].map;if(It-=q,0>It)q=Math.max(0,L[_e].g-100),Gt=!1;else try{vo(Oe,et,"req"+It+"_")}catch{A&&A(Oe)}}if(Gt){A=et.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,A}function ru(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;nt||lt(),ht||(nt(),ht=!0),Pt.add(m,u),u.v=0}}function Ao(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ir(x(u.Fa,u),ou(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,su(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ir(x(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ke(10),gr(this),su(this))};function So(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function su(u){u.g=new Zn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ce(u.qa);zt(m,"RID","rpc"),zt(m,"SID",u.K),zt(m,"AID",u.T),zt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&zt(m,"TO",u.ja),zt(m,"TYPE","xmlhttp"),ms(u,m),u.m&&u.o&&fr(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=us(ce(m)),_.m=null,_.P=!0,_i(_,u)}r.Za=function(){this.C!=null&&(this.C=null,gr(this),Ao(this),ke(19))};function pr(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function au(u,m){var _=null;if(u.g==m){pr(u),So(u),u.g=null;var A=2}else if(or(u.h,m))_=m.D,Nn(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;A=Ys(),Ne(A,new lo(A,_)),ia(u)}else ru(u);else if(L=m.s,L==3||L==0&&0<m.X||!(A==1&&Sh(u,m)||A==2&&Ao(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),L){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function ou(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var _=x(u.fb,u),A=u.Xa;const L=!A;A=new Ei(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ur(A,"https"),us(A),L?_o(A.toString(),_):Zl(A.toString(),_)}else ke(2);u.G=0,u.l&&u.l.sa(m),bo(u),nu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))};function bo(u){if(u.G=0,u.ka=[],u.l){const m=nn(u.h);(m.length!=0||u.i.length!=0)&&(K(u.ka,m),K(u.ka,u.i),u.h.i.length=0,tt(u.i),u.i.length=0),u.l.ra()}}function lu(u,m,_){var A=_ instanceof Ei?ce(_):new Ei(_);if(A.g!="")m&&(A.g=m+"."+A.g),ls(A,A.s);else{var L=g.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new Ei(null);A&&ur(q,A),m&&(q.g=m),L&&ls(q,L),_&&(q.l=_),A=q}return _=u.D,m=u.ya,_&&m&&zt(A,_,m),zt(A,"VER",u.la),ms(u,A),A}function uu(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new ne(new ei({eb:_})):new ne(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}r=cu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ra(){}ra.prototype.g=function(u,m){return new sn(u,m)};function sn(u,m){we.call(this),this.g=new eu(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!pt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!pt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new yr(this)}Z(sn,we),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Eo(this.g)},sn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=In(u),u=_);m.i.push(new _h(m.Ya++,u)),m.G==3&&ia(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,Eo(this.g),delete this.g,sn.aa.N.call(this)};function hu(u){tr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z(hu,tr);function fu(){jn.call(this),this.status=1}Z(fu,jn);function yr(u){this.g=u}Z(yr,cu),yr.prototype.ua=function(){Ne(this.g,"a")},yr.prototype.ta=function(u){Ne(this.g,new hu(u))},yr.prototype.sa=function(u){Ne(this.g,new fu)},yr.prototype.ra=function(){Ne(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,H0=function(){return new ra},q0=function(){return Ys()},B0=Cn,Gd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,wc=ue,Le.COMPLETE="complete",z0=Le,ss.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",we.prototype.listen=we.prototype.K,hl=ss,ne.prototype.listenOnce=ne.prototype.L,ne.prototype.getLastError=ne.prototype.Ka,ne.prototype.getLastErrorCode=ne.prototype.Ba,ne.prototype.getStatus=ne.prototype.Z,ne.prototype.getResponseJson=ne.prototype.Oa,ne.prototype.getResponseText=ne.prototype.oa,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Ha,j0=ne}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const iv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Je=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new um("@firebase/firestore");function ll(){return js.logLevel}function at(r,...t){if(js.logLevel<=Lt.DEBUG){const i=t.map(Tm);js.debug(`Firestore (${Wa}): ${r}`,...i)}}function Ki(r,...t){if(js.logLevel<=Lt.ERROR){const i=t.map(Tm);js.error(`Firestore (${Wa}): ${r}`,...i)}}function qa(r,...t){if(js.logLevel<=Lt.WARN){const i=t.map(Tm);js.warn(`Firestore (${Wa}): ${r}`,...i)}}function Tm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r="Unexpected state"){const t=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: `+r;throw Ki(t),new Error(t)}function Xt(r,t){r||Et()}function St(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Xi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class HR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class FR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class GR{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Xt(this.o===void 0);let a=this.i;const l=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new Us;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Us,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=c;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Us)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xt(typeof a.accessToken=="string"),new F0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string"),new Je(t)}}class QR{constructor(t,i,a){this.l=t,this.h=i,this.P=a,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class KR{constructor(t,i,a){this.l=t,this.h=i,this.P=a}getToken(){return Promise.resolve(new QR(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class YR{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XR{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){Xt(this.o===void 0);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Xt(typeof i.token=="string"),this.R=i.token,new YR(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length;let a="";for(;a.length<20;){const l=$R(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%t.length))}return a}}function Ht(r,t){return r<t?-1:r>t?1:0}function Ha(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new st(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new st(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ie.fromMillis(Date.now())}static fromDate(t){return Ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor(1e6*(t-1e3*i));return new Ie(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ht(this.nanoseconds,t.nanoseconds):Ht(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(t){this.timestamp=t}static fromTimestamp(t){return new At(t)}static min(){return new At(new Ie(0,0))}static max(){return new At(new Ie(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(t,i,a){i===void 0?i=0:i>t.length&&Et(),a===void 0?a=t.length-i:a>t.length-i&&Et(),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return bl.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof bl?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=t.get(l),d=i.get(l);if(c<d)return-1;if(c>d)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class se extends bl{construct(t,i,a){return new se(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new st(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new se(i)}static emptyPath(){return new se([])}}const JR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends bl{construct(t,i,a){return new He(t,i,a)}static isValidIdentifier(t){return JR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new He(["__name__"])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new st(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new st(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new st(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new st(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new He(i)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(se.fromString(t))}static fromName(t){return new dt(se.fromString(t).popFirst(5))}static empty(){return new dt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return se.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new se(t.slice()))}}function ZR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=At.fromTimestamp(a===1e9?new Ie(i+1,0):new Ie(i,a));return new Zr(l,dt.empty(),t)}function WR(r){return new Zr(r.readTime,r.key,-1)}class Zr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Zr(At.min(),dt.empty(),-1)}static max(){return new Zr(At.max(),dt.empty(),-1)}}function t1(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,t.documentKey),i!==0?i:Ht(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==e1)throw r;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new W(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):W.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):W.reject(i)}static resolve(t){return new W(((i,a)=>{i(t)}))}static reject(t){return new W(((i,a)=>{a(t)}))}static waitFor(t){return new W(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(p=>a(p)))})),d=!0,c===l&&i()}))}static or(t){let i=W.resolve(!1);for(const a of t)i=i.next((l=>l?W.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new W(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const v=p;i(t[v]).next((T=>{d[v]=T,++g,g===c&&a(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new W(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function i1(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function kl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ie(a),this.se=a=>i.writeSequenceNumber(a))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Am.oe=-1;function Zc(r){return r==null}function Lc(r){return r===0&&1/r==-1/0}function r1(r){return typeof r=="number"&&Number.isInteger(r)&&!Lc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Hs(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function Q0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,i){this.comparator=t,this.root=i||qe.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _c(this.root,t,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _c(this.root,t,this.comparator,!0)}}class _c{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??qe.RED,this.left=l??qe.EMPTY,this.right=c??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new qe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return qe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const t=this.left.check();if(t!==this.right.check())throw Et();return t+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(t,i,a,l,c){return this}insert(t,i,a){return new qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new sv(this.data.getIterator())}getIteratorFrom(t){return new sv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Fe(this.comparator);return i.data=t,i}}class sv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.fields=t,t.sort(He.comparator)}static empty(){return new Rn([])}unionWith(t){let i=new Fe(He.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Rn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ha(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new K0("Invalid base64 string: "+c):c}})(t);return new Ge(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ge(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ht(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const s1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(r){if(Xt(!!r),typeof r=="string"){let t=0;const i=s1.exec(r);if(Xt(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function zs(r){return typeof r=="string"?Ge.fromBase64String(r):Ge.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function bm(r){const t=r.mapValue.fields.__previous_value__;return Sm(t)?bm(t):t}function wl(r){const t=Wr(r.mapValue.fields.__local_write_time__.timestampValue);return new Ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(t,i,a,l,c,d,g,p,v){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=v}}class Rl{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Rl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc={mapValue:{}};function Bs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sm(r)?4:l1(r)?9007199254740991:o1(r)?10:11:Et()}function fi(r,t){if(r===t)return!0;const i=Bs(r);if(i!==Bs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return wl(r).isEqual(wl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Wr(l.timestampValue),g=Wr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return zs(l.bytesValue).isEqual(zs(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return pe(l.geoPointValue.latitude)===pe(c.geoPointValue.latitude)&&pe(l.geoPointValue.longitude)===pe(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return pe(l.integerValue)===pe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=pe(l.doubleValue),g=pe(c.doubleValue);return d===g?Lc(d)===Lc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Ha(r.arrayValue.values||[],t.arrayValue.values||[],fi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(rv(d)!==rv(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!fi(d[p],g[p])))return!1;return!0})(r,t);default:return Et()}}function Il(r,t){return(r.values||[]).find((i=>fi(i,t)))!==void 0}function Fa(r,t){if(r===t)return 0;const i=Bs(r),a=Bs(t);if(i!==a)return Ht(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ht(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=pe(c.integerValue||c.doubleValue),p=pe(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(r,t);case 3:return av(r.timestampValue,t.timestampValue);case 4:return av(wl(r),wl(t));case 5:return Ht(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=zs(c),p=zs(d);return g.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),p=d.split("/");for(let v=0;v<g.length&&v<p.length;v++){const T=Ht(g[v],p[v]);if(T!==0)return T}return Ht(g.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Ht(pe(c.latitude),pe(d.latitude));return g!==0?g:Ht(pe(c.longitude),pe(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return ov(r.arrayValue,t.arrayValue);case 10:return(function(c,d){var g,p,v,T;const S=c.fields||{},x=d.fields||{},H=(g=S.value)===null||g===void 0?void 0:g.arrayValue,Z=(p=x.value)===null||p===void 0?void 0:p.arrayValue,tt=Ht(((v=H==null?void 0:H.values)===null||v===void 0?void 0:v.length)||0,((T=Z==null?void 0:Z.values)===null||T===void 0?void 0:T.length)||0);return tt!==0?tt:ov(H,Z)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===vc.mapValue&&d===vc.mapValue)return 0;if(c===vc.mapValue)return 1;if(d===vc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),v=d.fields||{},T=Object.keys(v);p.sort(),T.sort();for(let S=0;S<p.length&&S<T.length;++S){const x=Ht(p[S],T[S]);if(x!==0)return x;const H=Fa(g[p[S]],v[T[S]]);if(H!==0)return H}return Ht(p.length,T.length)})(r.mapValue,t.mapValue);default:throw Et()}}function av(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ht(r,t);const i=Wr(r),a=Wr(t),l=Ht(i.seconds,a.seconds);return l!==0?l:Ht(i.nanos,a.nanos)}function ov(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Fa(i[l],a[l]);if(c)return c}return Ht(i.length,a.length)}function Ga(r){return Qd(r)}function Qd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Wr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return zs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Qd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Qd(i.fields[d])}`;return l+"}"})(r.mapValue):Et()}function lv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Kd(r){return!!r&&"integerValue"in r}function wm(r){return!!r&&"arrayValue"in r}function uv(r){return!!r&&"nullValue"in r}function cv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Rc(r){return!!r&&"mapValue"in r}function o1(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function pl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Hs(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=pl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=pl(r.arrayValue.values[i]);return t}return Object.assign({},r)}function l1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.value=t}static empty(){return new gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Rc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=pl(i)}setAll(t){let i=He.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=pl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Rc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return fi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Rc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Hs(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new gn(pl(this.value))}}function Y0(r){const t=[];return Hs(r.fields,((i,a)=>{const l=new He([i]);if(Rc(a)){const c=Y0(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Rn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ze(t,0,At.min(),At.min(),At.min(),gn.empty(),0)}static newFoundDocument(t,i,a,l){return new Ze(t,1,i,At.min(),a,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,At.min(),At.min(),gn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,At.min(),At.min(),gn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,i){this.position=t,this.inclusive=i}}function hv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=Fa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function fv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!fi(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,i="asc"){this.field=t,this.dir=i}}function u1(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{}class be extends X0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new h1(t,i,a):i==="array-contains"?new m1(t,a):i==="in"?new g1(t,a):i==="not-in"?new p1(t,a):i==="array-contains-any"?new y1(t,a):new be(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new f1(t,a):new d1(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Fa(i,this.value)):i!==null&&Bs(this.value)===Bs(i)&&this.matchesComparison(Fa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends X0{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new Kn(t,i)}matches(t){return $0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $0(r){return r.op==="and"}function J0(r){return c1(r)&&$0(r)}function c1(r){for(const t of r.filters)if(t instanceof Kn)return!1;return!0}function Yd(r){if(r instanceof be)return r.field.canonicalString()+r.op.toString()+Ga(r.value);if(J0(r))return r.filters.map((t=>Yd(t))).join(",");{const t=r.filters.map((i=>Yd(i))).join(",");return`${r.op}(${t})`}}function Z0(r,t){return r instanceof be?(function(a,l){return l instanceof be&&a.op===l.op&&a.field.isEqual(l.field)&&fi(a.value,l.value)})(r,t):r instanceof Kn?(function(a,l){return l instanceof Kn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&Z0(d,l.filters[g])),!0):!1})(r,t):void Et()}function W0(r){return r instanceof be?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ga(i.value)}`})(r):r instanceof Kn?(function(i){return i.op.toString()+" {"+i.getFilters().map(W0).join(" ,")+"}"})(r):"Filter"}class h1 extends be{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class f1 extends be{constructor(t,i){super(t,"in",i),this.keys=tE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class d1 extends be{constructor(t,i){super(t,"not-in",i),this.keys=tE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function tE(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((a=>dt.fromName(a.referenceValue)))}class m1 extends be{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return wm(i)&&Il(i.arrayValue,this.value)}}class g1 extends be{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Il(this.value.arrayValue,i)}}class p1 extends be{constructor(t,i){super(t,"not-in",i)}matches(t){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!Il(this.value.arrayValue,i)}}class y1 extends be{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!wm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Il(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.ue=null}}function dv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new _1(r,t,i,a,l,c,d)}function Rm(r){const t=St(r);if(t.ue===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Yd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Zc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ga(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ga(a))).join(",")),t.ue=i}return t.ue}function Im(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!u1(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Z0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!fv(r.startAt,t.startAt)&&fv(r.endAt,t.endAt)}function Xd(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function v1(r,t,i,a,l,c,d,g){return new Ll(r,t,i,a,l,c,d,g)}function Cm(r){return new Ll(r)}function mv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function eE(r){return r.collectionGroup!==null}function yl(r){const t=St(r);if(t.ce===null){t.ce=[];const i=new Set;for(const c of t.explicitOrderBy)t.ce.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Fe(He.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.ce.push(new jc(c,a))})),i.has(He.keyField().canonicalString())||t.ce.push(new jc(He.keyField(),a))}return t.ce}function ci(r){const t=St(r);return t.le||(t.le=E1(t,yl(r))),t.le}function E1(r,t){if(r.limitType==="F")return dv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new jc(l.field,c)}));const i=r.endAt?new Pc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Pc(r.startAt.position,r.startAt.inclusive):null;return dv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function $d(r,t){const i=r.filters.concat([t]);return new Ll(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Jd(r,t,i){return new Ll(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Wc(r,t){return Im(ci(r),ci(t))&&r.limitType===t.limitType}function nE(r){return`${Rm(ci(r))}|lt:${r.limitType}`}function Ma(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>W0(l))).join(", ")}]`),Zc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ga(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ga(l))).join(",")),`Target(${a})`})(ci(r))}; limitType=${r.limitType})`}function th(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of yl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,p){const v=hv(d,g,p);return d.inclusive?v<=0:v<0})(a.startAt,yl(a),l)||a.endAt&&!(function(d,g,p){const v=hv(d,g,p);return d.inclusive?v>=0:v>0})(a.endAt,yl(a),l))})(r,t)}function T1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function iE(r){return(t,i)=>{let a=!1;for(const l of yl(r)){const c=A1(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function A1(r,t,i){const a=r.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,g){const p=d.data.field(c),v=g.data.field(c);return p!==null&&v!==null?Fa(p,v):Et()})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Hs(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return Q0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=new oe(dt.comparator);function Yi(){return S1}const rE=new oe(dt.comparator);function fl(...r){let t=rE;for(const i of r)t=t.insert(i.key,i);return t}function sE(r){let t=rE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Ms(){return _l()}function aE(){return _l()}function _l(){return new to((r=>r.toString()),((r,t)=>r.isEqual(t)))}const b1=new oe(dt.comparator),w1=new Fe(dt.comparator);function Ut(...r){let t=w1;for(const i of r)t=t.add(i);return t}const R1=new Fe(Ht);function I1(){return R1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lc(t)?"-0":t}}function oE(r){return{integerValue:""+r}}function C1(r,t){return r1(t)?oE(t):Nm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(){this._=void 0}}function N1(r,t,i){return r instanceof zc?(function(l,c){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Sm(c)&&(c=bm(c)),c&&(d.fields.__previous_value__=c),{mapValue:d}})(i,t):r instanceof Qa?uE(r,t):r instanceof Cl?cE(r,t):(function(l,c){const d=lE(l,c),g=gv(d)+gv(l.Pe);return Kd(d)&&Kd(l.Pe)?oE(g):Nm(l.serializer,g)})(r,t)}function D1(r,t,i){return r instanceof Qa?uE(r,t):r instanceof Cl?cE(r,t):i}function lE(r,t){return r instanceof Bc?(function(a){return Kd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class zc extends eh{}class Qa extends eh{constructor(t){super(),this.elements=t}}function uE(r,t){const i=hE(t);for(const a of r.elements)i.some((l=>fi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Cl extends eh{constructor(t){super(),this.elements=t}}function cE(r,t){let i=hE(t);for(const a of r.elements)i=i.filter((l=>!fi(l,a)));return{arrayValue:{values:i}}}class Bc extends eh{constructor(t,i){super(),this.serializer=t,this.Pe=i}}function gv(r){return pe(r.integerValue||r.doubleValue)}function hE(r){return wm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t,i){this.field=t,this.transform=i}}function x1(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Qa&&l instanceof Qa||a instanceof Cl&&l instanceof Cl?Ha(a.elements,l.elements,fi):a instanceof Bc&&l instanceof Bc?fi(a.Pe,l.Pe):a instanceof zc&&l instanceof zc})(r.transform,t.transform)}class M1{constructor(t,i){this.version=t,this.transformResults=i}}class Gn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Gn}static exists(t){return new Gn(void 0,t)}static updateTime(t){return new Gn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ic(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class nh{}function fE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new mE(r.key,Gn.none()):new Pl(r.key,r.data,Gn.none());{const i=r.data,a=gn.empty();let l=new Fe(He.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new es(r.key,a,new Rn(l.toArray()),Gn.none())}}function V1(r,t,i){r instanceof Pl?(function(l,c,d){const g=l.value.clone(),p=yv(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof es?(function(l,c,d){if(!Ic(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=yv(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(dE(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function vl(r,t,i,a){return r instanceof Pl?(function(c,d,g,p){if(!Ic(c.precondition,d))return g;const v=c.value.clone(),T=_v(c.fieldTransforms,p,d);return v.setAll(T),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,t,i,a):r instanceof es?(function(c,d,g,p){if(!Ic(c.precondition,d))return g;const v=_v(c.fieldTransforms,p,d),T=d.data;return T.setAll(dE(c)),T.setAll(v),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,g){return Ic(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function U1(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=lE(a.transform,l||null);c!=null&&(i===null&&(i=gn.empty()),i.set(a.field,c))}return i||null}function pv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ha(a,l,((c,d)=>x1(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Pl extends nh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class es extends nh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function dE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function yv(r,t,i){const a=new Map;Xt(r.length===i.length);for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,D1(d,g,i[l]))}return a}function _v(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,N1(c,d,t))}return a}class mE extends nh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k1 extends nh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&V1(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=vl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=vl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=aE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const p=fE(d,g);p!==null&&a.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(At.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Ha(this.mutations,t.mutations,((i,a)=>pv(i,a)))&&Ha(this.baseMutations,t.baseMutations,((i,a)=>pv(i,a)))}}class Dm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Xt(t.mutations.length===a.length);let l=(function(){return b1})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Dm(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,jt;function z1(r){switch(r){default:return Et();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function gE(r){if(r===void 0)return Ki("GRPC error has no .code"),J.UNKNOWN;switch(r){case Se.OK:return J.OK;case Se.CANCELLED:return J.CANCELLED;case Se.UNKNOWN:return J.UNKNOWN;case Se.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Se.INTERNAL:return J.INTERNAL;case Se.UNAVAILABLE:return J.UNAVAILABLE;case Se.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Se.NOT_FOUND:return J.NOT_FOUND;case Se.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Se.ABORTED:return J.ABORTED;case Se.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Se.DATA_LOSS:return J.DATA_LOSS;default:return Et()}}(jt=Se||(Se={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=new Vs([4294967295,4294967295],0);function vv(r){const t=B1().encode(r),i=new P0;return i.update(t),new Uint8Array(i.digest())}function Ev(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Vs([i,a],0),new Vs([l,c],0)]}class Om{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new dl(`Invalid padding: ${i}`);if(a<0)throw new dl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new dl(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=Vs.fromNumber(this.Ie)}Ee(t,i,a){let l=t.add(i.multiply(Vs.fromNumber(a)));return l.compare(q1)===1&&(l=new Vs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const i=vv(t),[a,l]=Ev(i);for(let c=0;c<this.hashCount;c++){const d=this.Ee(a,l,c);if(!this.de(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Om(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.Ie===0)return;const i=vv(t),[a,l]=Ev(i);for(let c=0;c<this.hashCount;c++){const d=this.Ee(a,l,c);this.Ae(d)}}Ae(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,jl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new ih(At.min(),l,new oe(Ht),Yi(),Ut())}}class jl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new jl(a,i,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t,i,a,l){this.Re=t,this.removedTargetIds=i,this.key=a,this.Ve=l}}class pE{constructor(t,i){this.targetId=t,this.me=i}}class yE{constructor(t,i,a=Ge.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Tv{constructor(){this.fe=0,this.ge=Sv(),this.pe=Ge.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Ut(),i=Ut(),a=Ut();return this.ge.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Et()}})),new jl(this.pe,this.ye,t,i,a)}Ce(){this.we=!1,this.ge=Sv()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Xt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class H1{constructor(t){this.Le=t,this.Be=new Map,this.ke=Yi(),this.qe=Av(),this.Qe=new oe(Ht)}Ke(t){for(const i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(const i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,(i=>{const a=this.Ge(i);switch(t.state){case 0:this.ze(i)&&a.De(t.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(t.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(a.Ne(),a.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),a.De(t.resumeToken));break;default:Et()}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach(((a,l)=>{this.ze(l)&&i(l)}))}He(t){const i=t.targetId,a=t.me.count,l=this.Je(i);if(l){const c=l.target;if(Xd(c))if(a===0){const d=new dt(c.path);this.Ue(i,d,Ze.newNoDocument(d,At.min()))}else Xt(a===1);else{const d=this.Ye(i);if(d!==a){const g=this.Ze(t),p=g?this.Xe(g,t,d):1;if(p!==0){this.je(i);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,v)}}}}}Ze(t){const i=t.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=zs(a).toUint8Array()}catch(p){if(p instanceof K0)return qa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Om(d,l,c)}catch(p){return qa(p instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ie===0?null:g}Xe(t,i,a){return i.me.count===a-this.nt(t,i.targetId)?0:2}nt(t,i){const a=this.Le.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Le.tt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.Ue(i,c,null),l++)})),l}rt(t){const i=new Map;this.Be.forEach(((c,d)=>{const g=this.Je(d);if(g){if(c.current&&Xd(g.target)){const p=new dt(g.target.path);this.ke.get(p)!==null||this.it(d,p)||this.Ue(d,p,Ze.newNoDocument(p,t))}c.be&&(i.set(d,c.ve()),c.Ce())}}));let a=Ut();this.qe.forEach(((c,d)=>{let g=!0;d.forEachWhile((p=>{const v=this.Je(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.ke.forEach(((c,d)=>d.setReadTime(t)));const l=new ih(t,i,this.Qe,this.ke,a);return this.ke=Yi(),this.qe=Av(),this.Qe=new oe(Ht),l}$e(t,i){if(!this.ze(t))return;const a=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,a),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,a){if(!this.ze(t))return;const l=this.Ge(t);this.it(t,i)?l.Fe(i,1):l.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),a&&(this.ke=this.ke.insert(i,a))}removeTarget(t){this.Be.delete(t)}Ye(t){const i=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new Tv,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new Fe(Ht),this.qe=this.qe.insert(t,i)),i}ze(t){const i=this.Je(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}Je(t){const i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Tv),this.Le.getRemoteKeysForTarget(t).forEach((i=>{this.Ue(t,i,null)}))}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}}function Av(){return new oe(dt.comparator)}function Sv(){return new oe(dt.comparator)}const F1={asc:"ASCENDING",desc:"DESCENDING"},G1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q1={and:"AND",or:"OR"};class K1{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Zd(r,t){return r.useProto3Json||Zc(t)?t:{value:t}}function qc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _E(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Y1(r,t){return qc(r,t.toTimestamp())}function hi(r){return Xt(!!r),At.fromTimestamp((function(i){const a=Wr(i);return new Ie(a.seconds,a.nanos)})(r))}function xm(r,t){return Wd(r,t).canonicalString()}function Wd(r,t){const i=(function(l){return new se(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function vE(r){const t=se.fromString(r);return Xt(bE(t)),t}function tm(r,t){return xm(r.databaseId,t.path)}function Od(r,t){const i=vE(t);if(i.get(1)!==r.databaseId.projectId)throw new st(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new st(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(TE(i))}function EE(r,t){return xm(r.databaseId,t)}function X1(r){const t=vE(r);return t.length===4?se.emptyPath():TE(t)}function em(r){return new se(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function TE(r){return Xt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function bv(r,t,i){return{name:tm(r,t),fields:i.value.mapValue.fields}}function $1(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Et()})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(v,T){return v.useProto3Json?(Xt(T===void 0||typeof T=="string"),Ge.fromBase64String(T||"")):(Xt(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Ge.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(v){const T=v.code===void 0?J.UNKNOWN:gE(v.code);return new st(T,v.message||"")})(d);i=new yE(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Od(r,a.document.name),c=hi(a.document.updateTime),d=a.document.createTime?hi(a.document.createTime):At.min(),g=new gn({mapValue:{fields:a.document.fields}}),p=Ze.newFoundDocument(l,c,d,g),v=a.targetIds||[],T=a.removedTargetIds||[];i=new Cc(v,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Od(r,a.document),c=a.readTime?hi(a.readTime):At.min(),d=Ze.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Cc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Od(r,a.document),c=a.removedTargetIds||[];i=new Cc([],c,l,null)}else{if(!("filter"in t))return Et();{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new j1(l,c),g=a.targetId;i=new pE(g,d)}}return i}function J1(r,t){let i;if(t instanceof Pl)i={update:bv(r,t.key,t.value)};else if(t instanceof mE)i={delete:tm(r,t.key)};else if(t instanceof es)i={update:bv(r,t.key,t.data),updateMask:aI(t.fieldMask)};else{if(!(t instanceof k1))return Et();i={verify:tm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof zc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Qa)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Cl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Bc)return{fieldPath:d.field.canonicalString(),increment:g.Pe};throw Et()})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Y1(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et()})(r,t.precondition)),i}function Z1(r,t){return r&&r.length>0?(Xt(t!==void 0),r.map((i=>(function(l,c){let d=l.updateTime?hi(l.updateTime):hi(c);return d.isEqual(At.min())&&(d=hi(c)),new M1(d,l.transformResults||[])})(i,t)))):[]}function W1(r,t){return{documents:[EE(r,t.path)]}}function tI(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=EE(r,l);const c=(function(v){if(v.length!==0)return SE(Kn.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((T=>(function(x){return{field:Va(x.field),direction:iI(x.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Zd(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{_t:i,parent:l}}function eI(r){let t=X1(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Xt(a===1);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const x=AE(S);return x instanceof Kn&&J0(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((x=>(function(Z){return new jc(Ua(Z.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(x)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let x;return x=typeof S=="object"?S.value:S,Zc(x)?null:x})(i.limit));let p=null;i.startAt&&(p=(function(S){const x=!!S.before,H=S.values||[];return new Pc(H,x)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const x=!S.before,H=S.values||[];return new Pc(H,x)})(i.endAt)),v1(t,l,d,c,g,"F",p,v)}function nI(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function AE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ua(i.unaryFilter.field);return be.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ua(i.unaryFilter.field);return be.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ua(i.unaryFilter.field);return be.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ua(i.unaryFilter.field);return be.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Et()}})(r):r.fieldFilter!==void 0?(function(i){return be.create(Ua(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Kn.create(i.compositeFilter.filters.map((a=>AE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et()}})(i.compositeFilter.op))})(r):Et()}function iI(r){return F1[r]}function rI(r){return G1[r]}function sI(r){return Q1[r]}function Va(r){return{fieldPath:r.canonicalString()}}function Ua(r){return He.fromServerFormat(r.fieldPath)}function SE(r){return r instanceof be?(function(i){if(i.op==="=="){if(cv(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NAN"}};if(uv(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(cv(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NOT_NAN"}};if(uv(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(i.field),op:rI(i.op),value:i.value}}})(r):r instanceof Kn?(function(i){const a=i.getFilters().map((l=>SE(l)));return a.length===1?a[0]:{compositeFilter:{op:sI(i.op),filters:a}}})(r):Et()}function aI(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function bE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t,i,a,l,c=At.min(),d=At.min(),g=Ge.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(t){this.ct=t}}function lI(r){const t=eI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Jd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(){this.un=new cI}addToCollectionParentIndex(t,i){return this.un.add(i),W.resolve()}getCollectionParents(t,i){return W.resolve(this.un.getEntries(i))}addFieldIndex(t,i){return W.resolve()}deleteFieldIndex(t,i){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,i){return W.resolve()}getDocumentsMatchingTarget(t,i){return W.resolve(null)}getIndexType(t,i){return W.resolve(0)}getFieldIndexes(t,i){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,i){return W.resolve(Zr.min())}getMinOffsetFromCollectionGroup(t,i){return W.resolve(Zr.min())}updateCollectionGroup(t,i,a){return W.resolve()}updateIndexEntries(t,i){return W.resolve()}}class cI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Fe(se.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Fe(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ka(0)}static kn(){return new Ka(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.changes=new to((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?W.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&vl(a.mutation,l,Rn.empty(),Ie.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ut()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ut()){const l=Ms();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=fl();return c.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Ms();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ut())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=Yi();const d=_l(),g=(function(){return _l()})();return i.forEach(((p,v)=>{const T=a.get(v.key);l.has(v.key)&&(T===void 0||T.mutation instanceof es)?c=c.insert(v.key,v):T!==void 0?(d.set(v.key,T.mutation.getFieldMask()),vl(T.mutation,v,T.mutation.getFieldMask(),Ie.now())):d.set(v.key,Rn.empty())})),this.recalculateAndSaveOverlays(t,c).next((p=>(p.forEach(((v,T)=>d.set(v,T))),i.forEach(((v,T)=>{var S;return g.set(v,new fI(T,(S=d.get(v))!==null&&S!==void 0?S:null))})),g)))}recalculateAndSaveOverlays(t,i){const a=_l();let l=new oe(((d,g)=>d-g)),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((p=>{const v=i.get(p);if(v===null)return;let T=a.get(p)||Rn.empty();T=g.applyToLocalView(v,T),a.set(p,T);const S=(l.get(g.batchId)||Ut()).add(p);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),v=p.key,T=p.value,S=aE();T.forEach((x=>{if(!c.has(x)){const H=fE(i.get(x),a.get(x));H!==null&&S.set(x,H),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,S))}return W.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):eE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):W.resolve(Ms());let g=-1,p=c;return d.next((v=>W.forEach(v,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(T)?W.resolve():this.remoteDocumentCache.getEntry(t,T).next((x=>{p=p.insert(T,x)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,p,v,Ut()))).next((T=>({batchId:g,changes:sE(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=fl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=fl();return this.indexManager.getCollectionParents(t,c).next((g=>W.forEach(g,(p=>{const v=(function(S,x){return new Ll(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,a,l).next((T=>{T.forEach(((S,x)=>{d=d.insert(S,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((p,v)=>{const T=v.getKey();d.get(T)===null&&(d=d.insert(T,Ze.newInvalidDocument(T)))}));let g=fl();return d.forEach(((p,v)=>{const T=c.get(p);T!==void 0&&vl(T.mutation,v,Rn.empty(),Ie.now()),th(i,v)&&(g=g.insert(p,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,i){return W.resolve(this.hr.get(i))}saveBundleMetadata(t,i){return this.hr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:hi(l.createTime)}})(i)),W.resolve()}getNamedQuery(t,i){return W.resolve(this.Pr.get(i))}saveNamedQuery(t,i){return this.Pr.set(i.name,(function(l){return{name:l.name,query:lI(l.bundledQuery),readTime:hi(l.readTime)}})(i)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.overlays=new oe(dt.comparator),this.Ir=new Map}getOverlay(t,i){return W.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Ms();return W.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.ht(t,i,c)})),W.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Ir.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Ir.delete(a)),W.resolve()}getOverlaysForCollection(t,i,a){const l=Ms(),c=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,v=p.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>a&&l.set(p.getKey(),p)}return W.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new oe(((v,T)=>v-T));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let T=c.get(v.largestBatchId);T===null&&(T=Ms(),c=c.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const g=Ms(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((v,T)=>g.set(v,T))),!(g.size()>=l)););return W.resolve(g)}ht(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Ir.get(l.largestBatchId).delete(a.key);this.Ir.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new P1(i,a));let c=this.Ir.get(i);c===void 0&&(c=Ut(),this.Ir.set(i,c)),this.Ir.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(){this.Tr=new Fe(Ve.Er),this.dr=new Fe(Ve.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,i){const a=new Ve(t,i);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Vr(new Ve(t,i))}mr(t,i){t.forEach((a=>this.removeReference(a,i)))}gr(t){const i=new dt(new se([])),a=new Ve(i,t),l=new Ve(i,t+1),c=[];return this.dr.forEachInRange([a,l],(d=>{this.Vr(d),c.push(d.key)})),c}pr(){this.Tr.forEach((t=>this.Vr(t)))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const i=new dt(new se([])),a=new Ve(i,t),l=new Ve(i,t+1);let c=Ut();return this.dr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ve(t,0),a=this.Tr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ve{constructor(t,i){this.key=t,this.wr=i}static Er(t,i){return dt.comparator(t.key,i.key)||Ht(t.wr,i.wr)}static Ar(t,i){return Ht(t.wr,i.wr)||dt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new Fe(Ve.Er)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new L1(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.br=this.br.add(new Ve(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(t,i){return W.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.vr(a),c=l<0?0:l;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ve(i,0),l=new Ve(i,Number.POSITIVE_INFINITY),c=[];return this.br.forEachInRange([a,l],(d=>{const g=this.Dr(d.wr);c.push(g)})),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Fe(Ht);return i.forEach((l=>{const c=new Ve(l,0),d=new Ve(l,Number.POSITIVE_INFINITY);this.br.forEachInRange([c,d],(g=>{a=a.add(g.wr)}))})),W.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new Ve(new dt(c),0);let g=new Fe(Ht);return this.br.forEachWhile((p=>{const v=p.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(g=g.add(p.wr)),!0)}),d),W.resolve(this.Cr(g))}Cr(t){const i=[];return t.forEach((a=>{const l=this.Dr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Xt(this.Fr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.br;return W.forEach(i.mutations,(l=>{const c=new Ve(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.br=a}))}On(t){}containsKey(t,i){const a=new Ve(i,0),l=this.br.firstAfterOrEqual(a);return W.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}Fr(t,i){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const i=this.vr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(t){this.Mr=t,this.docs=(function(){return new oe(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.Mr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return W.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let a=Yi();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),W.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Yi();const d=i.path,g=new dt(d.child("")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:v,value:{document:T}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||t1(WR(T),a)<=0||(l.has(T.key)||th(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(t,i,a,l){Et()}Or(t,i){return W.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new vI(this)}getSize(t){return W.resolve(this.size)}}class vI extends hI{constructor(t){super(),this.cr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.cr.addEntry(t,l)):this.cr.removeEntry(a)})),W.waitFor(i)}getFromCache(t,i){return this.cr.getEntry(t,i)}getAllFromCache(t,i){return this.cr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t){this.persistence=t,this.Nr=new to((i=>Rm(i)),Im),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Mm,this.targetCount=0,this.kr=Ka.Bn()}forEachTarget(t,i){return this.Nr.forEach(((a,l)=>i(l))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Lr&&(this.Lr=i),W.resolve()}Kn(t){this.Nr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.kr=new Ka(i),this.highestTargetId=i),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,i){return this.Kn(i),this.targetCount+=1,W.resolve()}updateTargetData(t,i){return this.Kn(i),W.resolve()}removeTargetData(t,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.Nr.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Nr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),W.waitFor(c).next((()=>l))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,i){const a=this.Nr.get(i)||null;return W.resolve(a)}addMatchingKeys(t,i,a){return this.Br.Rr(i,a),W.resolve()}removeMatchingKeys(t,i,a){this.Br.mr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),W.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Br.gr(i),W.resolve()}getMatchingKeysForTargetId(t,i){const a=this.Br.yr(i);return W.resolve(a)}containsKey(t,i){return W.resolve(this.Br.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t,i){this.qr={},this.overlays={},this.Qr=new Am(0),this.Kr=!1,this.Kr=!0,this.$r=new pI,this.referenceDelegate=t(this),this.Ur=new EI(this),this.indexManager=new uI,this.remoteDocumentCache=(function(l){return new _I(l)})((a=>this.referenceDelegate.Wr(a))),this.serializer=new oI(i),this.Gr=new mI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new gI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.qr[t.toKey()];return a||(a=new yI(i,this.referenceDelegate),this.qr[t.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const l=new AI(this.Qr.next());return this.referenceDelegate.zr(),a(l).next((c=>this.referenceDelegate.jr(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Hr(t,i){return W.or(Object.values(this.qr).map((a=>()=>a.containsKey(t,i))))}}class AI extends n1{constructor(t){super(),this.currentSequenceNumber=t}}class Vm{constructor(t){this.persistence=t,this.Jr=new Mm,this.Yr=null}static Zr(t){return new Vm(t)}get Xr(){if(this.Yr)return this.Yr;throw Et()}addReference(t,i,a){return this.Jr.addReference(a,i),this.Xr.delete(a.toString()),W.resolve()}removeReference(t,i,a){return this.Jr.removeReference(a,i),this.Xr.add(a.toString()),W.resolve()}markPotentiallyOrphaned(t,i){return this.Xr.add(i.toString()),W.resolve()}removeTarget(t,i){this.Jr.gr(i.targetId).forEach((l=>this.Xr.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.Xr.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}zr(){this.Yr=new Set}jr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Xr,(a=>{const l=dt.fromPath(a);return this.ei(t,l).next((c=>{c||i.removeEntry(l,At.min())}))})).next((()=>(this.Yr=null,i.apply(t))))}updateLimboDocument(t,i){return this.ei(t,i).next((a=>{a?this.Xr.delete(i.toString()):this.Xr.add(i.toString())}))}Wr(t){return 0}ei(t,i){return W.or([()=>W.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Hr(t,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.$i=a,this.Ui=l}static Wi(t,i){let a=Ut(),l=Ut();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Um(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return uS()?8:i1(We())>0?6:4})()}initialize(t,i){this.Ji=t,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.Yi(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.Zi(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new SI;return this.Xi(t,i,d).next((g=>{if(c.result=g,this.zi)return this.es(t,i,d,g.size)}))})).next((()=>c.result))}es(t,i,a,l){return a.documentReadCount<this.ji?(ll()<=Lt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ma(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),W.resolve()):(ll()<=Lt.DEBUG&&at("QueryEngine","Query:",Ma(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.Hi*l?(ll()<=Lt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ma(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ci(i))):W.resolve())}Yi(t,i){if(mv(i))return W.resolve(null);let a=ci(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Jd(i,null,"F"),a=ci(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ut(...c);return this.Ji.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((p=>{const v=this.ts(i,g);return this.ns(i,v,d,p.readTime)?this.Yi(t,Jd(i,null,"F")):this.rs(t,v,i,p)}))))})))))}Zi(t,i,a,l){return mv(i)||l.isEqual(At.min())?W.resolve(null):this.Ji.getDocuments(t,a).next((c=>{const d=this.ts(i,c);return this.ns(i,d,a,l)?W.resolve(null):(ll()<=Lt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ma(i)),this.rs(t,d,i,ZR(l,-1)).next((g=>g)))}))}ts(t,i){let a=new Fe(iE(t));return i.forEach(((l,c)=>{th(t,c)&&(a=a.add(c))})),a}ns(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Xi(t,i,a){return ll()<=Lt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ma(i)),this.Ji.getDocumentsMatchingQuery(t,i,Zr.min(),a)}rs(t,i,a,l){return this.Ji.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t,i,a,l){this.persistence=t,this.ss=i,this.serializer=l,this.os=new oe(Ht),this._s=new to((c=>Rm(c)),Im),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(a)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new dI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.os)))}}function RI(r,t,i,a){return new wI(r,t,i,a)}async function wE(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.ls(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let p=Ut();for(const v of l){d.push(v.batchId);for(const T of v.mutations)p=p.add(T.key)}for(const v of c){g.push(v.batchId);for(const T of v.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(a,p).next((v=>({hs:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function II(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.cs.newChangeBuffer({trackRemovals:!0});return(function(g,p,v,T){const S=v.batch,x=S.keys();let H=W.resolve();return x.forEach((Z=>{H=H.next((()=>T.getEntry(p,Z))).next((tt=>{const K=v.docVersions.get(Z);Xt(K!==null),tt.version.compareTo(K)<0&&(S.applyToRemoteDocument(tt,v),tt.isValidDocument()&&(tt.setReadTime(v.commitVersion),T.addEntry(tt)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(p,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let p=Ut();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(p=p.add(g.batch.mutations[v].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function RE(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Ur.getLastRemoteSnapshotVersion(i)))}function CI(r,t){const i=St(r),a=t.snapshotVersion;let l=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.cs.newChangeBuffer({trackRemovals:!0});l=i.os;const g=[];t.targetChanges.forEach(((T,S)=>{const x=l.get(S);if(!x)return;g.push(i.Ur.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.Ur.addMatchingKeys(c,T.addedDocuments,S))));let H=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?H=H.withResumeToken(Ge.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,a)),l=l.insert(S,H),(function(tt,K,ot){return tt.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=3e8?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(x,H,T)&&g.push(i.Ur.updateTargetData(c,H))}));let p=Yi(),v=Ut();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(NI(c,d,t.documentUpdates).next((T=>{p=T.Ps,v=T.Is}))),!a.isEqual(At.min())){const T=i.Ur.getLastRemoteSnapshotVersion(c).next((S=>i.Ur.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(T)}return W.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,v))).next((()=>p))})).then((c=>(i.os=l,c)))}function NI(r,t,i){let a=Ut(),l=Ut();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=Yi();return i.forEach(((g,p)=>{const v=c.get(g);p.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):at("LocalStore","Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",p.version)})),{Ps:d,Is:l}}))}function DI(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function OI(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Ur.getTargetData(a,t).next((c=>c?(l=c,W.resolve(l)):i.Ur.allocateTargetId(a).next((d=>(l=new Qr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Ur.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.os.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.os=i.os.insert(a.targetId,a),i._s.set(t,a.targetId)),a}))}async function nm(r,t,i){const a=St(r),l=a.os.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!kl(d))throw d;at("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}a.os=a.os.remove(t),a._s.delete(l.target)}function wv(r,t,i){const a=St(r);let l=At.min(),c=Ut();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,v,T){const S=St(p),x=S._s.get(T);return x!==void 0?W.resolve(S.os.get(x)):S.Ur.getTargetData(v,T)})(a,d,ci(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(d,g.targetId).next((p=>{c=p}))})).next((()=>a.ss.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?c:Ut()))).next((g=>(xI(a,T1(t),g),{documents:g,Ts:c})))))}function xI(r,t,i){let a=r.us.get(t)||At.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.us.set(t,a)}class Rv{constructor(){this.activeTargetIds=I1()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class MI{constructor(){this.so=new Rv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,i,a){this.oo[t]=i}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Rv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){at("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){at("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec=null;function xd(){return Ec===null?Ec=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ec++,"0x"+Ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e="WebChannelConnection";class LI extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const a=i.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+i.host,this.vo=`projects/${l}/databases/${c}`,this.Co=this.databaseId.database==="(default)"?`project_id=${l}`:`project_id=${l}&database_id=${c}`}get Fo(){return!1}Mo(i,a,l,c,d){const g=xd(),p=this.xo(i,a.toUriEncodedString());at("RestConnection",`Sending RPC '${i}' ${g}:`,p,l);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,c,d),this.No(i,p,v,l).then((T=>(at("RestConnection",`Received RPC '${i}' ${g}: `,T),T)),(T=>{throw qa("RestConnection",`RPC '${i}' ${g} failed with error: `,T,"url: ",p,"request:",l),T}))}Lo(i,a,l,c,d,g){return this.Mo(i,a,l,c,d)}Oo(i,a,l){i["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wa})(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((c,d)=>i[d]=c)),l&&l.headers.forEach(((c,d)=>i[d]=c))}xo(i,a){const l=UI[i];return`${this.Do}/v1/${a}:${l}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,i,a,l){const c=xd();return new Promise(((d,g)=>{const p=new j0;p.setWithCredentials(!0),p.listenOnce(z0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case wc.NO_ERROR:const T=p.getResponseJson();at($e,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),d(T);break;case wc.TIMEOUT:at($e,`RPC '${t}' ${c} timed out`),g(new st(J.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:const S=p.getStatus();if(at($e,`RPC '${t}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const H=x==null?void 0:x.error;if(H&&H.status&&H.message){const Z=(function(K){const ot=K.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ot)>=0?ot:J.UNKNOWN})(H.status);g(new st(Z,H.message))}else g(new st(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new st(J.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{at($e,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(l);at($e,`RPC '${t}' ${c} sending request:`,l),p.send(i,"POST",v,a,15)}))}Bo(t,i,a){const l=xd(),c=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=H0(),g=q0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const T=c.join("");at($e,`Creating RPC '${t}' stream ${l}: ${T}`,p);const S=d.createWebChannel(T,p);let x=!1,H=!1;const Z=new kI({Io:K=>{H?at($e,`Not sending because RPC '${t}' stream ${l} is closed:`,K):(x||(at($e,`Opening RPC '${t}' stream ${l} transport.`),S.open(),x=!0),at($e,`RPC '${t}' stream ${l} sending:`,K),S.send(K))},To:()=>S.close()}),tt=(K,ot,pt)=>{K.listen(ot,(mt=>{try{pt(mt)}catch(Ct){setTimeout((()=>{throw Ct}),0)}}))};return tt(S,hl.EventType.OPEN,(()=>{H||(at($e,`RPC '${t}' stream ${l} transport opened.`),Z.yo())})),tt(S,hl.EventType.CLOSE,(()=>{H||(H=!0,at($e,`RPC '${t}' stream ${l} transport closed`),Z.So())})),tt(S,hl.EventType.ERROR,(K=>{H||(H=!0,qa($e,`RPC '${t}' stream ${l} transport errored:`,K),Z.So(new st(J.UNAVAILABLE,"The operation could not be completed")))})),tt(S,hl.EventType.MESSAGE,(K=>{var ot;if(!H){const pt=K.data[0];Xt(!!pt);const mt=pt,Ct=mt.error||((ot=mt[0])===null||ot===void 0?void 0:ot.error);if(Ct){at($e,`RPC '${t}' stream ${l} received error:`,Ct);const Qt=Ct.status;let wt=(function(w){const O=Se[w];if(O!==void 0)return gE(O)})(Qt),N=Ct.message;wt===void 0&&(wt=J.INTERNAL,N="Unknown error status: "+Qt+" with message "+Ct.message),H=!0,Z.So(new st(wt,N)),S.close()}else at($e,`RPC '${t}' stream ${l} received:`,pt),Z.bo(pt)}})),tt(g,B0.STAT_EVENT,(K=>{K.stat===Gd.PROXY?at($e,`RPC '${t}' stream ${l} detected buffering proxy`):K.stat===Gd.NOPROXY&&at($e,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.wo()}),0),Z}}function Md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(r){return new K1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.ui=t,this.timerId=i,this.ko=a,this.qo=l,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const i=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),l=Math.max(0,i-a);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,l,(()=>(this.Uo=Date.now(),t()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t,i,a,l,c,d,g,p){this.ui=t,this.Ho=a,this.Jo=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new IE(t,i)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,i){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Ki(i.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(i)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.Yo===i&&this.P_(a,l)}),(a=>{t((()=>{const l=new st(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(l)}))}))}P_(t,i){const a=this.h_(this.Yo);this.stream=this.T_(t,i),this.stream.Eo((()=>{a((()=>this.listener.Eo()))})),this.stream.Ro((()=>{a((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((l=>{a((()=>this.I_(l)))})),this.stream.onMessage((l=>{a((()=>++this.e_==1?this.E_(l):this.onNext(l)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(t){return at("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return i=>{this.ui.enqueueAndForget((()=>this.Yo===t?i():(at("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PI extends CE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}T_(t,i){return this.connection.Bo("Listen",t,i)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const i=$1(this.serializer,t),a=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?hi(d.readTime):At.min()})(t);return this.listener.d_(i,a)}A_(t){const i={};i.database=em(this.serializer),i.addTarget=(function(c,d){let g;const p=d.target;if(g=Xd(p)?{documents:W1(c,p)}:{query:tI(c,p)._t},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=_E(c,d.resumeToken);const v=Zd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=qc(c,d.snapshotVersion.toTimestamp());const v=Zd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,t);const a=nI(this.serializer,t);a&&(i.labels=a),this.a_(i)}R_(t){const i={};i.database=em(this.serializer),i.removeTarget=t,this.a_(i)}}class jI extends CE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,i){return this.connection.Bo("Write",t,i)}E_(t){return Xt(!!t.streamToken),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Xt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const i=Z1(t.writeResults,t.commitTime),a=hi(t.commitTime);return this.listener.g_(a,i)}p_(){const t={};t.database=em(this.serializer),this.a_(t)}m_(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>J1(this.serializer,a)))};this.a_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI extends class{}{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.y_=!1}w_(){if(this.y_)throw new st(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,i,a,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Mo(t,Wd(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st(J.UNKNOWN,c.toString())}))}Lo(t,i,a,l,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Lo(t,Wd(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(J.UNKNOWN,d.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class BI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ki(i),this.D_=!1):at("OnlineStateTracker",i)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=c,this.k_._o((d=>{a.enqueueAndForget((async()=>{Fs(this)&&(at("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const v=St(p);v.L_.add(4),await zl(v),v.q_.set("Unknown"),v.L_.delete(4),await sh(v)})(this))}))})),this.q_=new BI(a,l)}}async function sh(r){if(Fs(r))for(const t of r.B_)await t(!0)}async function zl(r){for(const t of r.B_)await t(!1)}function NE(r,t){const i=St(r);i.N_.has(t.targetId)||(i.N_.set(t.targetId,t),jm(i)?Pm(i):eo(i).r_()&&Lm(i,t))}function km(r,t){const i=St(r),a=eo(i);i.N_.delete(t),a.r_()&&DE(i,t),i.N_.size===0&&(a.r_()?a.o_():Fs(i)&&i.q_.set("Unknown"))}function Lm(r,t){if(r.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}eo(r).A_(t)}function DE(r,t){r.Q_.xe(t),eo(r).R_(t)}function Pm(r){r.Q_=new H1({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>r.N_.get(t)||null,tt:()=>r.datastore.serializer.databaseId}),eo(r).start(),r.q_.v_()}function jm(r){return Fs(r)&&!eo(r).n_()&&r.N_.size>0}function Fs(r){return St(r).L_.size===0}function OE(r){r.Q_=void 0}async function HI(r){r.q_.set("Online")}async function FI(r){r.N_.forEach(((t,i)=>{Lm(r,t)}))}async function GI(r,t){OE(r),jm(r)?(r.q_.M_(t),Pm(r)):r.q_.set("Unknown")}async function QI(r,t,i){if(r.q_.set("Online"),t instanceof yE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.N_.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.N_.delete(g),l.Q_.removeTarget(g))})(r,t)}catch(a){at("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Hc(r,a)}else if(t instanceof Cc?r.Q_.Ke(t):t instanceof pE?r.Q_.He(t):r.Q_.We(t),!i.isEqual(At.min()))try{const a=await RE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Q_.rt(d);return g.targetChanges.forEach(((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.N_.get(v);T&&c.N_.set(v,T.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,v)=>{const T=c.N_.get(p);if(!T)return;c.N_.set(p,T.withResumeToken(Ge.EMPTY_BYTE_STRING,T.snapshotVersion)),DE(c,p);const S=new Qr(T.target,p,v,T.sequenceNumber);Lm(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){at("RemoteStore","Failed to raise snapshot:",a),await Hc(r,a)}}async function Hc(r,t,i){if(!kl(t))throw t;r.L_.add(1),await zl(r),r.q_.set("Offline"),i||(i=()=>RE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at("RemoteStore","Retrying IndexedDB access"),await i(),r.L_.delete(1),await sh(r)}))}function xE(r,t){return t().catch((i=>Hc(r,i,t)))}async function ah(r){const t=St(r),i=ts(t);let a=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;KI(t);)try{const l=await DI(t.localStore,a);if(l===null){t.O_.length===0&&i.o_();break}a=l.batchId,YI(t,l)}catch(l){await Hc(t,l)}ME(t)&&VE(t)}function KI(r){return Fs(r)&&r.O_.length<10}function YI(r,t){r.O_.push(t);const i=ts(r);i.r_()&&i.V_&&i.m_(t.mutations)}function ME(r){return Fs(r)&&!ts(r).n_()&&r.O_.length>0}function VE(r){ts(r).start()}async function XI(r){ts(r).p_()}async function $I(r){const t=ts(r);for(const i of r.O_)t.m_(i.mutations)}async function JI(r,t,i){const a=r.O_.shift(),l=Dm.from(a,t,i);await xE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await ah(r)}async function ZI(r,t){t&&ts(r).V_&&await(async function(a,l){if((function(d){return z1(d)&&d!==J.ABORTED})(l.code)){const c=a.O_.shift();ts(a).s_(),await xE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await ah(a)}})(r,t),ME(r)&&VE(r)}async function Cv(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),at("RemoteStore","RemoteStore received new credentials");const a=Fs(i);i.L_.add(3),await zl(i),a&&i.q_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.L_.delete(3),await sh(i)}async function WI(r,t){const i=St(r);t?(i.L_.delete(2),await sh(i)):t||(i.L_.add(2),await zl(i),i.q_.set("Unknown"))}function eo(r){return r.K_||(r.K_=(function(i,a,l){const c=St(i);return c.w_(),new PI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Eo:HI.bind(null,r),Ro:FI.bind(null,r),mo:GI.bind(null,r),d_:QI.bind(null,r)}),r.B_.push((async t=>{t?(r.K_.s_(),jm(r)?Pm(r):r.q_.set("Unknown")):(await r.K_.stop(),OE(r))}))),r.K_}function ts(r){return r.U_||(r.U_=(function(i,a,l){const c=St(i);return c.w_(),new jI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:XI.bind(null,r),mo:ZI.bind(null,r),f_:$I.bind(null,r),g_:JI.bind(null,r)}),r.B_.push((async t=>{t?(r.U_.s_(),await ah(r)):(await r.U_.stop(),r.O_.length>0&&(at("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new zm(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bm(r,t){if(Ki("AsyncQueue",`${t}: ${r}`),kl(r))return new st(J.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=fl(),this.sortedSet=new oe(this.comparator)}static emptySet(t){return new za(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof za)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new za;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this.W_=new oe(dt.comparator)}track(t){const i=t.doc.key,a=this.W_.get(i);a?t.type!==0&&a.type===3?this.W_=this.W_.insert(i,t):t.type===3&&a.type!==1?this.W_=this.W_.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.W_=this.W_.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.W_=this.W_.remove(i):t.type===1&&a.type===2?this.W_=this.W_.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):Et():this.W_=this.W_.insert(i,t)}G_(){const t=[];return this.W_.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Ya{constructor(t,i,a,l,c,d,g,p,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ya(t,i,za.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Wc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((t=>t.J_()))}}class eC{constructor(){this.queries=Dv(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(i,a){const l=St(i),c=l.queries;l.queries=Dv(),c.forEach(((d,g)=>{for(const p of g.j_)p.onError(a)}))})(this,new st(J.ABORTED,"Firestore shutting down"))}}function Dv(){return new to((r=>nE(r)),Wc)}async function nC(r,t){const i=St(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.H_()&&t.J_()&&(a=2):(c=new tC,a=t.J_()?0:1);try{switch(a){case 0:c.z_=await i.onListen(l,!0);break;case 1:c.z_=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Bm(d,`Initialization of query '${Ma(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.j_.push(t),t.Z_(i.onlineState),c.z_&&t.X_(c.z_)&&qm(i)}async function iC(r,t){const i=St(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.j_.indexOf(t);d>=0&&(c.j_.splice(d,1),c.j_.length===0?l=t.J_()?0:1:!c.H_()&&t.J_()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function rC(r,t){const i=St(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.j_)g.X_(l)&&(a=!0);d.z_=l}}a&&qm(i)}function sC(r,t,i){const a=St(r),l=a.queries.get(t);if(l)for(const c of l.j_)c.onError(i);a.queries.delete(t)}function qm(r){r.Y_.forEach((t=>{t.next()}))}var im,Ov;(Ov=im||(im={})).ea="default",Ov.Cache="cache";class aC{constructor(t,i,a){this.query=t,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Ya(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.na?this.ia(t)&&(this.ta.next(t),i=!0):this.sa(t,this.onlineState)&&(this.oa(t),i=!0),this.ra=t,i}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),i=!0),i}sa(t,i){if(!t.fromCache||!this.J_())return!0;const a=i!=="Offline";return(!this.options._a||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const i=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}oa(t){t=Ya.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==im.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t){this.key=t}}class kE{constructor(t){this.key=t}}class oC{constructor(t,i){this.query=t,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ut(),this.mutatedKeys=Ut(),this.Aa=iE(t),this.Ra=new za(this.Aa)}get Va(){return this.Ta}ma(t,i){const a=i?i.fa:new Nv,l=i?i.Ra:this.Ra;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,S)=>{const x=l.get(T),H=th(this.query,S)?S:null,Z=!!x&&this.mutatedKeys.has(x.key),tt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let K=!1;x&&H?x.data.isEqual(H.data)?Z!==tt&&(a.track({type:3,doc:H}),K=!0):this.ga(x,H)||(a.track({type:2,doc:H}),K=!0,(p&&this.Aa(H,p)>0||v&&this.Aa(H,v)<0)&&(g=!0)):!x&&H?(a.track({type:0,doc:H}),K=!0):x&&!H&&(a.track({type:1,doc:x}),K=!0,(p||v)&&(g=!0)),K&&(H?(d=d.add(H),c=tt?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{Ra:d,fa:a,ns:g,mutatedKeys:c}}ga(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const d=t.fa.G_();d.sort(((T,S)=>(function(H,Z){const tt=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return tt(H)-tt(Z)})(T.type,S.type)||this.Aa(T.doc,S.doc))),this.pa(a),l=l!=null&&l;const g=i&&!l?this.ya():[],p=this.da.size===0&&this.current&&!l?1:0,v=p!==this.Ea;return this.Ea=p,d.length!==0||v?{snapshot:new Ya(this.query,t.Ra,c,d,t.mutatedKeys,p===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:g}:{wa:g}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Nv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach((i=>this.Ta=this.Ta.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ta=this.Ta.delete(i))),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Ut(),this.Ra.forEach((a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))}));const i=[];return t.forEach((a=>{this.da.has(a)||i.push(new kE(a))})),this.da.forEach((a=>{t.has(a)||i.push(new UE(a))})),i}ba(t){this.Ta=t.Ts,this.da=Ut();const i=this.ma(t.documents);return this.applyChanges(i,!0)}Da(){return Ya.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class lC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class uC{constructor(t){this.key=t,this.va=!1}}class cC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new to((g=>nE(g)),Wc),this.Ma=new Map,this.xa=new Set,this.Oa=new oe(dt.comparator),this.Na=new Map,this.La=new Mm,this.Ba={},this.ka=new Map,this.qa=Ka.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function hC(r,t,i=!0){const a=qE(r);let l;const c=a.Fa.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Da()):l=await LE(a,t,i,!0),l}async function fC(r,t){const i=qE(r);await LE(i,t,!0,!1)}async function LE(r,t,i,a){const l=await OI(r.localStore,ci(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await dC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&NE(r.remoteStore,l),g}async function dC(r,t,i,a,l){r.Ka=(S,x,H)=>(async function(tt,K,ot,pt){let mt=K.view.ma(ot);mt.ns&&(mt=await wv(tt.localStore,K.query,!1).then((({documents:N})=>K.view.ma(N,mt))));const Ct=pt&&pt.targetChanges.get(K.targetId),Qt=pt&&pt.targetMismatches.get(K.targetId)!=null,wt=K.view.applyChanges(mt,tt.isPrimaryClient,Ct,Qt);return Mv(tt,K.targetId,wt.wa),wt.snapshot})(r,S,x,H);const c=await wv(r.localStore,t,!0),d=new oC(t,c.Ts),g=d.ma(c.documents),p=jl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),v=d.applyChanges(g,r.isPrimaryClient,p);Mv(r,i,v.wa);const T=new lC(t,i,d);return r.Fa.set(t,T),r.Ma.has(i)?r.Ma.get(i).push(t):r.Ma.set(i,[t]),v.snapshot}async function mC(r,t,i){const a=St(r),l=a.Fa.get(t),c=a.Ma.get(l.targetId);if(c.length>1)return a.Ma.set(l.targetId,c.filter((d=>!Wc(d,t)))),void a.Fa.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await nm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&km(a.remoteStore,l.targetId),rm(a,l.targetId)})).catch(Ul)):(rm(a,l.targetId),await nm(a.localStore,l.targetId,!0))}async function gC(r,t){const i=St(r),a=i.Fa.get(t),l=i.Ma.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),km(i.remoteStore,a.targetId))}async function pC(r,t,i){const a=SC(r);try{const l=await(function(d,g){const p=St(d),v=Ie.now(),T=g.reduce(((H,Z)=>H.add(Z.key)),Ut());let S,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let Z=Yi(),tt=Ut();return p.cs.getEntries(H,T).next((K=>{Z=K,Z.forEach(((ot,pt)=>{pt.isValidDocument()||(tt=tt.add(ot))}))})).next((()=>p.localDocuments.getOverlayedDocuments(H,Z))).next((K=>{S=K;const ot=[];for(const pt of g){const mt=U1(pt,S.get(pt.key).overlayedDocument);mt!=null&&ot.push(new es(pt.key,mt,Y0(mt.value.mapValue),Gn.exists(!0)))}return p.mutationQueue.addMutationBatch(H,v,ot,g)})).next((K=>{x=K;const ot=K.applyToLocalDocumentSet(S,tt);return p.documentOverlayCache.saveOverlays(H,K.batchId,ot)}))})).then((()=>({batchId:x.batchId,changes:sE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,p){let v=d.Ba[d.currentUser.toKey()];v||(v=new oe(Ht)),v=v.insert(g,p),d.Ba[d.currentUser.toKey()]=v})(a,l.batchId,i),await Bl(a,l.changes),await ah(a.remoteStore)}catch(l){const c=Bm(l,"Failed to persist write");i.reject(c)}}async function PE(r,t){const i=St(r);try{const a=await CI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Na.get(c);d&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.va=!0:l.modifiedDocuments.size>0?Xt(d.va):l.removedDocuments.size>0&&(Xt(d.va),d.va=!1))})),await Bl(i,a,t)}catch(a){await Ul(a)}}function xv(r,t,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Fa.forEach(((c,d)=>{const g=d.view.Z_(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const p=St(d);p.onlineState=g;let v=!1;p.queries.forEach(((T,S)=>{for(const x of S.j_)x.Z_(g)&&(v=!0)})),v&&qm(p)})(a.eventManager,t),l.length&&a.Ca.d_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function yC(r,t,i){const a=St(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Na.get(t),c=l&&l.key;if(c){let d=new oe(dt.comparator);d=d.insert(c,Ze.newNoDocument(c,At.min()));const g=Ut().add(c),p=new ih(At.min(),new Map,new oe(Ht),d,g);await PE(a,p),a.Oa=a.Oa.remove(c),a.Na.delete(t),Hm(a)}else await nm(a.localStore,t,!1).then((()=>rm(a,t,i))).catch(Ul)}async function _C(r,t){const i=St(r),a=t.batch.batchId;try{const l=await II(i.localStore,t);zE(i,a,null),jE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Bl(i,l)}catch(l){await Ul(l)}}async function vC(r,t,i){const a=St(r);try{const l=await(function(d,g){const p=St(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let T;return p.mutationQueue.lookupMutationBatch(v,g).next((S=>(Xt(S!==null),T=S.keys(),p.mutationQueue.removeMutationBatch(v,S)))).next((()=>p.mutationQueue.performConsistencyCheck(v))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(v,T,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T))).next((()=>p.localDocuments.getDocuments(v,T)))}))})(a.localStore,t);zE(a,t,i),jE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Bl(a,l)}catch(l){await Ul(l)}}function jE(r,t){(r.ka.get(t)||[]).forEach((i=>{i.resolve()})),r.ka.delete(t)}function zE(r,t,i){const a=St(r);let l=a.Ba[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Ba[a.currentUser.toKey()]=l}}function rm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Ma.get(t))r.Fa.delete(a),i&&r.Ca.$a(a,i);r.Ma.delete(t),r.isPrimaryClient&&r.La.gr(t).forEach((a=>{r.La.containsKey(a)||BE(r,a)}))}function BE(r,t){r.xa.delete(t.path.canonicalString());const i=r.Oa.get(t);i!==null&&(km(r.remoteStore,i),r.Oa=r.Oa.remove(t),r.Na.delete(i),Hm(r))}function Mv(r,t,i){for(const a of i)a instanceof UE?(r.La.addReference(a.key,t),EC(r,a)):a instanceof kE?(at("SyncEngine","Document no longer in limbo: "+a.key),r.La.removeReference(a.key,t),r.La.containsKey(a.key)||BE(r,a.key)):Et()}function EC(r,t){const i=t.key,a=i.path.canonicalString();r.Oa.get(i)||r.xa.has(a)||(at("SyncEngine","New document in limbo: "+i),r.xa.add(a),Hm(r))}function Hm(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const t=r.xa.values().next().value;r.xa.delete(t);const i=new dt(se.fromString(t)),a=r.qa.next();r.Na.set(a,new uC(i)),r.Oa=r.Oa.insert(i,a),NE(r.remoteStore,new Qr(ci(Cm(i.path)),a,"TargetPurposeLimboResolution",Am.oe))}}async function Bl(r,t,i){const a=St(r),l=[],c=[],d=[];a.Fa.isEmpty()||(a.Fa.forEach(((g,p)=>{d.push(a.Ka(p,t,i).then((v=>{var T;if((v||i)&&a.isPrimaryClient){const S=v?!v.fromCache:(T=i==null?void 0:i.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;a.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(v){l.push(v);const S=Um.Wi(p.targetId,v);c.push(S)}})))})),await Promise.all(d),a.Ca.d_(l),await(async function(p,v){const T=St(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(v,(x=>W.forEach(x.$i,(H=>T.persistence.referenceDelegate.addReference(S,x.targetId,H))).next((()=>W.forEach(x.Ui,(H=>T.persistence.referenceDelegate.removeReference(S,x.targetId,H)))))))))}catch(S){if(!kl(S))throw S;at("LocalStore","Failed to update sequence numbers: "+S)}for(const S of v){const x=S.targetId;if(!S.fromCache){const H=T.os.get(x),Z=H.snapshotVersion,tt=H.withLastLimboFreeSnapshotVersion(Z);T.os=T.os.insert(x,tt)}}})(a.localStore,c))}async function TC(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){at("SyncEngine","User change. New user:",t.toKey());const a=await wE(i.localStore,t);i.currentUser=t,(function(c,d){c.ka.forEach((g=>{g.forEach((p=>{p.reject(new st(J.CANCELLED,d))}))})),c.ka.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Bl(i,a.hs)}}function AC(r,t){const i=St(r),a=i.Na.get(t);if(a&&a.va)return Ut().add(a.key);{let l=Ut();const c=i.Ma.get(t);if(!c)return l;for(const d of c){const g=i.Fa.get(d);l=l.unionWith(g.view.Va)}return l}}function qE(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=PE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=AC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yC.bind(null,t),t.Ca.d_=rC.bind(null,t.eventManager),t.Ca.$a=sC.bind(null,t.eventManager),t}function SC(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_C.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vC.bind(null,t),t}class Fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=rh(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,i){return null}Ha(t,i){return null}za(t){return RI(this.persistence,new bI,t.initialUser,this.serializer)}Ga(t){return new TI(Vm.Zr,this.serializer)}Wa(t){return new MI}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fc.provider={build:()=>new Fc};class sm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>xv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=TC.bind(null,this.syncEngine),await WI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new eC})()}createDatastore(t){const i=rh(t.databaseInfo.databaseId),a=(function(c){return new LI(c)})(t.databaseInfo);return(function(c,d,g,p){return new zI(c,d,g,p)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new qI(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>xv(this.syncEngine,i,0)),(function(){return Iv.D()?new Iv:new VI})())}createSyncEngine(t,i){return(function(l,c,d,g,p,v,T){const S=new cC(l,c,d,g,p,v);return T&&(S.Qa=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(l){const c=St(l);at("RemoteStore","RemoteStore shutting down."),c.L_.add(5),await zl(c),c.k_.shutdown(),c.q_.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}sm.provider={build:()=>new sm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Ki("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=G0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Bm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Vd(r,t){r.asyncQueue.verifyOperationInProgress(),at("FirestoreClient","Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await wE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Vv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await RC(r);at("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Cv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Cv(t.remoteStore,l))),r._onlineComponents=t}async function RC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;qa("Error using user provided cache. Falling back to memory cache: "+i),await Vd(r,new Fc)}}else at("FirestoreClient","Using default OfflineComponentProvider"),await Vd(r,new Fc);return r._offlineComponents}async function HE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at("FirestoreClient","Using user provided OnlineComponentProvider"),await Vv(r,r._uninitializedComponentsProvider._online)):(at("FirestoreClient","Using default OnlineComponentProvider"),await Vv(r,new sm))),r._onlineComponents}function IC(r){return HE(r).then((t=>t.syncEngine))}async function Uv(r){const t=await HE(r),i=t.eventManager;return i.onListen=hC.bind(null,t.syncEngine),i.onUnlisten=mC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=fC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=gC.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(r,t,i){if(!i)throw new st(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function CC(r,t,i,a){if(t===!0&&a===!0)throw new st(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Lv(r){if(!dt.isDocumentKey(r))throw new st(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Pv(r){if(dt.isDocumentKey(r))throw new st(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function oh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et()}function Fi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new st(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=oh(r);throw new st(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new st(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(i=t.ssl)===null||i===void 0||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new st(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}CC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FE((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),(function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new st(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new st(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new st(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jv(t),t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new HR;switch(a.type){case"firstParty":return new KR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new st(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=kv.get(i);a&&(at("ComponentProvider","Removing Datastore"),kv.delete(i),a.terminate())})(this),Promise.resolve()}}function NC(r,t,i,a={}){var l;const c=(r=Fi(r,lh))._getSettings(),d=`${t}:${i}`;if(c.host!=="firestore.googleapis.com"&&c.host!==d&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),a.mockUserToken){let g,p;if(typeof a.mockUserToken=="string")g=a.mockUserToken,p=Je.MOCK_USER;else{g=nS(a.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const v=a.mockUserToken.sub||a.mockUserToken.user_id;if(!v)throw new st(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Je(v)}r._authCredentials=new FR(new F0(g,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new no(this.firestore,t,this._query)}}class on{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new on(this.firestore,t,this._key)}}class Jr extends no{constructor(t,i,a){super(t,i,Cm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new on(this.firestore,null,new dt(t))}withConverter(t){return new Jr(this.firestore,t,this._path)}}function QE(r,t,...i){if(r=Ce(r),GE("collection","path",t),r instanceof lh){const a=se.fromString(t,...i);return Pv(a),new Jr(r,null,a)}{if(!(r instanceof on||r instanceof Jr))throw new st(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(se.fromString(t,...i));return Pv(a),new Jr(r.firestore,null,a)}}function Kr(r,t,...i){if(r=Ce(r),arguments.length===1&&(t=G0.newId()),GE("doc","path",t),r instanceof lh){const a=se.fromString(t,...i);return Lv(a),new on(r,null,new dt(a))}{if(!(r instanceof on||r instanceof Jr))throw new st(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(se.fromString(t,...i));return Lv(a),new on(r.firestore,r instanceof Jr?r.converter:null,new dt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new IE(this,"async_queue_retry"),this.Vu=()=>{const a=Md();a&&at("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=t;const i=Md();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const i=Md();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise((()=>{}));const i=new Us;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Pu.push(t),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!kl(t))throw t;at("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(t){const i=this.mu.then((()=>(this.du=!0,t().catch((a=>{this.Eu=a,this.du=!1;const l=(function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g})(a);throw Ki("INTERNAL UNHANDLED ERROR: ",l),a})).then((a=>(this.du=!1,a))))));return this.mu=i,i}enqueueAfterDelay(t,i,a){this.fu(),this.Ru.indexOf(t)>-1&&(i=0);const l=zm.createAndSchedule(this,t,i,a,(c=>this.yu(c)));return this.Tu.push(l),l}fu(){this.Eu&&Et()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const i of this.Tu)if(i.timerId===t)return!0;return!1}bu(t){return this.wu().then((()=>{this.Tu.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.Tu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.wu()}))}Du(t){this.Ru.push(t)}yu(t){const i=this.Tu.indexOf(t);this.Tu.splice(i,1)}}function Bv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Xa extends lh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new zv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new zv(t),this._firestoreClient=void 0,await t}}}function DC(r,t){const i=typeof r=="object"?r:e0(),a=typeof r=="string"?r:"(default)",l=hm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=tS("firestore");c&&NC(l,...c)}return l}function KE(r){if(r._terminated)throw new st(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||OC(r),r._firestoreClient}function OC(r){var t,i,a;const l=r._freezeSettings(),c=(function(g,p,v,T){return new a1(g,p,v,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,FE(T.experimentalLongPollingOptions),T.useFetchStreams)})(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new wC(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&(function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $a(Ge.fromBase64String(t))}catch(i){throw new st(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new $a(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new st(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new st(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new st(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ht(this._lat,t._lat)||Ht(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=/^__.*__$/;class MC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new es(t,this.data,this.fieldMask,i,this.fieldTransforms):new Pl(t,this.data,i,this.fieldTransforms)}}class YE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new es(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function XE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class hh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.vu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new hh(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Fu({path:a,xu:!1});return l.Ou(t),l}Nu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Fu({path:a,xu:!1});return l.vu(),l}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Gc(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(XE(this.Cu)&&xC.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class VC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||rh(t)}Qu(t,i,a,l=!1){return new hh({Cu:t,methodName:i,qu:a,path:He.emptyPath(),xu:!1,ku:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fh(r){const t=r._freezeSettings(),i=rh(r._databaseId);return new VC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function $E(r,t,i,a,l,c={}){const d=r.Qu(c.merge||c.mergeFields?2:0,t,i,l);Km("Data must be an object, but it was:",d,a);const g=JE(a,d);let p,v;if(c.merge)p=new Rn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const x=am(t,S,i);if(!d.contains(x))throw new st(J.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);WE(T,x)||T.push(x)}p=new Rn(T),v=d.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,v=d.fieldTransforms;return new MC(new gn(g),p,v)}class dh extends ch{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof dh}}function UC(r,t,i){return new hh({Cu:3,qu:t.settings.qu,methodName:r._methodName,xu:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Qm extends ch{constructor(t,i){super(t),this.Ku=i}_toFieldTransform(t){const i=UC(this,t,!0),a=this.Ku.map((c=>io(c,i))),l=new Qa(a);return new O1(t.path,l)}isEqual(t){return t instanceof Qm&&El(this.Ku,t.Ku)}}function kC(r,t,i,a){const l=r.Qu(1,t,i);Km("Data must be an object, but it was:",l,a);const c=[],d=gn.empty();Hs(a,((p,v)=>{const T=Ym(t,p,i);v=Ce(v);const S=l.Nu(T);if(v instanceof dh)c.push(T);else{const x=io(v,S);x!=null&&(c.push(T),d.set(T,x))}}));const g=new Rn(c);return new YE(d,g,l.fieldTransforms)}function LC(r,t,i,a,l,c){const d=r.Qu(1,t,i),g=[am(t,a,i)],p=[l];if(c.length%2!=0)throw new st(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)g.push(am(t,c[x])),p.push(c[x+1]);const v=[],T=gn.empty();for(let x=g.length-1;x>=0;--x)if(!WE(v,g[x])){const H=g[x];let Z=p[x];Z=Ce(Z);const tt=d.Nu(H);if(Z instanceof dh)v.push(H);else{const K=io(Z,tt);K!=null&&(v.push(H),T.set(H,K))}}const S=new Rn(v);return new YE(T,S,d.fieldTransforms)}function PC(r,t,i,a=!1){return io(i,r.Qu(a?4:3,t))}function io(r,t){if(ZE(r=Ce(r)))return Km("Unsupported field value:",t,r),JE(r,t);if(r instanceof ch)return(function(a,l){if(!XE(l.Cu))throw l.Bu(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Bu(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let p=io(g,l.Lu(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Ce(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return C1(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Ie.fromDate(a);return{timestampValue:qc(l.serializer,c)}}if(a instanceof Ie){const c=new Ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:qc(l.serializer,c)}}if(a instanceof Fm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof $a)return{bytesValue:_E(l.serializer,a._byteString)};if(a instanceof on){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:xm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Gm)return(function(d,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Bu("VectorValues must only contain numeric values.");return Nm(g.serializer,p)}))}}}}}})(a,l);throw l.Bu(`Unsupported field value: ${oh(a)}`)})(r,t)}function JE(r,t){const i={};return Q0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hs(r,((a,l)=>{const c=io(l,t.Mu(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function ZE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ie||r instanceof Fm||r instanceof $a||r instanceof on||r instanceof ch||r instanceof Gm)}function Km(r,t,i){if(!ZE(i)||!(function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)})(i)){const a=oh(i);throw a==="an object"?t.Bu(r+" a custom object"):t.Bu(r+" "+a)}}function am(r,t,i){if((t=Ce(t))instanceof uh)return t._internalPath;if(typeof t=="string")return Ym(r,t);throw Gc("Field path arguments must be of type string or ",r,!1,void 0,i)}const jC=new RegExp("[~\\*/\\[\\]]");function Ym(r,t,i){if(t.search(jC)>=0)throw Gc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new uh(...t.split("."))._internalPath}catch{throw Gc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Gc(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${l}`),p+=")"),new st(J.INVALID_ARGUMENT,g+r+p)}function WE(r,t){return r.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new zC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(eT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class zC extends tT{data(){return super.data()}}function eT(r,t){return typeof t=="string"?Ym(r,t):t instanceof uh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new st(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xm{}class qC extends Xm{}function HC(r,t,...i){let a=[];t instanceof Xm&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((p=>p instanceof Jm)).length,g=c.filter((p=>p instanceof $m)).length;if(d>1||d>0&&g>0)throw new st(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class $m extends qC{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new $m(t,i,a)}_apply(t){const i=this._parse(t);return nT(t._query,i),new no(t.firestore,t.converter,$d(t._query,i))}_parse(t){const i=fh(t.firestore);return(function(c,d,g,p,v,T,S){let x;if(v.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new st(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Hv(S,T);const H=[];for(const Z of S)H.push(qv(p,c,Z));x={arrayValue:{values:H}}}else x=qv(p,c,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Hv(S,T),x=PC(g,d,S,T==="in"||T==="not-in");return be.create(v,T,x)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Jm extends Xm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Jm(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Kn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const p of g)nT(d,p),d=$d(d,p)})(t._query,i),new no(t.firestore,t.converter,$d(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function qv(r,t,i){if(typeof(i=Ce(i))=="string"){if(i==="")throw new st(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eE(t)&&i.indexOf("/")!==-1)throw new st(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(se.fromString(i));if(!dt.isDocumentKey(a))throw new st(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return lv(r,new dt(a))}if(i instanceof on)return lv(r,i._key);throw new st(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(i)}.`)}function Hv(r,t){if(!Array.isArray(r)||r.length===0)throw new st(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function nT(r,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new st(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class FC{convertValue(t,i="none"){switch(Bs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(zs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Hs(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){var i,a,l;const c=(l=(a=(i=t.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map((d=>pe(d.doubleValue)));return new Gm(c)}convertGeoPoint(t){return new Fm(pe(t.latitude),pe(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=bm(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(wl(t));default:return null}}convertTimestamp(t){const i=Wr(t);return new Ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=se.fromString(t);Xt(bE(a));const l=new Rl(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||Ki(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class rT extends tT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(eT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Nc extends rT{data(t={}){return super.data(t)}}class GC{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new ml(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Nc(this._firestore,this._userDataWriter,a.key,a,new ml(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const p=new Nc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ml(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const p=new Nc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ml(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,T=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:QC(g.type),doc:p,oldIndex:v,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function QC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}class sT extends FC{constructor(t){super(),this.firestore=t}convertBytes(t){return new $a(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new on(this.firestore,null,i)}}function Qc(r,t,i){r=Fi(r,on);const a=Fi(r.firestore,Xa),l=iT(r.converter,t,i);return Zm(a,[$E(fh(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Gn.none())])}function Kc(r,t,i,...a){r=Fi(r,on);const l=Fi(r.firestore,Xa),c=fh(l);let d;return d=typeof(t=Ce(t))=="string"||t instanceof uh?LC(c,"updateDoc",r._key,t,i,a):kC(c,"updateDoc",r._key,t),Zm(l,[d.toMutation(r._key,Gn.exists(!0))])}function KC(r,t){const i=Fi(r.firestore,Xa),a=Kr(r),l=iT(r.converter,t);return Zm(i,[$E(fh(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Gn.exists(!1))]).then((()=>a))}function Ud(r,...t){var i,a,l;r=Ce(r);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||Bv(t[d])||(c=t[d],d++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Bv(t[d])){const S=t[d];t[d]=(i=S.next)===null||i===void 0?void 0:i.bind(S),t[d+1]=(a=S.error)===null||a===void 0?void 0:a.bind(S),t[d+2]=(l=S.complete)===null||l===void 0?void 0:l.bind(S)}let p,v,T;if(r instanceof on)v=Fi(r.firestore,Xa),T=Cm(r._key.path),p={next:S=>{t[d]&&t[d](YC(v,r,S))},error:t[d+1],complete:t[d+2]};else{const S=Fi(r,no);v=Fi(S.firestore,Xa),T=S._query;const x=new sT(v);p={next:H=>{t[d]&&t[d](new GC(v,x,S,H))},error:t[d+1],complete:t[d+2]},BC(r._query)}return(function(x,H,Z,tt){const K=new bC(tt),ot=new aC(H,K,Z);return x.asyncQueue.enqueueAndForget((async()=>nC(await Uv(x),ot))),()=>{K.Za(),x.asyncQueue.enqueueAndForget((async()=>iC(await Uv(x),ot)))}})(KE(v),T,g,p)}function Zm(r,t){return(function(a,l){const c=new Us;return a.asyncQueue.enqueueAndForget((async()=>pC(await IC(a),l,c))),c.promise})(KE(r),t)}function YC(r,t,i){const a=i.docs.get(t._key),l=new sT(r);return new rT(r,l,t._key,a,new ml(i.hasPendingWrites,i.fromCache),t.converter)}function Fv(...r){return new Qm("arrayUnion",r)}(function(t,i=!0){(function(l){Wa=l})(Ja),Ba(new ks("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Xa(new GR(a.getProvider("auth-internal")),new XR(a.getProvider("app-check-internal")),(function(v,T){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new st(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(v.options.projectId,T)})(d,l),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),$r(iv,"4.7.3",t),$r(iv,"4.7.3","esm2017")})();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $C={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=Ot.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},p)=>Ot.createElement("svg",{ref:p,...$C,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:aT("lucide",l),...g},[...d.map(([v,T])=>Ot.createElement(v,T)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=(r,t)=>{const i=Ot.forwardRef(({className:a,...l},c)=>Ot.createElement(JC,{ref:c,iconNode:t,className:aT(`lucide-${XC(r)}`,a),...l}));return i.displayName=`${r}`,i};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=Yn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=Yn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=Yn("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=Yn("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=Yn("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=Yn("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=Yn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=Yn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=Yn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=Yn("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=Yn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),s2=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{},Os=typeof __app_id<"u"?__app_id:"default-doof-crew";function a2(){const[r,t]=Ot.useState(null),[i,a]=Ot.useState(null),[l,c]=Ot.useState(null),[d,g]=Ot.useState(!1),[p,v]=Ot.useState([]),[T,S]=Ot.useState(null),[x,H]=Ot.useState(null),[Z,tt]=Ot.useState(!1),[K,ot]=Ot.useState(!1),[pt,mt]=Ot.useState(null),[Ct,Qt]=Ot.useState(!1),[wt,N]=Ot.useState(null),[b,w]=Ot.useState(0);Ot.useEffect(()=>{try{const lt=t0(s2),C=BR(lt),F=DC(lt);t(F),a(C);const $=Dw(C,async it=>{if(it){c(it.uid),mt(it.email||null),g(!0);return}c(null),g(!0)});return()=>$()}catch(lt){console.error("Error initializing Firebase:",lt),N("Failed to initialize application. Invalid configuration.")}},[]),Ot.useEffect(()=>{if(!d||!r||!l)return;const lt=`users/${l}/apps/${Os}`,C=`${lt}/djs`,F=HC(QE(r,C)),$=Ud(F,xt=>{const te=[];xt.forEach(Qe=>{te.push({id:Qe.id,...Qe.data()})}),v(te)},xt=>{console.error("Error listening to DJs:",xt),N("Failed to load DJ list.")}),it=`${lt}/schedule/mainStage`,ct=Kr(r,it),yt=Ud(ct,async xt=>{if(xt.exists())S(xt.data());else{const te={name:"Main Stage",timeSlots:[{time:"18:00 - 19:00",djId:null,djName:null},{time:"19:00 - 20:00",djId:null,djName:null},{time:"20:00 - 21:00",djId:null,djName:null},{time:"21:00 - 22:00",djId:null,djName:null},{time:"22:00 - 23:00",djId:null,djName:null},{time:"23:00 - 00:00",djId:null,djName:null},{time:"00:00 - 01:00",djId:null,djName:null},{time:"01:00 - 02:00",djId:null,djName:null}]};try{await Qc(ct,te),S(te)}catch(Qe){console.error("Error creating default schedule:",Qe),N("Failed to initialize schedule.")}}},xt=>{console.error("Error listening to schedule:",xt),N("Failed to load schedule.")}),vt=Kr(r,`${lt}/meta/app`);Qc(vt,{ownerUid:l,appId:Os,createdAt:new Date().toISOString(),allowedAdminEmails:[],allowedAdminUids:[]},{merge:!0}).catch(xt=>{console.warn("Could not ensure crew meta doc",xt)});const ee=Ud(vt,xt=>{const te=xt.data(),Qe=te==null?void 0:te.ownerUid,di=(te==null?void 0:te.allowedAdminEmails)||[],Zi=(te==null?void 0:te.allowedAdminUids)||[],pn=Qe===l||!!pt&&di.includes(pt)||Zi.includes(l);ot(pn)});return()=>{$(),yt(),ee&&ee()}},[d,r,l,pt]);const O=lt=>{H(lt),tt(!0)},M=()=>{tt(!1),H(null)},U=(lt,C)=>{lt.dataTransfer.setData("application/json",JSON.stringify(C)),lt.dataTransfer.effectAllowed="move"},I=lt=>{lt.preventDefault(),lt.dataTransfer.dropEffect="move"},le=lt=>{lt.preventDefault(),w(C=>C+1)},ye=lt=>{lt.preventDefault(),w(C=>C-1)},G=async(lt,C)=>{lt.preventDefault(),w(0),Qt(!0);try{const F=JSON.parse(lt.dataTransfer.getData("application/json")),$=[...T.timeSlots],it=Kr(r,`users/${l}/apps/${Os}/schedule/mainStage`);if(F.from==="pool"){const ct=F.dj.id,yt=F.dj.djName,vt=$.findIndex(ee=>ee.djId===ct);if(vt>-1){const ee={...$[C]};$[C]={...$[C],djId:ct,djName:yt},$[vt]={...$[vt],djId:ee.djId,djName:ee.djName}}else $[C]={...$[C],djId:ct,djName:yt}}else if(F.from==="slot"){const ct=F.slotIndex;if(ct===C)return;const yt={...$[ct]},vt={...$[C]};$[C]={...vt,djId:yt.djId,djName:yt.djName},$[ct]={...yt,djId:vt.djId,djName:vt.djName}}await Kc(it,{timeSlots:$})}catch(F){console.error("Error handling drop on slot:",F),N("Failed to update schedule.")}finally{Qt(!1)}},nt=async lt=>{lt.preventDefault(),w(0),Qt(!0);try{const C=JSON.parse(lt.dataTransfer.getData("application/json"));if(C.from==="slot"){const F=C.slotIndex,$=[...T.timeSlots];$[F]={...$[F],djId:null,djName:null};const it=Kr(r,`users/${l}/apps/${Os}/schedule/mainStage`);await Kc(it,{timeSlots:$})}}catch(C){console.error("Error unassigning DJ:",C),N("Failed to update schedule.")}finally{Qt(!1)}},ht=new Set(((T==null?void 0:T.timeSlots)||[]).map(lt=>lt.djId).filter(Boolean)),Pt=p.filter(lt=>!ht.has(lt.id));return d?d&&!l?k.jsx(l2,{auth:i,db:r,appId:Os}):T?k.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 font-sans p-4 md:p-8",children:[k.jsxs("header",{className:"mb-6",children:[k.jsx("h1",{className:"text-4xl font-bold text-center text-blue-400",children:"Doof Crew Admin"}),l&&k.jsxs("div",{className:"text-center text-sm text-gray-400 mt-2 flex flex-col items-center gap-1",children:[k.jsxs("p",{children:["Share this User ID with your crew: ",k.jsx("code",{className:"bg-gray-700 p-1 rounded-md",children:l})]}),K&&k.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-green-800 text-green-200 text-xs uppercase tracking-wide",children:"Admin"})]})]}),wt&&k.jsxs("div",{className:"bg-red-800 border border-red-600 text-white p-4 rounded-lg mb-6 flex items-center",children:[k.jsx(om,{className:"w-5 h-5 mr-3"}),k.jsx("p",{children:wt}),k.jsx("button",{onClick:()=>N(null),className:"ml-auto text-red-200 hover:text-white",children:k.jsx(lT,{className:"w-5 h-5"})})]}),k.jsxs("main",{className:"flex flex-col lg:flex-row gap-8",children:[k.jsxs("aside",{className:"w-full lg:w-1/3 flex flex-col gap-6",children:[k.jsx(o2,{db:r,userId:l,appId:Os,setIsLoading:Qt,setError:N,disabled:Ct}),k.jsx(m2,{djs:Pt,onDjClick:O,onDragStart:U,onDragOver:I,onDragEnter:le,onDragLeave:ye,onDrop:nt,isDropZoneActive:b>0,disabled:Ct})]}),k.jsx("section",{className:"w-full lg:w-2/3",children:k.jsx(g2,{schedule:T,djs:p,onDjClick:O,onDragStart:U,onDragOver:I,onDragEnter:le,onDragLeave:ye,onDrop:G,isDropZoneActive:b>0,disabled:Ct})})]}),K&&k.jsxs("div",{className:"mb-6 mx-auto max-w-2xl bg-gray-800 p-4 rounded-lg",children:[k.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Admin Settings"}),k.jsx(d2,{db:r,userId:l,appId:Os})]}),Z&&x&&k.jsx(y2,{dj:x,onClose:M})]}):k.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white font-sans p-4",children:[k.jsxs("div",{className:"flex items-center",children:[k.jsx(Gv,{className:"animate-pulse w-16 h-16"}),k.jsx("span",{className:"ml-4 text-2xl",children:"Loading Crew Data..."})]}),wt&&k.jsxs("div",{className:"mt-6 max-w-xl w-full bg-red-800 border border-red-600 text-white p-4 rounded-lg",children:[k.jsxs("div",{className:"flex items-center",children:[k.jsx(om,{className:"w-5 h-5 mr-3"}),k.jsx("p",{className:"font-semibold",children:wt})]}),k.jsx("p",{className:"text-sm text-red-200 mt-2",children:"If this persists, you may not have permission to read or write your schedule. Please sign out and back in, or contact support."})]})]}):k.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white font-sans",children:[k.jsx(Gv,{className:"animate-pulse w-16 h-16"}),k.jsx("span",{className:"ml-4 text-2xl",children:"Checking session"})]})}function o2({db:r,userId:t,appId:i,setIsLoading:a,setError:l,disabled:c}){const[d,g]=Ot.useState({djName:"",realName:"",info:"",photoUrl:"",visualUrl:""}),p=T=>{const{name:S,value:x}=T.target;g(H=>({...H,[S]:x}))},v=async T=>{if(T.preventDefault(),!d.djName||!d.realName){l("DJ Name and Real Name are required.");return}a(!0),l(null);try{const S=`users/${t}/apps/${i}/djs`;await KC(QE(r,S),{...d,createdAt:new Date().toISOString()}),g({djName:"",realName:"",info:"",photoUrl:"",visualUrl:""})}catch(S){console.error("Error registering DJ:",S),l("Failed to register DJ. Please try again.")}finally{a(!1)}};return k.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[k.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center",children:[k.jsx(i2,{className:"w-6 h-6 mr-3 text-blue-400"}),"Register DJ"]}),k.jsxs("form",{onSubmit:v,className:"space-y-4",children:[k.jsxs("div",{children:[k.jsx("label",{htmlFor:"djName",className:"block text-sm font-medium text-gray-300",children:"DJ Name"}),k.jsx("input",{type:"text",id:"djName",name:"djName",value:d.djName,onChange:p,required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"realName",className:"block text-sm font-medium text-gray-300",children:"Real Name"}),k.jsx("input",{type:"text",id:"realName",name:"realName",value:d.realName,onChange:p,required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"info",className:"block text-sm font-medium text-gray-300",children:"Promo Info / Bio"}),k.jsx("textarea",{id:"info",name:"info",rows:3,value:d.info,onChange:p,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"photoUrl",className:"block text-sm font-medium text-gray-300",children:"Promo Photo (URL)"}),k.jsx("input",{type:"url",id:"photoUrl",name:"photoUrl",value:d.photoUrl,onChange:p,placeholder:"https://example.com/photo.jpg",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"visualUrl",className:"block text-sm font-medium text-gray-300",children:"Visuals / Content (URL)"}),k.jsx("input",{type:"url",id:"visualUrl",name:"visualUrl",value:d.visualUrl,onChange:p,placeholder:"https://youtube.com/watch?v=...",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),k.jsx("button",{type:"submit",disabled:c,className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Registering...":"Register DJ"})]})]})}function l2({auth:r,db:t,appId:i}){const[a,l]=Ot.useState("login");return k.jsx("div",{className:"min-h-screen bg-gray-900 text-gray-100 font-sans p-6 flex items-center justify-center",children:k.jsxs("div",{className:"max-w-2xl w-full bg-gray-800 rounded-xl shadow-lg p-6",children:[k.jsx("h1",{className:"text-3xl font-bold text-blue-400 mb-2 text-center",children:"Temple DJ Spot"}),k.jsx("p",{className:"text-center text-gray-300 mb-6",children:"Sign in to manage your crew and set times."}),k.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[k.jsx("button",{onClick:()=>l("login"),className:`py-2 px-4 rounded-md ${a==="login"?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,children:"Login"}),k.jsx("button",{onClick:()=>l("register"),className:`py-2 px-4 rounded-md ${a==="register"?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,children:"Register"})]}),a==="login"?k.jsx(h2,{auth:r}):k.jsx(f2,{auth:r,db:t,appId:i}),k.jsxs("div",{className:"mt-6",children:[k.jsx(u2,{}),k.jsx(c2,{})]})]})})}function u2(){return k.jsx("div",{className:"text-sm text-gray-300 space-y-2",children:k.jsx("p",{children:"Your Portal UI account is shared across sites. Register once on the main site, then return here to manage your crew. When you first sign in, well set up your crew space automatically."})})}function c2(){return k.jsxs("div",{className:"mt-6 text-xs text-gray-400 border-t border-gray-700 pt-4 leading-relaxed",children:[k.jsx("p",{className:"font-semibold text-gray-300 mb-1",children:"Terms & Conditions (Summary)"}),k.jsxs("ul",{className:"list-disc ml-5 space-y-1",children:[k.jsx("li",{children:"Use this service responsibly and in compliance with applicable laws."}),k.jsx("li",{children:"You own the content you upload; you grant us a license to host and display it to provide the service."}),k.jsx("li",{children:"Dont upload content that is illegal, infringing, or harmful."}),k.jsx("li",{children:"We may update features and policies; continued use constitutes acceptance of changes."}),k.jsx("li",{children:"This service is provided as is without warranties; were not liable for indirect or consequential damages."}),k.jsx("li",{children:"If youre under your regional age of digital consent, use only with a guardians permission."}),k.jsx("li",{children:"We may suspend accounts that violate these terms or abuse resources."}),k.jsx("li",{children:"For data requests or takedowns, contact support via the main Portal UI site."})]})]})}function h2({auth:r}){const[t,i]=Ot.useState(""),[a,l]=Ot.useState(""),[c,d]=Ot.useState(!1),[g,p]=Ot.useState(null),v=async T=>{if(T.preventDefault(),!!r){d(!0),p(null);try{await Rw(r,t,a),p("Logged in successfully.")}catch(S){console.error(S);const x=(S==null?void 0:S.code)||"";let H="Login failed. Check your credentials.";x.includes("auth/user-not-found")&&(H="No account with that email."),x.includes("auth/wrong-password")&&(H="Incorrect password."),p(H)}finally{d(!1)}}};return k.jsxs("form",{onSubmit:v,className:"space-y-3",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm text-gray-300",children:"Email"}),k.jsx("input",{value:t,onChange:T=>i(T.target.value),type:"email",required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm text-gray-300",children:"Password"}),k.jsx("input",{value:a,onChange:T=>l(T.target.value),type:"password",required:!0,minLength:6,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),g&&k.jsx("div",{className:"text-sm text-yellow-300",children:g}),k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx("button",{disabled:c,type:"submit",className:"py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-md",children:c?"Signing in":"Sign in"}),k.jsx("a",{href:"/login.html",className:"text-sm text-gray-400",children:"I prefer the full login page"})]})]})}function f2({auth:r,db:t,appId:i}){const[a,l]=Ot.useState(""),[c,d]=Ot.useState(""),[g,p]=Ot.useState(""),[v,T]=Ot.useState(""),[S,x]=Ot.useState(!1),[H,Z]=Ot.useState(null),tt=async K=>{if(K.preventDefault(),!(!r||!t)){if(g!==v){Z("Passwords do not match");return}x(!0),Z(null);try{const ot=await ww(r,c,g);await Qc(Kr(t,"users",ot.user.uid),{uid:ot.user.uid,fullName:a,email:c,createdAt:new Date().toISOString()}),await Qc(Kr(t,`users/${ot.user.uid}/apps/${i}`,"meta"),{ownerUid:ot.user.uid,appId:i,createdAt:new Date().toISOString()});try{await Iw(ot.user)}catch{}Z("Registered and signed in. Verification email sent (if supported).")}catch(ot){console.error(ot);let pt="Registration failed.";const mt=(ot==null?void 0:ot.code)||"";mt.includes("auth/email-already-in-use")&&(pt="This email is already registered."),mt.includes("auth/weak-password")&&(pt="Password is too weak."),Z(pt)}finally{x(!1)}}};return k.jsxs("form",{onSubmit:tt,className:"space-y-3",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm text-gray-300",children:"Full name"}),k.jsx("input",{value:a,onChange:K=>l(K.target.value),type:"text",required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm text-gray-300",children:"Email"}),k.jsx("input",{value:c,onChange:K=>d(K.target.value),type:"email",required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),k.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm text-gray-300",children:"Password"}),k.jsx("input",{value:g,onChange:K=>p(K.target.value),type:"password",required:!0,minLength:6,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm text-gray-300",children:"Confirm"}),k.jsx("input",{value:v,onChange:K=>T(K.target.value),type:"password",required:!0,minLength:6,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]})]}),H&&k.jsx("div",{className:"text-sm text-yellow-300",children:H}),k.jsx("div",{children:k.jsx("button",{disabled:S,type:"submit",className:"py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-md",children:S?"Registering":"Create account"})})]})}function d2({db:r,userId:t,appId:i}){const[a,l]=Ot.useState(""),[c,d]=Ot.useState(""),[g,p]=Ot.useState(!1),[v,T]=Ot.useState(null),S=`users/${t}/apps/${i}`,x=Kr(r,`${S}/meta/app`),H=async tt=>{if(tt.preventDefault(),!!a){p(!0),T(null);try{await Kc(x,{allowedAdminEmails:Fv(a.trim().toLowerCase())}),T("Admin email added."),l("")}catch(K){console.error(K),T("Failed to add email.")}finally{p(!1)}}},Z=async tt=>{if(tt.preventDefault(),!!c){p(!0),T(null);try{await Kc(x,{allowedAdminUids:Fv(c.trim())}),T("Admin UID added."),d("")}catch(K){console.error(K),T("Failed to add UID.")}finally{p(!1)}}};return k.jsxs("div",{className:"space-y-3",children:[k.jsxs("form",{onSubmit:H,className:"flex items-end gap-2",children:[k.jsxs("div",{className:"flex-1",children:[k.jsx("label",{className:"block text-sm text-gray-300",children:"Add admin by email"}),k.jsx("input",{value:a,onChange:tt=>l(tt.target.value),type:"email",placeholder:"crew@example.com",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),k.jsx("button",{disabled:g||!a,className:"py-2 px-3 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Add"})]}),k.jsxs("form",{onSubmit:Z,className:"flex items-end gap-2",children:[k.jsxs("div",{className:"flex-1",children:[k.jsx("label",{className:"block text-sm text-gray-300",children:"Add admin by UID"}),k.jsx("input",{value:c,onChange:tt=>d(tt.target.value),type:"text",placeholder:"Paste Firebase UID",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),k.jsx("button",{disabled:g||!c,className:"py-2 px-3 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Add"})]}),v&&k.jsx("div",{className:"text-sm text-gray-300",children:v}),k.jsx("div",{className:"text-xs text-gray-400",children:"Tip: Ask the user to copy their UID from the header or provide their account email."})]})}function m2({djs:r,onDjClick:t,onDragStart:i,onDragOver:a,onDragEnter:l,onDragLeave:c,onDrop:d,isDropZoneActive:g,disabled:p}){return k.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg flex-grow",children:[k.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center",children:[k.jsx(oT,{className:"w-6 h-6 mr-3 text-blue-400"}),"Unassigned DJs"]}),k.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:r.length===0?k.jsx("p",{className:"text-gray-400",children:"No unassigned DJs. Register one!"}):r.map(v=>k.jsx("div",{children:k.jsx(uT,{dj:v,onClick:()=>t(v),isDraggable:!p,onDragStart:T=>i(T,{from:"pool",dj:v})})},v.id))}),k.jsx("div",{onDragOver:a,onDragEnter:l,onDragLeave:c,onDrop:d,className:`mt-6 p-4 border-2 border-dashed rounded-lg text-center transition-all duration-200 ${g?"border-red-500 bg-red-900/50":"border-gray-600"}`,children:k.jsxs("div",{className:"flex flex-col items-center justify-center pointer-events-none",children:[k.jsx(e2,{className:`w-8 h-8 ${g?"text-red-400":"text-gray-500"}`}),k.jsx("p",{className:`mt-2 text-sm ${g?"text-red-300":"text-gray-400"}`,children:"Drag a DJ here to unassign"})]})})]})}function g2({schedule:r,djs:t,onDjClick:i,onDragStart:a,onDragOver:l,onDragEnter:c,onDragLeave:d,onDrop:g,isDropZoneActive:p,disabled:v}){return k.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[k.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[k.jsx(ZC,{className:"w-6 h-6 mr-3 text-blue-400"}),r.name," Set Times"]}),k.jsx("div",{className:"space-y-4",children:r.timeSlots.map((T,S)=>k.jsx("div",{children:k.jsx(p2,{slot:T,slotIndex:S,allDjs:t,onDjClick:i,onDragStart:a,onDragOver:l,onDragEnter:c,onDragLeave:d,onDrop:g,disabled:v})},S))})]})}function p2({slot:r,slotIndex:t,allDjs:i,onDjClick:a,onDragStart:l,onDragOver:c,onDragEnter:d,onDragLeave:g,onDrop:p,disabled:v}){const[T,S]=Ot.useState(!1),x=r.djId&&i.find(K=>K.id===r.djId)||null,H=K=>{K.preventDefault(),K.stopPropagation(),S(!0),d(K)},Z=K=>{K.preventDefault(),K.stopPropagation(),S(!1),g(K)},tt=K=>{K.preventDefault(),K.stopPropagation(),S(!1),p(K,t)};return k.jsxs("div",{className:`flex items-center bg-gray-700 rounded-lg p-3 transition-all duration-200 ${T?"ring-2 ring-blue-500 bg-gray-600":""}`,onDragOver:c,onDragEnter:H,onDragLeave:Z,onDrop:tt,children:[k.jsxs("div",{className:"w-32 flex-shrink-0 text-blue-300 font-mono flex items-center",children:[k.jsx(WC,{className:"w-4 h-4 mr-2"}),r.time]}),k.jsx("div",{className:"flex-grow",children:x?k.jsx(uT,{dj:x,onClick:()=>a(x),isDraggable:!v,onDragStart:K=>l(K,{from:"slot",slotIndex:t,djId:x.id,djName:x.djName})}):k.jsx("div",{className:"text-center text-gray-500 p-3 border border-dashed border-gray-600 rounded-md",children:"Empty Slot"})})]})}function uT({dj:r,onClick:t,isDraggable:i,onDragStart:a}){var c;const l=`https://placehold.co/40x40/374151/9CA3AF?text=${encodeURIComponent(((c=r.djName)==null?void 0:c.charAt(0))||"D")}`;return k.jsxs("div",{draggable:i,onDragStart:a,className:`flex items-center bg-gray-900 p-2 rounded-md shadow-sm ${i?"cursor-move":"cursor-pointer"} border border-gray-700 hover:bg-gray-800 transition-colors`,children:[k.jsx(t2,{className:"w-5 h-5 mr-2 text-gray-500 flex-shrink-0"}),k.jsx("img",{src:r.photoUrl||l,alt:r.djName,onError:d=>{d.currentTarget.src=l},className:"w-10 h-10 rounded-full object-cover mr-3 flex-shrink-0"}),k.jsxs("div",{className:"flex-grow min-w-0",onClick:t,children:[k.jsx("p",{className:"text-md font-semibold text-white truncate",children:r.djName}),k.jsx("p",{className:"text-sm text-gray-400 truncate",children:r.realName})]})]})}function y2({dj:r,onClose:t}){const i="https://placehold.co/600x400/374151/9CA3AF?text=No+Photo";return k.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-75 backdrop-blur-sm",onClick:t,children:k.jsxs("div",{className:"bg-gray-800 w-full max-w-lg rounded-xl shadow-2xl overflow-hidden",onClick:a=>a.stopPropagation(),children:[k.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[k.jsxs("h2",{className:"text-2xl font-bold text-blue-400 flex items-center",children:[k.jsx(oT,{className:"w-6 h-6 mr-3"}),r.djName]}),k.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white rounded-full p-1 transition-colors",children:k.jsx(lT,{className:"w-6 h-6"})})]}),k.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[k.jsx("img",{src:r.photoUrl||i,alt:r.djName,onError:a=>{a.currentTarget.src=i},className:"w-full h-64 object-cover rounded-lg bg-gray-700"}),k.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[k.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[k.jsx(n2,{className:"w-4 h-4 mr-2"}),"Real Name"]}),k.jsx("p",{className:"text-lg text-white",children:r.realName})]}),r.info&&k.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[k.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[k.jsx(om,{className:"w-4 h-4 mr-2"}),"Bio / Info"]}),k.jsx("p",{className:"text-white whitespace-pre-wrap",children:r.info})]}),r.visualUrl&&k.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[k.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[k.jsx(r2,{className:"w-4 h-4 mr-2"}),"Visuals / Content"]}),k.jsx("a",{href:r.visualUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline truncate block",children:r.visualUrl})]})]})]})})}const _2=document.getElementById("root"),v2=QA.createRoot(_2);v2.render(k.jsx(a2,{}));
