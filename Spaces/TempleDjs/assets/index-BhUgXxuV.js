(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var gd={exports:{}},rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function UA(){if(m_)return rl;m_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return rl.Fragment=t,rl.jsx=i,rl.jsxs=i,rl}var g_;function kA(){return g_||(g_=1,gd.exports=UA()),gd.exports}var j=kA(),pd={exports:{}},sl={},yd={exports:{}},_d={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function LA(){return p_||(p_=1,(function(s){function t(z,J){var rt=z.length;z.push(J);t:for(;0<rt;){var ft=rt-1>>>1,Rt=z[ft];if(0<l(Rt,J))z[ft]=J,z[rt]=Rt,rt=ft;else break t}}function i(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var J=z[0],rt=z.pop();if(rt!==J){z[0]=rt;t:for(var ft=0,Rt=z.length,D=Rt>>>1;ft<D;){var G=2*(ft+1)-1,W=z[G],it=G+1,dt=z[it];if(0>l(W,rt))it<Rt&&0>l(dt,W)?(z[ft]=dt,z[it]=rt,ft=it):(z[ft]=W,z[G]=rt,ft=G);else if(it<Rt&&0>l(dt,rt))z[ft]=dt,z[it]=rt,ft=it;else break t}}return J}function l(z,J){var rt=z.sortIndex-J.sortIndex;return rt!==0?rt:z.id-J.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var p=[],v=[],A=1,S=null,V=3,F=!1,Z=!1,nt=!1,Y=!1,st=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function Ct(z){for(var J=i(v);J!==null;){if(J.callback===null)a(v);else if(J.startTime<=z)a(v),J.sortIndex=J.expirationTime,t(p,J);else break;J=i(v)}}function Yt(z){if(nt=!1,Ct(z),!Z)if(i(p)!==null)Z=!0,wt||(wt=!0,U());else{var J=i(v);J!==null&&Ae(Yt,J.startTime-z)}}var wt=!1,C=-1,b=5,w=-1;function O(){return Y?!0:!(s.unstable_now()-w<b)}function M(){if(Y=!1,wt){var z=s.unstable_now();w=z;var J=!0;try{t:{Z=!1,nt&&(nt=!1,pt(C),C=-1),F=!0;var rt=V;try{e:{for(Ct(z),S=i(p);S!==null&&!(S.expirationTime>z&&O());){var ft=S.callback;if(typeof ft=="function"){S.callback=null,V=S.priorityLevel;var Rt=ft(S.expirationTime<=z);if(z=s.unstable_now(),typeof Rt=="function"){S.callback=Rt,Ct(z),J=!0;break e}S===i(p)&&a(p),Ct(z)}else a(p);S=i(p)}if(S!==null)J=!0;else{var D=i(v);D!==null&&Ae(Yt,D.startTime-z),J=!1}}break t}finally{S=null,V=rt,F=!1}J=void 0}}finally{J?U():wt=!1}}}var U;if(typeof ct=="function")U=function(){ct(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ce=I.port2;I.port1.onmessage=M,U=function(){ce.postMessage(null)}}else U=function(){st(M,0)};function Ae(z,J){C=st(function(){z(s.unstable_now())},J)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(z){z.callback=null},s.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<z?Math.floor(1e3/z):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(z){switch(V){case 1:case 2:case 3:var J=3;break;default:J=V}var rt=V;V=J;try{return z()}finally{V=rt}},s.unstable_requestPaint=function(){Y=!0},s.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var rt=V;V=z;try{return J()}finally{V=rt}},s.unstable_scheduleCallback=function(z,J,rt){var ft=s.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?ft+rt:ft):rt=ft,z){case 1:var Rt=-1;break;case 2:Rt=250;break;case 5:Rt=1073741823;break;case 4:Rt=1e4;break;default:Rt=5e3}return Rt=rt+Rt,z={id:A++,callback:J,priorityLevel:z,startTime:rt,expirationTime:Rt,sortIndex:-1},rt>ft?(z.sortIndex=rt,t(v,z),i(p)===null&&z===i(v)&&(nt?(pt(C),C=-1):nt=!0,Ae(Yt,rt-ft))):(z.sortIndex=Rt,t(p,z),Z||F||(Z=!0,wt||(wt=!0,U()))),z},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(z){var J=V;return function(){var rt=V;V=J;try{return z.apply(this,arguments)}finally{V=rt}}}})(_d)),_d}var y_;function PA(){return y_||(y_=1,yd.exports=LA()),yd.exports}var vd={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function zA(){if(__)return Et;__=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.iterator;function F(D){return D===null||typeof D!="object"?null:(D=V&&D[V]||D["@@iterator"],typeof D=="function"?D:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,Y={};function st(D,G,W){this.props=D,this.context=G,this.refs=Y,this.updater=W||Z}st.prototype.isReactComponent={},st.prototype.setState=function(D,G){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,G,"setState")},st.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function pt(){}pt.prototype=st.prototype;function ct(D,G,W){this.props=D,this.context=G,this.refs=Y,this.updater=W||Z}var Ct=ct.prototype=new pt;Ct.constructor=ct,nt(Ct,st.prototype),Ct.isPureReactComponent=!0;var Yt=Array.isArray;function wt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function w(D,G,W){var it=W.ref;return{$$typeof:s,type:D,key:G,ref:it!==void 0?it:null,props:W}}function O(D,G){return w(D.type,G,D.props)}function M(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function U(D){var G={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(W){return G[W]})}var I=/\/+/g;function ce(D,G){return typeof D=="object"&&D!==null&&D.key!=null?U(""+D.key):G.toString(36)}function Ae(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(wt,wt):(D.status="pending",D.then(function(G){D.status==="pending"&&(D.status="fulfilled",D.value=G)},function(G){D.status==="pending"&&(D.status="rejected",D.reason=G)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function z(D,G,W,it,dt){var vt=typeof D;(vt==="undefined"||vt==="boolean")&&(D=null);var xt=!1;if(D===null)xt=!0;else switch(vt){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(D.$$typeof){case s:case t:xt=!0;break;case A:return xt=D._init,z(xt(D._payload),G,W,it,dt)}}if(xt)return dt=dt(D),xt=it===""?"."+ce(D,0):it,Yt(dt)?(W="",xt!=null&&(W=xt.replace(I,"$&/")+"/"),z(dt,G,W,"",function(Kn){return Kn})):dt!=null&&(M(dt)&&(dt=O(dt,W+(dt.key==null||D&&D.key===dt.key?"":(""+dt.key).replace(I,"$&/")+"/")+xt)),G.push(dt)),1;xt=0;var Ve=it===""?".":it+":";if(Yt(D))for(var re=0;re<D.length;re++)it=D[re],vt=Ve+ce(it,re),xt+=z(it,G,W,vt,dt);else if(re=F(D),typeof re=="function")for(D=re.call(D),re=0;!(it=D.next()).done;)it=it.value,vt=Ve+ce(it,re++),xt+=z(it,G,W,vt,dt);else if(vt==="object"){if(typeof D.then=="function")return z(Ae(D),G,W,it,dt);throw G=String(D),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return xt}function J(D,G,W){if(D==null)return D;var it=[],dt=0;return z(D,it,"","",function(vt){return G.call(W,vt,dt++)}),it}function rt(D){if(D._status===-1){var G=D._result;G=G(),G.then(function(W){(D._status===0||D._status===-1)&&(D._status=1,D._result=W)},function(W){(D._status===0||D._status===-1)&&(D._status=2,D._result=W)}),D._status===-1&&(D._status=0,D._result=G)}if(D._status===1)return D._result.default;throw D._result}var ft=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Rt={map:J,forEach:function(D,G,W){J(D,function(){G.apply(this,arguments)},W)},count:function(D){var G=0;return J(D,function(){G++}),G},toArray:function(D){return J(D,function(G){return G})||[]},only:function(D){if(!M(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Et.Activity=S,Et.Children=Rt,Et.Component=st,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=ct,Et.StrictMode=a,Et.Suspense=p,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Et.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},Et.cache=function(D){return function(){return D.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(D,G,W){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var it=nt({},D.props),dt=D.key;if(G!=null)for(vt in G.key!==void 0&&(dt=""+G.key),G)!b.call(G,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&G.ref===void 0||(it[vt]=G[vt]);var vt=arguments.length-2;if(vt===1)it.children=W;else if(1<vt){for(var xt=Array(vt),Ve=0;Ve<vt;Ve++)xt[Ve]=arguments[Ve+2];it.children=xt}return w(D.type,dt,it)},Et.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Et.createElement=function(D,G,W){var it,dt={},vt=null;if(G!=null)for(it in G.key!==void 0&&(vt=""+G.key),G)b.call(G,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(dt[it]=G[it]);var xt=arguments.length-2;if(xt===1)dt.children=W;else if(1<xt){for(var Ve=Array(xt),re=0;re<xt;re++)Ve[re]=arguments[re+2];dt.children=Ve}if(D&&D.defaultProps)for(it in xt=D.defaultProps,xt)dt[it]===void 0&&(dt[it]=xt[it]);return w(D,vt,dt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(D){return{$$typeof:g,render:D}},Et.isValidElement=M,Et.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:rt}},Et.memo=function(D,G){return{$$typeof:v,type:D,compare:G===void 0?null:G}},Et.startTransition=function(D){var G=C.T,W={};C.T=W;try{var it=D(),dt=C.S;dt!==null&&dt(W,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(wt,ft)}catch(vt){ft(vt)}finally{G!==null&&W.types!==null&&(G.types=W.types),C.T=G}},Et.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Et.use=function(D){return C.H.use(D)},Et.useActionState=function(D,G,W){return C.H.useActionState(D,G,W)},Et.useCallback=function(D,G){return C.H.useCallback(D,G)},Et.useContext=function(D){return C.H.useContext(D)},Et.useDebugValue=function(){},Et.useDeferredValue=function(D,G){return C.H.useDeferredValue(D,G)},Et.useEffect=function(D,G){return C.H.useEffect(D,G)},Et.useEffectEvent=function(D){return C.H.useEffectEvent(D)},Et.useId=function(){return C.H.useId()},Et.useImperativeHandle=function(D,G,W){return C.H.useImperativeHandle(D,G,W)},Et.useInsertionEffect=function(D,G){return C.H.useInsertionEffect(D,G)},Et.useLayoutEffect=function(D,G){return C.H.useLayoutEffect(D,G)},Et.useMemo=function(D,G){return C.H.useMemo(D,G)},Et.useOptimistic=function(D,G){return C.H.useOptimistic(D,G)},Et.useReducer=function(D,G,W){return C.H.useReducer(D,G,W)},Et.useRef=function(D){return C.H.useRef(D)},Et.useState=function(D){return C.H.useState(D)},Et.useSyncExternalStore=function(D,G,W){return C.H.useSyncExternalStore(D,G,W)},Et.useTransition=function(){return C.H.useTransition()},Et.version="19.2.0",Et}var v_;function rm(){return v_||(v_=1,vd.exports=zA()),vd.exports}var Ed={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function jA(){if(E_)return Ke;E_=1;var s=rm();function t(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,v,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:p,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ke.createPortal=function(p,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(p,v,null,A)},Ke.flushSync=function(p){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=v,a.p=A,a.d.f()}},Ke.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(p,v))},Ke.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Ke.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var A=v.as,S=g(A,v.crossOrigin),V=typeof v.integrity=="string"?v.integrity:void 0,F=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:F}):A==="script"&&a.d.X(p,{crossOrigin:S,integrity:V,fetchPriority:F,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ke.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);a.d.M(p,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(p)},Ke.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,S=g(A,v.crossOrigin);a.d.L(p,A,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ke.preloadModule=function(p,v){if(typeof p=="string")if(v){var A=g(v.as,v.crossOrigin);a.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(p)},Ke.requestFormReset=function(p){a.d.r(p)},Ke.unstable_batchedUpdates=function(p,v){return p(v)},Ke.useFormState=function(p,v,A){return d.H.useFormState(p,v,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.0",Ke}var T_;function BA(){if(T_)return Ed.exports;T_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ed.exports=jA(),Ed.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function qA(){if(A_)return sl;A_=1;var s=PA(),t=rm(),i=BA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return p(h),e;if(f===o)return p(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===r){y=!0,r=h,o=f;break}if(E===o){y=!0,o=h,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,o=h;break}if(E===o){y=!0,o=f,r=h;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),st=Symbol.for("react.profiler"),pt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),Ct=Symbol.for("react.forward_ref"),Yt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case st:return"Profiler";case Y:return"StrictMode";case Yt:return"Suspense";case wt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case ct:return e.displayName||"Context";case pt:return(e._context.displayName||"Context")+".Consumer";case Ct:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ce(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ce(e(n))}catch{}}return null}var Ae=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},ft=[],Rt=-1;function D(e){return{current:e}}function G(e){0>Rt||(e.current=ft[Rt],ft[Rt]=null,Rt--)}function W(e,n){Rt++,ft[Rt]=e.current,e.current=n}var it=D(null),dt=D(null),vt=D(null),xt=D(null);function Ve(e,n){switch(W(vt,n),W(dt,e),W(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ly(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ly(n),e=Py(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(it),W(it,e)}function re(){G(it),G(dt),G(vt)}function Kn(e){e.memoizedState!==null&&W(xt,e);var n=it.current,r=Py(n,e.type);n!==r&&(W(dt,e),W(it,r))}function fi(e){dt.current===e&&(G(it),G(dt)),xt.current===e&&(G(xt),tl._currentValue=rt)}var Wr,Hs;function kn(e){if(Wr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Wr=n&&n[1]||"",Hs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wr+e+Hs}var ts=!1;function Fs(e,n){if(!e||ts)return"";ts=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var B=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){B=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){B=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),P=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var Q=`
`+R[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{ts=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?kn(r):""}function hh(e,n){switch(e.tag){case 26:case 27:case 5:return kn(e.type);case 16:return kn("Lazy");case 13:return e.child!==n&&n!==null?kn("Suspense Fallback"):kn("Suspense");case 19:return kn("SuspenseList");case 0:case 15:return Fs(e.type,!1);case 11:return Fs(e.type.render,!1);case 1:return Fs(e.type,!0);case 31:return kn("Activity");default:return""}}function Bl(e){try{var n="",r=null;do n+=hh(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Gs=Object.prototype.hasOwnProperty,es=s.unstable_scheduleCallback,Qs=s.unstable_cancelCallback,fh=s.unstable_shouldYield,no=s.unstable_requestPaint,xe=s.unstable_now,ql=s.unstable_getCurrentPriorityLevel,Se=s.unstable_ImmediatePriority,Ie=s.unstable_UserBlockingPriority,di=s.unstable_NormalPriority,Hl=s.unstable_LowPriority,io=s.unstable_IdlePriority,dh=s.log,ns=s.unstable_setDisableYieldValue,Ji=null,Ge=null;function bn(e){if(typeof dh=="function"&&ns(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Ji,e)}catch{}}var Ze=Math.clz32?Math.clz32:Fl,mh=Math.log,ro=Math.LN2;function Fl(e){return e>>>=0,e===0?32:31-(mh(e)/ro|0)|0}var is=256,Yn=262144,Zi=4194304;function Ln(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wn(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Ln(o):(y&=E,y!==0?h=Ln(y):r||(r=E&~e,r!==0&&(h=Ln(r))))):(E=o&~f,E!==0?h=Ln(E):y!==0?h=Ln(y):r||(r=o&~e,r!==0&&(h=Ln(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Wi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ks(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function so(){var e=Zi;return Zi<<=1,(Zi&62914560)===0&&(Zi=4194304),e}function mi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function tr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ue(e,n,r,o,h,f){var y=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(r=y&~r;0<r;){var Q=31-Ze(r),X=1<<Q;E[Q]=0,R[Q]=-1;var B=P[Q];if(B!==null)for(P[Q]=null,Q=0;Q<B.length;Q++){var q=B[Q];q!==null&&(q.lane&=-536870913)}r&=~X}o!==0&&ao(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function ao(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ze(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function er(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Ze(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function nr(e,n){var r=n&-n;return r=(r&42)!==0?1:oo(r),(r&(e.suspendedLanes|n))!==0?0:r}function oo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function lo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function gi(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:o_(e.type))}function Gl(e,n){var r=J.p;try{return J.p=e,n()}finally{J.p=r}}var Xn=Math.random().toString(36).slice(2),ae="__reactFiber$"+Xn,ke="__reactProps$"+Xn,$n="__reactContainer$"+Xn,ir="__reactEvents$"+Xn,Jn="__reactListeners$"+Xn,Ql="__reactHandles$"+Xn,uo="__reactResources$"+Xn,pi="__reactMarker$"+Xn;function rs(e){delete e[ae],delete e[ke],delete e[ir],delete e[Jn],delete e[Ql]}function yi(e){var n=e[ae];if(n)return n;for(var r=e.parentNode;r;){if(n=r[$n]||r[ae]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Gy(e);e!==null;){if(r=e[ae])return r;e=Gy(e)}return n}e=r,r=e.parentNode}return null}function _i(e){if(e=e[ae]||e[$n]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ss(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Pn(e){var n=e[uo];return n||(n=e[uo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function he(e){e[pi]=!0}var Ys=new Set,rr={};function We(e,n){Zn(e,n),Zn(e+"Capture",n)}function Zn(e,n){for(rr[e]=n,e=0;e<n.length;e++)Ys.add(n[e])}var gh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),co={},ho={};function Kl(e){return Gs.call(ho,e)?!0:Gs.call(co,e)?!1:gh.test(e)?ho[e]=!0:(co[e]=!0,!1)}function sr(e,n,r){if(Kl(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function ar(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Rn(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yl(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ph(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){r=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Xs(e){if(!e._valueTracker){var n=Yl(e)?"checked":"value";e._valueTracker=ph(e,n,""+e[n])}}function fo(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=Yl(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function $s(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vi=/[\n"\\]/g;function oe(e){return e.replace(vi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function or(e,n,r,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+tn(n)):e.value!==""+tn(n)&&(e.value=""+tn(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?Js(e,y,tn(n)):r!=null?Js(e,y,tn(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+tn(E):e.removeAttribute("name")}function as(e,n,r,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Xs(e);return}r=r!=null?""+tn(r):"",n=n!=null?""+tn(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Xs(e)}function Js(e,n,r){n==="number"&&$s(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Pt(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+tn(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function os(e,n,r){if(n!=null&&(n=""+tn(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+tn(r):""}function lr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Ae(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=tn(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Xs(e)}function In(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var yh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||yh.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Xl(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&mo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&mo(e,f,n[f])}function go(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _h=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wn(e){return vh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ce(){}var Zs=null;function Ws(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ei=null,mn=null;function $l(e){var n=_i(e);if(n&&(e=n.stateNode)){var r=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(or(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+oe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(a(90));or(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&fo(o)}break t;case"textarea":os(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Pt(e,!!r.multiple,n,!1)}}}var po=!1;function Jl(e,n,r){if(po)return e(n,r);po=!0;try{var o=e(n);return o}finally{if(po=!1,(Ei!==null||mn!==null)&&(Ku(),Ei&&(n=Ei,e=mn,mn=Ei=null,$l(n),e)))for(n=0;n<e.length;n++)$l(e[n])}}function an(e,n){var r=e.stateNode;if(r===null)return null;var o=r[ke]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yo=!1;if(zn)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){yo=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{yo=!1}var gn=null,ta=null,ei=null;function ur(){if(ei)return ei;var e,n=ta,r=n.length,o,h="value"in gn?gn.value:gn.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var y=r-e;for(o=1;o<=y&&n[r-o]===h[f-o];o++);return ei=h.slice(e,1<o?1-o:void 0)}function ls(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function cr(){return!0}function Wt(){return!1}function Qe(e){function n(r,o,h,f,y){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?cr:Wt,this.isPropagationStopped=Wt,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),n}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},us=Qe(Ti),hr=S({},Ti,{view:0,detail:0}),Zl=Qe(hr),fr,ea,en,cs=S({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&e.type==="mousemove"?(fr=e.screenX-en.screenX,ea=e.screenY-en.screenY):ea=fr=0,en=e),fr)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),Wl=Qe(cs),hs=S({},cs,{dataTransfer:0}),tu=Qe(hs),_o=S({},hr,{relatedTarget:0}),dr=Qe(_o),eu=S({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),na=Qe(eu),Eh=S({},Ti,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nu=Qe(Eh),fs=S({},Ti,{data:0}),vo=Qe(fs),iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},To={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ru(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=To[e])?!!n[e]:!1}function mr(){return ru}var su=S({},hr,{key:function(e){if(e.key){var n=iu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ls(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(e){return e.type==="keypress"?ls(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ls(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),au=Qe(su),Ai=S({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ao=Qe(Ai),ou=S({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),lu=Qe(ou),uu=S({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),ia=Qe(uu),nn=S({},cs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cu=Qe(nn),hu=S({},Ti,{newState:0,oldState:0}),gr=Qe(hu),u=[9,13,27,32],m=zn&&"CompositionEvent"in window,_=null;zn&&"documentMode"in document&&(_=document.documentMode);var T=zn&&"TextEvent"in window&&!_,k=zn&&(!m||_&&8<_&&11>=_),H=" ",et=!1;function Ft(e,n){switch(e){case"keyup":return u.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var It=!1;function De(e,n){switch(e){case"compositionend":return ge(n);case"keypress":return n.which!==32?null:(et=!0,H);case"textInput":return e=n.data,e===H&&et?null:e;default:return null}}function Ne(e,n){if(It)return e==="compositionend"||!m&&Ft(e,n)?(e=ur(),ei=ta=gn=null,It=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return k&&n.locale!=="ko"?null:n.data;default:return null}}var pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function on(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!pr[e.type]:n==="textarea"}function ds(e,n,r,o){Ei?mn?mn.push(o):mn=[o]:Ei=o,n=tc(n,"onChange"),0<n.length&&(r=new us("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Si=null,So=null;function lT(e){Oy(e,0)}function fu(e){var n=ss(e);if(fo(n))return e}function $m(e,n){if(e==="change")return n}var Jm=!1;if(zn){var Th;if(zn){var Ah="oninput"in document;if(!Ah){var Zm=document.createElement("div");Zm.setAttribute("oninput","return;"),Ah=typeof Zm.oninput=="function"}Th=Ah}else Th=!1;Jm=Th&&(!document.documentMode||9<document.documentMode)}function Wm(){Si&&(Si.detachEvent("onpropertychange",tg),So=Si=null)}function tg(e){if(e.propertyName==="value"&&fu(So)){var n=[];ds(n,So,e,Ws(e)),Jl(lT,n)}}function uT(e,n,r){e==="focusin"?(Wm(),Si=n,So=r,Si.attachEvent("onpropertychange",tg)):e==="focusout"&&Wm()}function cT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fu(So)}function hT(e,n){if(e==="click")return fu(n)}function fT(e,n){if(e==="input"||e==="change")return fu(n)}function dT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:dT;function bo(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Gs.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function eg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ng(e,n){var r=eg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=eg(r)}}function ig(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ig(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function rg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=$s(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=$s(e.document)}return n}function Sh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var mT=zn&&"documentMode"in document&&11>=document.documentMode,ra=null,bh=null,wo=null,wh=!1;function sg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wh||ra==null||ra!==$s(o)||(o=ra,"selectionStart"in o&&Sh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),wo&&bo(wo,o)||(wo=o,o=tc(bh,"onSelect"),0<o.length&&(n=new us("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ra)))}function ms(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var sa={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},Rh={},ag={};zn&&(ag=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function gs(e){if(Rh[e])return Rh[e];if(!sa[e])return e;var n=sa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in ag)return Rh[e]=n[r];return e}var og=gs("animationend"),lg=gs("animationiteration"),ug=gs("animationstart"),gT=gs("transitionrun"),pT=gs("transitionstart"),yT=gs("transitioncancel"),cg=gs("transitionend"),hg=new Map,Ih="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ih.push("scrollEnd");function jn(e,n){hg.set(e,n),We(n,[e])}var du=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],aa=0,Ch=0;function mu(){for(var e=aa,n=Ch=aa=0;n<e;){var r=Cn[n];Cn[n++]=null;var o=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&fg(r,h,f)}}function gu(e,n,r,o){Cn[aa++]=e,Cn[aa++]=n,Cn[aa++]=r,Cn[aa++]=o,Ch|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Dh(e,n,r,o){return gu(e,n,r,o),pu(e)}function ps(e,n){return gu(e,null,null,n),pu(e)}function fg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ze(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function pu(e){if(50<Ko)throw Ko=0,zf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var oa={};function _T(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,n,r,o){return new _T(e,n,r,o)}function Nh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bi(e,n){var r=e.alternate;return r===null?(r=yn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function dg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function yu(e,n,r,o,h,f){var y=0;if(o=e,typeof e=="function")Nh(e)&&(y=1);else if(typeof e=="string")y=SA(e,r,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=yn(31,r,n,h),e.elementType=w,e.lanes=f,e;case nt:return ys(r.children,h,f,n);case Y:y=8,h|=24;break;case st:return e=yn(12,r,n,h|2),e.elementType=st,e.lanes=f,e;case Yt:return e=yn(13,r,n,h),e.elementType=Yt,e.lanes=f,e;case wt:return e=yn(19,r,n,h),e.elementType=wt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ct:y=10;break t;case pt:y=9;break t;case Ct:y=11;break t;case C:y=14;break t;case b:y=16,o=null;break t}y=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=yn(y,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function ys(e,n,r,o){return e=yn(7,e,o,n),e.lanes=r,e}function Oh(e,n,r){return e=yn(6,e,null,n),e.lanes=r,e}function mg(e){var n=yn(18,null,null,0);return n.stateNode=e,n}function Mh(e,n,r){return n=yn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var gg=new WeakMap;function Dn(e,n){if(typeof e=="object"&&e!==null){var r=gg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Bl(n)},gg.set(e,n),n)}return{value:e,source:n,stack:Bl(n)}}var la=[],ua=0,_u=null,Ro=0,Nn=[],On=0,yr=null,ni=1,ii="";function wi(e,n){la[ua++]=Ro,la[ua++]=_u,_u=e,Ro=n}function pg(e,n,r){Nn[On++]=ni,Nn[On++]=ii,Nn[On++]=yr,yr=e;var o=ni;e=ii;var h=32-Ze(o)-1;o&=~(1<<h),r+=1;var f=32-Ze(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,ni=1<<32-Ze(n)+h|r<<h|o,ii=f+e}else ni=1<<f|r<<h|o,ii=e}function Vh(e){e.return!==null&&(wi(e,1),pg(e,1,0))}function xh(e){for(;e===_u;)_u=la[--ua],la[ua]=null,Ro=la[--ua],la[ua]=null;for(;e===yr;)yr=Nn[--On],Nn[On]=null,ii=Nn[--On],Nn[On]=null,ni=Nn[--On],Nn[On]=null}function yg(e,n){Nn[On++]=ni,Nn[On++]=ii,Nn[On++]=yr,ni=n.id,ii=n.overflow,yr=e}var Le=null,te=null,Ut=!1,_r=null,Mn=!1,Uh=Error(a(519));function vr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Io(Dn(n,e)),Uh}function _g(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ae]=e,n[ke]=o,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(r=0;r<Xo.length;r++)Nt(Xo[r],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),as(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),lr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Uy(n.textContent,r)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=Ce),n=!0):n=!1,n||vr(e,!0)}function vg(e){for(Le=e.return;Le;)switch(Le.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Le=Le.return}}function ca(e){if(e!==Le)return!1;if(!Ut)return vg(e),Ut=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||td(e.type,e.memoizedProps)),r=!r),r&&te&&vr(e),vg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=Fy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=Fy(e)}else n===27?(n=te,Vr(e.type)?(e=sd,sd=null,te=e):te=n):te=Le?xn(e.stateNode.nextSibling):null;return!0}function _s(){te=Le=null,Ut=!1}function kh(){var e=_r;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),_r=null),e}function Io(e){_r===null?_r=[e]:_r.push(e)}var Lh=D(null),vs=null,Ri=null;function Er(e,n,r){W(Lh,n._currentValue),n._currentValue=r}function Ii(e){e._currentValue=Lh.current,G(Lh)}function Ph(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function zh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Ph(f.return,r,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Ph(y,r,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function ha(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=h.type;pn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===xt.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(tl):e=[tl])}h=h.return}e!==null&&zh(n,e,r,o),n.flags|=262144}function vu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Es(e){vs=e,Ri=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pe(e){return Eg(vs,e)}function Eu(e,n){return vs===null&&Es(e),Eg(e,n)}function Eg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ri===null){if(e===null)throw Error(a(308));Ri=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ri=Ri.next=n;return r}var vT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},ET=s.unstable_scheduleCallback,TT=s.unstable_NormalPriority,pe={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jh(){return{controller:new vT,data:new Map,refCount:0}}function Co(e){e.refCount--,e.refCount===0&&ET(TT,function(){e.controller.abort()})}var Do=null,Bh=0,fa=0,da=null;function AT(e,n){if(Do===null){var r=Do=[];Bh=0,fa=Gf(),da={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Bh++,n.then(Tg,Tg),n}function Tg(){if(--Bh===0&&Do!==null){da!==null&&(da.status="fulfilled");var e=Do;Do=null,fa=0,da=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function ST(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Ag=z.S;z.S=function(e,n){sy=xe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&AT(e,n),Ag!==null&&Ag(e,n)};var Ts=D(null);function qh(){var e=Ts.current;return e!==null?e:Zt.pooledCache}function Tu(e,n){n===null?W(Ts,Ts.current):W(Ts,n.pool)}function Sg(){var e=qh();return e===null?null:{parent:pe._currentValue,pool:e}}var ma=Error(a(460)),Hh=Error(a(474)),Au=Error(a(542)),Su={then:function(){}};function bg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Ce,Ce),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ig(e),e;default:if(typeof n.status=="string")n.then(Ce,Ce);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ig(e),e}throw Ss=n,ma}}function As(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ss=r,ma):r}}var Ss=null;function Rg(){if(Ss===null)throw Error(a(459));var e=Ss;return Ss=null,e}function Ig(e){if(e===ma||e===Au)throw Error(a(483))}var ga=null,No=0;function bu(e){var n=No;return No+=1,ga===null&&(ga=[]),wg(ga,e,n)}function Oo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function wu(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Cg(e){function n(x,N){if(e){var L=x.deletions;L===null?(x.deletions=[N],x.flags|=16):L.push(N)}}function r(x,N){if(!e)return null;for(;N!==null;)n(x,N),N=N.sibling;return null}function o(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=bi(x,N),x.index=0,x.sibling=null,x}function f(x,N,L){return x.index=L,e?(L=x.alternate,L!==null?(L=L.index,L<N?(x.flags|=67108866,N):L):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function y(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,N,L,K){return N===null||N.tag!==6?(N=Oh(L,x.mode,K),N.return=x,N):(N=h(N,L),N.return=x,N)}function R(x,N,L,K){var ht=L.type;return ht===nt?Q(x,N,L.props.children,K,L.key):N!==null&&(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&As(ht)===N.type)?(N=h(N,L.props),Oo(N,L),N.return=x,N):(N=yu(L.type,L.key,L.props,null,x.mode,K),Oo(N,L),N.return=x,N)}function P(x,N,L,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Mh(L,x.mode,K),N.return=x,N):(N=h(N,L.children||[]),N.return=x,N)}function Q(x,N,L,K,ht){return N===null||N.tag!==7?(N=ys(L,x.mode,K,ht),N.return=x,N):(N=h(N,L),N.return=x,N)}function X(x,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Oh(""+N,x.mode,L),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case F:return L=yu(N.type,N.key,N.props,null,x.mode,L),Oo(L,N),L.return=x,L;case Z:return N=Mh(N,x.mode,L),N.return=x,N;case b:return N=As(N),X(x,N,L)}if(Ae(N)||U(N))return N=ys(N,x.mode,L,null),N.return=x,N;if(typeof N.then=="function")return X(x,bu(N),L);if(N.$$typeof===ct)return X(x,Eu(x,N),L);wu(x,N)}return null}function B(x,N,L,K){var ht=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ht!==null?null:E(x,N,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===ht?R(x,N,L,K):null;case Z:return L.key===ht?P(x,N,L,K):null;case b:return L=As(L),B(x,N,L,K)}if(Ae(L)||U(L))return ht!==null?null:Q(x,N,L,K,null);if(typeof L.then=="function")return B(x,N,bu(L),K);if(L.$$typeof===ct)return B(x,N,Eu(x,L),K);wu(x,L)}return null}function q(x,N,L,K,ht){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return x=x.get(L)||null,E(N,x,""+K,ht);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return x=x.get(K.key===null?L:K.key)||null,R(N,x,K,ht);case Z:return x=x.get(K.key===null?L:K.key)||null,P(N,x,K,ht);case b:return K=As(K),q(x,N,L,K,ht)}if(Ae(K)||U(K))return x=x.get(L)||null,Q(N,x,K,ht,null);if(typeof K.then=="function")return q(x,N,L,bu(K),ht);if(K.$$typeof===ct)return q(x,N,L,Eu(N,K),ht);wu(N,K)}return null}function at(x,N,L,K){for(var ht=null,zt=null,ut=N,bt=N=0,Mt=null;ut!==null&&bt<L.length;bt++){ut.index>bt?(Mt=ut,ut=null):Mt=ut.sibling;var jt=B(x,ut,L[bt],K);if(jt===null){ut===null&&(ut=Mt);break}e&&ut&&jt.alternate===null&&n(x,ut),N=f(jt,N,bt),zt===null?ht=jt:zt.sibling=jt,zt=jt,ut=Mt}if(bt===L.length)return r(x,ut),Ut&&wi(x,bt),ht;if(ut===null){for(;bt<L.length;bt++)ut=X(x,L[bt],K),ut!==null&&(N=f(ut,N,bt),zt===null?ht=ut:zt.sibling=ut,zt=ut);return Ut&&wi(x,bt),ht}for(ut=o(ut);bt<L.length;bt++)Mt=q(ut,x,bt,L[bt],K),Mt!==null&&(e&&Mt.alternate!==null&&ut.delete(Mt.key===null?bt:Mt.key),N=f(Mt,N,bt),zt===null?ht=Mt:zt.sibling=Mt,zt=Mt);return e&&ut.forEach(function(Pr){return n(x,Pr)}),Ut&&wi(x,bt),ht}function gt(x,N,L,K){if(L==null)throw Error(a(151));for(var ht=null,zt=null,ut=N,bt=N=0,Mt=null,jt=L.next();ut!==null&&!jt.done;bt++,jt=L.next()){ut.index>bt?(Mt=ut,ut=null):Mt=ut.sibling;var Pr=B(x,ut,jt.value,K);if(Pr===null){ut===null&&(ut=Mt);break}e&&ut&&Pr.alternate===null&&n(x,ut),N=f(Pr,N,bt),zt===null?ht=Pr:zt.sibling=Pr,zt=Pr,ut=Mt}if(jt.done)return r(x,ut),Ut&&wi(x,bt),ht;if(ut===null){for(;!jt.done;bt++,jt=L.next())jt=X(x,jt.value,K),jt!==null&&(N=f(jt,N,bt),zt===null?ht=jt:zt.sibling=jt,zt=jt);return Ut&&wi(x,bt),ht}for(ut=o(ut);!jt.done;bt++,jt=L.next())jt=q(ut,x,bt,jt.value,K),jt!==null&&(e&&jt.alternate!==null&&ut.delete(jt.key===null?bt:jt.key),N=f(jt,N,bt),zt===null?ht=jt:zt.sibling=jt,zt=jt);return e&&ut.forEach(function(xA){return n(x,xA)}),Ut&&wi(x,bt),ht}function Jt(x,N,L,K){if(typeof L=="object"&&L!==null&&L.type===nt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:t:{for(var ht=L.key;N!==null;){if(N.key===ht){if(ht=L.type,ht===nt){if(N.tag===7){r(x,N.sibling),K=h(N,L.props.children),K.return=x,x=K;break t}}else if(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&As(ht)===N.type){r(x,N.sibling),K=h(N,L.props),Oo(K,L),K.return=x,x=K;break t}r(x,N);break}else n(x,N);N=N.sibling}L.type===nt?(K=ys(L.props.children,x.mode,K,L.key),K.return=x,x=K):(K=yu(L.type,L.key,L.props,null,x.mode,K),Oo(K,L),K.return=x,x=K)}return y(x);case Z:t:{for(ht=L.key;N!==null;){if(N.key===ht)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){r(x,N.sibling),K=h(N,L.children||[]),K.return=x,x=K;break t}else{r(x,N);break}else n(x,N);N=N.sibling}K=Mh(L,x.mode,K),K.return=x,x=K}return y(x);case b:return L=As(L),Jt(x,N,L,K)}if(Ae(L))return at(x,N,L,K);if(U(L)){if(ht=U(L),typeof ht!="function")throw Error(a(150));return L=ht.call(L),gt(x,N,L,K)}if(typeof L.then=="function")return Jt(x,N,bu(L),K);if(L.$$typeof===ct)return Jt(x,N,Eu(x,L),K);wu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(r(x,N.sibling),K=h(N,L),K.return=x,x=K):(r(x,N),K=Oh(L,x.mode,K),K.return=x,x=K),y(x)):r(x,N)}return function(x,N,L,K){try{No=0;var ht=Jt(x,N,L,K);return ga=null,ht}catch(ut){if(ut===ma||ut===Au)throw ut;var zt=yn(29,ut,null,x.mode);return zt.lanes=K,zt.return=x,zt}finally{}}}var bs=Cg(!0),Dg=Cg(!1),Tr=!1;function Fh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ar(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Sr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=pu(e),fg(e,null,r),n}return gu(e,o,n,r),pu(e)}function Mo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,er(e,r)}}function Qh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Kh=!1;function Vo(){if(Kh){var e=da;if(e!==null)throw e}}function xo(e,n,r,o){Kh=!1;var h=e.updateQueue;Tr=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,y===null?f=P:y.next=P,y=R;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=P:E.next=P,Q.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;y=0,Q=P=R=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Ot&B)===B:(o&B)===B){B!==0&&B===fa&&(Kh=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,gt=E;B=n;var Jt=r;switch(gt.tag){case 1:if(at=gt.payload,typeof at=="function"){X=at.call(Jt,X,B);break t}X=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=gt.payload,B=typeof at=="function"?at.call(Jt,X,B):at,B==null)break t;X=S({},X,B);break t;case 2:Tr=!0}}B=E.callback,B!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(P=Q=q,R=X):Q=Q.next=q,y|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Q===null&&(R=X),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Cr|=y,e.lanes=y,e.memoizedState=X}}function Ng(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Og(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Ng(r[e],n)}var pa=D(null),Ru=D(0);function Mg(e,n){e=ki,W(Ru,e),W(pa,n),ki=e|n.baseLanes}function Yh(){W(Ru,ki),W(pa,pa.current)}function Xh(){ki=Ru.current,G(pa),G(Ru)}var _n=D(null),Vn=null;function br(e){var n=e.alternate;W(fe,fe.current&1),W(_n,e),Vn===null&&(n===null||pa.current!==null||n.memoizedState!==null)&&(Vn=e)}function $h(e){W(fe,fe.current),W(_n,e),Vn===null&&(Vn=e)}function Vg(e){e.tag===22?(W(fe,fe.current),W(_n,e),Vn===null&&(Vn=e)):wr()}function wr(){W(fe,fe.current),W(_n,_n.current)}function vn(e){G(_n),Vn===e&&(Vn=null),G(fe)}var fe=D(0);function Iu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||id(r)||rd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ci=0,St=null,Xt=null,ye=null,Cu=!1,ya=!1,ws=!1,Du=0,Uo=0,_a=null,bT=0;function le(){throw Error(a(321))}function Jh(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!pn(e[r],n[r]))return!1;return!0}function Zh(e,n,r,o,h,f){return Ci=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,z.H=e===null||e.memoizedState===null?pp:mf,ws=!1,f=r(o,h),ws=!1,ya&&(f=Ug(n,r,o,h)),xg(e),f}function xg(e){z.H=Po;var n=Xt!==null&&Xt.next!==null;if(Ci=0,ye=Xt=St=null,Cu=!1,Uo=0,_a=null,n)throw Error(a(300));e===null||_e||(e=e.dependencies,e!==null&&vu(e)&&(_e=!0))}function Ug(e,n,r,o){St=e;var h=0;do{if(ya&&(_a=null),Uo=0,ya=!1,25<=h)throw Error(a(301));if(h+=1,ye=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}z.H=yp,f=n(r,o)}while(ya);return f}function wT(){var e=z.H,n=e.useState()[0];return n=typeof n.then=="function"?ko(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(St.flags|=1024),n}function Wh(){var e=Du!==0;return Du=0,e}function tf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function ef(e){if(Cu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Cu=!1}Ci=0,ye=Xt=St=null,ya=!1,Uo=Du=0,_a=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?St.memoizedState=ye=e:ye=ye.next=e,ye}function de(){if(Xt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=ye===null?St.memoizedState:ye.next;if(n!==null)ye=n,Xt=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},ye===null?St.memoizedState=ye=e:ye=ye.next=e}return ye}function Nu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(e){var n=Uo;return Uo+=1,_a===null&&(_a=[]),e=wg(_a,e,n),n=St,(ye===null?n.memoizedState:ye.next)===null&&(n=n.alternate,z.H=n===null||n.memoizedState===null?pp:mf),e}function Ou(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ko(e);if(e.$$typeof===ct)return Pe(e)}throw Error(a(438,String(e)))}function nf(e){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Nu(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=O;return n.index++,r}function Di(e,n){return typeof n=="function"?n(e):n}function Mu(e){var n=de();return rf(n,Xt,e)}function rf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,R=null,P=n,Q=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(Ot&X)===X:(Ci&X)===X){var B=P.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===fa&&(Q=!0);else if((Ci&B)===B){P=P.next,B===fa&&(Q=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=X,y=f):R=R.next=X,St.lanes|=B,Cr|=B;X=P.action,ws&&r(f,X),f=P.hasEagerState?P.eagerState:r(f,X)}else B={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=B,y=f):R=R.next=B,St.lanes|=X,Cr|=X;P=P.next}while(P!==null&&P!==n);if(R===null?y=f:R.next=E,!pn(f,e.memoizedState)&&(_e=!0,Q&&(r=da,r!==null)))throw r;e.memoizedState=f,e.baseState=y,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function sf(e){var n=de(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);pn(f,n.memoizedState)||(_e=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function kg(e,n,r){var o=St,h=de(),f=Ut;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!pn((Xt||h).memoizedState,r);if(y&&(h.memoizedState=r,_e=!0),h=h.queue,lf(zg.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||ye!==null&&ye.memoizedState.tag&1){if(o.flags|=2048,va(9,{destroy:void 0},Pg.bind(null,o,h,r,n),null),Zt===null)throw Error(a(349));f||(Ci&127)!==0||Lg(o,n,r)}return r}function Lg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=Nu(),St.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Pg(e,n,r,o){n.value=r,n.getSnapshot=o,jg(n)&&Bg(e)}function zg(e,n,r){return r(function(){jg(n)&&Bg(e)})}function jg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!pn(e,r)}catch{return!0}}function Bg(e){var n=ps(e,2);n!==null&&fn(n,e,2)}function af(e){var n=rn();if(typeof e=="function"){var r=e;if(e=r(),ws){bn(!0);try{r()}finally{bn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:e},n}function qg(e,n,r,o){return e.baseState=r,rf(e,Xt,typeof o=="function"?o:Di)}function RT(e,n,r,o,h){if(Uu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};z.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Hg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Hg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=z.T,y={};z.T=y;try{var E=r(h,o),R=z.S;R!==null&&R(y,E),Fg(e,n,E)}catch(P){of(e,n,P)}finally{f!==null&&y.types!==null&&(f.types=y.types),z.T=f}}else try{f=r(h,o),Fg(e,n,f)}catch(P){of(e,n,P)}}function Fg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Gg(e,n,o)},function(o){return of(e,n,o)}):Gg(e,n,r)}function Gg(e,n,r){n.status="fulfilled",n.value=r,Qg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Hg(e,r)))}function of(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Qg(n),n=n.next;while(n!==o)}e.action=null}function Qg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Kg(e,n){return n}function Yg(e,n){if(Ut){var r=Zt.formState;if(r!==null){t:{var o=St;if(Ut){if(te){e:{for(var h=te,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=xn(h.nextSibling),o=h.data==="F!";break t}}vr(o)}o=!1}o&&(n=r[0])}}return r=rn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:n},r.queue=o,r=dp.bind(null,St,o),o.dispatch=r,o=af(!1),f=df.bind(null,St,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=RT.bind(null,St,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function Xg(e){var n=de();return $g(n,Xt,e)}function $g(e,n,r){if(n=rf(e,n,Kg)[0],e=Mu(Di)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ko(n)}catch(y){throw y===ma?Au:y}else o=n;n=de();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(St.flags|=2048,va(9,{destroy:void 0},IT.bind(null,h,r),null)),[o,f,e]}function IT(e,n){e.action=n}function Jg(e){var n=de(),r=Xt;if(r!==null)return $g(n,r,e);de(),n=n.memoizedState,r=de();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function va(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=Nu(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Zg(){return de().memoizedState}function Vu(e,n,r,o){var h=rn();St.flags|=e,h.memoizedState=va(1|n,{destroy:void 0},r,o===void 0?null:o)}function xu(e,n,r,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&Jh(o,Xt.memoizedState.deps)?h.memoizedState=va(n,f,r,o):(St.flags|=e,h.memoizedState=va(1|n,f,r,o))}function Wg(e,n){Vu(8390656,8,e,n)}function lf(e,n){xu(2048,8,e,n)}function CT(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=Nu(),St.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function tp(e){var n=de().memoizedState;return CT({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function ep(e,n){return xu(4,2,e,n)}function np(e,n){return xu(4,4,e,n)}function ip(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function rp(e,n,r){r=r!=null?r.concat([e]):null,xu(4,4,ip.bind(null,n,e),r)}function uf(){}function sp(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Jh(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function ap(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Jh(n,o[1]))return o[0];if(o=e(),ws){bn(!0);try{e()}finally{bn(!1)}}return r.memoizedState=[o,n],o}function cf(e,n,r){return r===void 0||(Ci&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=oy(),St.lanes|=e,Cr|=e,r)}function op(e,n,r,o){return pn(r,n)?r:pa.current!==null?(e=cf(e,r,o),pn(e,n)||(_e=!0),e):(Ci&42)===0||(Ci&1073741824)!==0&&(Ot&261930)===0?(_e=!0,e.memoizedState=r):(e=oy(),St.lanes|=e,Cr|=e,n)}function lp(e,n,r,o,h){var f=J.p;J.p=f!==0&&8>f?f:8;var y=z.T,E={};z.T=E,df(e,!1,n,r);try{var R=h(),P=z.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=ST(R,o);Lo(e,n,Q,An(e))}else Lo(e,n,o,An(e))}catch(X){Lo(e,n,{then:function(){},status:"rejected",reason:X},An())}finally{J.p=f,y!==null&&E.types!==null&&(y.types=E.types),z.T=y}}function DT(){}function hf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=up(e).queue;lp(e,h,n,rt,r===null?DT:function(){return cp(e),r(o)})}function up(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:rt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function cp(e){var n=up(e);n.next===null&&(n=e.alternate.memoizedState),Lo(e,n.next.queue,{},An())}function ff(){return Pe(tl)}function hp(){return de().memoizedState}function fp(){return de().memoizedState}function NT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=An();e=Ar(r);var o=Sr(n,e,r);o!==null&&(fn(o,n,r),Mo(o,n,r)),n={cache:jh()},e.payload=n;return}n=n.return}}function OT(e,n,r){var o=An();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Uu(e)?mp(n,r):(r=Dh(e,n,r,o),r!==null&&(fn(r,e,o),gp(r,n,o)))}function dp(e,n,r){var o=An();Lo(e,n,r,o)}function Lo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Uu(e))mp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(h.hasEagerState=!0,h.eagerState=E,pn(E,y))return gu(e,n,h,0),Zt===null&&mu(),!1}catch{}finally{}if(r=Dh(e,n,h,o),r!==null)return fn(r,e,o),gp(r,n,o),!0}return!1}function df(e,n,r,o){if(o={lane:2,revertLane:Gf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Uu(e)){if(n)throw Error(a(479))}else n=Dh(e,r,o,2),n!==null&&fn(n,e,2)}function Uu(e){var n=e.alternate;return e===St||n!==null&&n===St}function mp(e,n){ya=Cu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function gp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,er(e,r)}}var Po={readContext:Pe,use:Ou,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Po.useEffectEvent=le;var pp={readContext:Pe,use:Ou,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:Pe,useEffect:Wg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Vu(4194308,4,ip.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Vu(4194308,4,e,n)},useInsertionEffect:function(e,n){Vu(4,2,e,n)},useMemo:function(e,n){var r=rn();n=n===void 0?null:n;var o=e();if(ws){bn(!0);try{e()}finally{bn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=rn();if(r!==void 0){var h=r(n);if(ws){bn(!0);try{r(n)}finally{bn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=OT.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=af(e);var n=e.queue,r=dp.bind(null,St,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:uf,useDeferredValue:function(e,n){var r=rn();return cf(r,e,n)},useTransition:function(){var e=af(!1);return e=lp.bind(null,St,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=St,h=rn();if(Ut){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Zt===null)throw Error(a(349));(Ot&127)!==0||Lg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Wg(zg.bind(null,o,f,e),[e]),o.flags|=2048,va(9,{destroy:void 0},Pg.bind(null,o,f,r,n),null),r},useId:function(){var e=rn(),n=Zt.identifierPrefix;if(Ut){var r=ii,o=ni;r=(o&~(1<<32-Ze(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Du++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=bT++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:ff,useFormState:Yg,useActionState:Yg,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=df.bind(null,St,!0,r),r.dispatch=n,[e,n]},useMemoCache:nf,useCacheRefresh:function(){return rn().memoizedState=NT.bind(null,St)},useEffectEvent:function(e){var n=rn(),r={impl:e};return n.memoizedState=r,function(){if((qt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},mf={readContext:Pe,use:Ou,useCallback:sp,useContext:Pe,useEffect:lf,useImperativeHandle:rp,useInsertionEffect:ep,useLayoutEffect:np,useMemo:ap,useReducer:Mu,useRef:Zg,useState:function(){return Mu(Di)},useDebugValue:uf,useDeferredValue:function(e,n){var r=de();return op(r,Xt.memoizedState,e,n)},useTransition:function(){var e=Mu(Di)[0],n=de().memoizedState;return[typeof e=="boolean"?e:ko(e),n]},useSyncExternalStore:kg,useId:hp,useHostTransitionStatus:ff,useFormState:Xg,useActionState:Xg,useOptimistic:function(e,n){var r=de();return qg(r,Xt,e,n)},useMemoCache:nf,useCacheRefresh:fp};mf.useEffectEvent=tp;var yp={readContext:Pe,use:Ou,useCallback:sp,useContext:Pe,useEffect:lf,useImperativeHandle:rp,useInsertionEffect:ep,useLayoutEffect:np,useMemo:ap,useReducer:sf,useRef:Zg,useState:function(){return sf(Di)},useDebugValue:uf,useDeferredValue:function(e,n){var r=de();return Xt===null?cf(r,e,n):op(r,Xt.memoizedState,e,n)},useTransition:function(){var e=sf(Di)[0],n=de().memoizedState;return[typeof e=="boolean"?e:ko(e),n]},useSyncExternalStore:kg,useId:hp,useHostTransitionStatus:ff,useFormState:Jg,useActionState:Jg,useOptimistic:function(e,n){var r=de();return Xt!==null?qg(r,Xt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:nf,useCacheRefresh:fp};yp.useEffectEvent=tp;function gf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var pf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=An(),h=Ar(o);h.payload=n,r!=null&&(h.callback=r),n=Sr(e,h,o),n!==null&&(fn(n,e,o),Mo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=An(),h=Ar(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Sr(e,h,o),n!==null&&(fn(n,e,o),Mo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=An(),o=Ar(r);o.tag=2,n!=null&&(o.callback=n),n=Sr(e,o,r),n!==null&&(fn(n,e,r),Mo(n,e,r))}};function _p(e,n,r,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!bo(r,o)||!bo(h,f):!0}function vp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&pf.enqueueReplaceState(n,n.state,null)}function Rs(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Ep(e){du(e)}function Tp(e){console.error(e)}function Ap(e){du(e)}function ku(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Sp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function yf(e,n,r){return r=Ar(r),r.tag=3,r.payload={element:null},r.callback=function(){ku(e,n)},r}function bp(e){return e=Ar(e),e.tag=3,e}function wp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Sp(n,r,o)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Sp(n,r,o),typeof h!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function MT(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ha(n,r,h,!0),r=_n.current,r!==null){switch(r.tag){case 31:case 13:return Vn===null?Yu():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Su?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),qf(e,o,h)),!1;case 22:return r.flags|=65536,o===Su?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),qf(e,o,h)),!1}throw Error(a(435,r.tag))}return qf(e,o,h),Yu(),!1}if(Ut)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Uh&&(e=Error(a(422),{cause:o}),Io(Dn(e,r)))):(o!==Uh&&(n=Error(a(423),{cause:o}),Io(Dn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Dn(o,r),h=yf(e.stateNode,o,h),Qh(e,h),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:o});if(f=Dn(f,r),Qo===null?Qo=[f]:Qo.push(f),ue!==4&&(ue=2),n===null)return!0;o=Dn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=yf(r.stateNode,o,e),Qh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Dr===null||!Dr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=bp(h),wp(h,e,r,o),Qh(r,h),!1}r=r.return}while(r!==null);return!1}var _f=Error(a(461)),_e=!1;function ze(e,n,r,o){n.child=e===null?Dg(n,null,r,o):bs(n,e.child,r,o)}function Rp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Es(n),o=Zh(e,n,r,y,f,h),E=Wh(),e!==null&&!_e?(tf(e,n,h),Ni(e,n,h)):(Ut&&E&&Vh(n),n.flags|=1,ze(e,n,o,h),n.child)}function Ip(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Nh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Cp(e,n,f,o,h)):(e=yu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Rf(e,h)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:bo,r(y,o)&&e.ref===n.ref)return Ni(e,n,h)}return n.flags|=1,e=bi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Cp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(bo(f,o)&&e.ref===n.ref)if(_e=!1,n.pendingProps=o=f,Rf(e,h))(e.flags&131072)!==0&&(_e=!0);else return n.lanes=e.lanes,Ni(e,n,h)}return vf(e,n,r,o,h)}function Dp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Np(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tu(n,f!==null?f.cachePool:null),f!==null?Mg(n,f):Yh(),Vg(n);else return o=n.lanes=536870912,Np(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Tu(n,f.cachePool),Mg(n,f),wr(),n.memoizedState=null):(e!==null&&Tu(n,null),Yh(),wr());return ze(e,n,h,r),n.child}function zo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Np(e,n,r,o,h){var f=qh();return f=f===null?null:{parent:pe._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Tu(n,null),Yh(),Vg(n),e!==null&&ha(e,n,o,!0),n.childLanes=h,null}function Lu(e,n){return n=zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Op(e,n,r){return bs(n,e.child,null,r),e=Lu(n,n.pendingProps),e.flags|=2,vn(n),n.memoizedState=null,e}function VT(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=Lu(n,o),n.lanes=536870912,zo(null,e);if($h(n),(e=te)?(e=Hy(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:yr!==null?{id:ni,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},r=mg(e),r.return=n,n.child=r,Le=n,te=null)):e=null,e===null)throw vr(n);return n.lanes=536870912,null}return Lu(n,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if($h(n),h)if(n.flags&256)n.flags&=-257,n=Op(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(_e||ha(e,n,r,!1),h=(r&e.childLanes)!==0,_e||h){if(o=Zt,o!==null&&(y=nr(o,r),y!==0&&y!==f.retryLane))throw f.retryLane=y,ps(e,y),fn(o,e,y),_f;Yu(),n=Op(e,n,r)}else e=f.treeContext,te=xn(y.nextSibling),Le=n,Ut=!0,_r=null,Mn=!1,e!==null&&yg(n,e),n=Lu(n,o),n.flags|=4096;return n}return e=bi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Pu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function vf(e,n,r,o,h){return Es(n),r=Zh(e,n,r,o,void 0,h),o=Wh(),e!==null&&!_e?(tf(e,n,h),Ni(e,n,h)):(Ut&&o&&Vh(n),n.flags|=1,ze(e,n,r,h),n.child)}function Mp(e,n,r,o,h,f){return Es(n),n.updateQueue=null,r=Ug(n,o,r,h),xg(e),o=Wh(),e!==null&&!_e?(tf(e,n,f),Ni(e,n,f)):(Ut&&o&&Vh(n),n.flags|=1,ze(e,n,r,f),n.child)}function Vp(e,n,r,o,h){if(Es(n),n.stateNode===null){var f=oa,y=r.contextType;typeof y=="object"&&y!==null&&(f=Pe(y)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=pf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Fh(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?Pe(y):oa,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(gf(n,r,y,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&pf.enqueueReplaceState(f,f.state,null),xo(n,o,f,h),Vo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Rs(r,E);f.props=R;var P=f.context,Q=r.contextType;y=oa,typeof Q=="object"&&Q!==null&&(y=Pe(Q));var X=r.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&vp(n,f,o,y),Tr=!1;var B=n.memoizedState;f.state=B,xo(n,o,f,h),Vo(),P=n.memoizedState,E||B!==P||Tr?(typeof X=="function"&&(gf(n,r,X,o),P=n.memoizedState),(R=Tr||_p(n,r,R,o,B,P,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=y,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Gh(e,n),y=n.memoizedProps,Q=Rs(r,y),f.props=Q,X=n.pendingProps,B=f.context,P=r.contextType,R=oa,typeof P=="object"&&P!==null&&(R=Pe(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||B!==R)&&vp(n,f,o,R),Tr=!1,B=n.memoizedState,f.state=B,xo(n,o,f,h),Vo();var q=n.memoizedState;y!==X||B!==q||Tr||e!==null&&e.dependencies!==null&&vu(e.dependencies)?(typeof E=="function"&&(gf(n,r,E,o),q=n.memoizedState),(Q=Tr||_p(n,r,Q,o,B,q,R)||e!==null&&e.dependencies!==null&&vu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=Q):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Pu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=bs(n,e.child,null,h),n.child=bs(n,null,r,h)):ze(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Ni(e,n,h),e}function xp(e,n,r,o){return _s(),n.flags|=256,ze(e,n,r,o),n.child}var Ef={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tf(e){return{baseLanes:e,cachePool:Sg()}}function Af(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Tn),e}function Up(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?br(n):wr(),(e=te)?(e=Hy(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:yr!==null?{id:ni,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},r=mg(e),r.return=n,n.child=r,Le=n,te=null)):e=null,e===null)throw vr(n);return rd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(wr(),h=n.mode,E=zu({mode:"hidden",children:E},h),o=ys(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Tf(r),o.childLanes=Af(e,y,r),n.memoizedState=Ef,zo(null,o)):(br(n),Sf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(br(n),n.flags&=-257,n=bf(e,n,r)):n.memoizedState!==null?(wr(),n.child=e.child,n.flags|=128,n=null):(wr(),E=o.fallback,h=n.mode,o=zu({mode:"visible",children:o.children},h),E=ys(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,bs(n,e.child,null,r),o=n.child,o.memoizedState=Tf(r),o.childLanes=Af(e,y,r),n.memoizedState=Ef,n=zo(null,o));else if(br(n),rd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,o=Error(a(419)),o.stack="",o.digest=y,Io({value:o,source:null,stack:null}),n=bf(e,n,r)}else if(_e||ha(e,n,r,!1),y=(r&e.childLanes)!==0,_e||y){if(y=Zt,y!==null&&(o=nr(y,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,ps(e,o),fn(y,e,o),_f;id(E)||Yu(),n=bf(e,n,r)}else id(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,te=xn(E.nextSibling),Le=n,Ut=!0,_r=null,Mn=!1,e!==null&&yg(n,e),n=Sf(n,o.children),n.flags|=4096);return n}return h?(wr(),E=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=bi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=bi(P,E):(E=ys(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,zo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Tf(r):(h=E.cachePool,h!==null?(R=pe._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Sg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Af(e,y,r),n.memoizedState=Ef,zo(e.child,o)):(br(n),r=e.child,e=r.sibling,r=bi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=r,n.memoizedState=null,r)}function Sf(e,n){return n=zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function zu(e,n){return e=yn(22,e,null,n),e.lanes=0,e}function bf(e,n,r){return bs(n,e.child,null,r),e=Sf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function kp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Ph(e.return,n,r)}function wf(e,n,r,o,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=r,y.tailMode=h,y.treeForkCount=f)}function Lp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=fe.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,W(fe,y),ze(e,n,o,r),o=Ut?Ro:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kp(e,r,n);else if(e.tag===19)kp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Iu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),wf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Iu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}wf(n,!0,r,null,f,o);break;case"together":wf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ni(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Cr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ha(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=bi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=bi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Rf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&vu(e)))}function xT(e,n,r){switch(n.tag){case 3:Ve(n,n.stateNode.containerInfo),Er(n,pe,e.memoizedState.cache),_s();break;case 27:case 5:Kn(n);break;case 4:Ve(n,n.stateNode.containerInfo);break;case 10:Er(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,$h(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(br(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Up(e,n,r):(br(n),e=Ni(e,n,r),e!==null?e.sibling:null);br(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ha(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Lp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(fe,fe.current),o)break;return null;case 22:return n.lanes=0,Dp(e,n,r,n.pendingProps);case 24:Er(n,pe,e.memoizedState.cache)}return Ni(e,n,r)}function Pp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)_e=!0;else{if(!Rf(e,r)&&(n.flags&128)===0)return _e=!1,xT(e,n,r);_e=(e.flags&131072)!==0}else _e=!1,Ut&&(n.flags&1048576)!==0&&pg(n,Ro,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=As(n.elementType),n.type=e,typeof e=="function")Nh(e)?(o=Rs(e,o),n.tag=1,n=Vp(null,n,e,o,r)):(n.tag=0,n=vf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Ct){n.tag=11,n=Rp(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=Ip(null,n,e,o,r);break t}}throw n=ce(e)||e,Error(a(306,n,""))}}return n;case 0:return vf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Rs(o,n.pendingProps),Vp(e,n,o,h,r);case 3:t:{if(Ve(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Gh(e,n),xo(n,o,null,r);var y=n.memoizedState;if(o=y.cache,Er(n,pe,o),o!==f.cache&&zh(n,[pe],r,!0),Vo(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=xp(e,n,o,r);break t}else if(o!==h){h=Dn(Error(a(424)),n),Io(h),n=xp(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(te=xn(e.firstChild),Le=n,Ut=!0,_r=null,Mn=!0,r=Dg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(_s(),o===h){n=Ni(e,n,r);break t}ze(e,n,o,r)}n=n.child}return n;case 26:return Pu(e,n),e===null?(r=Xy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ut||(r=n.type,e=n.pendingProps,o=ec(vt.current).createElement(r),o[ae]=n,o[ke]=e,je(o,r,e),he(o),n.stateNode=o):n.memoizedState=Xy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Kn(n),e===null&&Ut&&(o=n.stateNode=Qy(n.type,n.pendingProps,vt.current),Le=n,Mn=!0,h=te,Vr(n.type)?(sd=h,te=xn(o.firstChild)):te=h),ze(e,n,n.pendingProps.children,r),Pu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=te)&&(o=cA(o,n.type,n.pendingProps,Mn),o!==null?(n.stateNode=o,Le=n,te=xn(o.firstChild),Mn=!1,h=!0):h=!1),h||vr(n)),Kn(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,td(h,f)?o=null:y!==null&&td(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Zh(e,n,wT,null,null,r),tl._currentValue=h),Pu(e,n),ze(e,n,o,r),n.child;case 6:return e===null&&Ut&&((e=r=te)&&(r=hA(r,n.pendingProps,Mn),r!==null?(n.stateNode=r,Le=n,te=null,e=!0):e=!1),e||vr(n)),null;case 13:return Up(e,n,r);case 4:return Ve(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=bs(n,null,o,r):ze(e,n,o,r),n.child;case 11:return Rp(e,n,n.type,n.pendingProps,r);case 7:return ze(e,n,n.pendingProps,r),n.child;case 8:return ze(e,n,n.pendingProps.children,r),n.child;case 12:return ze(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Er(n,n.type,o.value),ze(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Es(n),h=Pe(h),o=o(h),n.flags|=1,ze(e,n,o,r),n.child;case 14:return Ip(e,n,n.type,n.pendingProps,r);case 15:return Cp(e,n,n.type,n.pendingProps,r);case 19:return Lp(e,n,r);case 31:return VT(e,n,r);case 22:return Dp(e,n,r,n.pendingProps);case 24:return Es(n),o=Pe(pe),e===null?(h=qh(),h===null&&(h=Zt,f=jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Fh(n),Er(n,pe,h)):((e.lanes&r)!==0&&(Gh(e,n),xo(n,null,null,r),Vo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Er(n,pe,o)):(o=f.cache,Er(n,pe,o),o!==h.cache&&zh(n,[pe],r,!0))),ze(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Oi(e){e.flags|=4}function If(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(hy())e.flags|=8192;else throw Ss=Su,Hh}else e.flags&=-16777217}function zp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!t_(n))if(hy())e.flags|=8192;else throw Ss=Su,Hh}function ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?so():536870912,e.lanes|=n,Sa|=n)}function jo(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function UT(e,n,r){var o=n.pendingProps;switch(xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ii(pe),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ca(n)?Oi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,kh())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Oi(n),f!==null?(ee(n),zp(n,f)):(ee(n),If(n,h,null,o,r))):f?f!==e.memoizedState?(Oi(n),ee(n),zp(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Oi(n),ee(n),If(n,h,e,o,r)),null;case 27:if(fi(n),r=vt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Oi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}e=it.current,ca(n)?_g(n):(e=Qy(h,o,r),n.stateNode=e,Oi(n))}return ee(n),null;case 5:if(fi(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Oi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(f=it.current,ca(n))_g(n);else{var y=ec(vt.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[ae]=n,f[ke]=o;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Oi(n)}}return ee(n),If(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Oi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=vt.current,ca(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Le,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ae]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Uy(e.nodeValue,r)),e||vr(n,!0)}else e=ec(e).createTextNode(o),e[ae]=n,n.stateNode=e}return ee(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ca(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ae]=n}else _s(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else r=kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ca(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ae]=n}else _s(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),ju(n,n.updateQueue),ee(n),null);case 4:return re(),e===null&&Xf(n.stateNode.containerInfo),ee(n),null;case 10:return Ii(n.type),ee(n),null;case 19:if(G(fe),o=n.memoizedState,o===null)return ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)jo(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Iu(e),f!==null){for(n.flags|=128,jo(o,!1),e=f.updateQueue,n.updateQueue=e,ju(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)dg(r,e),r=r.sibling;return W(fe,fe.current&1|2),Ut&&wi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&xe()>Gu&&(n.flags|=128,h=!0,jo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Iu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ju(n,e),jo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return ee(n),null}else 2*xe()-o.renderingStartTime>Gu&&r!==536870912&&(n.flags|=128,h=!0,jo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=xe(),e.sibling=null,r=fe.current,W(fe,h?r&1|2:r&1),Ut&&wi(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return vn(n),Xh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&ju(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&G(Ts),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ii(pe),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function kT(e,n){switch(xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ii(pe),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return fi(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(a(340));_s()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));_s()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return G(fe),null;case 4:return re(),null;case 10:return Ii(n.type),null;case 22:case 23:return vn(n),Xh(),e!==null&&G(Ts),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ii(pe),null;case 25:return null;default:return null}}function jp(e,n){switch(xh(n),n.tag){case 3:Ii(pe),re();break;case 26:case 27:case 5:fi(n);break;case 4:re();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:G(fe);break;case 10:Ii(n.type);break;case 22:case 23:vn(n),Xh(),e!==null&&G(Ts);break;case 24:Ii(pe)}}function Bo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,y=r.inst;o=f(),y.destroy=o}r=r.next}while(r!==h)}}catch(E){Qt(n,n.return,E)}}function Rr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var R=r,P=E;try{P()}catch(Q){Qt(h,R,Q)}}}o=o.next}while(o!==f)}}catch(Q){Qt(n,n.return,Q)}}function Bp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Og(n,r)}catch(o){Qt(e,e.return,o)}}}function qp(e,n,r){r.props=Rs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Qt(e,n,o)}}function qo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Qt(e,n,h)}}function ri(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Qt(e,n,h)}else r.current=null}function Hp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Qt(e,e.return,h)}}function Cf(e,n,r){try{var o=e.stateNode;rA(o,e.type,r,n),o[ke]=n}catch(h){Qt(e,e.return,h)}}function Fp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vr(e.type)||e.tag===4}function Df(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Fp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ce));else if(o!==4&&(o===27&&Vr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Nf(e,n,r),e=e.sibling;e!==null;)Nf(e,n,r),e=e.sibling}function Bu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Vr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Bu(e,n,r),e=e.sibling;e!==null;)Bu(e,n,r),e=e.sibling}function Gp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);je(n,o,r),n[ae]=e,n[ke]=r}catch(f){Qt(e,e.return,f)}}var Mi=!1,ve=!1,Of=!1,Qp=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function LT(e,n){if(e=e.containerInfo,Zf=lc,e=rg(e),Sh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,R=-1,P=0,Q=0,X=e,B=null;e:for(;;){for(var q;X!==r||h!==0&&X.nodeType!==3||(E=y+h),X!==f||o!==0&&X.nodeType!==3||(R=y+o),X.nodeType===3&&(y+=X.nodeValue.length),(q=X.firstChild)!==null;)B=X,X=q;for(;;){if(X===e)break e;if(B===r&&++P===h&&(E=y),B===f&&++Q===o&&(R=y),(q=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=q}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wf={focusedElem:e,selectionRange:r},lc=!1,Oe=n;Oe!==null;)if(n=Oe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Oe=e;else for(;Oe!==null;){switch(n=Oe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var at=Rs(r.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Qt(r,r.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)nd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Oe=e;break}Oe=n.return}}function Kp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:xi(e,r),o&4&&Bo(5,r);break;case 1:if(xi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(y){Qt(r,r.return,y)}else{var h=Rs(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Qt(r,r.return,y)}}o&64&&Bp(r),o&512&&qo(r,r.return);break;case 3:if(xi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Og(e,n)}catch(y){Qt(r,r.return,y)}}break;case 27:n===null&&o&4&&Gp(r);case 26:case 5:xi(e,r),n===null&&o&4&&Hp(r),o&512&&qo(r,r.return);break;case 12:xi(e,r);break;case 31:xi(e,r),o&4&&$p(e,r);break;case 13:xi(e,r),o&4&&Jp(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=QT.bind(null,r),fA(e,r))));break;case 22:if(o=r.memoizedState!==null||Mi,!o){n=n!==null&&n.memoizedState!==null||ve,h=Mi;var f=ve;Mi=o,(ve=n)&&!f?Ui(e,r,(r.subtreeFlags&8772)!==0):xi(e,r),Mi=h,ve=f}break;case 30:break;default:xi(e,r)}}function Yp(e){var n=e.alternate;n!==null&&(e.alternate=null,Yp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&rs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ie=null,ln=!1;function Vi(e,n,r){for(r=r.child;r!==null;)Xp(e,n,r),r=r.sibling}function Xp(e,n,r){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Ji,r)}catch{}switch(r.tag){case 26:ve||ri(r,n),Vi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ve||ri(r,n);var o=ie,h=ln;Vr(r.type)&&(ie=r.stateNode,ln=!1),Vi(e,n,r),Jo(r.stateNode),ie=o,ln=h;break;case 5:ve||ri(r,n);case 6:if(o=ie,h=ln,ie=null,Vi(e,n,r),ie=o,ln=h,ie!==null)if(ln)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(r.stateNode)}catch(f){Qt(r,n,f)}else try{ie.removeChild(r.stateNode)}catch(f){Qt(r,n,f)}break;case 18:ie!==null&&(ln?(e=ie,By(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Oa(e)):By(ie,r.stateNode));break;case 4:o=ie,h=ln,ie=r.stateNode.containerInfo,ln=!0,Vi(e,n,r),ie=o,ln=h;break;case 0:case 11:case 14:case 15:Rr(2,r,n),ve||Rr(4,r,n),Vi(e,n,r);break;case 1:ve||(ri(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&qp(r,n,o)),Vi(e,n,r);break;case 21:Vi(e,n,r);break;case 22:ve=(o=ve)||r.memoizedState!==null,Vi(e,n,r),ve=o;break;default:Vi(e,n,r)}}function $p(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Oa(e)}catch(r){Qt(n,n.return,r)}}}function Jp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Oa(e)}catch(r){Qt(n,n.return,r)}}function PT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Qp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Qp),n;default:throw Error(a(435,e.tag))}}function qu(e,n){var r=PT(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=KT.bind(null,e,o);o.then(h,h)}})}function un(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Vr(E.type)){ie=E.stateNode,ln=!1;break t}break;case 5:ie=E.stateNode,ln=!1;break t;case 3:case 4:ie=E.stateNode.containerInfo,ln=!0;break t}E=E.return}if(ie===null)throw Error(a(160));Xp(f,y,h),ie=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Zp(n,e),n=n.sibling}var Bn=null;function Zp(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(n,e),cn(e),o&4&&(Rr(3,e,e.return),Bo(3,e),Rr(5,e,e.return));break;case 1:un(n,e),cn(e),o&512&&(ve||r===null||ri(r,r.return)),o&64&&Mi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Bn;if(un(n,e),cn(e),o&512&&(ve||r===null||ri(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[pi]||f[ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),je(f,o,r),f[ae]=e,he(f),o=f;break t;case"link":var y=Zy("link","href",h).get(o+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),je(f,o,r),h.head.appendChild(f);break;case"meta":if(y=Zy("meta","content",h).get(o+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=h.createElement(o),je(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ae]=e,he(f),o=f}e.stateNode=o}else Wy(h,e.type,e.stateNode);else e.stateNode=Jy(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?Wy(h,e.type,e.stateNode):Jy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Cf(e,e.memoizedProps,r.memoizedProps)}break;case 27:un(n,e),cn(e),o&512&&(ve||r===null||ri(r,r.return)),r!==null&&o&4&&Cf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(un(n,e),cn(e),o&512&&(ve||r===null||ri(r,r.return)),e.flags&32){h=e.stateNode;try{In(h,"")}catch(at){Qt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Cf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Of=!0);break;case 6:if(un(n,e),cn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(at){Qt(e,e.return,at)}}break;case 3:if(rc=null,h=Bn,Bn=nc(n.containerInfo),un(n,e),Bn=h,cn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Oa(n.containerInfo)}catch(at){Qt(e,e.return,at)}Of&&(Of=!1,Wp(e));break;case 4:o=Bn,Bn=nc(e.stateNode.containerInfo),un(n,e),cn(e),Bn=o;break;case 12:un(n,e),cn(e);break;case 31:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,qu(e,o)));break;case 13:un(n,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Fu=xe()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,qu(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=Mi,Q=ve;if(Mi=P||h,ve=Q||R,un(n,e),ve=Q,Mi=P,cn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||Mi||ve||Is(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(at){Qt(R,R.return,at)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Qt(R,R.return,at)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;h?qy(q,!0):qy(R.stateNode,!1)}catch(at){Qt(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,qu(e,r))));break;case 19:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,qu(e,o)));break;case 30:break;case 21:break;default:un(n,e),cn(e)}}function cn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Fp(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Df(e);Bu(e,f,h);break;case 5:var y=r.stateNode;r.flags&32&&(In(y,""),r.flags&=-33);var E=Df(e);Bu(e,E,y);break;case 3:case 4:var R=r.stateNode.containerInfo,P=Df(e);Nf(e,P,R);break;default:throw Error(a(161))}}catch(Q){Qt(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Wp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Wp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function xi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Kp(e,n.alternate,n),n=n.sibling}function Is(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Rr(4,n,n.return),Is(n);break;case 1:ri(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&qp(n,n.return,r),Is(n);break;case 27:Jo(n.stateNode);case 26:case 5:ri(n,n.return),Is(n);break;case 22:n.memoizedState===null&&Is(n);break;case 30:Is(n);break;default:Is(n)}e=e.sibling}}function Ui(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ui(h,f,r),Bo(4,f);break;case 1:if(Ui(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Qt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Ng(R[h],E)}catch(P){Qt(o,o.return,P)}}r&&y&64&&Bp(f),qo(f,f.return);break;case 27:Gp(f);case 26:case 5:Ui(h,f,r),r&&o===null&&y&4&&Hp(f),qo(f,f.return);break;case 12:Ui(h,f,r);break;case 31:Ui(h,f,r),r&&y&4&&$p(h,f);break;case 13:Ui(h,f,r),r&&y&4&&Jp(h,f);break;case 22:f.memoizedState===null&&Ui(h,f,r),qo(f,f.return);break;case 30:break;default:Ui(h,f,r)}n=n.sibling}}function Mf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Co(r))}function Vf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Co(e))}function qn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ty(e,n,r,o),n=n.sibling}function ty(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:qn(e,n,r,o),h&2048&&Bo(9,n);break;case 1:qn(e,n,r,o);break;case 3:qn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Co(e)));break;case 12:if(h&2048){qn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Qt(n,n.return,R)}}else qn(e,n,r,o);break;case 31:qn(e,n,r,o);break;case 13:qn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?qn(e,n,r,o):Ho(e,n):f._visibility&2?qn(e,n,r,o):(f._visibility|=2,Ea(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Mf(y,n);break;case 24:qn(e,n,r,o),h&2048&&Vf(n.alternate,n);break;default:qn(e,n,r,o)}}function Ea(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,E=r,R=o,P=y.flags;switch(y.tag){case 0:case 11:case 15:Ea(f,y,E,R,h),Bo(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Ea(f,y,E,R,h):Ho(f,y):(Q._visibility|=2,Ea(f,y,E,R,h)),h&&P&2048&&Mf(y.alternate,y);break;case 24:Ea(f,y,E,R,h),h&&P&2048&&Vf(y.alternate,y);break;default:Ea(f,y,E,R,h)}n=n.sibling}}function Ho(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Ho(r,o),h&2048&&Mf(o.alternate,o);break;case 24:Ho(r,o),h&2048&&Vf(o.alternate,o);break;default:Ho(r,o)}n=n.sibling}}var Fo=8192;function Ta(e,n,r){if(e.subtreeFlags&Fo)for(e=e.child;e!==null;)ey(e,n,r),e=e.sibling}function ey(e,n,r){switch(e.tag){case 26:Ta(e,n,r),e.flags&Fo&&e.memoizedState!==null&&bA(r,Bn,e.memoizedState,e.memoizedProps);break;case 5:Ta(e,n,r);break;case 3:case 4:var o=Bn;Bn=nc(e.stateNode.containerInfo),Ta(e,n,r),Bn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Fo,Fo=16777216,Ta(e,n,r),Fo=o):Ta(e,n,r));break;default:Ta(e,n,r)}}function ny(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Go(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Oe=o,ry(o,e)}ny(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)iy(e),e=e.sibling}function iy(e){switch(e.tag){case 0:case 11:case 15:Go(e),e.flags&2048&&Rr(9,e,e.return);break;case 3:Go(e);break;case 12:Go(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Hu(e)):Go(e);break;default:Go(e)}}function Hu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Oe=o,ry(o,e)}ny(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Rr(8,n,n.return),Hu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Hu(n));break;default:Hu(n)}e=e.sibling}}function ry(e,n){for(;Oe!==null;){var r=Oe;switch(r.tag){case 0:case 11:case 15:Rr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Co(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Oe=o;else t:for(r=e;Oe!==null;){o=Oe;var h=o.sibling,f=o.return;if(Yp(o),o===r){Oe=null;break t}if(h!==null){h.return=f,Oe=h;break t}Oe=f}}}var zT={getCacheForType:function(e){var n=Pe(pe),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Pe(pe).controller.signal}},jT=typeof WeakMap=="function"?WeakMap:Map,qt=0,Zt=null,Dt=null,Ot=0,Gt=0,En=null,Ir=!1,Aa=!1,xf=!1,ki=0,ue=0,Cr=0,Cs=0,Uf=0,Tn=0,Sa=0,Qo=null,hn=null,kf=!1,Fu=0,sy=0,Gu=1/0,Qu=null,Dr=null,be=0,Nr=null,ba=null,Li=0,Lf=0,Pf=null,ay=null,Ko=0,zf=null;function An(){return(qt&2)!==0&&Ot!==0?Ot&-Ot:z.T!==null?Gf():gi()}function oy(){if(Tn===0)if((Ot&536870912)===0||Ut){var e=Yn;Yn<<=1,(Yn&3932160)===0&&(Yn=262144),Tn=e}else Tn=536870912;return e=_n.current,e!==null&&(e.flags|=32),Tn}function fn(e,n,r){(e===Zt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(wa(e,0),Or(e,Ot,Tn,!1)),tr(e,r),((qt&2)===0||e!==Zt)&&(e===Zt&&((qt&2)===0&&(Cs|=r),ue===4&&Or(e,Ot,Tn,!1)),si(e))}function ly(e,n,r){if((qt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Wi(e,n),h=o?HT(e,n):Bf(e,n,!0),f=o;do{if(h===0){Aa&&!o&&Or(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!BT(r)){h=Bf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=Qo;var R=E.current.memoizedState.isDehydrated;if(R&&(wa(E,y).flags|=256),y=Bf(E,y,!1),y!==2){if(xf&&!R){E.errorRecoveryDisabledLanes|=f,Cs|=f,h=4;break t}f=hn,hn=h,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){wa(e,0),Or(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Or(o,n,Tn,!Ir);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Fu+300-xe(),10<h)){if(Or(o,n,Tn,!Ir),wn(o,0,!0)!==0)break t;Li=n,o.timeoutHandle=zy(uy.bind(null,o,r,hn,Qu,kf,n,Tn,Cs,Sa,Ir,f,"Throttled",-0,0),h);break t}uy(o,r,hn,Qu,kf,n,Tn,Cs,Sa,Ir,f,null,-0,0)}}break}while(!0);si(e)}function uy(e,n,r,o,h,f,y,E,R,P,Q,X,B,q){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ce},ey(n,f,X);var at=(f&62914560)===f?Fu-xe():(f&4194048)===f?sy-xe():0;if(at=wA(X,at),at!==null){Li=f,e.cancelPendingCommit=at(yy.bind(null,e,n,f,r,o,h,y,E,R,Q,X,null,B,q)),Or(e,f,y,!P);return}}yy(e,n,f,r,o,h,y,E,R)}function BT(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Or(e,n,r,o){n&=~Uf,n&=~Cs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Ze(h),y=1<<f;o[f]=-1,h&=~y}r!==0&&ao(e,r,n)}function Ku(){return(qt&6)===0?(Yo(0),!1):!0}function jf(){if(Dt!==null){if(Gt===0)var e=Dt.return;else e=Dt,Ri=vs=null,ef(e),ga=null,No=0,e=Dt;for(;e!==null;)jp(e.alternate,e),e=e.return;Dt=null}}function wa(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,oA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Li=0,jf(),Zt=e,Dt=r=bi(e.current,null),Ot=n,Gt=0,En=null,Ir=!1,Aa=Wi(e,n),xf=!1,Sa=Tn=Uf=Cs=Cr=ue=0,hn=Qo=null,kf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ze(o),f=1<<h;n|=e[h],o&=~f}return ki=n,mu(),r}function cy(e,n){St=null,z.H=Po,n===ma||n===Au?(n=Rg(),Gt=3):n===Hh?(n=Rg(),Gt=4):Gt=n===_f?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Dt===null&&(ue=1,ku(e,Dn(n,e.current)))}function hy(){var e=_n.current;return e===null?!0:(Ot&4194048)===Ot?Vn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===Vn:!1}function fy(){var e=z.H;return z.H=Po,e===null?Po:e}function dy(){var e=z.A;return z.A=zT,e}function Yu(){ue=4,Ir||(Ot&4194048)!==Ot&&_n.current!==null||(Aa=!0),(Cr&134217727)===0&&(Cs&134217727)===0||Zt===null||Or(Zt,Ot,Tn,!1)}function Bf(e,n,r){var o=qt;qt|=2;var h=fy(),f=dy();(Zt!==e||Ot!==n)&&(Qu=null,wa(e,n)),n=!1;var y=ue;t:do try{if(Gt!==0&&Dt!==null){var E=Dt,R=En;switch(Gt){case 8:jf(),y=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var P=Gt;if(Gt=0,En=null,Ra(e,E,R,P),r&&Aa){y=0;break t}break;default:P=Gt,Gt=0,En=null,Ra(e,E,R,P)}}qT(),y=ue;break}catch(Q){cy(e,Q)}while(!0);return n&&e.shellSuspendCounter++,Ri=vs=null,qt=o,z.H=h,z.A=f,Dt===null&&(Zt=null,Ot=0,mu()),y}function qT(){for(;Dt!==null;)my(Dt)}function HT(e,n){var r=qt;qt|=2;var o=fy(),h=dy();Zt!==e||Ot!==n?(Qu=null,Gu=xe()+500,wa(e,n)):Aa=Wi(e,n);t:do try{if(Gt!==0&&Dt!==null){n=Dt;var f=En;e:switch(Gt){case 1:Gt=0,En=null,Ra(e,n,f,1);break;case 2:case 9:if(bg(f)){Gt=0,En=null,gy(n);break}n=function(){Gt!==2&&Gt!==9||Zt!==e||(Gt=7),si(e)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:bg(f)?(Gt=0,En=null,gy(n)):(Gt=0,En=null,Ra(e,n,f,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var E=Dt;if(y?t_(y):E.stateNode.complete){Gt=0,En=null;var R=E.sibling;if(R!==null)Dt=R;else{var P=E.return;P!==null?(Dt=P,Xu(P)):Dt=null}break e}}Gt=0,En=null,Ra(e,n,f,5);break;case 6:Gt=0,En=null,Ra(e,n,f,6);break;case 8:jf(),ue=6;break t;default:throw Error(a(462))}}FT();break}catch(Q){cy(e,Q)}while(!0);return Ri=vs=null,z.H=o,z.A=h,qt=r,Dt!==null?0:(Zt=null,Ot=0,mu(),ue)}function FT(){for(;Dt!==null&&!fh();)my(Dt)}function my(e){var n=Pp(e.alternate,e,ki);e.memoizedProps=e.pendingProps,n===null?Xu(e):Dt=n}function gy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Mp(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Mp(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:ef(n);default:jp(r,n),n=Dt=dg(n,ki),n=Pp(r,n,ki)}e.memoizedProps=e.pendingProps,n===null?Xu(e):Dt=n}function Ra(e,n,r,o){Ri=vs=null,ef(n),ga=null,No=0;var h=n.return;try{if(MT(e,h,n,r,Ot)){ue=1,ku(e,Dn(r,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;ue=1,ku(e,Dn(r,e.current)),Dt=null;return}n.flags&32768?(Ut||o===1?e=!0:Aa||(Ot&536870912)!==0?e=!1:(Ir=e=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),py(n,e)):Xu(n)}function Xu(e){var n=e;do{if((n.flags&32768)!==0){py(n,Ir);return}e=n.return;var r=UT(n.alternate,n,ki);if(r!==null){Dt=r;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);ue===0&&(ue=5)}function py(e,n){do{var r=kT(e.alternate,e);if(r!==null){r.flags&=32767,Dt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=r}while(e!==null);ue=6,Dt=null}function yy(e,n,r,o,h,f,y,E,R){e.cancelPendingCommit=null;do $u();while(be!==0);if((qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Ch,Ue(e,r,f,y,E,R),e===Zt&&(Dt=Zt=null,Ot=0),ba=n,Nr=e,Li=r,Lf=f,Pf=h,ay=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,YT(di,function(){return Ay(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=z.T,z.T=null,h=J.p,J.p=2,y=qt,qt|=4;try{LT(e,n,r)}finally{qt=y,J.p=h,z.T=o}}be=1,_y(),vy(),Ey()}}function _y(){if(be===1){be=0;var e=Nr,n=ba,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=z.T,z.T=null;var o=J.p;J.p=2;var h=qt;qt|=4;try{Zp(n,e);var f=Wf,y=rg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&ig(E.ownerDocument.documentElement,E)){if(R!==null&&Sh(E)){var P=R.start,Q=R.end;if(Q===void 0&&(Q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var q=B.getSelection(),at=E.textContent.length,gt=Math.min(R.start,at),Jt=R.end===void 0?gt:Math.min(R.end,at);!q.extend&&gt>Jt&&(y=Jt,Jt=gt,gt=y);var x=ng(E,gt),N=ng(E,Jt);if(x&&N&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var L=X.createRange();L.setStart(x.node,x.offset),q.removeAllRanges(),gt>Jt?(q.addRange(L),q.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),q.addRange(L))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}lc=!!Zf,Wf=Zf=null}finally{qt=h,J.p=o,z.T=r}}e.current=n,be=2}}function vy(){if(be===2){be=0;var e=Nr,n=ba,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=z.T,z.T=null;var o=J.p;J.p=2;var h=qt;qt|=4;try{Kp(e,n.alternate,n)}finally{qt=h,J.p=o,z.T=r}}be=3}}function Ey(){if(be===4||be===3){be=0,no();var e=Nr,n=ba,r=Li,o=ay;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?be=5:(be=0,ba=Nr=null,Ty(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Dr=null),lo(r),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Ji,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=z.T,h=J.p,J.p=2,z.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{z.T=n,J.p=h}}(Li&3)!==0&&$u(),si(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===zf?Ko++:(Ko=0,zf=e):Ko=0,Yo(0)}}function Ty(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Co(n)))}function $u(){return _y(),vy(),Ey(),Ay()}function Ay(){if(be!==5)return!1;var e=Nr,n=Lf;Lf=0;var r=lo(Li),o=z.T,h=J.p;try{J.p=32>r?32:r,z.T=null,r=Pf,Pf=null;var f=Nr,y=Li;if(be=0,ba=Nr=null,Li=0,(qt&6)!==0)throw Error(a(331));var E=qt;if(qt|=4,iy(f.current),ty(f,f.current,y,r),qt=E,Yo(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Ji,f)}catch{}return!0}finally{J.p=h,z.T=o,Ty(e,n)}}function Sy(e,n,r){n=Dn(r,n),n=yf(e.stateNode,n,2),e=Sr(e,n,2),e!==null&&(tr(e,2),si(e))}function Qt(e,n,r){if(e.tag===3)Sy(e,e,r);else for(;n!==null;){if(n.tag===3){Sy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Dr===null||!Dr.has(o))){e=Dn(r,e),r=bp(2),o=Sr(n,r,2),o!==null&&(wp(r,o,n,e),tr(o,2),si(o));break}}n=n.return}}function qf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new jT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(xf=!0,h.add(r),e=GT.bind(null,e,n,r),n.then(e,e))}function GT(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Zt===e&&(Ot&r)===r&&(ue===4||ue===3&&(Ot&62914560)===Ot&&300>xe()-Fu?(qt&2)===0&&wa(e,0):Uf|=r,Sa===Ot&&(Sa=0)),si(e)}function by(e,n){n===0&&(n=so()),e=ps(e,n),e!==null&&(tr(e,n),si(e))}function QT(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),by(e,r)}function KT(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),by(e,r)}function YT(e,n){return es(e,n)}var Ju=null,Ia=null,Hf=!1,Zu=!1,Ff=!1,Mr=0;function si(e){e!==Ia&&e.next===null&&(Ia===null?Ju=Ia=e:Ia=Ia.next=e),Zu=!0,Hf||(Hf=!0,$T())}function Yo(e,n){if(!Ff&&Zu){Ff=!0;do for(var r=!1,o=Ju;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ze(42|e)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Cy(o,f))}else f=Ot,f=wn(o,o===Zt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Wi(o,f)||(r=!0,Cy(o,f));o=o.next}while(r);Ff=!1}}function XT(){wy()}function wy(){Zu=Hf=!1;var e=0;Mr!==0&&aA()&&(e=Mr);for(var n=xe(),r=null,o=Ju;o!==null;){var h=o.next,f=Ry(o,n);f===0?(o.next=null,r===null?Ju=h:r.next=h,h===null&&(Ia=r)):(r=o,(e!==0||(f&3)!==0)&&(Zu=!0)),o=h}be!==0&&be!==5||Yo(e),Mr!==0&&(Mr=0)}function Ry(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-Ze(f),E=1<<y,R=h[y];R===-1?((E&r)===0||(E&o)!==0)&&(h[y]=Ks(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Zt,r=Ot,r=wn(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Qs(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Wi(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Qs(o),lo(r)){case 2:case 8:r=Ie;break;case 32:r=di;break;case 268435456:r=io;break;default:r=di}return o=Iy.bind(null,e),r=es(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Qs(o),e.callbackPriority=2,e.callbackNode=null,2}function Iy(e,n){if(be!==0&&be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if($u()&&e.callbackNode!==r)return null;var o=Ot;return o=wn(e,e===Zt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ly(e,o,n),Ry(e,xe()),e.callbackNode!=null&&e.callbackNode===r?Iy.bind(null,e):null)}function Cy(e,n){if($u())return null;ly(e,n,!0)}function $T(){lA(function(){(qt&6)!==0?es(Se,XT):wy()})}function Gf(){if(Mr===0){var e=fa;e===0&&(e=is,is<<=1,(is&261888)===0&&(is=256)),Mr=e}return Mr}function Dy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wn(""+e)}function Ny(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function JT(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Dy((h[ke]||null).action),y=o.submitter;y&&(n=(n=y[ke]||null)?Dy(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new us("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Mr!==0){var R=y?Ny(h,y):new FormData(h);hf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?Ny(h,y):new FormData(h),hf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Qf=0;Qf<Ih.length;Qf++){var Kf=Ih[Qf],ZT=Kf.toLowerCase(),WT=Kf[0].toUpperCase()+Kf.slice(1);jn(ZT,"on"+WT)}jn(og,"onAnimationEnd"),jn(lg,"onAnimationIteration"),jn(ug,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(gT,"onTransitionRun"),jn(pT,"onTransitionStart"),jn(yT,"onTransitionCancel"),jn(cg,"onTransitionEnd"),Zn("onMouseEnter",["mouseout","mouseover"]),Zn("onMouseLeave",["mouseout","mouseover"]),Zn("onPointerEnter",["pointerout","pointerover"]),Zn("onPointerLeave",["pointerout","pointerover"]),We("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),We("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),We("onBeforeInput",["compositionend","keypress","textInput","paste"]),We("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xo));function Oy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(Q){du(Q)}h.currentTarget=null,f=R}else for(y=0;y<o.length;y++){if(E=o[y],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(Q){du(Q)}h.currentTarget=null,f=R}}}}function Nt(e,n){var r=n[ir];r===void 0&&(r=n[ir]=new Set);var o=e+"__bubble";r.has(o)||(My(n,e,2,!1),r.add(o))}function Yf(e,n,r){var o=0;n&&(o|=4),My(r,e,o,n)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function Xf(e){if(!e[Wu]){e[Wu]=!0,Ys.forEach(function(r){r!=="selectionchange"&&(tA.has(r)||Yf(r,!1,e),Yf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Wu]||(n[Wu]=!0,Yf("selectionchange",!1,n))}}function My(e,n,r,o){switch(o_(n)){case 2:var h=CA;break;case 8:h=DA;break;default:h=cd}r=h.bind(null,n,r,e),h=void 0,!yo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function $f(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=yi(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){o=f=y;continue t}E=E.parentNode}}o=o.return}Jl(function(){var P=f,Q=Ws(r),X=[];t:{var B=hg.get(e);if(B!==void 0){var q=us,at=e;switch(e){case"keypress":if(ls(r)===0)break t;case"keydown":case"keyup":q=au;break;case"focusin":at="focus",q=dr;break;case"focusout":at="blur",q=dr;break;case"beforeblur":case"afterblur":q=dr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=lu;break;case og:case lg:case ug:q=na;break;case cg:q=ia;break;case"scroll":case"scrollend":q=Zl;break;case"wheel":q=cu;break;case"copy":case"cut":case"paste":q=nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ao;break;case"toggle":case"beforetoggle":q=gr}var gt=(n&4)!==0,Jt=!gt&&(e==="scroll"||e==="scrollend"),x=gt?B!==null?B+"Capture":null:B;gt=[];for(var N=P,L;N!==null;){var K=N;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||x===null||(K=an(N,x),K!=null&&gt.push($o(N,K,L))),Jt)break;N=N.return}0<gt.length&&(B=new q(B,at,null,r,Q),X.push({event:B,listeners:gt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",B&&r!==Zs&&(at=r.relatedTarget||r.fromElement)&&(yi(at)||at[$n]))break t;if((q||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,q?(at=r.relatedTarget||r.toElement,q=P,at=at?yi(at):null,at!==null&&(Jt=c(at),gt=at.tag,at!==Jt||gt!==5&&gt!==27&&gt!==6)&&(at=null)):(q=null,at=P),q!==at)){if(gt=Wl,K="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Ao,K="onPointerLeave",x="onPointerEnter",N="pointer"),Jt=q==null?B:ss(q),L=at==null?B:ss(at),B=new gt(K,N+"leave",q,r,Q),B.target=Jt,B.relatedTarget=L,K=null,yi(Q)===P&&(gt=new gt(x,N+"enter",at,r,Q),gt.target=L,gt.relatedTarget=Jt,K=gt),Jt=K,q&&at)e:{for(gt=eA,x=q,N=at,L=0,K=x;K;K=gt(K))L++;K=0;for(var ht=N;ht;ht=gt(ht))K++;for(;0<L-K;)x=gt(x),L--;for(;0<K-L;)N=gt(N),K--;for(;L--;){if(x===N||N!==null&&x===N.alternate){gt=x;break e}x=gt(x),N=gt(N)}gt=null}else gt=null;q!==null&&Vy(X,B,q,gt,!1),at!==null&&Jt!==null&&Vy(X,Jt,at,gt,!0)}}t:{if(B=P?ss(P):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var zt=$m;else if(on(B))if(Jm)zt=fT;else{zt=cT;var ut=uT}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&go(P.elementType)&&(zt=$m):zt=hT;if(zt&&(zt=zt(e,P))){ds(X,zt,r,Q);break t}ut&&ut(e,B,P),e==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Js(B,"number",B.value)}switch(ut=P?ss(P):window,e){case"focusin":(on(ut)||ut.contentEditable==="true")&&(ra=ut,bh=P,wo=null);break;case"focusout":wo=bh=ra=null;break;case"mousedown":wh=!0;break;case"contextmenu":case"mouseup":case"dragend":wh=!1,sg(X,r,Q);break;case"selectionchange":if(mT)break;case"keydown":case"keyup":sg(X,r,Q)}var bt;if(m)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else It?Ft(e,r)&&(Mt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Mt="onCompositionStart");Mt&&(k&&r.locale!=="ko"&&(It||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&It&&(bt=ur()):(gn=Q,ta="value"in gn?gn.value:gn.textContent,It=!0)),ut=tc(P,Mt),0<ut.length&&(Mt=new vo(Mt,e,null,r,Q),X.push({event:Mt,listeners:ut}),bt?Mt.data=bt:(bt=ge(r),bt!==null&&(Mt.data=bt)))),(bt=T?De(e,r):Ne(e,r))&&(Mt=tc(P,"onBeforeInput"),0<Mt.length&&(ut=new vo("onBeforeInput","beforeinput",null,r,Q),X.push({event:ut,listeners:Mt}),ut.data=bt)),JT(X,e,P,r,Q)}Oy(X,n)})}function $o(e,n,r){return{instance:e,listener:n,currentTarget:r}}function tc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=an(e,r),h!=null&&o.unshift($o(e,h,f)),h=an(e,n),h!=null&&o.push($o(e,h,f))),e.tag===3)return o;e=e.return}return[]}function eA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vy(e,n,r,o,h){for(var f=n._reactName,y=[];r!==null&&r!==o;){var E=r,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=an(r,f),P!=null&&y.unshift($o(r,P,R))):h||(P=an(r,f),P!=null&&y.push($o(r,P,R)))),r=r.return}y.length!==0&&e.push({event:n,listeners:y})}var nA=/\r\n?/g,iA=/\u0000|\uFFFD/g;function xy(e){return(typeof e=="string"?e:""+e).replace(nA,`
`).replace(iA,"")}function Uy(e,n){return n=xy(n),xy(e)===n}function $t(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||In(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&In(e,""+o);break;case"className":ar(e,"class",o);break;case"tabIndex":ar(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ar(e,r,o);break;case"style":Xl(e,o,f);break;case"data":if(n!=="object"){ar(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Wn(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&$t(e,n,"name",h.name,h,null),$t(e,n,"formEncType",h.formEncType,h,null),$t(e,n,"formMethod",h.formMethod,h,null),$t(e,n,"formTarget",h.formTarget,h,null)):($t(e,n,"encType",h.encType,h,null),$t(e,n,"method",h.method,h,null),$t(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Wn(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Ce);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Wn(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),sr(e,"popover",o);break;case"xlinkActuate":Rn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Rn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Rn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Rn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Rn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Rn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=_h.get(r)||r,sr(e,r,o))}}function Jf(e,n,r,o,h,f){switch(r){case"style":Xl(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?In(e,o):(typeof o=="number"||typeof o=="bigint")&&In(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Ce);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rr.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[ke]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):sr(e,r,o)}}}function je(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,f,y,r,null)}}h&&$t(e,n,"srcSet",r.srcSet,r,null),o&&$t(e,n,"src",r.src,r,null);return;case"input":Nt("invalid",e);var E=f=y=h=null,R=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var Q=r[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":y=Q;break;case"checked":R=Q;break;case"defaultChecked":P=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:$t(e,n,o,Q,r,null)}}as(e,f,E,R,P,y,h,!1);return;case"select":Nt("invalid",e),o=y=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:$t(e,n,h,E,r,null)}n=f,r=y,e.multiple=!!o,n!=null?Pt(e,!!o,n,!1):r!=null&&Pt(e,!!o,r,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:$t(e,n,y,E,r,null)}lr(e,o,h,f);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(o=r[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:$t(e,n,R,o,r,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<Xo.length;o++)Nt(Xo[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,P,o,r,null)}return;default:if(go(n)){for(Q in r)r.hasOwnProperty(Q)&&(o=r[Q],o!==void 0&&Jf(e,n,Q,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&$t(e,n,E,o,r,null))}function rA(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,R=null,P=null,Q=null;for(q in r){var X=r[q];if(r.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=X;default:o.hasOwnProperty(q)||$t(e,n,q,null,o,X)}}for(var B in o){var q=o[B];if(X=r[B],o.hasOwnProperty(B)&&(q!=null||X!=null))switch(B){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":Q=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&$t(e,n,B,q,o,X)}}or(e,y,E,R,P,Q,f,h);return;case"select":q=y=E=B=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||$t(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&$t(e,n,h,f,o,R)}n=E,r=y,o=q,B!=null?Pt(e,!!r,B,!1):!!o!=!!r&&(n!=null?Pt(e,!!r,n,!0):Pt(e,!!r,r?[]:"",!1));return;case"textarea":q=B=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,n,E,null,o,h)}for(y in o)if(h=o[y],f=r[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&$t(e,n,y,h,o,f)}os(e,B,q);return;case"option":for(var at in r)if(B=r[at],r.hasOwnProperty(at)&&B!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:$t(e,n,at,null,o,B)}for(R in o)if(B=o[R],q=r[R],o.hasOwnProperty(R)&&B!==q&&(B!=null||q!=null))switch(R){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:$t(e,n,R,B,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)B=r[gt],r.hasOwnProperty(gt)&&B!=null&&!o.hasOwnProperty(gt)&&$t(e,n,gt,null,o,B);for(P in o)if(B=o[P],q=r[P],o.hasOwnProperty(P)&&B!==q&&(B!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:$t(e,n,P,B,o,q)}return;default:if(go(n)){for(var Jt in r)B=r[Jt],r.hasOwnProperty(Jt)&&B!==void 0&&!o.hasOwnProperty(Jt)&&Jf(e,n,Jt,void 0,o,B);for(Q in o)B=o[Q],q=r[Q],!o.hasOwnProperty(Q)||B===q||B===void 0&&q===void 0||Jf(e,n,Q,B,o,q);return}}for(var x in r)B=r[x],r.hasOwnProperty(x)&&B!=null&&!o.hasOwnProperty(x)&&$t(e,n,x,null,o,B);for(X in o)B=o[X],q=r[X],!o.hasOwnProperty(X)||B===q||B==null&&q==null||$t(e,n,X,B,o,q)}function ky(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&ky(y)){for(y=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],P=R.startTime;if(P>E)break;var Q=R.transferSize,X=R.initiatorType;Q&&ky(X)&&(R=R.responseEnd,y+=Q*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Zf=null,Wf=null;function ec(e){return e.nodeType===9?e:e.ownerDocument}function Ly(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Py(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function td(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ed=null;function aA(){var e=window.event;return e&&e.type==="popstate"?e===ed?!1:(ed=e,!0):(ed=null,!1)}var zy=typeof setTimeout=="function"?setTimeout:void 0,oA=typeof clearTimeout=="function"?clearTimeout:void 0,jy=typeof Promise=="function"?Promise:void 0,lA=typeof queueMicrotask=="function"?queueMicrotask:typeof jy<"u"?function(e){return jy.resolve(null).then(e).catch(uA)}:zy;function uA(e){setTimeout(function(){throw e})}function Vr(e){return e==="head"}function By(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Oa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Jo(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Jo(r);for(var f=r.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[pi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=y}}else r==="body"&&Jo(e.ownerDocument.body);r=h}while(r);Oa(n)}function qy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function nd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":nd(r),rs(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function cA(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[pi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function hA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=xn(e.nextSibling),e===null))return null;return e}function Hy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=xn(e.nextSibling),e===null))return null;return e}function id(e){return e.data==="$?"||e.data==="$~"}function rd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function fA(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function xn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var sd=null;function Fy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return xn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Gy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Qy(e,n,r){switch(n=ec(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Jo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);rs(e)}var Un=new Map,Ky=new Set;function nc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Pi=J.d;J.d={f:dA,r:mA,D:gA,C:pA,L:yA,m:_A,X:EA,S:vA,M:TA};function dA(){var e=Pi.f(),n=Ku();return e||n}function mA(e){var n=_i(e);n!==null&&n.tag===5&&n.type==="form"?cp(n):Pi.r(e)}var Ca=typeof document>"u"?null:document;function Yy(e,n,r){var o=Ca;if(o&&typeof n=="string"&&n){var h=oe(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Ky.has(h)||(Ky.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),je(n,"link",e),he(n),o.head.appendChild(n)))}}function gA(e){Pi.D(e),Yy("dns-prefetch",e,null)}function pA(e,n){Pi.C(e,n),Yy("preconnect",e,n)}function yA(e,n,r){Pi.L(e,n,r);var o=Ca;if(o&&e&&n){var h='link[rel="preload"][as="'+oe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+oe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+oe(r.imageSizes)+'"]')):h+='[href="'+oe(e)+'"]';var f=h;switch(n){case"style":f=Da(e);break;case"script":f=Na(e)}Un.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Un.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Zo(f))||n==="script"&&o.querySelector(Wo(f))||(n=o.createElement("link"),je(n,"link",e),he(n),o.head.appendChild(n)))}}function _A(e,n){Pi.m(e,n);var r=Ca;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+oe(o)+'"][href="'+oe(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Na(e)}if(!Un.has(f)&&(e=S({rel:"modulepreload",href:e},n),Un.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Wo(f)))return}o=r.createElement("link"),je(o,"link",e),he(o),r.head.appendChild(o)}}}function vA(e,n,r){Pi.S(e,n,r);var o=Ca;if(o&&e){var h=Pn(o).hoistableStyles,f=Da(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(Zo(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Un.get(f))&&ad(e,r);var R=y=o.createElement("link");he(R),je(R,"link",e),R._p=new Promise(function(P,Q){R.onload=P,R.onerror=Q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ic(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function EA(e,n){Pi.X(e,n);var r=Ca;if(r&&e){var o=Pn(r).hoistableScripts,h=Na(e),f=o.get(h);f||(f=r.querySelector(Wo(h)),f||(e=S({src:e,async:!0},n),(n=Un.get(h))&&od(e,n),f=r.createElement("script"),he(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function TA(e,n){Pi.M(e,n);var r=Ca;if(r&&e){var o=Pn(r).hoistableScripts,h=Na(e),f=o.get(h);f||(f=r.querySelector(Wo(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Un.get(h))&&od(e,n),f=r.createElement("script"),he(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Xy(e,n,r,o){var h=(h=vt.current)?nc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Da(r.href),r=Pn(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Da(r.href);var f=Pn(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(Zo(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Un.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Un.set(e,r),f||AA(h,e,r,y.state))),n&&o===null)throw Error(a(528,""));return y}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Na(r),r=Pn(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Da(e){return'href="'+oe(e)+'"'}function Zo(e){return'link[rel="stylesheet"]['+e+"]"}function $y(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function AA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),je(n,"link",r),he(n),e.head.appendChild(n))}function Na(e){return'[src="'+oe(e)+'"]'}function Wo(e){return"script[async]"+e}function Jy(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+oe(r.href)+'"]');if(o)return n.instance=o,he(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),he(o),je(o,"style",h),ic(o,r.precedence,e),n.instance=o;case"stylesheet":h=Da(r.href);var f=e.querySelector(Zo(h));if(f)return n.state.loading|=4,n.instance=f,he(f),f;o=$y(r),(h=Un.get(h))&&ad(o,h),f=(e.ownerDocument||e).createElement("link"),he(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),je(f,"link",o),n.state.loading|=4,ic(f,r.precedence,e),n.instance=f;case"script":return f=Na(r.src),(h=e.querySelector(Wo(f)))?(n.instance=h,he(h),h):(o=r,(h=Un.get(f))&&(o=S({},r),od(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),he(h),je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ic(o,r.precedence,e));return n.instance}function ic(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function od(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var rc=null;function Zy(e,n,r){if(rc===null){var o=new Map,h=rc=new Map;h.set(r,o)}else h=rc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[pi]||f[ae]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function Wy(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function SA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function t_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function bA(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Da(o.href),f=n.querySelector(Zo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=sc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,he(f);return}f=n.ownerDocument||n,o=$y(o),(h=Un.get(h))&&ad(o,h),f=f.createElement("link"),he(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),je(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=sc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var ld=0;function wA(e,n){return e.stylesheets&&e.count===0&&oc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&oc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&ld===0&&(ld=62500*sA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&oc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>ld?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ac=null;function oc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ac=new Map,n.forEach(RA,e),ac=null,sc.call(e))}function RA(e,n){if(!(n.state.loading&4)){var r=ac.get(e);if(r)var o=r.get(null);else{r=new Map,ac.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),o=y)}o&&r.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=r.get(y)||o,f===o&&r.set(null,h),r.set(y,h),this.count++,o=sc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var tl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function IA(e,n,r,o,h,f,y,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function e_(e,n,r,o,h,f,y,E,R,P,Q,X){return e=new IA(e,n,r,y,R,P,Q,X,E),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),e.current=f,f.stateNode=e,n=jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Fh(f),e}function n_(e){return e?(e=oa,e):oa}function i_(e,n,r,o,h,f){h=n_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ar(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Sr(e,o,n),r!==null&&(fn(r,e,n),Mo(r,e,n))}function r_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function ud(e,n){r_(e,n),(e=e.alternate)&&r_(e,n)}function s_(e){if(e.tag===13||e.tag===31){var n=ps(e,67108864);n!==null&&fn(n,e,67108864),ud(e,67108864)}}function a_(e){if(e.tag===13||e.tag===31){var n=An();n=oo(n);var r=ps(e,n);r!==null&&fn(r,e,n),ud(e,n)}}var lc=!0;function CA(e,n,r,o){var h=z.T;z.T=null;var f=J.p;try{J.p=2,cd(e,n,r,o)}finally{J.p=f,z.T=h}}function DA(e,n,r,o){var h=z.T;z.T=null;var f=J.p;try{J.p=8,cd(e,n,r,o)}finally{J.p=f,z.T=h}}function cd(e,n,r,o){if(lc){var h=hd(o);if(h===null)$f(e,n,o,uc,r),l_(e,o);else if(OA(h,e,n,r,o))o.stopPropagation();else if(l_(e,o),n&4&&-1<NA.indexOf(e)){for(;h!==null;){var f=_i(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Ln(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-Ze(y);E.entanglements[1]|=R,y&=~R}si(f),(qt&6)===0&&(Gu=xe()+500,Yo(0))}}break;case 31:case 13:E=ps(f,2),E!==null&&fn(E,f,2),Ku(),ud(f,2)}if(f=hd(o),f===null&&$f(e,n,o,uc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else $f(e,n,o,null,r)}}function hd(e){return e=Ws(e),fd(e)}var uc=null;function fd(e){if(uc=null,e=yi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return uc=e,null}function o_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ql()){case Se:return 2;case Ie:return 8;case di:case Hl:return 32;case io:return 268435456;default:return 32}default:return 32}}var dd=!1,xr=null,Ur=null,kr=null,el=new Map,nl=new Map,Lr=[],NA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l_(e,n){switch(e){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":el.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":nl.delete(n.pointerId)}}function il(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=_i(n),n!==null&&s_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function OA(e,n,r,o,h){switch(n){case"focusin":return xr=il(xr,e,n,r,o,h),!0;case"dragenter":return Ur=il(Ur,e,n,r,o,h),!0;case"mouseover":return kr=il(kr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return el.set(f,il(el.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,nl.set(f,il(nl.get(f)||null,e,n,r,o,h)),!0}return!1}function u_(e){var n=yi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Gl(e.priority,function(){a_(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,Gl(e.priority,function(){a_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=hd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Zs=o,r.target.dispatchEvent(o),Zs=null}else return n=_i(r),n!==null&&s_(n),e.blockedOn=r,!1;n.shift()}return!0}function c_(e,n,r){cc(e)&&r.delete(n)}function MA(){dd=!1,xr!==null&&cc(xr)&&(xr=null),Ur!==null&&cc(Ur)&&(Ur=null),kr!==null&&cc(kr)&&(kr=null),el.forEach(c_),nl.forEach(c_)}function hc(e,n){e.blockedOn===n&&(e.blockedOn=null,dd||(dd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,MA)))}var fc=null;function h_(e){fc!==e&&(fc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){fc===e&&(fc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(fd(o||r)===null)continue;break}var f=_i(r);f!==null&&(e.splice(n,3),n-=3,hf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Oa(e){function n(R){return hc(R,e)}xr!==null&&hc(xr,e),Ur!==null&&hc(Ur,e),kr!==null&&hc(kr,e),el.forEach(n),nl.forEach(n);for(var r=0;r<Lr.length;r++){var o=Lr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Lr.length&&(r=Lr[0],r.blockedOn===null);)u_(r),r.blockedOn===null&&Lr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],y=h[ke]||null;if(typeof f=="function")y||h_(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[ke]||null)E=y.formAction;else if(fd(h)!==null)continue}else E=y.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),h_(r)}}}function f_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function md(e){this._internalRoot=e}dc.prototype.render=md.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=An();i_(r,o,e,n,null,null)},dc.prototype.unmount=md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;i_(e.current,2,null,e,null,null),Ku(),n[$n]=null}};function dc(e){this._internalRoot=e}dc.prototype.unstable_scheduleHydration=function(e){if(e){var n=gi();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Lr.length&&n!==0&&n<Lr[r].priority;r++);Lr.splice(r,0,e),r===0&&u_(e)}};var d_=t.version;if(d_!=="19.2.0")throw Error(a(527,d_,"19.2.0"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var VA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{Ji=mc.inject(VA),Ge=mc}catch{}}return sl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Ep,f=Tp,y=Ap;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=e_(e,1,!1,null,null,r,o,null,h,f,y,f_),e[$n]=n.current,Xf(e),new md(n)},sl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Ep,y=Tp,E=Ap,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=e_(e,1,!0,n,r??null,o,h,R,f,y,E,f_),n.context=n_(null),r=n.current,o=An(),o=oo(o),h=Ar(o),h.callback=null,Sr(r,h,o),r=o,n.current.lanes=r,tr(n,r),si(n),e[$n]=n.current,Xf(e),new dc(n)},sl.version="19.2.0",sl}var S_;function HA(){if(S_)return pd.exports;S_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),pd.exports=qA(),pd.exports}var FA=HA(),Ht=rm(),b_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},GA=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,p=l+2<s.length,v=p?s[l+2]:0,A=c>>2,S=(c&3)<<4|g>>4;let V=(g&15)<<2|v>>6,F=v&63;p||(F=64,d||(V=64)),a.push(i[A],i[S],i[V],i[F])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Fv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):GA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const v=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||v==null||S==null)throw new QA;const V=c<<2|g>>4;if(a.push(V),v!==64){const F=g<<4&240|v>>2;if(a.push(F),S!==64){const Z=v<<6&192|S;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class QA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KA=function(s){const t=Fv(s);return Gv.encodeByteArray(t,!0)},Dc=function(s){return KA(s).replace(/\./g,"")},Qv=function(s){try{return Gv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=()=>YA().__FIREBASE_DEFAULTS__,$A=()=>{if(typeof process>"u"||typeof b_>"u")return;const s=b_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},JA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Qv(s[1]);return t&&JSON.parse(t)},Kc=()=>{try{return XA()||$A()||JA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Kv=s=>{var t,i;return(i=(t=Kc())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[s]},ZA=s=>{const t=Kv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Yv=()=>{var s;return(s=Kc())===null||s===void 0?void 0:s.config},Xv=s=>{var t;return(t=Kc())===null||t===void 0?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Dc(JSON.stringify(i)),Dc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function nS(){var s;const t=(s=Kc())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function sS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aS(){const s=Je();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function oS(){return!nS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lS(){try{return typeof indexedDB=="object"}catch{return!1}}function uS(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="FirebaseError";class Yi extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=cS,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Il.prototype.create)}}class Il{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?hS(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Yi(l,g,a)}}function hS(s,t){return s.replace(fS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const fS=/\{\$([^}]+)}/g;function dS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Nc(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(w_(c)&&w_(d)){if(!Nc(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function w_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function ol(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function ll(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function mS(s,t){const i=new gS(s,t);return i.subscribe.bind(i)}class gS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");pS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Td),l.error===void 0&&(l.error=Td),l.complete===void 0&&(l.complete=Td);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Td(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(s){return s&&s._delegate?s._delegate:s}class xs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new WA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(vS(t))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Ds){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ds){return this.instances.has(t)}getOptions(t=Ds){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){var a;const l=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:_S(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ds){return this.component?this.component.multipleInstances?t:Ds:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _S(s){return s===Ds?void 0:s}function vS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new yS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(kt||(kt={}));const TS={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},AS=kt.INFO,SS={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},bS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=SS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class sm{constructor(t){this.name=t,this._logLevel=AS,this._logHandler=bS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?TS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const wS=(s,t)=>t.some(i=>s instanceof i);let R_,I_;function RS(){return R_||(R_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IS(){return I_||(I_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $v=new WeakMap,Md=new WeakMap,Jv=new WeakMap,Ad=new WeakMap,am=new WeakMap;function CS(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Gr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&$v.set(i,s)}).catch(()=>{}),am.set(t,s),t}function DS(s){if(Md.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Md.set(s,t)}let Vd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Md.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Jv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function NS(s){Vd=s(Vd)}function OS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Sd(this),t,...i);return Jv.set(a,t.sort?t.sort():[t]),Gr(a)}:IS().includes(s)?function(...t){return s.apply(Sd(this),t),Gr($v.get(this))}:function(...t){return Gr(s.apply(Sd(this),t))}}function MS(s){return typeof s=="function"?OS(s):(s instanceof IDBTransaction&&DS(s),wS(s,RS())?new Proxy(s,Vd):s)}function Gr(s){if(s instanceof IDBRequest)return CS(s);if(Ad.has(s))return Ad.get(s);const t=MS(s);return t!==s&&(Ad.set(s,t),am.set(t,s)),t}const Sd=s=>am.get(s);function VS(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=Gr(d);return a&&d.addEventListener("upgradeneeded",p=>{a(Gr(d.result),p.oldVersion,p.newVersion,Gr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const xS=["get","getKey","getAll","getAllKeys","count"],US=["put","add","delete","clear"],bd=new Map;function C_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(bd.get(t))return bd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=US.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||xS.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let v=p.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&p.done]))[0]};return bd.set(t,c),c}NS(s=>({...s,get:(t,i,a)=>C_(t,i)||s.get(t,i,a),has:(t,i)=>!!C_(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(LS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function LS(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const xd="@firebase/app",D_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new sm("@firebase/app"),PS="@firebase/app-compat",zS="@firebase/analytics-compat",jS="@firebase/analytics",BS="@firebase/app-check-compat",qS="@firebase/app-check",HS="@firebase/auth",FS="@firebase/auth-compat",GS="@firebase/database",QS="@firebase/data-connect",KS="@firebase/database-compat",YS="@firebase/functions",XS="@firebase/functions-compat",$S="@firebase/installations",JS="@firebase/installations-compat",ZS="@firebase/messaging",WS="@firebase/messaging-compat",tb="@firebase/performance",eb="@firebase/performance-compat",nb="@firebase/remote-config",ib="@firebase/remote-config-compat",rb="@firebase/storage",sb="@firebase/storage-compat",ab="@firebase/firestore",ob="@firebase/vertexai-preview",lb="@firebase/firestore-compat",ub="firebase",cb="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="[DEFAULT]",hb={[xd]:"fire-core",[PS]:"fire-core-compat",[jS]:"fire-analytics",[zS]:"fire-analytics-compat",[qS]:"fire-app-check",[BS]:"fire-app-check-compat",[HS]:"fire-auth",[FS]:"fire-auth-compat",[GS]:"fire-rtdb",[QS]:"fire-data-connect",[KS]:"fire-rtdb-compat",[YS]:"fire-fn",[XS]:"fire-fn-compat",[$S]:"fire-iid",[JS]:"fire-iid-compat",[ZS]:"fire-fcm",[WS]:"fire-fcm-compat",[tb]:"fire-perf",[eb]:"fire-perf-compat",[nb]:"fire-rc",[ib]:"fire-rc-compat",[rb]:"fire-gcs",[sb]:"fire-gcs-compat",[ab]:"fire-fst",[lb]:"fire-fst-compat",[ob]:"fire-vertex","fire-js":"fire-js",[ub]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=new Map,fb=new Map,kd=new Map;function N_(s,t){try{s.container.addComponent(t)}catch(i){Fi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ba(s){const t=s.name;if(kd.has(t))return Fi.debug(`There were multiple attempts to register component ${t}.`),!1;kd.set(t,s);for(const i of Oc.values())N_(i,s);for(const i of fb.values())N_(i,s);return!0}function om(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function ai(s){return s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new Il("app","Firebase",db);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=cb;function Zv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Ud,automaticDataCollectionEnabled:!1},t),l=a.name;if(typeof l!="string"||!l)throw Qr.create("bad-app-name",{appName:String(l)});if(i||(i=Yv()),!i)throw Qr.create("no-options");const c=Oc.get(l);if(c){if(Nc(i,c.options)&&Nc(a,c.config))return c;throw Qr.create("duplicate-app",{appName:l})}const d=new ES(l);for(const p of kd.values())d.addComponent(p);const g=new mb(i,a,d);return Oc.set(l,g),g}function Wv(s=Ud){const t=Oc.get(s);if(!t&&s===Ud&&Yv())return Zv();if(!t)throw Qr.create("no-app",{appName:s});return t}function Kr(s,t,i){var a;let l=(a=hb[s])!==null&&a!==void 0?a:s;i&&(l+=`-${i}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fi.warn(g.join(" "));return}Ba(new xs(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="firebase-heartbeat-database",pb=1,_l="firebase-heartbeat-store";let wd=null;function t0(){return wd||(wd=VS(gb,pb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(_l)}catch(i){console.warn(i)}}}}).catch(s=>{throw Qr.create("idb-open",{originalErrorMessage:s.message})})),wd}async function yb(s){try{const i=(await t0()).transaction(_l),a=await i.objectStore(_l).get(e0(s));return await i.done,a}catch(t){if(t instanceof Yi)Fi.warn(t.message);else{const i=Qr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Fi.warn(i.message)}}}async function O_(s,t){try{const a=(await t0()).transaction(_l,"readwrite");await a.objectStore(_l).put(t,e0(s)),await a.done}catch(i){if(i instanceof Yi)Fi.warn(i.message);else{const a=Qr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Fi.warn(a.message)}}}function e0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=1024,vb=720*60*60*1e3;class Eb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Ab(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=M_();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const g=new Date(d.date).valueOf();return Date.now()-g<=vb}),this._storage.overwrite(this._heartbeatsCache))}catch(a){Fi.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=M_(),{heartbeatsToSend:a,unsentEntries:l}=Tb(this._heartbeatsCache.heartbeats),c=Dc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Fi.warn(i),""}}}function M_(){return new Date().toISOString().substring(0,10)}function Tb(s,t=_b){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),V_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),V_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Ab{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lS()?uS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await yb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return O_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return O_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function V_(s){return Dc(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(s){Ba(new xs("platform-logger",t=>new kS(t),"PRIVATE")),Ba(new xs("heartbeat",t=>new Eb(t),"PRIVATE")),Kr(xd,D_,s),Kr(xd,D_,"esm2017"),Kr("fire-js","")}Sb("");var bb="firebase",wb="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(bb,wb,"app");function lm(s,t){var i={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&t.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(i[a[l]]=s[a[l]]);return i}function n0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rb=n0,i0=new Il("auth","Firebase",n0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new sm("@firebase/auth");function Ib(s,...t){Mc.logLevel<=kt.WARN&&Mc.warn(`Auth (${$a}): ${s}`,...t)}function Ec(s,...t){Mc.logLevel<=kt.ERROR&&Mc.error(`Auth (${$a}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(s,...t){throw um(s,...t)}function oi(s,...t){return um(s,...t)}function r0(s,t,i){const a=Object.assign(Object.assign({},Rb()),{[t]:i});return new Il("auth","Firebase",a).create(t,{appName:s.name})}function qi(s){return r0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function um(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return i0.create(s,...t)}function yt(s,t,...i){if(!s)throw um(t,...i)}function zi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Ec(t),new Error(t)}function Gi(s,t){s||zi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function Cb(){return x_()==="http:"||x_()==="https:"}function x_(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Cb()||rS()||"connection"in navigator)?navigator.onLine:!0}function Nb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Gi(i>t,"Short delay should be less than long delay!"),this.isMobile=eS()||sS()}get(){return Db()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(s,t){Gi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=new Dl(3e4,6e4);function Xi(s,t){return s.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:s.tenantId}):t}async function $i(s,t,i,a,l={}){return a0(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Cl(Object.assign({key:s.config.apiKey},d)).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const v=Object.assign({method:t,headers:p},c);return iS()||(v.referrerPolicy="no-referrer"),s0.fetch()(o0(s,s.config.apiHost,i,g),v)})}async function a0(s,t,i){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},Ob),t);try{const l=new xb(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw gc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,v]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw gc(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw gc(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw gc(s,"user-disabled",d);const A=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw r0(s,A,v);Fn(s,A)}}catch(l){if(l instanceof Yi)throw l;Fn(s,"network-request-failed",{message:String(l)})}}async function Nl(s,t,i,a,l={}){const c=await $i(s,t,i,a,l);return"mfaPendingCredential"in c&&Fn(s,"multi-factor-auth-required",{_serverResponse:c}),c}function o0(s,t,i,a){const l=`${t}${i}?${a}`;return s.config.emulator?cm(s.config,l):`${s.config.apiScheme}://${l}`}function Vb(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xb{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(oi(this.auth,"network-request-failed")),Mb.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=oi(s,t,a);return l.customData._tokenResponse=i,l}function U_(s){return s!==void 0&&s.enterprise!==void 0}class Ub{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return Vb(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function kb(s,t){return $i(s,"GET","/v2/recaptchaConfig",Xi(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lb(s,t){return $i(s,"POST","/v1/accounts:delete",t)}async function l0(s,t){return $i(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Pb(s,t=!1){const i=Re(s),a=await i.getIdToken(t),l=hm(a);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:a,authTime:dl(Rd(l.auth_time)),issuedAtTime:dl(Rd(l.iat)),expirationTime:dl(Rd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Rd(s){return Number(s)*1e3}function hm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Ec("JWT malformed, contained fewer than 3 sections"),null;try{const l=Qv(i);return l?JSON.parse(l):(Ec("Failed to decode base64 JWT payload"),null)}catch(l){return Ec("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function k_(s){const t=hm(s);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Yi&&zb(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function zb({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=dl(this.lastLoginAt),this.creationTime=dl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(s){var t;const i=s.auth,a=await s.getIdToken(),l=await vl(s,l0(i,{idToken:a}));yt(l==null?void 0:l.users.length,i,"internal-error");const c=l.users[0];s._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?u0(c.providerUserInfo):[],g=qb(s.providerData,d),p=s.isAnonymous,v=!(s.email&&c.passwordHash)&&!(g!=null&&g.length),A=p?v:!1,S={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Pd(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(s,S)}async function Bb(s){const t=Re(s);await Vc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function qb(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function u0(s){return s.map(t=>{var{providerId:i}=t,a=lm(t,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hb(s,t){const i=await a0(s,{},async()=>{const a=Cl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=o0(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",s0.fetch()(d,{method:"POST",headers:g,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Fb(s,t){return $i(s,"POST","/v2/accounts:revokeToken",Xi(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):k_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=k_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Hb(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new La;return a&&(yt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new La,this.toJSON())}_performRefresh(){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(s,t){yt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ji{constructor(t){var{uid:i,auth:a,stsTokenManager:l}=t,c=lm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Pd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await vl(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Pb(this,t)}reload(){return Bb(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ji(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Vc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(qi(this.auth));const t=await this.getIdToken();return await vl(this,Lb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var a,l,c,d,g,p,v,A;const S=(a=i.displayName)!==null&&a!==void 0?a:void 0,V=(l=i.email)!==null&&l!==void 0?l:void 0,F=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,Z=(d=i.photoURL)!==null&&d!==void 0?d:void 0,nt=(g=i.tenantId)!==null&&g!==void 0?g:void 0,Y=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,st=(v=i.createdAt)!==null&&v!==void 0?v:void 0,pt=(A=i.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:ct,emailVerified:Ct,isAnonymous:Yt,providerData:wt,stsTokenManager:C}=i;yt(ct&&C,t,"internal-error");const b=La.fromJSON(this.name,C);yt(typeof ct=="string",t,"internal-error"),zr(S,t.name),zr(V,t.name),yt(typeof Ct=="boolean",t,"internal-error"),yt(typeof Yt=="boolean",t,"internal-error"),zr(F,t.name),zr(Z,t.name),zr(nt,t.name),zr(Y,t.name),zr(st,t.name),zr(pt,t.name);const w=new ji({uid:ct,auth:t,email:V,emailVerified:Ct,displayName:S,isAnonymous:Yt,photoURL:Z,phoneNumber:F,tenantId:nt,stsTokenManager:b,createdAt:st,lastLoginAt:pt});return wt&&Array.isArray(wt)&&(w.providerData=wt.map(O=>Object.assign({},O))),Y&&(w._redirectEventId=Y),w}static async _fromIdTokenResponse(t,i,a=!1){const l=new La;l.updateFromServerResponse(i);const c=new ji({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Vc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?u0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new La;g.updateFromIdToken(a);const p=new ji({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Pd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=new Map;function Bi(s){Gi(s instanceof Function,"Expected a class definition");let t=L_.get(s);return t?(Gi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,L_.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}c0.type="NONE";const P_=c0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(s,t,i){return`firebase:${s}:${t}:${i}`}class Pa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Tc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Tc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ji._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Pa(Bi(P_),t,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Bi(P_);const d=Tc(a,t.config.apiKey,t.name);let g=null;for(const v of i)try{const A=await v._get(d);if(A){const S=ji._fromJSON(t,A);v!==c&&(g=S),c=v;break}}catch{}const p=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Pa(c,t,a):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Pa(c,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(m0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(h0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(p0(t))return"Blackberry";if(y0(t))return"Webos";if(f0(t))return"Safari";if((t.includes("chrome/")||d0(t))&&!t.includes("edge/"))return"Chrome";if(g0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function h0(s=Je()){return/firefox\//i.test(s)}function f0(s=Je()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function d0(s=Je()){return/crios\//i.test(s)}function m0(s=Je()){return/iemobile/i.test(s)}function g0(s=Je()){return/android/i.test(s)}function p0(s=Je()){return/blackberry/i.test(s)}function y0(s=Je()){return/webos/i.test(s)}function fm(s=Je()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Gb(s=Je()){var t;return fm(s)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Qb(){return aS()&&document.documentMode===10}function _0(s=Je()){return fm(s)||g0(s)||y0(s)||p0(s)||/windows phone/i.test(s)||m0(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(s,t=[]){let i;switch(s){case"Browser":i=z_(Je());break;case"Worker":i=`${z_(Je())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${$a}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yb(s,t={}){return $i(s,"GET","/v2/passwordPolicy",Xi(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=6;class $b{constructor(t){var i,a,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:Xb,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,a,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j_(this),this.idTokenSubscription=new j_(this),this.beforeStateQueue=new Kb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Bi(i)),this._initializationPromise=this.queue(async()=>{var a,l;if(!this._deleted&&(this.persistenceManager=await Pa.create(this,t),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await l0(this,{idToken:t}),a=await ji._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(ai(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Vc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Nb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ai(this.app))return Promise.reject(qi(this));const i=t?Re(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ai(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Yb(this),i=new $b(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Il("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Fb(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Bi(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[Bi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,a,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=v0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&Ib(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function js(s){return Re(s)}class j_{constructor(t){this.auth=t,this.observer=null,this.addObserver=mS(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zb(s){Yc=s}function E0(s){return Yc.loadJS(s)}function Wb(){return Yc.recaptchaEnterpriseScript}function tw(){return Yc.gapiScript}function ew(s){return`__${s}${Math.floor(Math.random()*1e6)}`}const nw="recaptcha-enterprise",iw="NO_RECAPTCHA";class rw{constructor(t){this.type=nw,this.auth=js(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{kb(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const v=new Ub(p);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(p=>{g(p)})})}function l(c,d,g){const p=window.grecaptcha;U_(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:t}).then(v=>{d(v)}).catch(()=>{d(iw)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((c,d)=>{a(this.auth).then(g=>{if(!i&&U_(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Wb();p.length!==0&&(p+=g),E0(p).then(()=>{l(g,c,d)}).catch(v=>{d(v)})}}).catch(g=>{d(g)})})}}async function B_(s,t,i,a=!1){const l=new rw(s);let c;try{c=await l.verify(i)}catch{c=await l.verify(i,!0)}const d=Object.assign({},t);return a?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function zd(s,t,i,a){var l;if(!((l=s._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await B_(s,t,i,i==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await B_(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(s,t){const i=om(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Nc(c,t??{}))return l;Fn(l,"already-initialized")}return i.initialize({options:t})}function aw(s,t){const i=(t==null?void 0:t.persistence)||[],a=(Array.isArray(i)?i:[i]).map(Bi);t!=null&&t.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function ow(s,t,i){const a=js(s);yt(a._canInitEmulator,a,"emulator-config-failed"),yt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=T0(t),{host:d,port:g}=lw(t),p=g===null?"":`:${g}`;a.config.emulator={url:`${c}//${d}${p}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})}),uw()}function T0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function lw(s){const t=T0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:q_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:q_(d)}}}function q_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function uw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return zi("not implemented")}_getIdTokenResponse(t){return zi("not implemented")}_linkToIdToken(t,i){return zi("not implemented")}_getReauthenticationResolver(t){return zi("not implemented")}}async function cw(s,t){return $i(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hw(s,t){return Nl(s,"POST","/v1/accounts:signInWithPassword",Xi(s,t))}async function fw(s,t){return $i(s,"POST","/v1/accounts:sendOobCode",Xi(s,t))}async function dw(s,t){return fw(s,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(s,t){return Nl(s,"POST","/v1/accounts:signInWithEmailLink",Xi(s,t))}async function gw(s,t){return Nl(s,"POST","/v1/accounts:signInWithEmailLink",Xi(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends dm{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new El(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new El(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zd(t,i,"signInWithPassword",hw);case"emailLink":return mw(t,{email:this._email,oobCode:this._password});default:Fn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zd(t,a,"signUpPassword",cw);case"emailLink":return gw(t,{idToken:i,email:this._email,oobCode:this._password});default:Fn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(s,t){return Nl(s,"POST","/v1/accounts:signInWithIdp",Xi(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="http://localhost";class Us extends dm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Us(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Fn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l}=i,c=lm(i,["providerId","signInMethod"]);if(!a||!l)return null;const d=new Us(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return za(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,za(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,za(t,i)}buildRequest(){const t={requestUri:pw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Cl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _w(s){const t=ol(ll(s)).link,i=t?ol(ll(t)).deep_link_id:null,a=ol(ll(s)).deep_link_id;return(a?ol(ll(a)).link:null)||a||i||t||s}class mm{constructor(t){var i,a,l,c,d,g;const p=ol(ll(t)),v=(i=p.apiKey)!==null&&i!==void 0?i:null,A=(a=p.oobCode)!==null&&a!==void 0?a:null,S=yw((l=p.mode)!==null&&l!==void 0?l:null);yt(v&&A&&S,"argument-error"),this.apiKey=v,this.operation=S,this.code=A,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(t){const i=_w(t);try{return new mm(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.providerId=Ja.PROVIDER_ID}static credential(t,i){return El._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=mm.parseLink(i);return yt(a,"argument-error"),El._fromEmailAndCode(t,a.code,a.tenantId)}}Ja.PROVIDER_ID="password";Ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends A0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Ol{constructor(){super("facebook.com")}static credential(t){return Us._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jr.credential(t.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Us._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Br.credential(i,a)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Ol{constructor(){super("github.com")}static credential(t){return Us._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Ol{constructor(){super("twitter.com")}static credential(t,i){return Us._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Hr.credential(i,a)}catch{return null}}}Hr.TWITTER_SIGN_IN_METHOD="twitter.com";Hr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(s,t){return Nl(s,"POST","/v1/accounts:signUp",Xi(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ji._fromIdTokenResponse(t,a,l),d=H_(a);return new ks({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=H_(a);return new ks({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function H_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends Yi{constructor(t,i,a,l){var c;super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,xc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new xc(t,i,a,l)}}function S0(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?xc._fromErrorAndOperation(s,c,t,a):c})}async function Ew(s,t,i=!1){const a=await vl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ks._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tw(s,t,i=!1){const{auth:a}=s;if(ai(a.app))return Promise.reject(qi(a));const l="reauthenticate";try{const c=await vl(s,S0(a,l,t,s),i);yt(c.idToken,a,"internal-error");const d=hm(c.idToken);yt(d,a,"internal-error");const{sub:g}=d;return yt(s.uid===g,a,"user-mismatch"),ks._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Fn(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b0(s,t,i=!1){if(ai(s.app))return Promise.reject(qi(s));const a="signIn",l=await S0(s,a,t),c=await ks._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function Aw(s,t){return b0(js(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w0(s){const t=js(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Sw(s,t,i){if(ai(s.app))return Promise.reject(qi(s));const a=js(s),d=await zd(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vw).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&w0(s),p}),g=await ks._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(g.user),g}function bw(s,t,i){return ai(s.app)?Promise.reject(qi(s)):Aw(Re(s),Ja.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&w0(s),a})}async function ww(s,t){const i=Re(s),l={requestType:"VERIFY_EMAIL",idToken:await s.getIdToken()},{email:c}=await dw(i.auth,l);c!==s.email&&await s.reload()}function Rw(s,t,i,a){return Re(s).onIdTokenChanged(t,i,a)}function Iw(s,t,i){return Re(s).beforeAuthStateChanged(t,i)}function Cw(s,t,i,a){return Re(s).onAuthStateChanged(t,i,a)}const Uc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Uc,"1"),this.storage.removeItem(Uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=1e3,Nw=10;class I0 extends R0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Qb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Nw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Dw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}I0.type="LOCAL";const Ow=I0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0 extends R0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}C0.type="SESSION";const D0=C0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Xc(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,c)),p=await Mw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const v=gm("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const V=S;if(V.data.eventId===v)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function xw(s){li().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function Uw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kw(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function Lw(){return N0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="firebaseLocalStorageDb",Pw=1,kc="firebaseLocalStorage",M0="fbase_key";class Ml{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function $c(s,t){return s.transaction([kc],t?"readwrite":"readonly").objectStore(kc)}function zw(){const s=indexedDB.deleteDatabase(O0);return new Ml(s).toPromise()}function jd(){const s=indexedDB.open(O0,Pw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(kc,{keyPath:M0})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(kc)?t(a):(a.close(),await zw(),t(await jd()))})})}async function F_(s,t,i){const a=$c(s,!0).put({[M0]:t,value:i});return new Ml(a).toPromise()}async function jw(s,t){const i=$c(s,!1).get(t),a=await new Ml(i).toPromise();return a===void 0?null:a.value}function G_(s,t){const i=$c(s,!0).delete(t);return new Ml(i).toPromise()}const Bw=800,qw=3;class V0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>qw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xc._getInstance(Lw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await Uw(),!this.activeServiceWorker)return;this.sender=new Vw(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||kw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await jd();return await F_(t,Uc,"1"),await G_(t,Uc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>F_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>jw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>G_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=$c(l,!1).getAll();return new Ml(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Bw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V0.type="LOCAL";const Hw=V0;new Dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(s,t){return t?Bi(t):(yt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm extends dm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Gw(s){return b0(s.auth,new pm(s),s.bypassAuthState)}function Qw(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),Tw(i,new pm(s),s.bypassAuthState)}async function Kw(s){const{auth:t,user:i}=s;return yt(i,t,"internal-error"),Ew(i,new pm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Gw;case"linkViaPopup":case"linkViaRedirect":return Kw;case"reauthViaPopup":case"reauthViaRedirect":return Qw;default:Fn(this.auth,"internal-error")}}resolve(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=new Dl(2e3,1e4);class ka extends x0{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,ka.currentPopupAction&&ka.currentPopupAction.cancel(),ka.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const t=gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ka.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Yw.get())};t()}}ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="pendingRedirect",Ac=new Map;class $w extends x0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Ac.get(this.auth._key());if(!t){try{const a=await Jw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Ac.set(this.auth._key(),t)}return this.bypassAuthState||Ac.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Jw(s,t){const i=tR(t),a=Ww(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Zw(s,t){Ac.set(s._key(),t)}function Ww(s){return Bi(s._redirectPersistence)}function tR(s){return Tc(Xw,s.config.apiKey,s.name)}async function eR(s,t,i=!1){if(ai(s.app))return Promise.reject(qi(s));const a=js(s),l=Fw(a,t),d=await new $w(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=600*1e3;class iR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!rR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var a;if(t.error&&!U0(t)){const l=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(oi(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=nR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q_(t))}saveEventToCache(t){this.cachedEventUids.add(Q_(t)),this.lastProcessedEventTime=Date.now()}}function Q_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function U0({type:s,error:t}){return s==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function rR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U0(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(s,t={}){return $i(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oR=/^https?/;async function lR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await sR(s);for(const i of t)try{if(uR(i))return}catch{}Fn(s,"unauthorized-domain")}function uR(s){const t=Ld(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!oR.test(i))return!1;if(aR.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=new Dl(3e4,6e4);function K_(){const s=li().___jsl;if(s!=null&&s.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function hR(s){return new Promise((t,i)=>{var a,l,c;function d(){K_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{K_(),i(oi(s,"network-request-failed"))},timeout:cR.get()})}if(!((l=(a=li().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=li().gapi)===null||c===void 0)&&c.load)d();else{const g=ew("iframefcb");return li()[g]=()=>{gapi.load?d():i(oi(s,"network-request-failed"))},E0(`${tw()}?onload=${g}`).catch(p=>i(p))}}).catch(t=>{throw Sc=null,t})}let Sc=null;function fR(s){return Sc=Sc||hR(s),Sc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=new Dl(5e3,15e3),mR="__/auth/iframe",gR="emulator/auth/iframe",pR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _R(s){const t=s.config;yt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?cm(t,gR):`https://${s.config.authDomain}/${mR}`,a={apiKey:t.apiKey,appName:s.name,v:$a},l=yR.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Cl(a).slice(1)}`}async function vR(s){const t=await fR(s),i=li().gapi;return yt(i,s,"internal-error"),t.open({where:document.body,url:_R(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=oi(s,"network-request-failed"),g=li().setTimeout(()=>{c(d)},dR.get());function p(){li().clearTimeout(g),l(a)}a.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TR=500,AR=600,SR="_blank",bR="http://localhost";class Y_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wR(s,t,i,a=TR,l=AR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const p=Object.assign(Object.assign({},ER),{width:a.toString(),height:l.toString(),top:c,left:d}),v=Je().toLowerCase();i&&(g=d0(v)?SR:i),h0(v)&&(t=t||bR,p.scrollbars="yes");const A=Object.entries(p).reduce((V,[F,Z])=>`${V}${F}=${Z},`,"");if(Gb(v)&&g!=="_self")return RR(t||"",g),new Y_(null);const S=window.open(t||"",g,A);yt(S,s,"popup-blocked");try{S.focus()}catch{}return new Y_(S)}function RR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="__/auth/handler",CR="emulator/auth/handler",DR=encodeURIComponent("fac");async function X_(s,t,i,a,l,c){yt(s.config.authDomain,s,"auth-domain-config-required"),yt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:$a,eventId:l};if(t instanceof A0){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",dS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Ol){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await s._getAppCheckToken(),v=p?`#${DR}=${encodeURIComponent(p)}`:"";return`${NR(s)}?${Cl(g).slice(1)}${v}`}function NR({config:s}){return s.emulator?cm(s,CR):`https://${s.authDomain}/${IR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="webStorageSupport";class OR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D0,this._completeRedirectFn=eR,this._overrideRedirectResult=Zw}async _openPopup(t,i,a,l){var c;Gi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await X_(t,i,a,Ld(),l);return wR(t,d,gm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await X_(t,i,a,Ld(),l);return xw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Gi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await vR(t),a=new iR(t);return i.register("authEvent",l=>(yt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Id,{type:Id},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Id];d!==void 0&&i(!!d),Fn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=lR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return _0()||f0()||fm()}}const MR=OR;var $_="@firebase/auth",J_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UR(s){Ba(new xs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v0(s)},v=new Jb(a,l,c,p);return aw(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ba(new xs("auth-internal",t=>{const i=js(t.getProvider("auth").getImmediate());return(a=>new VR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr($_,J_,xR(s)),Kr($_,J_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=300,LR=Xv("authIdTokenMaxAge")||kR;let Z_=null;const PR=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>LR)return;const l=i==null?void 0:i.token;Z_!==l&&(Z_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function zR(s=Wv()){const t=om(s,"auth");if(t.isInitialized())return t.getImmediate();const i=sw(s,{popupRedirectResolver:MR,persistence:[Hw,Ow,D0]}),a=Xv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=PR(c.toString());Iw(i,d,()=>d(i.currentUser)),Rw(i,g=>d(g))}}const l=Kv("auth");return l&&ow(i,`http://${l}`),i}function jR(){var s,t;return(t=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&t!==void 0?t:document}Zb({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=oi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",jR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UR("Browser");var W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,k0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,b){function w(){}w.prototype=b.prototype,C.D=b.prototype,C.prototype=new w,C.prototype.constructor=C,C.C=function(O,M,U){for(var I=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)I[ce-2]=arguments[ce];return b.prototype[M].apply(O,I)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,w){w||(w=0);var O=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)O[M]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(M=0;16>M;++M)O[M]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=C.g[0],w=C.g[1],M=C.g[2];var U=C.g[3],I=b+(U^w&(M^U))+O[0]+3614090360&4294967295;b=w+(I<<7&4294967295|I>>>25),I=U+(M^b&(w^M))+O[1]+3905402710&4294967295,U=b+(I<<12&4294967295|I>>>20),I=M+(w^U&(b^w))+O[2]+606105819&4294967295,M=U+(I<<17&4294967295|I>>>15),I=w+(b^M&(U^b))+O[3]+3250441966&4294967295,w=M+(I<<22&4294967295|I>>>10),I=b+(U^w&(M^U))+O[4]+4118548399&4294967295,b=w+(I<<7&4294967295|I>>>25),I=U+(M^b&(w^M))+O[5]+1200080426&4294967295,U=b+(I<<12&4294967295|I>>>20),I=M+(w^U&(b^w))+O[6]+2821735955&4294967295,M=U+(I<<17&4294967295|I>>>15),I=w+(b^M&(U^b))+O[7]+4249261313&4294967295,w=M+(I<<22&4294967295|I>>>10),I=b+(U^w&(M^U))+O[8]+1770035416&4294967295,b=w+(I<<7&4294967295|I>>>25),I=U+(M^b&(w^M))+O[9]+2336552879&4294967295,U=b+(I<<12&4294967295|I>>>20),I=M+(w^U&(b^w))+O[10]+4294925233&4294967295,M=U+(I<<17&4294967295|I>>>15),I=w+(b^M&(U^b))+O[11]+2304563134&4294967295,w=M+(I<<22&4294967295|I>>>10),I=b+(U^w&(M^U))+O[12]+1804603682&4294967295,b=w+(I<<7&4294967295|I>>>25),I=U+(M^b&(w^M))+O[13]+4254626195&4294967295,U=b+(I<<12&4294967295|I>>>20),I=M+(w^U&(b^w))+O[14]+2792965006&4294967295,M=U+(I<<17&4294967295|I>>>15),I=w+(b^M&(U^b))+O[15]+1236535329&4294967295,w=M+(I<<22&4294967295|I>>>10),I=b+(M^U&(w^M))+O[1]+4129170786&4294967295,b=w+(I<<5&4294967295|I>>>27),I=U+(w^M&(b^w))+O[6]+3225465664&4294967295,U=b+(I<<9&4294967295|I>>>23),I=M+(b^w&(U^b))+O[11]+643717713&4294967295,M=U+(I<<14&4294967295|I>>>18),I=w+(U^b&(M^U))+O[0]+3921069994&4294967295,w=M+(I<<20&4294967295|I>>>12),I=b+(M^U&(w^M))+O[5]+3593408605&4294967295,b=w+(I<<5&4294967295|I>>>27),I=U+(w^M&(b^w))+O[10]+38016083&4294967295,U=b+(I<<9&4294967295|I>>>23),I=M+(b^w&(U^b))+O[15]+3634488961&4294967295,M=U+(I<<14&4294967295|I>>>18),I=w+(U^b&(M^U))+O[4]+3889429448&4294967295,w=M+(I<<20&4294967295|I>>>12),I=b+(M^U&(w^M))+O[9]+568446438&4294967295,b=w+(I<<5&4294967295|I>>>27),I=U+(w^M&(b^w))+O[14]+3275163606&4294967295,U=b+(I<<9&4294967295|I>>>23),I=M+(b^w&(U^b))+O[3]+4107603335&4294967295,M=U+(I<<14&4294967295|I>>>18),I=w+(U^b&(M^U))+O[8]+1163531501&4294967295,w=M+(I<<20&4294967295|I>>>12),I=b+(M^U&(w^M))+O[13]+2850285829&4294967295,b=w+(I<<5&4294967295|I>>>27),I=U+(w^M&(b^w))+O[2]+4243563512&4294967295,U=b+(I<<9&4294967295|I>>>23),I=M+(b^w&(U^b))+O[7]+1735328473&4294967295,M=U+(I<<14&4294967295|I>>>18),I=w+(U^b&(M^U))+O[12]+2368359562&4294967295,w=M+(I<<20&4294967295|I>>>12),I=b+(w^M^U)+O[5]+4294588738&4294967295,b=w+(I<<4&4294967295|I>>>28),I=U+(b^w^M)+O[8]+2272392833&4294967295,U=b+(I<<11&4294967295|I>>>21),I=M+(U^b^w)+O[11]+1839030562&4294967295,M=U+(I<<16&4294967295|I>>>16),I=w+(M^U^b)+O[14]+4259657740&4294967295,w=M+(I<<23&4294967295|I>>>9),I=b+(w^M^U)+O[1]+2763975236&4294967295,b=w+(I<<4&4294967295|I>>>28),I=U+(b^w^M)+O[4]+1272893353&4294967295,U=b+(I<<11&4294967295|I>>>21),I=M+(U^b^w)+O[7]+4139469664&4294967295,M=U+(I<<16&4294967295|I>>>16),I=w+(M^U^b)+O[10]+3200236656&4294967295,w=M+(I<<23&4294967295|I>>>9),I=b+(w^M^U)+O[13]+681279174&4294967295,b=w+(I<<4&4294967295|I>>>28),I=U+(b^w^M)+O[0]+3936430074&4294967295,U=b+(I<<11&4294967295|I>>>21),I=M+(U^b^w)+O[3]+3572445317&4294967295,M=U+(I<<16&4294967295|I>>>16),I=w+(M^U^b)+O[6]+76029189&4294967295,w=M+(I<<23&4294967295|I>>>9),I=b+(w^M^U)+O[9]+3654602809&4294967295,b=w+(I<<4&4294967295|I>>>28),I=U+(b^w^M)+O[12]+3873151461&4294967295,U=b+(I<<11&4294967295|I>>>21),I=M+(U^b^w)+O[15]+530742520&4294967295,M=U+(I<<16&4294967295|I>>>16),I=w+(M^U^b)+O[2]+3299628645&4294967295,w=M+(I<<23&4294967295|I>>>9),I=b+(M^(w|~U))+O[0]+4096336452&4294967295,b=w+(I<<6&4294967295|I>>>26),I=U+(w^(b|~M))+O[7]+1126891415&4294967295,U=b+(I<<10&4294967295|I>>>22),I=M+(b^(U|~w))+O[14]+2878612391&4294967295,M=U+(I<<15&4294967295|I>>>17),I=w+(U^(M|~b))+O[5]+4237533241&4294967295,w=M+(I<<21&4294967295|I>>>11),I=b+(M^(w|~U))+O[12]+1700485571&4294967295,b=w+(I<<6&4294967295|I>>>26),I=U+(w^(b|~M))+O[3]+2399980690&4294967295,U=b+(I<<10&4294967295|I>>>22),I=M+(b^(U|~w))+O[10]+4293915773&4294967295,M=U+(I<<15&4294967295|I>>>17),I=w+(U^(M|~b))+O[1]+2240044497&4294967295,w=M+(I<<21&4294967295|I>>>11),I=b+(M^(w|~U))+O[8]+1873313359&4294967295,b=w+(I<<6&4294967295|I>>>26),I=U+(w^(b|~M))+O[15]+4264355552&4294967295,U=b+(I<<10&4294967295|I>>>22),I=M+(b^(U|~w))+O[6]+2734768916&4294967295,M=U+(I<<15&4294967295|I>>>17),I=w+(U^(M|~b))+O[13]+1309151649&4294967295,w=M+(I<<21&4294967295|I>>>11),I=b+(M^(w|~U))+O[4]+4149444226&4294967295,b=w+(I<<6&4294967295|I>>>26),I=U+(w^(b|~M))+O[11]+3174756917&4294967295,U=b+(I<<10&4294967295|I>>>22),I=M+(b^(U|~w))+O[2]+718787259&4294967295,M=U+(I<<15&4294967295|I>>>17),I=w+(U^(M|~b))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var w=b-this.blockSize,O=this.B,M=this.h,U=0;U<b;){if(M==0)for(;U<=w;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<b;)if(O[M++]=C.charCodeAt(U++),M==this.blockSize){l(this,O),M=0;break}}else for(;U<b;)if(O[M++]=C[U++],M==this.blockSize){l(this,O),M=0;break}}this.h=M,this.o+=b},a.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var w=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=w&255,w/=256;for(this.u(C),C=Array(16),b=w=0;4>b;++b)for(var O=0;32>O;O+=8)C[w++]=this.g[b]>>>O&255;return C};function c(C,b){var w=g;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=b(C)}function d(C,b){this.h=b;for(var w=[],O=!0,M=C.length-1;0<=M;M--){var U=C[M]|0;O&&U==b||(w[M]=U,O=!1)}this.g=w}var g={};function p(C){return-128<=C&&128>C?c(C,function(b){return new d([b|0],0>b?-1:0)}):new d([C|0],0>C?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return S;if(0>C)return Y(v(-C));for(var b=[],w=1,O=0;C>=w;O++)b[O]=C/w|0,w*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return Y(A(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(b,8)),O=S,M=0;M<C.length;M+=8){var U=Math.min(8,C.length-M),I=parseInt(C.substring(M,M+U),b);8>U?(U=v(Math.pow(b,U)),O=O.j(U).add(v(I))):(O=O.j(w),O=O.add(v(I)))}return O}var S=p(0),V=p(1),F=p(16777216);s=d.prototype,s.m=function(){if(nt(this))return-Y(this).m();for(var C=0,b=1,w=0;w<this.g.length;w++){var O=this.i(w);C+=(0<=O?O:4294967296+O)*b,b*=4294967296}return C},s.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(nt(this))return"-"+Y(this).toString(C);for(var b=v(Math.pow(C,6)),w=this,O="";;){var M=Ct(w,b).g;w=st(w,M.j(b));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(C);if(w=M,Z(w))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},s.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function nt(C){return C.h==-1}s.l=function(C){return C=st(this,C),nt(C)?-1:Z(C)?0:1};function Y(C){for(var b=C.g.length,w=[],O=0;O<b;O++)w[O]=~C.g[O];return new d(w,~C.h).add(V)}s.abs=function(){return nt(this)?Y(this):this},s.add=function(C){for(var b=Math.max(this.g.length,C.g.length),w=[],O=0,M=0;M<=b;M++){var U=O+(this.i(M)&65535)+(C.i(M)&65535),I=(U>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);O=I>>>16,U&=65535,I&=65535,w[M]=I<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function st(C,b){return C.add(Y(b))}s.j=function(C){if(Z(this)||Z(C))return S;if(nt(this))return nt(C)?Y(this).j(Y(C)):Y(Y(this).j(C));if(nt(C))return Y(this.j(Y(C)));if(0>this.l(F)&&0>C.l(F))return v(this.m()*C.m());for(var b=this.g.length+C.g.length,w=[],O=0;O<2*b;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<C.g.length;M++){var U=this.i(O)>>>16,I=this.i(O)&65535,ce=C.i(M)>>>16,Ae=C.i(M)&65535;w[2*O+2*M]+=I*Ae,pt(w,2*O+2*M),w[2*O+2*M+1]+=U*Ae,pt(w,2*O+2*M+1),w[2*O+2*M+1]+=I*ce,pt(w,2*O+2*M+1),w[2*O+2*M+2]+=U*ce,pt(w,2*O+2*M+2)}for(O=0;O<b;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=b;O<2*b;O++)w[O]=0;return new d(w,0)};function pt(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function ct(C,b){this.g=C,this.h=b}function Ct(C,b){if(Z(b))throw Error("division by zero");if(Z(C))return new ct(S,S);if(nt(C))return b=Ct(Y(C),b),new ct(Y(b.g),Y(b.h));if(nt(b))return b=Ct(C,Y(b)),new ct(Y(b.g),b.h);if(30<C.g.length){if(nt(C)||nt(b))throw Error("slowDivide_ only works with positive integers.");for(var w=V,O=b;0>=O.l(C);)w=Yt(w),O=Yt(O);var M=wt(w,1),U=wt(O,1);for(O=wt(O,2),w=wt(w,2);!Z(O);){var I=U.add(O);0>=I.l(C)&&(M=M.add(w),U=I),O=wt(O,1),w=wt(w,1)}return b=st(C,M.j(b)),new ct(M,b)}for(M=S;0<=C.l(b);){for(w=Math.max(1,Math.floor(C.m()/b.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=v(w),I=U.j(b);nt(I)||0<I.l(C);)w-=O,U=v(w),I=U.j(b);Z(U)&&(U=V),M=M.add(U),C=st(C,I)}return new ct(M,C)}s.A=function(C){return Ct(this,C).h},s.and=function(C){for(var b=Math.max(this.g.length,C.g.length),w=[],O=0;O<b;O++)w[O]=this.i(O)&C.i(O);return new d(w,this.h&C.h)},s.or=function(C){for(var b=Math.max(this.g.length,C.g.length),w=[],O=0;O<b;O++)w[O]=this.i(O)|C.i(O);return new d(w,this.h|C.h)},s.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),w=[],O=0;O<b;O++)w[O]=this.i(O)^C.i(O);return new d(w,this.h^C.h)};function Yt(C){for(var b=C.g.length+1,w=[],O=0;O<b;O++)w[O]=C.i(O)<<1|C.i(O-1)>>>31;return new d(w,C.h)}function wt(C,b){var w=b>>5;b%=32;for(var O=C.g.length-w,M=[],U=0;U<O;U++)M[U]=0<b?C.i(U+w)>>>b|C.i(U+w+1)<<32-b:C.i(U+w);return new d(M,C.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,k0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Ms=d}).apply(typeof W_<"u"?W_:typeof self<"u"?self:typeof window<"u"?window:{});var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L0,ul,P0,bc,Bd,z0,j0,B0;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof pc=="object"&&pc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in _))break t;_=_[k]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,T=!1,k={next:function(){if(!T&&_<u.length){var H=_++;return{value:m(H,u[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,_){return u.call.apply(u.bind,arguments)}function S(u,m,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,T),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function V(u,m,_){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:S,V.apply(null,arguments)}function F(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Z(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,k,H){for(var et=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)et[Ft-2]=arguments[Ft];return m.prototype[k].apply(T,et)}}function nt(u){const m=u.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function Y(u,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(p(T)){const k=u.length||0,H=T.length||0;u.length=k+H;for(let et=0;et<H;et++)u[k+et]=T[et]}else u.push(T)}}class st{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function pt(u){return/^[\s\xa0]*$/.test(u)}function ct(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Ct(u){return Ct[" "](u),u}Ct[" "]=function(){};var Yt=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function wt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function C(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function b(u){const m={};for(const _ in u)m[_]=u[_];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let _,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(_ in T)u[_]=T[_];for(let H=0;H<w.length;H++)_=w[H],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function M(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function U(u){g.setTimeout(()=>{throw u},0)}function I(){var u=ft;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ce{constructor(){this.h=this.g=null}add(m,_){const T=Ae.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var Ae=new st(()=>new z,u=>u.reset());class z{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let J,rt=!1,ft=new ce,Rt=()=>{const u=g.Promise.resolve(void 0);J=()=>{u.then(D)}};var D=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(_){U(_)}var m=Ae;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}rt=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var it=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u})();function dt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Yt){t:{try{Ct(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&dt.aa.h.call(this)}}Z(dt,W);var vt={2:"touch",3:"pen",4:"mouse"};dt.prototype.h=function(){dt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function re(u,m,_,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=k,this.key=++Ve,this.da=this.fa=!1}function Kn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fi(u){this.src=u,this.g={},this.h=0}fi.prototype.add=function(u,m,_,T,k){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var et=Hs(u,m,T,k);return-1<et?(m=u[et],_||(m.fa=!1)):(m=new re(m,this.src,H,!!T,k),m.fa=_,u.push(m)),m};function Wr(u,m){var _=m.type;if(_ in u.g){var T=u.g[_],k=Array.prototype.indexOf.call(T,m,void 0),H;(H=0<=k)&&Array.prototype.splice.call(T,k,1),H&&(Kn(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Hs(u,m,_,T){for(var k=0;k<u.length;++k){var H=u[k];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==T)return k}return-1}var kn="closure_lm_"+(1e6*Math.random()|0),ts={};function Fs(u,m,_,T,k){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Fs(u,m[H],_,T,k);return null}return _=ql(_),u&&u[xt]?u.K(m,_,v(T)?!!T.capture:!1,k):hh(u,m,_,!1,T,k)}function hh(u,m,_,T,k,H){if(!m)throw Error("Invalid event type");var et=v(k)?!!k.capture:!!k,Ft=no(u);if(Ft||(u[kn]=Ft=new fi(u)),_=Ft.add(m,_,T,et,H),_.proxy)return _;if(T=Bl(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)it||(k=et),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(Qs(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Bl(){function u(_){return m.call(u.src,u.listener,_)}const m=fh;return u}function Gs(u,m,_,T,k){if(Array.isArray(m))for(var H=0;H<m.length;H++)Gs(u,m[H],_,T,k);else T=v(T)?!!T.capture:!!T,_=ql(_),u&&u[xt]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],_=Hs(H,_,T,k),-1<_&&(Kn(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=no(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Hs(m,_,T,k)),(_=-1<u?m[u]:null)&&es(_))}function es(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[xt])Wr(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Qs(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=no(m))?(Wr(_,u),_.h==0&&(_.src=null,m[kn]=null)):Kn(u)}}}function Qs(u){return u in ts?ts[u]:ts[u]="on"+u}function fh(u,m){if(u.da)u=!0;else{m=new dt(m,this);var _=u.listener,T=u.ha||u.src;u.fa&&es(u),u=_.call(T,m)}return u}function no(u){return u=u[kn],u instanceof fi?u:null}var xe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ql(u){return typeof u=="function"?u:(u[xe]||(u[xe]=function(m){return u.handleEvent(m)}),u[xe])}function Se(){G.call(this),this.i=new fi(this),this.M=this,this.F=null}Z(Se,G),Se.prototype[xt]=!0,Se.prototype.removeEventListener=function(u,m,_,T){Gs(this,u,m,_,T)};function Ie(u,m){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var k=m;m=new W(T,u),O(m,k)}if(k=!0,_)for(var H=_.length-1;0<=H;H--){var et=m.g=_[H];k=di(et,T,!0,m)&&k}if(et=m.g=u,k=di(et,T,!0,m)&&k,k=di(et,T,!1,m)&&k,_)for(H=0;H<_.length;H++)et=m.g=_[H],k=di(et,T,!1,m)&&k}Se.prototype.N=function(){if(Se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],T=0;T<_.length;T++)Kn(_[T]);delete u.g[m],u.h--}}this.F=null},Se.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},Se.prototype.L=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function di(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,H=0;H<m.length;++H){var et=m[H];if(et&&!et.da&&et.capture==_){var Ft=et.listener,ge=et.ha||et.src;et.fa&&Wr(u.i,et),k=Ft.call(ge,T)!==!1&&k}}return k&&!T.defaultPrevented}function Hl(u,m,_){if(typeof u=="function")_&&(u=V(u,_));else if(u&&typeof u.handleEvent=="function")u=V(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function io(u){u.g=Hl(()=>{u.g=null,u.i&&(u.i=!1,io(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class dh extends G{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:io(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(u){G.call(this),this.h=u,this.g={}}Z(ns,G);var Ji=[];function Ge(u){wt(u.g,function(m,_){this.g.hasOwnProperty(_)&&es(m)},u),u.g={}}ns.prototype.N=function(){ns.aa.N.call(this),Ge(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bn=g.JSON.stringify,Ze=g.JSON.parse,mh=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function ro(){}ro.prototype.h=null;function Fl(u){return u.h||(u.h=u.i())}function is(){}var Yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zi(){W.call(this,"d")}Z(Zi,W);function Ln(){W.call(this,"c")}Z(Ln,W);var wn={},Wi=null;function Ks(){return Wi=Wi||new Se}wn.La="serverreachability";function so(u){W.call(this,wn.La,u)}Z(so,W);function mi(u){const m=Ks();Ie(m,new so(m))}wn.STAT_EVENT="statevent";function tr(u,m){W.call(this,wn.STAT_EVENT,u),this.stat=m}Z(tr,W);function Ue(u){const m=Ks();Ie(m,new tr(m,u))}wn.Ma="timingevent";function ao(u,m){W.call(this,wn.Ma,u),this.size=m}Z(ao,W);function er(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function nr(){this.g=!0}nr.prototype.xa=function(){this.g=!1};function oo(u,m,_,T,k,H){u.info(function(){if(u.g)if(H)for(var et="",Ft=H.split("&"),ge=0;ge<Ft.length;ge++){var It=Ft[ge].split("=");if(1<It.length){var De=It[0];It=It[1];var Ne=De.split("_");et=2<=Ne.length&&Ne[1]=="type"?et+(De+"="+It+"&"):et+(De+"=redacted&")}}else et=null;else et=H;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+_+`
`+et})}function lo(u,m,_,T,k,H,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+_+`
`+H+" "+et})}function gi(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Xn(u,_)+(T?" "+T:"")})}function Gl(u,m){u.info(function(){return"TIMEOUT: "+m})}nr.prototype.info=function(){};function Xn(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var k=T[1];if(Array.isArray(k)&&!(1>k.length)){var H=k[0];if(H!="noop"&&H!="stop"&&H!="close")for(var et=1;et<k.length;et++)k[et]=""}}}}return bn(_)}catch{return m}}var ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ke={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function ir(){}Z(ir,ro),ir.prototype.g=function(){return new XMLHttpRequest},ir.prototype.i=function(){return{}},$n=new ir;function Jn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.R=T||1,this.U=new ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ql}function Ql(){this.i=null,this.g="",this.h=!1}var uo={},pi={};function rs(u,m,_){u.L=1,u.v=os(oe(m)),u.m=_,u.P=!0,yi(u,null)}function yi(u,m){u.F=Date.now(),Pn(u),u.A=oe(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ei(_.i,"t",T),u.C=0,_=u.j.J,u.h=new Ql,u.g=lu(u.j,_?m:null,!u.m),0<u.O&&(u.M=new dh(V(u.Y,u,u.g),u.O)),m=u.U,_=u.g,T=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Ji[0]=k.toString()),k=Ji);for(var H=0;H<k.length;H++){var et=Fs(_,k[H],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),mi(),oo(u.i,u.u,u.A,u.l,u.R,u.m)}Jn.prototype.ca=function(u){u=u.target;const m=this.M;m&&en(u)==3?m.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)t:{const Ne=en(this.g);var m=this.g.Ba();const pr=this.g.Z();if(!(3>Ne)&&(Ne!=3||this.g&&(this.h.h||this.g.oa()||cs(this.g)))){this.J||Ne!=4||m==7||(m==8||0>=pr?mi(3):mi(2)),Ys(this);var _=this.g.Z();this.X=_;e:if(_i(this)){var T=cs(this.g);u="";var k=T.length,H=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),rr(this);var et="";break e}this.h.i=new g.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(H&&m==k-1)});T.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=_==200,lo(this.i,this.u,this.A,this.l,this.R,Ne,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ft,ge=this.g;if((Ft=ge.g?ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(Ft)){var It=Ft;break e}}It=null}if(_=It)gi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zn(this,_);else{this.o=!1,this.s=3,Ue(12),We(this),rr(this);break t}}if(this.P){_=!0;let on;for(;!this.J&&this.C<et.length;)if(on=ss(this,et),on==pi){Ne==4&&(this.s=4,Ue(14),_=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(on==uo){this.s=4,Ue(15),gi(this.i,this.l,et,"[Invalid Chunk]"),_=!1;break}else gi(this.i,this.l,on,null),Zn(this,on);if(_i(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||et.length!=0||this.h.h||(this.s=1,Ue(16),_=!1),this.o=this.o&&_,!_)gi(this.i,this.l,et,"[Invalid Chunked Response]"),We(this),rr(this);else if(0<et.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),To(De),De.M=!0,Ue(11))}}else gi(this.i,this.l,et,null),Zn(this,et);Ne==4&&We(this),this.o&&!this.J&&(Ne==4?su(this.j,this):(this.o=!1,Pn(this)))}else Wl(this.g),_==400&&0<et.indexOf("Unknown SID")?(this.s=3,Ue(12)):(this.s=0,Ue(13)),We(this),rr(this)}}}catch{}finally{}};function _i(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ss(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?pi:(_=Number(m.substring(_,T)),isNaN(_)?uo:(T+=1,T+_>m.length?pi:(m=m.slice(T,T+_),u.C=T+_,m)))}Jn.prototype.cancel=function(){this.J=!0,We(this)};function Pn(u){u.S=Date.now()+u.I,he(u,u.I)}function he(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=er(V(u.ba,u),m)}function Ys(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Jn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Gl(this.i,this.A),this.L!=2&&(mi(),Ue(17)),We(this),this.s=2,rr(this)):he(this,this.S-u)};function rr(u){u.j.G==0||u.J||su(u.j,u)}function We(u){Ys(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ge(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Zn(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||sr(_.h,u))){if(!u.K&&sr(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)mr(_),dr(_);else break t;Eo(_),Ue(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=er(V(_.Za,_),6e3));if(1>=Kl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ai(_,11)}else if((u.K||_.g==u)&&mr(_),!pt(m))for(k=_.Da.g.parse(m),m=0;m<k.length;m++){let It=k[m];if(_.T=It[0],It=It[1],_.G==2)if(It[0]=="c"){_.K=It[1],_.ia=It[2];const De=It[3];De!=null&&(_.la=De,_.j.info("VER="+_.la));const Ne=It[4];Ne!=null&&(_.Aa=Ne,_.j.info("SVER="+_.Aa));const pr=It[5];pr!=null&&typeof pr=="number"&&0<pr&&(T=1.5*pr,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const on=u.g;if(on){const ds=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ds){var H=T.h;H.g||ds.indexOf("spdy")==-1&&ds.indexOf("quic")==-1&&ds.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ar(H,H.h),H.h=null))}if(T.D){const Si=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;Si&&(T.ya=Si,Pt(T.I,T.D,Si))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var et=u;if(T.qa=ou(T,T.J?T.ia:null,T.W),et.K){Rn(T.h,et);var Ft=et,ge=T.L;ge&&(Ft.I=ge),Ft.B&&(Ys(Ft),Pn(Ft)),T.g=et}else iu(T);0<_.i.length&&na(_)}else It[0]!="stop"&&It[0]!="close"||Ai(_,7);else _.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?Ai(_,7):_o(_):It[0]!="noop"&&_.l&&_.l.ta(It),_.v=0)}}mi(4)}catch{}}var gh=class{constructor(u,m){this.g=u,this.map=m}};function co(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ho(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Kl(u){return u.h?1:u.g?u.g.size:0}function sr(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ar(u,m){u.g?u.g.add(m):u.h=m}function Rn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}co.prototype.cancel=function(){if(this.i=tn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function tn(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return nt(u.i)}function Yl(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,T=0;T<_;T++)m.push(u[T]);return m}m=[],_=0;for(T in u)m[_++]=u[T];return m}function ph(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const T in u)m[_++]=T;return m}}}function Xs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=ph(u),T=Yl(u),k=T.length,H=0;H<k;H++)m.call(void 0,T[H],_&&_[H],u)}var fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $s(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),k=null;if(0<=T){var H=u[_].substring(0,T);k=u[_].substring(T+1)}else H=u[_];m(H,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function vi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof vi){this.h=u.h,or(this,u.j),this.o=u.o,this.g=u.g,as(this,u.s),this.l=u.l;var m=u.i,_=new Wn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Js(this,_),this.m=u.m}else u&&(m=String(u).match(fo))?(this.h=!1,or(this,m[1]||"",!0),this.o=lr(m[2]||""),this.g=lr(m[3]||"",!0),as(this,m[4]),this.l=lr(m[5]||"",!0),Js(this,m[6]||"",!0),this.m=lr(m[7]||"")):(this.h=!1,this.i=new Wn(null,this.h))}vi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(In(m,mo,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(In(m,mo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(In(_,_.charAt(0)=="/"?go:Xl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",In(_,vh)),u.join("")};function oe(u){return new vi(u)}function or(u,m,_){u.j=_?lr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function as(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Js(u,m,_){m instanceof Wn?(u.i=m,$l(u.i,u.h)):(_||(m=In(m,_h)),u.i=new Wn(m,u.h))}function Pt(u,m,_){u.i.set(m,_)}function os(u){return Pt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function lr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function In(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,yh),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var mo=/[#\/\?@]/g,Xl=/[#\?:]/g,go=/[#\?]/g,_h=/[#\?@]/g,vh=/#/g;function Wn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ce(u){u.g||(u.g=new Map,u.h=0,u.i&&$s(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=Wn.prototype,s.add=function(u,m){Ce(this),this.i=null,u=mn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Zs(u,m){Ce(u),m=mn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ws(u,m){return Ce(u),m=mn(u,m),u.g.has(m)}s.forEach=function(u,m){Ce(this),this.g.forEach(function(_,T){_.forEach(function(k){u.call(m,k,T,this)},this)},this)},s.na=function(){Ce(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const k=u[T];for(let H=0;H<k.length;H++)_.push(m[T])}return _},s.V=function(u){Ce(this);let m=[];if(typeof u=="string")Ws(this,u)&&(m=m.concat(this.g.get(mn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},s.set=function(u,m){return Ce(this),this.i=null,u=mn(this,u),Ws(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ei(u,m,_){Zs(u,m),0<_.length&&(u.i=null,u.g.set(mn(u,m),nt(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const H=encodeURIComponent(String(T)),et=this.V(T);for(T=0;T<et.length;T++){var k=H;et[T]!==""&&(k+="="+encodeURIComponent(String(et[T]))),u.push(k)}}return this.i=u.join("&")};function mn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function $l(u,m){m&&!u.j&&(Ce(u),u.i=null,u.g.forEach(function(_,T){var k=T.toLowerCase();T!=k&&(Zs(this,T),Ei(this,k,_))},u)),u.j=m}function po(u,m){const _=new nr;if(g.Image){const T=new Image;T.onload=F(an,_,"TestLoadImage: loaded",!0,m,T),T.onerror=F(an,_,"TestLoadImage: error",!1,m,T),T.onabort=F(an,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=F(an,_,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Jl(u,m){const _=new nr,T=new AbortController,k=setTimeout(()=>{T.abort(),an(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(k),H.ok?an(_,"TestPingServer: ok",!0,m):an(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),an(_,"TestPingServer: error",!1,m)})}function an(u,m,_,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(_)}catch{}}function zn(){this.g=new mh}function yo(u,m,_){const T=_||"";try{Xs(u,function(k,H){let et=k;v(k)&&(et=bn(k)),m.push(T+H+"="+encodeURIComponent(et))})}catch(k){throw m.push(T+"type="+encodeURIComponent("_badmap")),k}}function ti(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(ti,ro),ti.prototype.g=function(){return new gn(this.l,this.j)},ti.prototype.i=(function(u){return function(){return u}})({});function gn(u,m){Se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(gn,Se),s=gn.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ur(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ta(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ta(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ei(this):ur(this),this.readyState==3&&ta(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,ei(this))},s.Qa=function(u){this.g&&(this.response=u,ei(this))},s.ga=function(){this.g&&ei(this)};function ei(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ur(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function ur(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ls(u){let m="";return wt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function cr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=ls(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Pt(u,m,_))}function Wt(u){Se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Wt,Se);var Qe=/^https?$/i,Ti=["POST","PUT"];s=Wt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?Fl(this.o):Fl($n),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){us(this,H);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)_.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())_.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),k=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ti,m,void 0))||T||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,et]of _)this.g.setRequestHeader(H,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ea(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){us(this,H)}};function us(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,hr(u),fr(u)}function hr(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ie(this,"complete"),Ie(this,"abort"),fr(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fr(this,!0)),Wt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Zl(this):this.bb())},s.bb=function(){Zl(this)};function Zl(u){if(u.h&&typeof d<"u"&&(!u.v[1]||en(u)!=4||u.Z()!=2)){if(u.u&&en(u)==4)Hl(u.Ea,0,u);else if(Ie(u,"readystatechange"),en(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=et===0){var k=String(u.D).match(fo)[1]||null;!k&&g.self&&g.self.location&&(k=g.self.location.protocol.slice(0,-1)),T=!Qe.test(k?k.toLowerCase():"")}_=T}if(_)Ie(u,"complete"),Ie(u,"success");else{u.m=6;try{var H=2<en(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",hr(u)}}finally{fr(u)}}}}function fr(u,m){if(u.g){ea(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ie(u,"ready");try{_.onreadystatechange=T}catch{}}}function ea(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function en(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ze(m)}};function cs(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Wl(u){const m={};u=(u.g&&2<=en(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(pt(u[T]))continue;var _=M(u[T]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[k]||[];m[k]=H,H.push(_)}C(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hs(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function tu(u){this.Aa=0,this.i=[],this.j=new nr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hs("baseRetryDelayMs",5e3,u),this.cb=hs("retryDelaySeedMs",1e4,u),this.Wa=hs("forwardChannelMaxRetries",2,u),this.wa=hs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new co(u&&u.concurrentRequestLimit),this.Da=new zn,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=tu.prototype,s.la=8,s.G=1,s.connect=function(u,m,_,T){Ue(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=ou(this,null,this.W),na(this)};function _o(u){if(eu(u),u.G==3){var m=u.U++,_=oe(u.I);if(Pt(_,"SID",u.K),Pt(_,"RID",m),Pt(_,"TYPE","terminate"),fs(u,_),m=new Jn(u,u.j,m),m.L=2,m.v=os(oe(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=lu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Pn(m)}Ao(u)}function dr(u){u.g&&(To(u),u.g.cancel(),u.g=null)}function eu(u){dr(u),u.u&&(g.clearTimeout(u.u),u.u=null),mr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function na(u){if(!ho(u.h)&&!u.s){u.s=!0;var m=u.Ga;J||Rt(),rt||(J(),rt=!0),ft.add(m,u),u.B=0}}function Eh(u,m){return Kl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=er(V(u.Ga,u,m),au(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Jn(this,this.j,u);let H=this.o;if(this.S&&(H?(H=b(H),O(H,this.S)):H=this.S),this.m!==null||this.O||(k.H=H,H=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=vo(this,k,m),_=oe(this.I),Pt(_,"RID",u),Pt(_,"CVER",22),this.D&&Pt(_,"X-HTTP-Session-Id",this.D),fs(this,_),H&&(this.O?m="headers="+encodeURIComponent(String(ls(H)))+"&"+m:this.m&&cr(_,this.m,H)),ar(this.h,k),this.Ua&&Pt(_,"TYPE","init"),this.P?(Pt(_,"$req",m),Pt(_,"SID","null"),k.T=!0,rs(k,_,null)):rs(k,_,m),this.G=2}}else this.G==3&&(u?nu(this,u):this.i.length==0||ho(this.h)||nu(this))};function nu(u,m){var _;m?_=m.l:_=u.U++;const T=oe(u.I);Pt(T,"SID",u.K),Pt(T,"RID",_),Pt(T,"AID",u.T),fs(u,T),u.m&&u.o&&cr(T,u.m,u.o),_=new Jn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=vo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ar(u.h,_),rs(_,T,m)}function fs(u,m){u.H&&wt(u.H,function(_,T){Pt(m,T,_)}),u.l&&Xs({},function(_,T){Pt(m,T,_)})}function vo(u,m,_){_=Math.min(u.i.length,_);var T=u.l?V(u.l.Na,u.l,u):null;t:{var k=u.i;let H=-1;for(;;){const et=["count="+_];H==-1?0<_?(H=k[0].g,et.push("ofs="+H)):H=0:et.push("ofs="+H);let Ft=!0;for(let ge=0;ge<_;ge++){let It=k[ge].g;const De=k[ge].map;if(It-=H,0>It)H=Math.max(0,k[ge].g-100),Ft=!1;else try{yo(De,et,"req"+It+"_")}catch{T&&T(De)}}if(Ft){T=et.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,T}function iu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;J||Rt(),rt||(J(),rt=!0),ft.add(m,u),u.v=0}}function Eo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=er(V(u.Fa,u),au(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,ru(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=er(V(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ue(10),dr(this),ru(this))};function To(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function ru(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=oe(u.qa);Pt(m,"RID","rpc"),Pt(m,"SID",u.K),Pt(m,"AID",u.T),Pt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Pt(m,"TO",u.ja),Pt(m,"TYPE","xmlhttp"),fs(u,m),u.m&&u.o&&cr(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=os(oe(m)),_.m=null,_.P=!0,yi(_,u)}s.Za=function(){this.C!=null&&(this.C=null,dr(this),Eo(this),Ue(19))};function mr(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function su(u,m){var _=null;if(u.g==m){mr(u),To(u),u.g=null;var T=2}else if(sr(u.h,m))_=m.D,Rn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;T=Ks(),Ie(T,new ao(T,_)),na(u)}else iu(u);else if(k=m.s,k==3||k==0&&0<m.X||!(T==1&&Eh(u,m)||T==2&&Eo(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),k){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function au(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var _=V(u.fb,u),T=u.Xa;const k=!T;T=new vi(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||or(T,"https"),os(T),k?po(T.toString(),_):Jl(T.toString(),_)}else Ue(2);u.G=0,u.l&&u.l.sa(m),Ao(u),eu(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function Ao(u){if(u.G=0,u.ka=[],u.l){const m=tn(u.h);(m.length!=0||u.i.length!=0)&&(Y(u.ka,m),Y(u.ka,u.i),u.h.i.length=0,nt(u.i),u.i.length=0),u.l.ra()}}function ou(u,m,_){var T=_ instanceof vi?oe(_):new vi(_);if(T.g!="")m&&(T.g=m+"."+T.g),as(T,T.s);else{var k=g.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var H=new vi(null);T&&or(H,T),m&&(H.g=m),k&&as(H,k),_&&(H.l=_),T=H}return _=u.D,m=u.ya,_&&m&&Pt(T,_,m),Pt(T,"VER",u.la),fs(u,T),T}function lu(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Wt(new ti({eb:_})):new Wt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function uu(){}s=uu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function ia(){}ia.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){Se.call(this),this.g=new tu(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!pt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!pt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new gr(this)}Z(nn,Se),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){_o(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=bn(u),u=_);m.i.push(new gh(m.Ya++,u)),m.G==3&&na(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,_o(this.g),delete this.g,nn.aa.N.call(this)};function cu(u){Zi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z(cu,Zi);function hu(){Ln.call(this),this.status=1}Z(hu,Ln);function gr(u){this.g=u}Z(gr,uu),gr.prototype.ua=function(){Ie(this.g,"a")},gr.prototype.ta=function(u){Ie(this.g,new cu(u))},gr.prototype.sa=function(u){Ie(this.g,new hu)},gr.prototype.ra=function(){Ie(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,B0=function(){return new ia},j0=function(){return Ks()},z0=wn,Bd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ae.NO_ERROR=0,ae.TIMEOUT=8,ae.HTTP_ERROR=6,bc=ae,ke.COMPLETE="complete",P0=ke,is.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",Se.prototype.listen=Se.prototype.K,ul=is,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,L0=Wt}).apply(typeof pc<"u"?pc:typeof self<"u"?self:typeof window<"u"?window:{});const tv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xe=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new sm("@firebase/firestore");function al(){return Ls.logLevel}function lt(s,...t){if(Ls.logLevel<=kt.DEBUG){const i=t.map(ym);Ls.debug(`Firestore (${Za}): ${s}`,...i)}}function Qi(s,...t){if(Ls.logLevel<=kt.ERROR){const i=t.map(ym);Ls.error(`Firestore (${Za}): ${s}`,...i)}}function qa(s,...t){if(Ls.logLevel<=kt.WARN){const i=t.map(ym);Ls.warn(`Firestore (${Za}): ${s}`,...i)}}function ym(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(s="Unexpected state"){const t=`FIRESTORE (${Za}) INTERNAL ASSERTION FAILED: `+s;throw Qi(t),new Error(t)}function Kt(s,t){s||_t()}function At(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Yi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class BR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class qR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class HR{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Kt(this.o===void 0);let a=this.i;const l=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Vs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=c;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Vs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Kt(typeof a.accessToken=="string"),new q0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string"),new Xe(t)}}class FR{constructor(t,i,a){this.l=t,this.h=i,this.P=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class GR{constructor(t,i,a){this.l=t,this.h=i,this.P=a}getToken(){return Promise.resolve(new FR(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class QR{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KR{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){Kt(this.o===void 0);const a=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Kt(typeof i.token=="string"),this.R=i.token,new QR(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length;let a="";for(;a.length<20;){const l=YR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%t.length))}return a}}function Bt(s,t){return s<t?-1:s>t?1:0}function Ha(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return we.fromMillis(Date.now())}static fromDate(t){return we.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor(1e6*(t-1e3*i));return new we(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new we(0,0))}static max(){return new Tt(new we(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(t,i,a){i===void 0?i=0:i>t.length&&_t(),a===void 0?a=t.length-i:a>t.length-i&&_t(),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Tl.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Tl?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=t.get(l),d=i.get(l);if(c<d)return-1;if(c>d)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class ne extends Tl{construct(t,i,a){return new ne(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const XR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends Tl{construct(t,i,a){return new qe(t,i,a)}static isValidIdentifier(t){return XR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qe(["__name__"])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ot($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ot($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new ot($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(ne.fromString(t))}static fromName(t){return new mt(ne.fromString(t).popFirst(5))}static empty(){return new mt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new ne(t.slice()))}}function $R(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(a===1e9?new we(i+1,0):new we(i,a));return new Xr(l,mt.empty(),t)}function JR(s){return new Xr(s.readTime,s.key,-1)}class Xr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Xr(Tt.min(),mt.empty(),-1)}static max(){return new Xr(Tt.max(),mt.empty(),-1)}}function ZR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(s.documentKey,t.documentKey),i!==0?i:Bt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class t1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==WR)throw s;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new tt(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof tt?i:tt.resolve(i)}catch(i){return tt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):tt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):tt.reject(i)}static resolve(t){return new tt(((i,a)=>{i(t)}))}static reject(t){return new tt(((i,a)=>{a(t)}))}static waitFor(t){return new tt(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(p=>a(p)))})),d=!0,c===l&&i()}))}static or(t){let i=tt.resolve(!1);for(const a of t)i=i.next((l=>l?tt.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new tt(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const v=p;i(t[v]).next((A=>{d[v]=A,++g,g===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new tt(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function e1(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ie(a),this.se=a=>i.writeSequenceNumber(a))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}_m.oe=-1;function Jc(s){return s==null}function Lc(s){return s===0&&1/s==-1/0}function n1(s){return typeof s=="number"&&Number.isInteger(s)&&!Lc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Bs(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function F0(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t,i){this.comparator=t,this.root=i||Be.EMPTY}insert(t,i){return new se(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new yc(this.root,t,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new yc(this.root,t,this.comparator,!0)}}class yc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Be.RED,this.left=l??Be.EMPTY,this.right=c??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Be(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Be.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const t=this.left.check();if(t!==this.right.check())throw _t();return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(t,i,a,l,c){return this}insert(t,i,a){return new Be(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.comparator=t,this.data=new se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new nv(this.data.getIterator())}getIteratorFrom(t){return new nv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new He(this.comparator);return i.data=t,i}}class nv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new Sn([])}unionWith(t){let i=new He(qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Sn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ha(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new G0("Invalid base64 string: "+c):c}})(t);return new Fe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Fe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const i1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(s){if(Kt(!!s),typeof s=="string"){let t=0;const i=i1.exec(s);if(Kt(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:me(s.seconds),nanos:me(s.nanos)}}function me(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ps(s){return typeof s=="string"?Fe.fromBase64String(s):Fe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(s){var t,i;return((i=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function Em(s){const t=s.mapValue.fields.__previous_value__;return vm(t)?Em(t):t}function Al(s){const t=$r(s.mapValue.fields.__local_write_time__.timestampValue);return new we(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t,i,a,l,c,d,g,p,v){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=v}}class Sl{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Sl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c={mapValue:{}};function zs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?vm(s)?4:a1(s)?9007199254740991:s1(s)?10:11:_t()}function hi(s,t){if(s===t)return!0;const i=zs(s);if(i!==zs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Al(s).isEqual(Al(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=$r(l.timestampValue),g=$r(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Ps(l.bytesValue).isEqual(Ps(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return me(l.geoPointValue.latitude)===me(c.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return me(l.integerValue)===me(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=me(l.doubleValue),g=me(c.doubleValue);return d===g?Lc(d)===Lc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return Ha(s.arrayValue.values||[],t.arrayValue.values||[],hi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(ev(d)!==ev(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!hi(d[p],g[p])))return!1;return!0})(s,t);default:return _t()}}function bl(s,t){return(s.values||[]).find((i=>hi(i,t)))!==void 0}function Fa(s,t){if(s===t)return 0;const i=zs(s),a=zs(t);if(i!==a)return Bt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Bt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=me(c.integerValue||c.doubleValue),p=me(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(s,t);case 3:return iv(s.timestampValue,t.timestampValue);case 4:return iv(Al(s),Al(t));case 5:return Bt(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=Ps(c),p=Ps(d);return g.compareTo(p)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),p=d.split("/");for(let v=0;v<g.length&&v<p.length;v++){const A=Bt(g[v],p[v]);if(A!==0)return A}return Bt(g.length,p.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Bt(me(c.latitude),me(d.latitude));return g!==0?g:Bt(me(c.longitude),me(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return rv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){var g,p,v,A;const S=c.fields||{},V=d.fields||{},F=(g=S.value)===null||g===void 0?void 0:g.arrayValue,Z=(p=V.value)===null||p===void 0?void 0:p.arrayValue,nt=Bt(((v=F==null?void 0:F.values)===null||v===void 0?void 0:v.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:rv(F,Z)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===_c.mapValue&&d===_c.mapValue)return 0;if(c===_c.mapValue)return 1;if(d===_c.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),v=d.fields||{},A=Object.keys(v);p.sort(),A.sort();for(let S=0;S<p.length&&S<A.length;++S){const V=Bt(p[S],A[S]);if(V!==0)return V;const F=Fa(g[p[S]],v[A[S]]);if(F!==0)return F}return Bt(p.length,A.length)})(s.mapValue,t.mapValue);default:throw _t()}}function iv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Bt(s,t);const i=$r(s),a=$r(t),l=Bt(i.seconds,a.seconds);return l!==0?l:Bt(i.nanos,a.nanos)}function rv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Fa(i[l],a[l]);if(c)return c}return Bt(i.length,a.length)}function Ga(s){return qd(s)}function qd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=$r(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ps(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return mt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=qd(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${qd(i.fields[d])}`;return l+"}"})(s.mapValue):_t()}function sv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Hd(s){return!!s&&"integerValue"in s}function Tm(s){return!!s&&"arrayValue"in s}function av(s){return!!s&&"nullValue"in s}function ov(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function wc(s){return!!s&&"mapValue"in s}function s1(s){var t,i;return((i=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function ml(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return Bs(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=ml(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=ml(s.arrayValue.values[i]);return t}return Object.assign({},s)}function a1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!wc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=ml(i)}setAll(t){let i=qe.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=ml(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());wc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return hi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];wc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Bs(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new dn(ml(this.value))}}function Q0(s){const t=[];return Bs(s.fields,((i,a)=>{const l=new qe([i]);if(wc(a)){const c=Q0(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Sn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new $e(t,0,Tt.min(),Tt.min(),Tt.min(),dn.empty(),0)}static newFoundDocument(t,i,a,l){return new $e(t,1,i,Tt.min(),a,l,0)}static newNoDocument(t,i){return new $e(t,2,i,Tt.min(),Tt.min(),dn.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,Tt.min(),Tt.min(),dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,i){this.position=t,this.inclusive=i}}function lv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=Fa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function uv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!hi(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,i="asc"){this.field=t,this.dir=i}}function o1(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{}class Te extends K0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new u1(t,i,a):i==="array-contains"?new f1(t,a):i==="in"?new d1(t,a):i==="not-in"?new m1(t,a):i==="array-contains-any"?new g1(t,a):new Te(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new c1(t,a):new h1(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Fa(i,this.value)):i!==null&&zs(this.value)===zs(i)&&this.matchesComparison(Fa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends K0{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new Gn(t,i)}matches(t){return Y0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Y0(s){return s.op==="and"}function X0(s){return l1(s)&&Y0(s)}function l1(s){for(const t of s.filters)if(t instanceof Gn)return!1;return!0}function Fd(s){if(s instanceof Te)return s.field.canonicalString()+s.op.toString()+Ga(s.value);if(X0(s))return s.filters.map((t=>Fd(t))).join(",");{const t=s.filters.map((i=>Fd(i))).join(",");return`${s.op}(${t})`}}function $0(s,t){return s instanceof Te?(function(a,l){return l instanceof Te&&a.op===l.op&&a.field.isEqual(l.field)&&hi(a.value,l.value)})(s,t):s instanceof Gn?(function(a,l){return l instanceof Gn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&$0(d,l.filters[g])),!0):!1})(s,t):void _t()}function J0(s){return s instanceof Te?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ga(i.value)}`})(s):s instanceof Gn?(function(i){return i.op.toString()+" {"+i.getFilters().map(J0).join(" ,")+"}"})(s):"Filter"}class u1 extends Te{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class c1 extends Te{constructor(t,i){super(t,"in",i),this.keys=Z0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class h1 extends Te{constructor(t,i){super(t,"not-in",i),this.keys=Z0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function Z0(s,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((a=>mt.fromName(a.referenceValue)))}class f1 extends Te{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Tm(i)&&bl(i.arrayValue,this.value)}}class d1 extends Te{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&bl(this.value.arrayValue,i)}}class m1 extends Te{constructor(t,i){super(t,"not-in",i)}matches(t){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!bl(this.value.arrayValue,i)}}class g1 extends Te{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Tm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>bl(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.ue=null}}function cv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new p1(s,t,i,a,l,c,d)}function Am(s){const t=At(s);if(t.ue===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Fd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Jc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ga(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ga(a))).join(",")),t.ue=i}return t.ue}function Sm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!o1(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!$0(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!uv(s.startAt,t.startAt)&&uv(s.endAt,t.endAt)}function Gd(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function y1(s,t,i,a,l,c,d,g){return new Ul(s,t,i,a,l,c,d,g)}function bm(s){return new Ul(s)}function hv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function W0(s){return s.collectionGroup!==null}function gl(s){const t=At(s);if(t.ce===null){t.ce=[];const i=new Set;for(const c of t.explicitOrderBy)t.ce.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new He(qe.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.ce.push(new zc(c,a))})),i.has(qe.keyField().canonicalString())||t.ce.push(new zc(qe.keyField(),a))}return t.ce}function ui(s){const t=At(s);return t.le||(t.le=_1(t,gl(s))),t.le}function _1(s,t){if(s.limitType==="F")return cv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new zc(l.field,c)}));const i=s.endAt?new Pc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Pc(s.startAt.position,s.startAt.inclusive):null;return cv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function Qd(s,t){const i=s.filters.concat([t]);return new Ul(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Kd(s,t,i){return new Ul(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Zc(s,t){return Sm(ui(s),ui(t))&&s.limitType===t.limitType}function tE(s){return`${Am(ui(s))}|lt:${s.limitType}`}function Va(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>J0(l))).join(", ")}]`),Jc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ga(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ga(l))).join(",")),`Target(${a})`})(ui(s))}; limitType=${s.limitType})`}function Wc(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):mt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of gl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,p){const v=lv(d,g,p);return d.inclusive?v<=0:v<0})(a.startAt,gl(a),l)||a.endAt&&!(function(d,g,p){const v=lv(d,g,p);return d.inclusive?v>=0:v>0})(a.endAt,gl(a),l))})(s,t)}function v1(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function eE(s){return(t,i)=>{let a=!1;for(const l of gl(s)){const c=E1(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function E1(s,t,i){const a=s.field.isKeyField()?mt.comparator(t.key,i.key):(function(c,d,g){const p=d.data.field(c),v=g.data.field(c);return p!==null&&v!==null?Fa(p,v):_t()})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Bs(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return F0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=new se(mt.comparator);function Ki(){return T1}const nE=new se(mt.comparator);function cl(...s){let t=nE;for(const i of s)t=t.insert(i.key,i);return t}function iE(s){let t=nE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Ns(){return pl()}function rE(){return pl()}function pl(){return new Wa((s=>s.toString()),((s,t)=>s.isEqual(t)))}const A1=new se(mt.comparator),S1=new He(mt.comparator);function Vt(...s){let t=S1;for(const i of s)t=t.add(i);return t}const b1=new He(Bt);function w1(){return b1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lc(t)?"-0":t}}function sE(s){return{integerValue:""+s}}function R1(s,t){return n1(t)?sE(t):wm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(){this._=void 0}}function I1(s,t,i){return s instanceof jc?(function(l,c){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&vm(c)&&(c=Em(c)),c&&(d.fields.__previous_value__=c),{mapValue:d}})(i,t):s instanceof wl?oE(s,t):s instanceof Rl?lE(s,t):(function(l,c){const d=aE(l,c),g=fv(d)+fv(l.Pe);return Hd(d)&&Hd(l.Pe)?sE(g):wm(l.serializer,g)})(s,t)}function C1(s,t,i){return s instanceof wl?oE(s,t):s instanceof Rl?lE(s,t):i}function aE(s,t){return s instanceof Bc?(function(a){return Hd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class jc extends th{}class wl extends th{constructor(t){super(),this.elements=t}}function oE(s,t){const i=uE(t);for(const a of s.elements)i.some((l=>hi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Rl extends th{constructor(t){super(),this.elements=t}}function lE(s,t){let i=uE(t);for(const a of s.elements)i=i.filter((l=>!hi(l,a)));return{arrayValue:{values:i}}}class Bc extends th{constructor(t,i){super(),this.serializer=t,this.Pe=i}}function fv(s){return me(s.integerValue||s.doubleValue)}function uE(s){return Tm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function D1(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof wl&&l instanceof wl||a instanceof Rl&&l instanceof Rl?Ha(a.elements,l.elements,hi):a instanceof Bc&&l instanceof Bc?hi(a.Pe,l.Pe):a instanceof jc&&l instanceof jc})(s.transform,t.transform)}class N1{constructor(t,i){this.version=t,this.transformResults=i}}class Hn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Hn}static exists(t){return new Hn(void 0,t)}static updateTime(t){return new Hn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class eh{}function cE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new fE(s.key,Hn.none()):new kl(s.key,s.data,Hn.none());{const i=s.data,a=dn.empty();let l=new He(qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Zr(s.key,a,new Sn(l.toArray()),Hn.none())}}function O1(s,t,i){s instanceof kl?(function(l,c,d){const g=l.value.clone(),p=mv(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof Zr?(function(l,c,d){if(!Rc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=mv(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(hE(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function yl(s,t,i,a){return s instanceof kl?(function(c,d,g,p){if(!Rc(c.precondition,d))return g;const v=c.value.clone(),A=gv(c.fieldTransforms,p,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,t,i,a):s instanceof Zr?(function(c,d,g,p){if(!Rc(c.precondition,d))return g;const v=gv(c.fieldTransforms,p,d),A=d.data;return A.setAll(hE(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,a):(function(c,d,g){return Rc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function M1(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=aE(a.transform,l||null);c!=null&&(i===null&&(i=dn.empty()),i.set(a.field,c))}return i||null}function dv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ha(a,l,((c,d)=>D1(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class kl extends eh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Zr extends eh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function hE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function mv(s,t,i){const a=new Map;Kt(s.length===i.length);for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,C1(d,g,i[l]))}return a}function gv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,I1(c,d,t))}return a}class fE extends eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V1 extends eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&O1(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=yl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=yl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=rE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const p=cE(d,g);p!==null&&a.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&Ha(this.mutations,t.mutations,((i,a)=>dv(i,a)))&&Ha(this.baseMutations,t.baseMutations,((i,a)=>dv(i,a)))}}class Rm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Kt(t.mutations.length===a.length);let l=(function(){return A1})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Rm(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,Lt;function L1(s){switch(s){default:return _t();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function dE(s){if(s===void 0)return Qi("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ee.OK:return $.OK;case Ee.CANCELLED:return $.CANCELLED;case Ee.UNKNOWN:return $.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return $.INTERNAL;case Ee.UNAVAILABLE:return $.UNAVAILABLE;case Ee.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ee.NOT_FOUND:return $.NOT_FOUND;case Ee.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ee.ABORTED:return $.ABORTED;case Ee.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ee.DATA_LOSS:return $.DATA_LOSS;default:return _t()}}(Lt=Ee||(Ee={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=new Ms([4294967295,4294967295],0);function pv(s){const t=P1().encode(s),i=new k0;return i.update(t),new Uint8Array(i.digest())}function yv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ms([i,a],0),new Ms([l,c],0)]}class Im{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new hl(`Invalid padding: ${i}`);if(a<0)throw new hl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new hl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new hl(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=Ms.fromNumber(this.Ie)}Ee(t,i,a){let l=t.add(i.multiply(Ms.fromNumber(a)));return l.compare(z1)===1&&(l=new Ms([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const i=pv(t),[a,l]=yv(i);for(let c=0;c<this.hashCount;c++){const d=this.Ee(a,l,c);if(!this.de(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Im(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.Ie===0)return;const i=pv(t),[a,l]=yv(i);for(let c=0;c<this.hashCount;c++){const d=this.Ee(a,l,c);this.Ae(d)}}Ae(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ll.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new nh(Tt.min(),l,new se(Bt),Ki(),Vt())}}class Ll{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ll(a,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(t,i,a,l){this.Re=t,this.removedTargetIds=i,this.key=a,this.Ve=l}}class mE{constructor(t,i){this.targetId=t,this.me=i}}class gE{constructor(t,i,a=Fe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class _v{constructor(){this.fe=0,this.ge=Ev(),this.pe=Fe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Vt(),i=Vt(),a=Vt();return this.ge.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:_t()}})),new Ll(this.pe,this.ye,t,i,a)}Ce(){this.we=!1,this.ge=Ev()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Kt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class j1{constructor(t){this.Le=t,this.Be=new Map,this.ke=Ki(),this.qe=vv(),this.Qe=new se(Bt)}Ke(t){for(const i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(const i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,(i=>{const a=this.Ge(i);switch(t.state){case 0:this.ze(i)&&a.De(t.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(t.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(a.Ne(),a.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),a.De(t.resumeToken));break;default:_t()}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach(((a,l)=>{this.ze(l)&&i(l)}))}He(t){const i=t.targetId,a=t.me.count,l=this.Je(i);if(l){const c=l.target;if(Gd(c))if(a===0){const d=new mt(c.path);this.Ue(i,d,$e.newNoDocument(d,Tt.min()))}else Kt(a===1);else{const d=this.Ye(i);if(d!==a){const g=this.Ze(t),p=g?this.Xe(g,t,d):1;if(p!==0){this.je(i);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,v)}}}}}Ze(t){const i=t.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Ps(a).toUint8Array()}catch(p){if(p instanceof G0)return qa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Im(d,l,c)}catch(p){return qa(p instanceof hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ie===0?null:g}Xe(t,i,a){return i.me.count===a-this.nt(t,i.targetId)?0:2}nt(t,i){const a=this.Le.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Le.tt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.Ue(i,c,null),l++)})),l}rt(t){const i=new Map;this.Be.forEach(((c,d)=>{const g=this.Je(d);if(g){if(c.current&&Gd(g.target)){const p=new mt(g.target.path);this.ke.get(p)!==null||this.it(d,p)||this.Ue(d,p,$e.newNoDocument(p,t))}c.be&&(i.set(d,c.ve()),c.Ce())}}));let a=Vt();this.qe.forEach(((c,d)=>{let g=!0;d.forEachWhile((p=>{const v=this.Je(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.ke.forEach(((c,d)=>d.setReadTime(t)));const l=new nh(t,i,this.Qe,this.ke,a);return this.ke=Ki(),this.qe=vv(),this.Qe=new se(Bt),l}$e(t,i){if(!this.ze(t))return;const a=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,a),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,a){if(!this.ze(t))return;const l=this.Ge(t);this.it(t,i)?l.Fe(i,1):l.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),a&&(this.ke=this.ke.insert(i,a))}removeTarget(t){this.Be.delete(t)}Ye(t){const i=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new _v,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new He(Bt),this.qe=this.qe.insert(t,i)),i}ze(t){const i=this.Je(t)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",t),i}Je(t){const i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new _v),this.Le.getRemoteKeysForTarget(t).forEach((i=>{this.Ue(t,i,null)}))}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}}function vv(){return new se(mt.comparator)}function Ev(){return new se(mt.comparator)}const B1={asc:"ASCENDING",desc:"DESCENDING"},q1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},H1={and:"AND",or:"OR"};class F1{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Yd(s,t){return s.useProto3Json||Jc(t)?t:{value:t}}function qc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function pE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function G1(s,t){return qc(s,t.toTimestamp())}function ci(s){return Kt(!!s),Tt.fromTimestamp((function(i){const a=$r(i);return new we(a.seconds,a.nanos)})(s))}function Cm(s,t){return Xd(s,t).canonicalString()}function Xd(s,t){const i=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function yE(s){const t=ne.fromString(s);return Kt(AE(t)),t}function $d(s,t){return Cm(s.databaseId,t.path)}function Cd(s,t){const i=yE(t);if(i.get(1)!==s.databaseId.projectId)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new mt(vE(i))}function _E(s,t){return Cm(s.databaseId,t)}function Q1(s){const t=yE(s);return t.length===4?ne.emptyPath():vE(t)}function Jd(s){return new ne(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function vE(s){return Kt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Tv(s,t,i){return{name:$d(s,t),fields:i.value.mapValue.fields}}function K1(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:_t()})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(v,A){return v.useProto3Json?(Kt(A===void 0||typeof A=="string"),Fe.fromBase64String(A||"")):(Kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),Fe.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(v){const A=v.code===void 0?$.UNKNOWN:dE(v.code);return new ot(A,v.message||"")})(d);i=new gE(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Cd(s,a.document.name),c=ci(a.document.updateTime),d=a.document.createTime?ci(a.document.createTime):Tt.min(),g=new dn({mapValue:{fields:a.document.fields}}),p=$e.newFoundDocument(l,c,d,g),v=a.targetIds||[],A=a.removedTargetIds||[];i=new Ic(v,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Cd(s,a.document),c=a.readTime?ci(a.readTime):Tt.min(),d=$e.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Ic([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Cd(s,a.document),c=a.removedTargetIds||[];i=new Ic([],c,l,null)}else{if(!("filter"in t))return _t();{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new k1(l,c),g=a.targetId;i=new mE(g,d)}}return i}function Y1(s,t){let i;if(t instanceof kl)i={update:Tv(s,t.key,t.value)};else if(t instanceof fE)i={delete:$d(s,t.key)};else if(t instanceof Zr)i={update:Tv(s,t.key,t.data),updateMask:iI(t.fieldMask)};else{if(!(t instanceof V1))return _t();i={verify:$d(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof jc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Rl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Bc)return{fieldPath:d.field.canonicalString(),increment:g.Pe};throw _t()})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:G1(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t()})(s,t.precondition)),i}function X1(s,t){return s&&s.length>0?(Kt(t!==void 0),s.map((i=>(function(l,c){let d=l.updateTime?ci(l.updateTime):ci(c);return d.isEqual(Tt.min())&&(d=ci(c)),new N1(d,l.transformResults||[])})(i,t)))):[]}function $1(s,t){return{documents:[_E(s,t.path)]}}function J1(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=_E(s,l);const c=(function(v){if(v.length!==0)return TE(Gn.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((A=>(function(V){return{field:xa(V.field),direction:tI(V.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Yd(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{_t:i,parent:l}}function Z1(s){let t=Q1(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Kt(a===1);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const V=EE(S);return V instanceof Gn&&X0(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((V=>(function(Z){return new zc(Ua(Z.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let V;return V=typeof S=="object"?S.value:S,Jc(V)?null:V})(i.limit));let p=null;i.startAt&&(p=(function(S){const V=!!S.before,F=S.values||[];return new Pc(F,V)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const V=!S.before,F=S.values||[];return new Pc(F,V)})(i.endAt)),y1(t,l,d,c,g,"F",p,v)}function W1(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function EE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ua(i.unaryFilter.field);return Te.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ua(i.unaryFilter.field);return Te.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ua(i.unaryFilter.field);return Te.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ua(i.unaryFilter.field);return Te.create(d,"!=",{nullValue:"NULL_VALUE"});default:return _t()}})(s):s.fieldFilter!==void 0?(function(i){return Te.create(Ua(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Gn.create(i.compositeFilter.filters.map((a=>EE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t()}})(i.compositeFilter.op))})(s):_t()}function tI(s){return B1[s]}function eI(s){return q1[s]}function nI(s){return H1[s]}function xa(s){return{fieldPath:s.canonicalString()}}function Ua(s){return qe.fromServerFormat(s.fieldPath)}function TE(s){return s instanceof Te?(function(i){if(i.op==="=="){if(ov(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NAN"}};if(av(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ov(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NOT_NAN"}};if(av(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(i.field),op:eI(i.op),value:i.value}}})(s):s instanceof Gn?(function(i){const a=i.getFilters().map((l=>TE(l)));return a.length===1?a[0]:{compositeFilter:{op:nI(i.op),filters:a}}})(s):_t()}function iI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function AE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t,i,a,l,c=Tt.min(),d=Tt.min(),g=Fe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Fr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t){this.ct=t}}function sI(s){const t=Z1({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Kd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.un=new oI}addToCollectionParentIndex(t,i){return this.un.add(i),tt.resolve()}getCollectionParents(t,i){return tt.resolve(this.un.getEntries(i))}addFieldIndex(t,i){return tt.resolve()}deleteFieldIndex(t,i){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,i){return tt.resolve()}getDocumentsMatchingTarget(t,i){return tt.resolve(null)}getIndexType(t,i){return tt.resolve(0)}getFieldIndexes(t,i){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,i){return tt.resolve(Xr.min())}getMinOffsetFromCollectionGroup(t,i){return tt.resolve(Xr.min())}updateCollectionGroup(t,i,a){return tt.resolve()}updateIndexEntries(t,i){return tt.resolve()}}class oI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new He(ne.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new He(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Qa(0)}static kn(){return new Qa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.changes=new Wa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?tt.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&yl(a.mutation,l,Sn.empty(),we.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const l=Ns();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=cl();return c.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Ns();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=Ki();const d=pl(),g=(function(){return pl()})();return i.forEach(((p,v)=>{const A=a.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof Zr)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),yl(A.mutation,v,A.mutation.getFieldMask(),we.now())):d.set(v.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,c).next((p=>(p.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>{var S;return g.set(v,new uI(A,(S=d.get(v))!==null&&S!==void 0?S:null))})),g)))}recalculateAndSaveOverlays(t,i){const a=pl();let l=new se(((d,g)=>d-g)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((p=>{const v=i.get(p);if(v===null)return;let A=a.get(p)||Sn.empty();A=g.applyToLocalView(v,A),a.set(p,A);const S=(l.get(g.batchId)||Vt()).add(p);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),v=p.key,A=p.value,S=rE();A.forEach((V=>{if(!c.has(V)){const F=cE(i.get(V),a.get(V));F!==null&&S.set(V,F),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,S))}return tt.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):W0(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):tt.resolve(Ns());let g=-1,p=c;return d.next((v=>tt.forEach(v,((A,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(A)?tt.resolve():this.remoteDocumentCache.getEntry(t,A).next((V=>{p=p.insert(A,V)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,p,v,Vt()))).next((A=>({batchId:g,changes:iE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((a=>{let l=cl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=cl();return this.indexManager.getCollectionParents(t,c).next((g=>tt.forEach(g,(p=>{const v=(function(S,V){return new Ul(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,a,l).next((A=>{A.forEach(((S,V)=>{d=d.insert(S,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((p,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,$e.newInvalidDocument(A)))}));let g=cl();return d.forEach(((p,v)=>{const A=c.get(p);A!==void 0&&yl(A.mutation,v,Sn.empty(),we.now()),Wc(i,v)&&(g=g.insert(p,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,i){return tt.resolve(this.hr.get(i))}saveBundleMetadata(t,i){return this.hr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ci(l.createTime)}})(i)),tt.resolve()}getNamedQuery(t,i){return tt.resolve(this.Pr.get(i))}saveNamedQuery(t,i){return this.Pr.set(i.name,(function(l){return{name:l.name,query:sI(l.bundledQuery),readTime:ci(l.readTime)}})(i)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.overlays=new se(mt.comparator),this.Ir=new Map}getOverlay(t,i){return tt.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Ns();return tt.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.ht(t,i,c)})),tt.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Ir.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Ir.delete(a)),tt.resolve()}getOverlaysForCollection(t,i,a){const l=Ns(),c=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,v=p.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>a&&l.set(p.getKey(),p)}return tt.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new se(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=c.get(v.largestBatchId);A===null&&(A=Ns(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=Ns(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((v,A)=>g.set(v,A))),!(g.size()>=l)););return tt.resolve(g)}ht(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Ir.get(l.largestBatchId).delete(a.key);this.Ir.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new U1(i,a));let c=this.Ir.get(i);c===void 0&&(c=Vt(),this.Ir.set(i,c)),this.Ir.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this.Tr=new He(Me.Er),this.dr=new He(Me.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,i){const a=new Me(t,i);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Vr(new Me(t,i))}mr(t,i){t.forEach((a=>this.removeReference(a,i)))}gr(t){const i=new mt(new ne([])),a=new Me(i,t),l=new Me(i,t+1),c=[];return this.dr.forEachInRange([a,l],(d=>{this.Vr(d),c.push(d.key)})),c}pr(){this.Tr.forEach((t=>this.Vr(t)))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const i=new mt(new ne([])),a=new Me(i,t),l=new Me(i,t+1);let c=Vt();return this.dr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Me(t,0),a=this.Tr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Me{constructor(t,i){this.key=t,this.wr=i}static Er(t,i){return mt.comparator(t.key,i.key)||Bt(t.wr,i.wr)}static Ar(t,i){return Bt(t.wr,i.wr)||mt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new He(Me.Er)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new x1(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.br=this.br.add(new Me(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return tt.resolve(d)}lookupMutationBatch(t,i){return tt.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.vr(a),c=l<0?0:l;return tt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Me(i,0),l=new Me(i,Number.POSITIVE_INFINITY),c=[];return this.br.forEachInRange([a,l],(d=>{const g=this.Dr(d.wr);c.push(g)})),tt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new He(Bt);return i.forEach((l=>{const c=new Me(l,0),d=new Me(l,Number.POSITIVE_INFINITY);this.br.forEachInRange([c,d],(g=>{a=a.add(g.wr)}))})),tt.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;mt.isDocumentKey(c)||(c=c.child(""));const d=new Me(new mt(c),0);let g=new He(Bt);return this.br.forEachWhile((p=>{const v=p.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(g=g.add(p.wr)),!0)}),d),tt.resolve(this.Cr(g))}Cr(t){const i=[];return t.forEach((a=>{const l=this.Dr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Kt(this.Fr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.br;return tt.forEach(i.mutations,(l=>{const c=new Me(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.br=a}))}On(t){}containsKey(t,i){const a=new Me(i,0),l=this.br.firstAfterOrEqual(a);return tt.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}Fr(t,i){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const i=this.vr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t){this.Mr=t,this.docs=(function(){return new se(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.Mr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return tt.resolve(a?a.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let a=Ki();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():$e.newInvalidDocument(l))})),tt.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Ki();const d=i.path,g=new mt(d.child("")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:v,value:{document:A}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||ZR(JR(A),a)<=0||(l.has(A.key)||Wc(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return tt.resolve(c)}getAllFromCollectionGroup(t,i,a,l){_t()}Or(t,i){return tt.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new pI(this)}getSize(t){return tt.resolve(this.size)}}class pI extends lI{constructor(t){super(),this.cr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.cr.addEntry(t,l)):this.cr.removeEntry(a)})),tt.waitFor(i)}getFromCache(t,i){return this.cr.getEntry(t,i)}getAllFromCache(t,i){return this.cr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t){this.persistence=t,this.Nr=new Wa((i=>Am(i)),Sm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Dm,this.targetCount=0,this.kr=Qa.Bn()}forEachTarget(t,i){return this.Nr.forEach(((a,l)=>i(l))),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Lr&&(this.Lr=i),tt.resolve()}Kn(t){this.Nr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.kr=new Qa(i),this.highestTargetId=i),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,i){return this.Kn(i),this.targetCount+=1,tt.resolve()}updateTargetData(t,i){return this.Kn(i),tt.resolve()}removeTargetData(t,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.Nr.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Nr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),tt.waitFor(c).next((()=>l))}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,i){const a=this.Nr.get(i)||null;return tt.resolve(a)}addMatchingKeys(t,i,a){return this.Br.Rr(i,a),tt.resolve()}removeMatchingKeys(t,i,a){this.Br.mr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),tt.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Br.gr(i),tt.resolve()}getMatchingKeysForTargetId(t,i){const a=this.Br.yr(i);return tt.resolve(a)}containsKey(t,i){return tt.resolve(this.Br.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(t,i){this.qr={},this.overlays={},this.Qr=new _m(0),this.Kr=!1,this.Kr=!0,this.$r=new dI,this.referenceDelegate=t(this),this.Ur=new yI(this),this.indexManager=new aI,this.remoteDocumentCache=(function(l){return new gI(l)})((a=>this.referenceDelegate.Wr(a))),this.serializer=new rI(i),this.Gr=new hI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new fI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.qr[t.toKey()];return a||(a=new mI(i,this.referenceDelegate),this.qr[t.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,i,a){lt("MemoryPersistence","Starting transaction:",t);const l=new vI(this.Qr.next());return this.referenceDelegate.zr(),a(l).next((c=>this.referenceDelegate.jr(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Hr(t,i){return tt.or(Object.values(this.qr).map((a=>()=>a.containsKey(t,i))))}}class vI extends t1{constructor(t){super(),this.currentSequenceNumber=t}}class Nm{constructor(t){this.persistence=t,this.Jr=new Dm,this.Yr=null}static Zr(t){return new Nm(t)}get Xr(){if(this.Yr)return this.Yr;throw _t()}addReference(t,i,a){return this.Jr.addReference(a,i),this.Xr.delete(a.toString()),tt.resolve()}removeReference(t,i,a){return this.Jr.removeReference(a,i),this.Xr.add(a.toString()),tt.resolve()}markPotentiallyOrphaned(t,i){return this.Xr.add(i.toString()),tt.resolve()}removeTarget(t,i){this.Jr.gr(i.targetId).forEach((l=>this.Xr.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.Xr.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}zr(){this.Yr=new Set}jr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.Xr,(a=>{const l=mt.fromPath(a);return this.ei(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Yr=null,i.apply(t))))}updateLimboDocument(t,i){return this.ei(t,i).next((a=>{a?this.Xr.delete(i.toString()):this.Xr.add(i.toString())}))}Wr(t){return 0}ei(t,i){return tt.or([()=>tt.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Hr(t,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.$i=a,this.Ui=l}static Wi(t,i){let a=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Om(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return oS()?8:e1(Je())>0?6:4})()}initialize(t,i){this.Ji=t,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.Yi(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.Zi(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new EI;return this.Xi(t,i,d).next((g=>{if(c.result=g,this.zi)return this.es(t,i,d,g.size)}))})).next((()=>c.result))}es(t,i,a,l){return a.documentReadCount<this.ji?(al()<=kt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Va(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),tt.resolve()):(al()<=kt.DEBUG&&lt("QueryEngine","Query:",Va(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.Hi*l?(al()<=kt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Va(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ui(i))):tt.resolve())}Yi(t,i){if(hv(i))return tt.resolve(null);let a=ui(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Kd(i,null,"F"),a=ui(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Vt(...c);return this.Ji.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((p=>{const v=this.ts(i,g);return this.ns(i,v,d,p.readTime)?this.Yi(t,Kd(i,null,"F")):this.rs(t,v,i,p)}))))})))))}Zi(t,i,a,l){return hv(i)||l.isEqual(Tt.min())?tt.resolve(null):this.Ji.getDocuments(t,a).next((c=>{const d=this.ts(i,c);return this.ns(i,d,a,l)?tt.resolve(null):(al()<=kt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Va(i)),this.rs(t,d,i,$R(l,-1)).next((g=>g)))}))}ts(t,i){let a=new He(eE(t));return i.forEach(((l,c)=>{Wc(t,c)&&(a=a.add(c))})),a}ns(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Xi(t,i,a){return al()<=kt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Va(i)),this.Ji.getDocumentsMatchingQuery(t,i,Xr.min(),a)}rs(t,i,a,l){return this.Ji.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t,i,a,l){this.persistence=t,this.ss=i,this.serializer=l,this.os=new se(Bt),this._s=new Wa((c=>Am(c)),Sm),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(a)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new cI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.os)))}}function SI(s,t,i,a){return new AI(s,t,i,a)}async function SE(s,t){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.ls(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let p=Vt();for(const v of l){d.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}for(const v of c){g.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}return i.localDocuments.getDocuments(a,p).next((v=>({hs:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function bI(s,t){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.cs.newChangeBuffer({trackRemovals:!0});return(function(g,p,v,A){const S=v.batch,V=S.keys();let F=tt.resolve();return V.forEach((Z=>{F=F.next((()=>A.getEntry(p,Z))).next((nt=>{const Y=v.docVersions.get(Z);Kt(Y!==null),nt.version.compareTo(Y)<0&&(S.applyToRemoteDocument(nt,v),nt.isValidDocument()&&(nt.setReadTime(v.commitVersion),A.addEntry(nt)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(p,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let p=Vt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(p=p.add(g.batch.mutations[v].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function bE(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Ur.getLastRemoteSnapshotVersion(i)))}function wI(s,t){const i=At(s),a=t.snapshotVersion;let l=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.cs.newChangeBuffer({trackRemovals:!0});l=i.os;const g=[];t.targetChanges.forEach(((A,S)=>{const V=l.get(S);if(!V)return;g.push(i.Ur.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Ur.addMatchingKeys(c,A.addedDocuments,S))));let F=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(Fe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,a)),l=l.insert(S,F),(function(nt,Y,st){return nt.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=3e8?!0:st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0})(V,F,A)&&g.push(i.Ur.updateTargetData(c,F))}));let p=Ki(),v=Vt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(RI(c,d,t.documentUpdates).next((A=>{p=A.Ps,v=A.Is}))),!a.isEqual(Tt.min())){const A=i.Ur.getLastRemoteSnapshotVersion(c).next((S=>i.Ur.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(A)}return tt.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,p,v))).next((()=>p))})).then((c=>(i.os=l,c)))}function RI(s,t,i){let a=Vt(),l=Vt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=Ki();return i.forEach(((g,p)=>{const v=c.get(g);p.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):lt("LocalStore","Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",p.version)})),{Ps:d,Is:l}}))}function II(s,t){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function CI(s,t){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Ur.getTargetData(a,t).next((c=>c?(l=c,tt.resolve(l)):i.Ur.allocateTargetId(a).next((d=>(l=new Fr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Ur.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.os.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.os=i.os.insert(a.targetId,a),i._s.set(t,a.targetId)),a}))}async function Zd(s,t,i){const a=At(s),l=a.os.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!xl(d))throw d;lt("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}a.os=a.os.remove(t),a._s.delete(l.target)}function Av(s,t,i){const a=At(s);let l=Tt.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,v,A){const S=At(p),V=S._s.get(A);return V!==void 0?tt.resolve(S.os.get(V)):S.Ur.getTargetData(v,A)})(a,d,ui(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(d,g.targetId).next((p=>{c=p}))})).next((()=>a.ss.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:Vt()))).next((g=>(DI(a,v1(t),g),{documents:g,Ts:c})))))}function DI(s,t,i){let a=s.us.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.us.set(t,a)}class Sv{constructor(){this.activeTargetIds=w1()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class NI{constructor(){this.so=new Sv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,i,a){this.oo[t]=i}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Sv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc=null;function Dd(){return vc===null?vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():vc++,"0x"+vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class xI extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const a=i.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+i.host,this.vo=`projects/${l}/databases/${c}`,this.Co=this.databaseId.database==="(default)"?`project_id=${l}`:`project_id=${l}&database_id=${c}`}get Fo(){return!1}Mo(i,a,l,c,d){const g=Dd(),p=this.xo(i,a.toUriEncodedString());lt("RestConnection",`Sending RPC '${i}' ${g}:`,p,l);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,c,d),this.No(i,p,v,l).then((A=>(lt("RestConnection",`Received RPC '${i}' ${g}: `,A),A)),(A=>{throw qa("RestConnection",`RPC '${i}' ${g} failed with error: `,A,"url: ",p,"request:",l),A}))}Lo(i,a,l,c,d,g){return this.Mo(i,a,l,c,d)}Oo(i,a,l){i["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Za})(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((c,d)=>i[d]=c)),l&&l.headers.forEach(((c,d)=>i[d]=c))}xo(i,a){const l=MI[i];return`${this.Do}/v1/${a}:${l}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,i,a,l){const c=Dd();return new Promise(((d,g)=>{const p=new L0;p.setWithCredentials(!0),p.listenOnce(P0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case bc.NO_ERROR:const A=p.getResponseJson();lt(Ye,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),d(A);break;case bc.TIMEOUT:lt(Ye,`RPC '${t}' ${c} timed out`),g(new ot($.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:const S=p.getStatus();if(lt(Ye,`RPC '${t}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let V=p.getResponseJson();Array.isArray(V)&&(V=V[0]);const F=V==null?void 0:V.error;if(F&&F.status&&F.message){const Z=(function(Y){const st=Y.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(st)>=0?st:$.UNKNOWN})(F.status);g(new ot(Z,F.message))}else g(new ot($.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ot($.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{lt(Ye,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(l);lt(Ye,`RPC '${t}' ${c} sending request:`,l),p.send(i,"POST",v,a,15)}))}Bo(t,i,a){const l=Dd(),c=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=B0(),g=j0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const A=c.join("");lt(Ye,`Creating RPC '${t}' stream ${l}: ${A}`,p);const S=d.createWebChannel(A,p);let V=!1,F=!1;const Z=new VI({Io:Y=>{F?lt(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,Y):(V||(lt(Ye,`Opening RPC '${t}' stream ${l} transport.`),S.open(),V=!0),lt(Ye,`RPC '${t}' stream ${l} sending:`,Y),S.send(Y))},To:()=>S.close()}),nt=(Y,st,pt)=>{Y.listen(st,(ct=>{try{pt(ct)}catch(Ct){setTimeout((()=>{throw Ct}),0)}}))};return nt(S,ul.EventType.OPEN,(()=>{F||(lt(Ye,`RPC '${t}' stream ${l} transport opened.`),Z.yo())})),nt(S,ul.EventType.CLOSE,(()=>{F||(F=!0,lt(Ye,`RPC '${t}' stream ${l} transport closed`),Z.So())})),nt(S,ul.EventType.ERROR,(Y=>{F||(F=!0,qa(Ye,`RPC '${t}' stream ${l} transport errored:`,Y),Z.So(new ot($.UNAVAILABLE,"The operation could not be completed")))})),nt(S,ul.EventType.MESSAGE,(Y=>{var st;if(!F){const pt=Y.data[0];Kt(!!pt);const ct=pt,Ct=ct.error||((st=ct[0])===null||st===void 0?void 0:st.error);if(Ct){lt(Ye,`RPC '${t}' stream ${l} received error:`,Ct);const Yt=Ct.status;let wt=(function(w){const O=Ee[w];if(O!==void 0)return dE(O)})(Yt),C=Ct.message;wt===void 0&&(wt=$.INTERNAL,C="Unknown error status: "+Yt+" with message "+Ct.message),F=!0,Z.So(new ot(wt,C)),S.close()}else lt(Ye,`RPC '${t}' stream ${l} received:`,pt),Z.bo(pt)}})),nt(g,z0.STAT_EVENT,(Y=>{Y.stat===Bd.PROXY?lt(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):Y.stat===Bd.NOPROXY&&lt(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.wo()}),0),Z}}function Nd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(s){return new F1(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.ui=t,this.timerId=i,this.ko=a,this.qo=l,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const i=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),l=Math.max(0,i-a);l>0&&lt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,l,(()=>(this.Uo=Date.now(),t()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,i,a,l,c,d,g,p){this.ui=t,this.Ho=a,this.Jo=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new wE(t,i)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,i){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Qi(i.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(i)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.Yo===i&&this.P_(a,l)}),(a=>{t((()=>{const l=new ot($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(l)}))}))}P_(t,i){const a=this.h_(this.Yo);this.stream=this.T_(t,i),this.stream.Eo((()=>{a((()=>this.listener.Eo()))})),this.stream.Ro((()=>{a((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((l=>{a((()=>this.I_(l)))})),this.stream.onMessage((l=>{a((()=>++this.e_==1?this.E_(l):this.onNext(l)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(t){return lt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return i=>{this.ui.enqueueAndForget((()=>this.Yo===t?i():(lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UI extends RE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}T_(t,i){return this.connection.Bo("Listen",t,i)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const i=K1(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?ci(d.readTime):Tt.min()})(t);return this.listener.d_(i,a)}A_(t){const i={};i.database=Jd(this.serializer),i.addTarget=(function(c,d){let g;const p=d.target;if(g=Gd(p)?{documents:$1(c,p)}:{query:J1(c,p)._t},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=pE(c,d.resumeToken);const v=Yd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=qc(c,d.snapshotVersion.toTimestamp());const v=Yd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,t);const a=W1(this.serializer,t);a&&(i.labels=a),this.a_(i)}R_(t){const i={};i.database=Jd(this.serializer),i.removeTarget=t,this.a_(i)}}class kI extends RE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,i){return this.connection.Bo("Write",t,i)}E_(t){return Kt(!!t.streamToken),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Kt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const i=X1(t.writeResults,t.commitTime),a=ci(t.commitTime);return this.listener.g_(a,i)}p_(){const t={};t.database=Jd(this.serializer),this.a_(t)}m_(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Y1(this.serializer,a)))};this.a_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI extends class{}{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.y_=!1}w_(){if(this.y_)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,i,a,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Mo(t,Xd(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot($.UNKNOWN,c.toString())}))}Lo(t,i,a,l,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Lo(t,Xd(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot($.UNKNOWN,d.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class PI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qi(i),this.D_=!1):lt("OnlineStateTracker",i)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=c,this.k_._o((d=>{a.enqueueAndForget((async()=>{qs(this)&&(lt("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const v=At(p);v.L_.add(4),await Pl(v),v.q_.set("Unknown"),v.L_.delete(4),await rh(v)})(this))}))})),this.q_=new PI(a,l)}}async function rh(s){if(qs(s))for(const t of s.B_)await t(!0)}async function Pl(s){for(const t of s.B_)await t(!1)}function IE(s,t){const i=At(s);i.N_.has(t.targetId)||(i.N_.set(t.targetId,t),Um(i)?xm(i):to(i).r_()&&Vm(i,t))}function Mm(s,t){const i=At(s),a=to(i);i.N_.delete(t),a.r_()&&CE(i,t),i.N_.size===0&&(a.r_()?a.o_():qs(i)&&i.q_.set("Unknown"))}function Vm(s,t){if(s.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}to(s).A_(t)}function CE(s,t){s.Q_.xe(t),to(s).R_(t)}function xm(s){s.Q_=new j1({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>s.N_.get(t)||null,tt:()=>s.datastore.serializer.databaseId}),to(s).start(),s.q_.v_()}function Um(s){return qs(s)&&!to(s).n_()&&s.N_.size>0}function qs(s){return At(s).L_.size===0}function DE(s){s.Q_=void 0}async function jI(s){s.q_.set("Online")}async function BI(s){s.N_.forEach(((t,i)=>{Vm(s,t)}))}async function qI(s,t){DE(s),Um(s)?(s.q_.M_(t),xm(s)):s.q_.set("Unknown")}async function HI(s,t,i){if(s.q_.set("Online"),t instanceof gE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.N_.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.N_.delete(g),l.Q_.removeTarget(g))})(s,t)}catch(a){lt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Hc(s,a)}else if(t instanceof Ic?s.Q_.Ke(t):t instanceof mE?s.Q_.He(t):s.Q_.We(t),!i.isEqual(Tt.min()))try{const a=await bE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Q_.rt(d);return g.targetChanges.forEach(((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.N_.get(v);A&&c.N_.set(v,A.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,v)=>{const A=c.N_.get(p);if(!A)return;c.N_.set(p,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),CE(c,p);const S=new Fr(A.target,p,v,A.sequenceNumber);Vm(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){lt("RemoteStore","Failed to raise snapshot:",a),await Hc(s,a)}}async function Hc(s,t,i){if(!xl(t))throw t;s.L_.add(1),await Pl(s),s.q_.set("Offline"),i||(i=()=>bE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{lt("RemoteStore","Retrying IndexedDB access"),await i(),s.L_.delete(1),await rh(s)}))}function NE(s,t){return t().catch((i=>Hc(s,i,t)))}async function sh(s){const t=At(s),i=Jr(t);let a=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;FI(t);)try{const l=await II(t.localStore,a);if(l===null){t.O_.length===0&&i.o_();break}a=l.batchId,GI(t,l)}catch(l){await Hc(t,l)}OE(t)&&ME(t)}function FI(s){return qs(s)&&s.O_.length<10}function GI(s,t){s.O_.push(t);const i=Jr(s);i.r_()&&i.V_&&i.m_(t.mutations)}function OE(s){return qs(s)&&!Jr(s).n_()&&s.O_.length>0}function ME(s){Jr(s).start()}async function QI(s){Jr(s).p_()}async function KI(s){const t=Jr(s);for(const i of s.O_)t.m_(i.mutations)}async function YI(s,t,i){const a=s.O_.shift(),l=Rm.from(a,t,i);await NE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await sh(s)}async function XI(s,t){t&&Jr(s).V_&&await(async function(a,l){if((function(d){return L1(d)&&d!==$.ABORTED})(l.code)){const c=a.O_.shift();Jr(a).s_(),await NE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await sh(a)}})(s,t),OE(s)&&ME(s)}async function wv(s,t){const i=At(s);i.asyncQueue.verifyOperationInProgress(),lt("RemoteStore","RemoteStore received new credentials");const a=qs(i);i.L_.add(3),await Pl(i),a&&i.q_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.L_.delete(3),await rh(i)}async function $I(s,t){const i=At(s);t?(i.L_.delete(2),await rh(i)):t||(i.L_.add(2),await Pl(i),i.q_.set("Unknown"))}function to(s){return s.K_||(s.K_=(function(i,a,l){const c=At(i);return c.w_(),new UI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Eo:jI.bind(null,s),Ro:BI.bind(null,s),mo:qI.bind(null,s),d_:HI.bind(null,s)}),s.B_.push((async t=>{t?(s.K_.s_(),Um(s)?xm(s):s.q_.set("Unknown")):(await s.K_.stop(),DE(s))}))),s.K_}function Jr(s){return s.U_||(s.U_=(function(i,a,l){const c=At(i);return c.w_(),new kI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Eo:()=>Promise.resolve(),Ro:QI.bind(null,s),mo:XI.bind(null,s),f_:KI.bind(null,s),g_:YI.bind(null,s)}),s.B_.push((async t=>{t?(s.U_.s_(),await sh(s)):(await s.U_.stop(),s.O_.length>0&&(lt("RemoteStore",`Stopping write stream with ${s.O_.length} pending writes`),s.O_=[]))}))),s.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new km(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lm(s,t){if(Qi("AsyncQueue",`${t}: ${s}`),xl(s))return new ot($.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=cl(),this.sortedSet=new se(this.comparator)}static emptySet(t){return new ja(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ja)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new ja;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.W_=new se(mt.comparator)}track(t){const i=t.doc.key,a=this.W_.get(i);a?t.type!==0&&a.type===3?this.W_=this.W_.insert(i,t):t.type===3&&a.type!==1?this.W_=this.W_.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.W_=this.W_.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.W_=this.W_.remove(i):t.type===1&&a.type===2?this.W_=this.W_.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):_t():this.W_=this.W_.insert(i,t)}G_(){const t=[];return this.W_.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Ka{constructor(t,i,a,l,c,d,g,p,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ka(t,i,ja.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((t=>t.J_()))}}class ZI{constructor(){this.queries=Iv(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=Iv(),c.forEach(((d,g)=>{for(const p of g.j_)p.onError(a)}))})(this,new ot($.ABORTED,"Firestore shutting down"))}}function Iv(){return new Wa((s=>tE(s)),Zc)}async function WI(s,t){const i=At(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.H_()&&t.J_()&&(a=2):(c=new JI,a=t.J_()?0:1);try{switch(a){case 0:c.z_=await i.onListen(l,!0);break;case 1:c.z_=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Lm(d,`Initialization of query '${Va(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.j_.push(t),t.Z_(i.onlineState),c.z_&&t.X_(c.z_)&&Pm(i)}async function tC(s,t){const i=At(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.j_.indexOf(t);d>=0&&(c.j_.splice(d,1),c.j_.length===0?l=t.J_()?0:1:!c.H_()&&t.J_()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function eC(s,t){const i=At(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.j_)g.X_(l)&&(a=!0);d.z_=l}}a&&Pm(i)}function nC(s,t,i){const a=At(s),l=a.queries.get(t);if(l)for(const c of l.j_)c.onError(i);a.queries.delete(t)}function Pm(s){s.Y_.forEach((t=>{t.next()}))}var Wd,Cv;(Cv=Wd||(Wd={})).ea="default",Cv.Cache="cache";class iC{constructor(t,i,a){this.query=t,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Ka(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.na?this.ia(t)&&(this.ta.next(t),i=!0):this.sa(t,this.onlineState)&&(this.oa(t),i=!0),this.ra=t,i}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),i=!0),i}sa(t,i){if(!t.fromCache||!this.J_())return!0;const a=i!=="Offline";return(!this.options._a||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const i=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}oa(t){t=Ka.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Wd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(t){this.key=t}}class xE{constructor(t){this.key=t}}class rC{constructor(t,i){this.query=t,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Vt(),this.mutatedKeys=Vt(),this.Aa=eE(t),this.Ra=new ja(this.Aa)}get Va(){return this.Ta}ma(t,i){const a=i?i.fa:new Rv,l=i?i.Ra:this.Ra;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const V=l.get(A),F=Wc(this.query,S)?S:null,Z=!!V&&this.mutatedKeys.has(V.key),nt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let Y=!1;V&&F?V.data.isEqual(F.data)?Z!==nt&&(a.track({type:3,doc:F}),Y=!0):this.ga(V,F)||(a.track({type:2,doc:F}),Y=!0,(p&&this.Aa(F,p)>0||v&&this.Aa(F,v)<0)&&(g=!0)):!V&&F?(a.track({type:0,doc:F}),Y=!0):V&&!F&&(a.track({type:1,doc:V}),Y=!0,(p||v)&&(g=!0)),Y&&(F?(d=d.add(F),c=nt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{Ra:d,fa:a,ns:g,mutatedKeys:c}}ga(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const d=t.fa.G_();d.sort(((A,S)=>(function(F,Z){const nt=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return nt(F)-nt(Z)})(A.type,S.type)||this.Aa(A.doc,S.doc))),this.pa(a),l=l!=null&&l;const g=i&&!l?this.ya():[],p=this.da.size===0&&this.current&&!l?1:0,v=p!==this.Ea;return this.Ea=p,d.length!==0||v?{snapshot:new Ka(this.query,t.Ra,c,d,t.mutatedKeys,p===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:g}:{wa:g}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Rv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach((i=>this.Ta=this.Ta.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ta=this.Ta.delete(i))),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Vt(),this.Ra.forEach((a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))}));const i=[];return t.forEach((a=>{this.da.has(a)||i.push(new xE(a))})),this.da.forEach((a=>{t.has(a)||i.push(new VE(a))})),i}ba(t){this.Ta=t.Ts,this.da=Vt();const i=this.ma(t.documents);return this.applyChanges(i,!0)}Da(){return Ka.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class sC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class aC{constructor(t){this.key=t,this.va=!1}}class oC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new Wa((g=>tE(g)),Zc),this.Ma=new Map,this.xa=new Set,this.Oa=new se(mt.comparator),this.Na=new Map,this.La=new Dm,this.Ba={},this.ka=new Map,this.qa=Qa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function lC(s,t,i=!0){const a=jE(s);let l;const c=a.Fa.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Da()):l=await UE(a,t,i,!0),l}async function uC(s,t){const i=jE(s);await UE(i,t,!0,!1)}async function UE(s,t,i,a){const l=await CI(s.localStore,ui(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await cC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&IE(s.remoteStore,l),g}async function cC(s,t,i,a,l){s.Ka=(S,V,F)=>(async function(nt,Y,st,pt){let ct=Y.view.ma(st);ct.ns&&(ct=await Av(nt.localStore,Y.query,!1).then((({documents:C})=>Y.view.ma(C,ct))));const Ct=pt&&pt.targetChanges.get(Y.targetId),Yt=pt&&pt.targetMismatches.get(Y.targetId)!=null,wt=Y.view.applyChanges(ct,nt.isPrimaryClient,Ct,Yt);return Nv(nt,Y.targetId,wt.wa),wt.snapshot})(s,S,V,F);const c=await Av(s.localStore,t,!0),d=new rC(t,c.Ts),g=d.ma(c.documents),p=Ll.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),v=d.applyChanges(g,s.isPrimaryClient,p);Nv(s,i,v.wa);const A=new sC(t,i,d);return s.Fa.set(t,A),s.Ma.has(i)?s.Ma.get(i).push(t):s.Ma.set(i,[t]),v.snapshot}async function hC(s,t,i){const a=At(s),l=a.Fa.get(t),c=a.Ma.get(l.targetId);if(c.length>1)return a.Ma.set(l.targetId,c.filter((d=>!Zc(d,t)))),void a.Fa.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Zd(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Mm(a.remoteStore,l.targetId),tm(a,l.targetId)})).catch(Vl)):(tm(a,l.targetId),await Zd(a.localStore,l.targetId,!0))}async function fC(s,t){const i=At(s),a=i.Fa.get(t),l=i.Ma.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Mm(i.remoteStore,a.targetId))}async function dC(s,t,i){const a=EC(s);try{const l=await(function(d,g){const p=At(d),v=we.now(),A=g.reduce(((F,Z)=>F.add(Z.key)),Vt());let S,V;return p.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let Z=Ki(),nt=Vt();return p.cs.getEntries(F,A).next((Y=>{Z=Y,Z.forEach(((st,pt)=>{pt.isValidDocument()||(nt=nt.add(st))}))})).next((()=>p.localDocuments.getOverlayedDocuments(F,Z))).next((Y=>{S=Y;const st=[];for(const pt of g){const ct=M1(pt,S.get(pt.key).overlayedDocument);ct!=null&&st.push(new Zr(pt.key,ct,Q0(ct.value.mapValue),Hn.exists(!0)))}return p.mutationQueue.addMutationBatch(F,v,st,g)})).next((Y=>{V=Y;const st=Y.applyToLocalDocumentSet(S,nt);return p.documentOverlayCache.saveOverlays(F,Y.batchId,st)}))})).then((()=>({batchId:V.batchId,changes:iE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,p){let v=d.Ba[d.currentUser.toKey()];v||(v=new se(Bt)),v=v.insert(g,p),d.Ba[d.currentUser.toKey()]=v})(a,l.batchId,i),await zl(a,l.changes),await sh(a.remoteStore)}catch(l){const c=Lm(l,"Failed to persist write");i.reject(c)}}async function kE(s,t){const i=At(s);try{const a=await wI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Na.get(c);d&&(Kt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.va=!0:l.modifiedDocuments.size>0?Kt(d.va):l.removedDocuments.size>0&&(Kt(d.va),d.va=!1))})),await zl(i,a,t)}catch(a){await Vl(a)}}function Dv(s,t,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Fa.forEach(((c,d)=>{const g=d.view.Z_(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const p=At(d);p.onlineState=g;let v=!1;p.queries.forEach(((A,S)=>{for(const V of S.j_)V.Z_(g)&&(v=!0)})),v&&Pm(p)})(a.eventManager,t),l.length&&a.Ca.d_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function mC(s,t,i){const a=At(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Na.get(t),c=l&&l.key;if(c){let d=new se(mt.comparator);d=d.insert(c,$e.newNoDocument(c,Tt.min()));const g=Vt().add(c),p=new nh(Tt.min(),new Map,new se(Bt),d,g);await kE(a,p),a.Oa=a.Oa.remove(c),a.Na.delete(t),zm(a)}else await Zd(a.localStore,t,!1).then((()=>tm(a,t,i))).catch(Vl)}async function gC(s,t){const i=At(s),a=t.batch.batchId;try{const l=await bI(i.localStore,t);PE(i,a,null),LE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await zl(i,l)}catch(l){await Vl(l)}}async function pC(s,t,i){const a=At(s);try{const l=await(function(d,g){const p=At(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return p.mutationQueue.lookupMutationBatch(v,g).next((S=>(Kt(S!==null),A=S.keys(),p.mutationQueue.removeMutationBatch(v,S)))).next((()=>p.mutationQueue.performConsistencyCheck(v))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(v,A,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>p.localDocuments.getDocuments(v,A)))}))})(a.localStore,t);PE(a,t,i),LE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await zl(a,l)}catch(l){await Vl(l)}}function LE(s,t){(s.ka.get(t)||[]).forEach((i=>{i.resolve()})),s.ka.delete(t)}function PE(s,t,i){const a=At(s);let l=a.Ba[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Ba[a.currentUser.toKey()]=l}}function tm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Ma.get(t))s.Fa.delete(a),i&&s.Ca.$a(a,i);s.Ma.delete(t),s.isPrimaryClient&&s.La.gr(t).forEach((a=>{s.La.containsKey(a)||zE(s,a)}))}function zE(s,t){s.xa.delete(t.path.canonicalString());const i=s.Oa.get(t);i!==null&&(Mm(s.remoteStore,i),s.Oa=s.Oa.remove(t),s.Na.delete(i),zm(s))}function Nv(s,t,i){for(const a of i)a instanceof VE?(s.La.addReference(a.key,t),yC(s,a)):a instanceof xE?(lt("SyncEngine","Document no longer in limbo: "+a.key),s.La.removeReference(a.key,t),s.La.containsKey(a.key)||zE(s,a.key)):_t()}function yC(s,t){const i=t.key,a=i.path.canonicalString();s.Oa.get(i)||s.xa.has(a)||(lt("SyncEngine","New document in limbo: "+i),s.xa.add(a),zm(s))}function zm(s){for(;s.xa.size>0&&s.Oa.size<s.maxConcurrentLimboResolutions;){const t=s.xa.values().next().value;s.xa.delete(t);const i=new mt(ne.fromString(t)),a=s.qa.next();s.Na.set(a,new aC(i)),s.Oa=s.Oa.insert(i,a),IE(s.remoteStore,new Fr(ui(bm(i.path)),a,"TargetPurposeLimboResolution",_m.oe))}}async function zl(s,t,i){const a=At(s),l=[],c=[],d=[];a.Fa.isEmpty()||(a.Fa.forEach(((g,p)=>{d.push(a.Ka(p,t,i).then((v=>{var A;if((v||i)&&a.isPrimaryClient){const S=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(v){l.push(v);const S=Om.Wi(p.targetId,v);c.push(S)}})))})),await Promise.all(d),a.Ca.d_(l),await(async function(p,v){const A=At(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>tt.forEach(v,(V=>tt.forEach(V.$i,(F=>A.persistence.referenceDelegate.addReference(S,V.targetId,F))).next((()=>tt.forEach(V.Ui,(F=>A.persistence.referenceDelegate.removeReference(S,V.targetId,F)))))))))}catch(S){if(!xl(S))throw S;lt("LocalStore","Failed to update sequence numbers: "+S)}for(const S of v){const V=S.targetId;if(!S.fromCache){const F=A.os.get(V),Z=F.snapshotVersion,nt=F.withLastLimboFreeSnapshotVersion(Z);A.os=A.os.insert(V,nt)}}})(a.localStore,c))}async function _C(s,t){const i=At(s);if(!i.currentUser.isEqual(t)){lt("SyncEngine","User change. New user:",t.toKey());const a=await SE(i.localStore,t);i.currentUser=t,(function(c,d){c.ka.forEach((g=>{g.forEach((p=>{p.reject(new ot($.CANCELLED,d))}))})),c.ka.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await zl(i,a.hs)}}function vC(s,t){const i=At(s),a=i.Na.get(t);if(a&&a.va)return Vt().add(a.key);{let l=Vt();const c=i.Ma.get(t);if(!c)return l;for(const d of c){const g=i.Fa.get(d);l=l.unionWith(g.view.Va)}return l}}function jE(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=kE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mC.bind(null,t),t.Ca.d_=eC.bind(null,t.eventManager),t.Ca.$a=nC.bind(null,t.eventManager),t}function EC(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pC.bind(null,t),t}class Fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ih(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,i){return null}Ha(t,i){return null}za(t){return SI(this.persistence,new TI,t.initialUser,this.serializer)}Ga(t){return new _I(Nm.Zr,this.serializer)}Wa(t){return new NI}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fc.provider={build:()=>new Fc};class em{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Dv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=_C.bind(null,this.syncEngine),await $I(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new ZI})()}createDatastore(t){const i=ih(t.databaseInfo.databaseId),a=(function(c){return new xI(c)})(t.databaseInfo);return(function(c,d,g,p){return new LI(c,d,g,p)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new zI(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Dv(this.syncEngine,i,0)),(function(){return bv.D()?new bv:new OI})())}createSyncEngine(t,i){return(function(l,c,d,g,p,v,A){const S=new oC(l,c,d,g,p,v);return A&&(S.Qa=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(l){const c=At(l);lt("RemoteStore","RemoteStore shutting down."),c.L_.add(5),await Pl(c),c.k_.shutdown(),c.q_.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}em.provider={build:()=>new em};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=H0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{lt("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(lt("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Lm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Od(s,t){s.asyncQueue.verifyOperationInProgress(),lt("FirestoreClient","Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await SE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Ov(s,t){s.asyncQueue.verifyOperationInProgress();const i=await SC(s);lt("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>wv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>wv(t.remoteStore,l))),s._onlineComponents=t}async function SC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){lt("FirestoreClient","Using user provided OfflineComponentProvider");try{await Od(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;qa("Error using user provided cache. Falling back to memory cache: "+i),await Od(s,new Fc)}}else lt("FirestoreClient","Using default OfflineComponentProvider"),await Od(s,new Fc);return s._offlineComponents}async function BE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(lt("FirestoreClient","Using user provided OnlineComponentProvider"),await Ov(s,s._uninitializedComponentsProvider._online)):(lt("FirestoreClient","Using default OnlineComponentProvider"),await Ov(s,new em))),s._onlineComponents}function bC(s){return BE(s).then((t=>t.syncEngine))}async function Mv(s){const t=await BE(s),i=t.eventManager;return i.onListen=lC.bind(null,t.syncEngine),i.onUnlisten=hC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=uC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=fC.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(s,t,i){if(!i)throw new ot($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function wC(s,t,i,a){if(t===!0&&a===!0)throw new ot($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function xv(s){if(!mt.isDocumentKey(s))throw new ot($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Uv(s){if(mt.isDocumentKey(s))throw new ot($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ah(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t()}function Hi(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ot($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ah(s);throw new ot($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new ot($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(i=t.ssl)===null||i===void 0||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ot($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}wC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qE((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),(function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class oh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kv(t),t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new BR;switch(a.type){case"firstParty":return new GR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Vv.get(i);a&&(lt("ComponentProvider","Removing Datastore"),Vv.delete(i),a.terminate())})(this),Promise.resolve()}}function RC(s,t,i,a={}){var l;const c=(s=Hi(s,oh))._getSettings(),d=`${t}:${i}`;if(c.host!=="firestore.googleapis.com"&&c.host!==d&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),a.mockUserToken){let g,p;if(typeof a.mockUserToken=="string")g=a.mockUserToken,p=Xe.MOCK_USER;else{g=tS(a.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const v=a.mockUserToken.sub||a.mockUserToken.user_id;if(!v)throw new ot($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Xe(v)}s._authCredentials=new qR(new q0(g,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new eo(this.firestore,t,this._query)}}class sn{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new sn(this.firestore,t,this._key)}}class Yr extends eo{constructor(t,i,a){super(t,i,bm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new sn(this.firestore,null,new mt(t))}withConverter(t){return new Yr(this.firestore,t,this._path)}}function FE(s,t,...i){if(s=Re(s),HE("collection","path",t),s instanceof oh){const a=ne.fromString(t,...i);return Uv(a),new Yr(s,null,a)}{if(!(s instanceof sn||s instanceof Yr))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ne.fromString(t,...i));return Uv(a),new Yr(s.firestore,null,a)}}function Os(s,t,...i){if(s=Re(s),arguments.length===1&&(t=H0.newId()),HE("doc","path",t),s instanceof oh){const a=ne.fromString(t,...i);return xv(a),new sn(s,null,new mt(a))}{if(!(s instanceof sn||s instanceof Yr))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ne.fromString(t,...i));return xv(a),new sn(s.firestore,s instanceof Yr?s.converter:null,new mt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new wE(this,"async_queue_retry"),this.Vu=()=>{const a=Nd();a&&lt("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=t;const i=Nd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const i=Nd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise((()=>{}));const i=new Vs;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Pu.push(t),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!xl(t))throw t;lt("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(t){const i=this.mu.then((()=>(this.du=!0,t().catch((a=>{this.Eu=a,this.du=!1;const l=(function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g})(a);throw Qi("INTERNAL UNHANDLED ERROR: ",l),a})).then((a=>(this.du=!1,a))))));return this.mu=i,i}enqueueAfterDelay(t,i,a){this.fu(),this.Ru.indexOf(t)>-1&&(i=0);const l=km.createAndSchedule(this,t,i,a,(c=>this.yu(c)));return this.Tu.push(l),l}fu(){this.Eu&&_t()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const i of this.Tu)if(i.timerId===t)return!0;return!1}bu(t){return this.wu().then((()=>{this.Tu.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.Tu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.wu()}))}Du(t){this.Ru.push(t)}yu(t){const i=this.Tu.indexOf(t);this.Tu.splice(i,1)}}function Pv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Ya extends oh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Lv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Lv(t),this._firestoreClient=void 0,await t}}}function IC(s,t){const i=typeof s=="object"?s:Wv(),a=typeof s=="string"?s:"(default)",l=om(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=ZA("firestore");c&&RC(l,...c)}return l}function GE(s){if(s._terminated)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||CC(s),s._firestoreClient}function CC(s){var t,i,a;const l=s._freezeSettings(),c=(function(g,p,v,A){return new r1(g,p,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,qE(A.experimentalLongPollingOptions),A.useFetchStreams)})(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new AC(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&(function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xa(Fe.fromBase64String(t))}catch(i){throw new ot($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Xa(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=/^__.*__$/;class NC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Zr(t,this.data,this.fieldMask,i,this.fieldTransforms):new kl(t,this.data,i,this.fieldTransforms)}}class QE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Zr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function KE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class Hm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.vu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Hm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Fu({path:a,xu:!1});return l.Ou(t),l}Nu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Fu({path:a,xu:!1});return l.vu(),l}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Gc(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(KE(this.Cu)&&DC.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class OC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||ih(t)}Qu(t,i,a,l=!1){return new Hm({Cu:t,methodName:i,qu:a,path:qe.emptyPath(),xu:!1,ku:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uh(s){const t=s._freezeSettings(),i=ih(s._databaseId);return new OC(s._databaseId,!!t.ignoreUndefinedProperties,i)}function YE(s,t,i,a,l,c={}){const d=s.Qu(c.merge||c.mergeFields?2:0,t,i,l);Fm("Data must be an object, but it was:",d,a);const g=XE(a,d);let p,v;if(c.merge)p=new Sn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const V=nm(t,S,i);if(!d.contains(V))throw new ot($.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);JE(A,V)||A.push(V)}p=new Sn(A),v=d.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,v=d.fieldTransforms;return new NC(new dn(g),p,v)}class ch extends jm{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ch}}function MC(s,t,i,a){const l=s.Qu(1,t,i);Fm("Data must be an object, but it was:",l,a);const c=[],d=dn.empty();Bs(a,((p,v)=>{const A=Gm(t,p,i);v=Re(v);const S=l.Nu(A);if(v instanceof ch)c.push(A);else{const V=jl(v,S);V!=null&&(c.push(A),d.set(A,V))}}));const g=new Sn(c);return new QE(d,g,l.fieldTransforms)}function VC(s,t,i,a,l,c){const d=s.Qu(1,t,i),g=[nm(t,a,i)],p=[l];if(c.length%2!=0)throw new ot($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)g.push(nm(t,c[V])),p.push(c[V+1]);const v=[],A=dn.empty();for(let V=g.length-1;V>=0;--V)if(!JE(v,g[V])){const F=g[V];let Z=p[V];Z=Re(Z);const nt=d.Nu(F);if(Z instanceof ch)v.push(F);else{const Y=jl(Z,nt);Y!=null&&(v.push(F),A.set(F,Y))}}const S=new Sn(v);return new QE(A,S,d.fieldTransforms)}function xC(s,t,i,a=!1){return jl(i,s.Qu(a?4:3,t))}function jl(s,t){if($E(s=Re(s)))return Fm("Unsupported field value:",t,s),XE(s,t);if(s instanceof jm)return(function(a,l){if(!KE(l.Cu))throw l.Bu(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Bu(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let p=jl(g,l.Lu(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=Re(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return R1(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=we.fromDate(a);return{timestampValue:qc(l.serializer,c)}}if(a instanceof we){const c=new we(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:qc(l.serializer,c)}}if(a instanceof Bm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Xa)return{bytesValue:pE(l.serializer,a._byteString)};if(a instanceof sn){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Cm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof qm)return(function(d,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Bu("VectorValues must only contain numeric values.");return wm(g.serializer,p)}))}}}}}})(a,l);throw l.Bu(`Unsupported field value: ${ah(a)}`)})(s,t)}function XE(s,t){const i={};return F0(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bs(s,((a,l)=>{const c=jl(l,t.Mu(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function $E(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof we||s instanceof Bm||s instanceof Xa||s instanceof sn||s instanceof jm||s instanceof qm)}function Fm(s,t,i){if(!$E(i)||!(function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)})(i)){const a=ah(i);throw a==="an object"?t.Bu(s+" a custom object"):t.Bu(s+" "+a)}}function nm(s,t,i){if((t=Re(t))instanceof lh)return t._internalPath;if(typeof t=="string")return Gm(s,t);throw Gc("Field path arguments must be of type string or ",s,!1,void 0,i)}const UC=new RegExp("[~\\*/\\[\\]]");function Gm(s,t,i){if(t.search(UC)>=0)throw Gc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new lh(...t.split("."))._internalPath}catch{throw Gc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Gc(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${l}`),p+=")"),new ot($.INVALID_ARGUMENT,g+s+p)}function JE(s,t){return s.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new kC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(WE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class kC extends ZE{data(){return super.data()}}function WE(s,t){return typeof t=="string"?Gm(s,t):t instanceof lh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ot($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qm{}class PC extends Qm{}function zC(s,t,...i){let a=[];t instanceof Qm&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((p=>p instanceof Ym)).length,g=c.filter((p=>p instanceof Km)).length;if(d>1||d>0&&g>0)throw new ot($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class Km extends PC{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new Km(t,i,a)}_apply(t){const i=this._parse(t);return tT(t._query,i),new eo(t.firestore,t.converter,Qd(t._query,i))}_parse(t){const i=uh(t.firestore);return(function(c,d,g,p,v,A,S){let V;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new ot($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){jv(S,A);const F=[];for(const Z of S)F.push(zv(p,c,Z));V={arrayValue:{values:F}}}else V=zv(p,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||jv(S,A),V=xC(g,d,S,A==="in"||A==="not-in");return Te.create(v,A,V)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Ym extends Qm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Ym(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Gn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const p of g)tT(d,p),d=Qd(d,p)})(t._query,i),new eo(t.firestore,t.converter,Qd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function zv(s,t,i){if(typeof(i=Re(i))=="string"){if(i==="")throw new ot($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!W0(t)&&i.indexOf("/")!==-1)throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(ne.fromString(i));if(!mt.isDocumentKey(a))throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return sv(s,new mt(a))}if(i instanceof sn)return sv(s,i._key);throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ah(i)}.`)}function jv(s,t){if(!Array.isArray(s)||s.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function tT(s,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new ot($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class jC{convertValue(t,i="none"){switch(zs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ps(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Bs(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){var i,a,l;const c=(l=(a=(i=t.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map((d=>me(d.doubleValue)));return new qm(c)}convertGeoPoint(t){return new Bm(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Em(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Al(t));default:return null}}convertTimestamp(t){const i=$r(t);return new we(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ne.fromString(t);Kt(AE(a));const l=new Sl(a.get(1),a.get(3)),c=new mt(a.popFirst(5));return l.isEqual(i)||Qi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(s,t,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class nT extends ZE{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(WE("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Cc extends nT{data(t={}){return super.data(t)}}class BC{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new fl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Cc(this._firestore,this._userDataWriter,a.key,a,new fl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const p=new Cc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new fl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const p=new Cc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new fl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:qC(g.type),doc:p,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function qC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}class iT extends jC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xa(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new sn(this.firestore,null,i)}}function Qc(s,t,i){s=Hi(s,sn);const a=Hi(s.firestore,Ya),l=eT(s.converter,t,i);return Xm(a,[YE(uh(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Hn.none())])}function Bv(s,t,i,...a){s=Hi(s,sn);const l=Hi(s.firestore,Ya),c=uh(l);let d;return d=typeof(t=Re(t))=="string"||t instanceof lh?VC(c,"updateDoc",s._key,t,i,a):MC(c,"updateDoc",s._key,t),Xm(l,[d.toMutation(s._key,Hn.exists(!0))])}function HC(s,t){const i=Hi(s.firestore,Ya),a=Os(s),l=eT(s.converter,t);return Xm(i,[YE(uh(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Hn.exists(!1))]).then((()=>a))}function qv(s,...t){var i,a,l;s=Re(s);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||Pv(t[d])||(c=t[d],d++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Pv(t[d])){const S=t[d];t[d]=(i=S.next)===null||i===void 0?void 0:i.bind(S),t[d+1]=(a=S.error)===null||a===void 0?void 0:a.bind(S),t[d+2]=(l=S.complete)===null||l===void 0?void 0:l.bind(S)}let p,v,A;if(s instanceof sn)v=Hi(s.firestore,Ya),A=bm(s._key.path),p={next:S=>{t[d]&&t[d](FC(v,s,S))},error:t[d+1],complete:t[d+2]};else{const S=Hi(s,eo);v=Hi(S.firestore,Ya),A=S._query;const V=new iT(v);p={next:F=>{t[d]&&t[d](new BC(v,V,S,F))},error:t[d+1],complete:t[d+2]},LC(s._query)}return(function(V,F,Z,nt){const Y=new TC(nt),st=new iC(F,Y,Z);return V.asyncQueue.enqueueAndForget((async()=>WI(await Mv(V),st))),()=>{Y.Za(),V.asyncQueue.enqueueAndForget((async()=>tC(await Mv(V),st)))}})(GE(v),A,g,p)}function Xm(s,t){return(function(a,l){const c=new Vs;return a.asyncQueue.enqueueAndForget((async()=>dC(await bC(a),l,c))),c.promise})(GE(s),t)}function FC(s,t,i){const a=i.docs.get(t._key),l=new iT(s);return new nT(s,l,t._key,a,new fl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){Za=l})($a),Ba(new xs("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Ya(new HR(a.getProvider("auth-internal")),new KR(a.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ot($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(v.options.projectId,A)})(d,l),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Kr(tv,"4.7.3",t),Kr(tv,"4.7.3","esm2017")})();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rT=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=Ht.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},p)=>Ht.createElement("svg",{ref:p,...QC,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:rT("lucide",l),...g},[...d.map(([v,A])=>Ht.createElement(v,A)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=(s,t)=>{const i=Ht.forwardRef(({className:a,...l},c)=>Ht.createElement(KC,{ref:c,iconNode:t,className:rT(`lucide-${GC(s)}`,a),...l}));return i.displayName=`${s}`,i};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=Qn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=Qn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=Qn("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=Qn("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=Qn("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=Qn("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=Qn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=Qn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=Qn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=Qn("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=Qn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),e2=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{},Ma=typeof __app_id<"u"?__app_id:"default-doof-crew";function n2(){const[s,t]=Ht.useState(null),[i,a]=Ht.useState(null),[l,c]=Ht.useState(null),[d,g]=Ht.useState(!1),[p,v]=Ht.useState([]),[A,S]=Ht.useState(null),[V,F]=Ht.useState(null),[Z,nt]=Ht.useState(!1),[Y,st]=Ht.useState(!1),[pt,ct]=Ht.useState(null),[Ct,Yt]=Ht.useState(0);Ht.useEffect(()=>{try{const z=Zv(e2),J=zR(z),rt=IC(z);t(rt),a(J);const ft=Cw(J,async Rt=>{if(Rt){c(Rt.uid),g(!0);return}c(null),g(!0)});return()=>ft()}catch(z){console.error("Error initializing Firebase:",z),ct("Failed to initialize application. Invalid configuration.")}},[]),Ht.useEffect(()=>{if(!d||!s||!l)return;const z=`users/${l}/apps/${Ma}`,J=`${z}/djs`,rt=zC(FE(s,J)),ft=qv(rt,it=>{const dt=[];it.forEach(vt=>{dt.push({id:vt.id,...vt.data()})}),v(dt)},it=>{console.error("Error listening to DJs:",it),ct("Failed to load DJ list.")}),Rt=`${z}/schedule/mainStage`,D=Os(s,Rt),G=qv(D,async it=>{if(it.exists())S(it.data());else{const dt={name:"Main Stage",timeSlots:[{time:"18:00 - 19:00",djId:null,djName:null},{time:"19:00 - 20:00",djId:null,djName:null},{time:"20:00 - 21:00",djId:null,djName:null},{time:"21:00 - 22:00",djId:null,djName:null},{time:"22:00 - 23:00",djId:null,djName:null},{time:"23:00 - 00:00",djId:null,djName:null},{time:"00:00 - 01:00",djId:null,djName:null},{time:"01:00 - 02:00",djId:null,djName:null}]};try{await Qc(D,dt),S(dt)}catch(vt){console.error("Error creating default schedule:",vt),ct("Failed to initialize schedule.")}}},it=>{console.error("Error listening to schedule:",it),ct("Failed to load schedule.")}),W=Os(s,`${z}/meta/app`);return Qc(W,{ownerUid:l,appId:Ma,createdAt:new Date().toISOString()},{merge:!0}).catch(it=>{console.warn("Could not ensure crew meta doc",it)}),()=>{ft(),G()}},[d,s,l]);const wt=z=>{F(z),nt(!0)},C=()=>{nt(!1),F(null)},b=(z,J)=>{z.dataTransfer.setData("application/json",JSON.stringify(J)),z.dataTransfer.effectAllowed="move"},w=z=>{z.preventDefault(),z.dataTransfer.dropEffect="move"},O=z=>{z.preventDefault(),Yt(J=>J+1)},M=z=>{z.preventDefault(),Yt(J=>J-1)},U=async(z,J)=>{z.preventDefault(),Yt(0),st(!0);try{const rt=JSON.parse(z.dataTransfer.getData("application/json")),ft=[...A.timeSlots],Rt=Os(s,`users/${l}/apps/${Ma}/schedule/mainStage`);if(rt.from==="pool"){const D=rt.dj.id,G=rt.dj.djName,W=ft.findIndex(it=>it.djId===D);if(W>-1){const it={...ft[J]};ft[J]={...ft[J],djId:D,djName:G},ft[W]={...ft[W],djId:it.djId,djName:it.djName}}else ft[J]={...ft[J],djId:D,djName:G}}else if(rt.from==="slot"){const D=rt.slotIndex;if(D===J)return;const G={...ft[D]},W={...ft[J]};ft[J]={...W,djId:G.djId,djName:G.djName},ft[D]={...G,djId:W.djId,djName:W.djName}}await Bv(Rt,{timeSlots:ft})}catch(rt){console.error("Error handling drop on slot:",rt),ct("Failed to update schedule.")}finally{st(!1)}},I=async z=>{z.preventDefault(),Yt(0),st(!0);try{const J=JSON.parse(z.dataTransfer.getData("application/json"));if(J.from==="slot"){const rt=J.slotIndex,ft=[...A.timeSlots];ft[rt]={...ft[rt],djId:null,djName:null};const Rt=Os(s,`users/${l}/apps/${Ma}/schedule/mainStage`);await Bv(Rt,{timeSlots:ft})}}catch(J){console.error("Error unassigning DJ:",J),ct("Failed to update schedule.")}finally{st(!1)}},ce=new Set(((A==null?void 0:A.timeSlots)||[]).map(z=>z.djId).filter(Boolean)),Ae=p.filter(z=>!ce.has(z.id));return d?d&&!l?j.jsx(r2,{auth:i,db:s,appId:Ma}):A?j.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 font-sans p-4 md:p-8",children:[j.jsxs("header",{className:"mb-6",children:[j.jsx("h1",{className:"text-4xl font-bold text-center text-blue-400",children:"Doof Crew Admin"}),l&&j.jsxs("p",{className:"text-center text-sm text-gray-400 mt-2",children:["Share this User ID with your crew: ",j.jsx("code",{className:"bg-gray-700 p-1 rounded-md",children:l})]})]}),pt&&j.jsxs("div",{className:"bg-red-800 border border-red-600 text-white p-4 rounded-lg mb-6 flex items-center",children:[j.jsx(im,{className:"w-5 h-5 mr-3"}),j.jsx("p",{children:pt}),j.jsx("button",{onClick:()=>ct(null),className:"ml-auto text-red-200 hover:text-white",children:j.jsx(aT,{className:"w-5 h-5"})})]}),j.jsxs("main",{className:"flex flex-col lg:flex-row gap-8",children:[j.jsxs("aside",{className:"w-full lg:w-1/3 flex flex-col gap-6",children:[j.jsx(i2,{db:s,userId:l,appId:Ma,setIsLoading:st,setError:ct,disabled:Y}),j.jsx(u2,{djs:Ae,onDjClick:wt,onDragStart:b,onDragOver:w,onDragEnter:O,onDragLeave:M,onDrop:I,isDropZoneActive:Ct>0,disabled:Y})]}),j.jsx("section",{className:"w-full lg:w-2/3",children:j.jsx(c2,{schedule:A,djs:p,onDjClick:wt,onDragStart:b,onDragOver:w,onDragEnter:O,onDragLeave:M,onDrop:U,isDropZoneActive:Ct>0,disabled:Y})})]}),Z&&V&&j.jsx(f2,{dj:V,onClose:C})]}):j.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white font-sans p-4",children:[j.jsxs("div",{className:"flex items-center",children:[j.jsx(Hv,{className:"animate-pulse w-16 h-16"}),j.jsx("span",{className:"ml-4 text-2xl",children:"Loading Crew Data..."})]}),pt&&j.jsxs("div",{className:"mt-6 max-w-xl w-full bg-red-800 border border-red-600 text-white p-4 rounded-lg",children:[j.jsxs("div",{className:"flex items-center",children:[j.jsx(im,{className:"w-5 h-5 mr-3"}),j.jsx("p",{className:"font-semibold",children:pt})]}),j.jsx("p",{className:"text-sm text-red-200 mt-2",children:"If this persists, you may not have permission to read or write your schedule. Please sign out and back in, or contact support."})]})]}):j.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white font-sans",children:[j.jsx(Hv,{className:"animate-pulse w-16 h-16"}),j.jsx("span",{className:"ml-4 text-2xl",children:"Checking session"})]})}function i2({db:s,userId:t,appId:i,setIsLoading:a,setError:l,disabled:c}){const[d,g]=Ht.useState({djName:"",realName:"",info:"",photoUrl:"",visualUrl:""}),p=A=>{const{name:S,value:V}=A.target;g(F=>({...F,[S]:V}))},v=async A=>{if(A.preventDefault(),!d.djName||!d.realName){l("DJ Name and Real Name are required.");return}a(!0),l(null);try{const S=`users/${t}/apps/${i}/djs`;await HC(FE(s,S),{...d,createdAt:new Date().toISOString()}),g({djName:"",realName:"",info:"",photoUrl:"",visualUrl:""})}catch(S){console.error("Error registering DJ:",S),l("Failed to register DJ. Please try again.")}finally{a(!1)}};return j.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[j.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center",children:[j.jsx(WC,{className:"w-6 h-6 mr-3 text-blue-400"}),"Register DJ"]}),j.jsxs("form",{onSubmit:v,className:"space-y-4",children:[j.jsxs("div",{children:[j.jsx("label",{htmlFor:"djName",className:"block text-sm font-medium text-gray-300",children:"DJ Name"}),j.jsx("input",{type:"text",id:"djName",name:"djName",value:d.djName,onChange:p,required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),j.jsxs("div",{children:[j.jsx("label",{htmlFor:"realName",className:"block text-sm font-medium text-gray-300",children:"Real Name"}),j.jsx("input",{type:"text",id:"realName",name:"realName",value:d.realName,onChange:p,required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),j.jsxs("div",{children:[j.jsx("label",{htmlFor:"info",className:"block text-sm font-medium text-gray-300",children:"Promo Info / Bio"}),j.jsx("textarea",{id:"info",name:"info",rows:3,value:d.info,onChange:p,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),j.jsxs("div",{children:[j.jsx("label",{htmlFor:"photoUrl",className:"block text-sm font-medium text-gray-300",children:"Promo Photo (URL)"}),j.jsx("input",{type:"url",id:"photoUrl",name:"photoUrl",value:d.photoUrl,onChange:p,placeholder:"https://example.com/photo.jpg",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),j.jsxs("div",{children:[j.jsx("label",{htmlFor:"visualUrl",className:"block text-sm font-medium text-gray-300",children:"Visuals / Content (URL)"}),j.jsx("input",{type:"url",id:"visualUrl",name:"visualUrl",value:d.visualUrl,onChange:p,placeholder:"https://youtube.com/watch?v=...",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),j.jsx("button",{type:"submit",disabled:c,className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Registering...":"Register DJ"})]})]})}function r2({auth:s,db:t,appId:i}){const[a,l]=Ht.useState("login");return j.jsx("div",{className:"min-h-screen bg-gray-900 text-gray-100 font-sans p-6 flex items-center justify-center",children:j.jsxs("div",{className:"max-w-2xl w-full bg-gray-800 rounded-xl shadow-lg p-6",children:[j.jsx("h1",{className:"text-3xl font-bold text-blue-400 mb-2 text-center",children:"Temple DJ Spot"}),j.jsx("p",{className:"text-center text-gray-300 mb-6",children:"Sign in to manage your crew and set times."}),j.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[j.jsx("button",{onClick:()=>l("login"),className:`py-2 px-4 rounded-md ${a==="login"?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,children:"Login"}),j.jsx("button",{onClick:()=>l("register"),className:`py-2 px-4 rounded-md ${a==="register"?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,children:"Register"})]}),a==="login"?j.jsx(o2,{auth:s}):j.jsx(l2,{auth:s,db:t,appId:i}),j.jsxs("div",{className:"mt-6",children:[j.jsx(s2,{}),j.jsx(a2,{})]})]})})}function s2(){return j.jsx("div",{className:"text-sm text-gray-300 space-y-2",children:j.jsx("p",{children:"Your Portal UI account is shared across sites. Register once on the main site, then return here to manage your crew. When you first sign in, well set up your crew space automatically."})})}function a2(){return j.jsxs("div",{className:"mt-6 text-xs text-gray-400 border-t border-gray-700 pt-4 leading-relaxed",children:[j.jsx("p",{className:"font-semibold text-gray-300 mb-1",children:"Terms & Conditions (Summary)"}),j.jsxs("ul",{className:"list-disc ml-5 space-y-1",children:[j.jsx("li",{children:"Use this service responsibly and in compliance with applicable laws."}),j.jsx("li",{children:"You own the content you upload; you grant us a license to host and display it to provide the service."}),j.jsx("li",{children:"Dont upload content that is illegal, infringing, or harmful."}),j.jsx("li",{children:"We may update features and policies; continued use constitutes acceptance of changes."}),j.jsx("li",{children:"This service is provided as is without warranties; were not liable for indirect or consequential damages."}),j.jsx("li",{children:"If youre under your regional age of digital consent, use only with a guardians permission."}),j.jsx("li",{children:"We may suspend accounts that violate these terms or abuse resources."}),j.jsx("li",{children:"For data requests or takedowns, contact support via the main Portal UI site."})]})]})}function o2({auth:s}){const[t,i]=Ht.useState(""),[a,l]=Ht.useState(""),[c,d]=Ht.useState(!1),[g,p]=Ht.useState(null),v=async A=>{if(A.preventDefault(),!!s){d(!0),p(null);try{await bw(s,t,a),p("Logged in successfully.")}catch(S){console.error(S);const V=(S==null?void 0:S.code)||"";let F="Login failed. Check your credentials.";V.includes("auth/user-not-found")&&(F="No account with that email."),V.includes("auth/wrong-password")&&(F="Incorrect password."),p(F)}finally{d(!1)}}};return j.jsxs("form",{onSubmit:v,className:"space-y-3",children:[j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm text-gray-300",children:"Email"}),j.jsx("input",{value:t,onChange:A=>i(A.target.value),type:"email",required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm text-gray-300",children:"Password"}),j.jsx("input",{value:a,onChange:A=>l(A.target.value),type:"password",required:!0,minLength:6,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),g&&j.jsx("div",{className:"text-sm text-yellow-300",children:g}),j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("button",{disabled:c,type:"submit",className:"py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-md",children:c?"Signing in":"Sign in"}),j.jsx("a",{href:"/login.html",className:"text-sm text-gray-400",children:"I prefer the full login page"})]})]})}function l2({auth:s,db:t,appId:i}){const[a,l]=Ht.useState(""),[c,d]=Ht.useState(""),[g,p]=Ht.useState(""),[v,A]=Ht.useState(""),[S,V]=Ht.useState(!1),[F,Z]=Ht.useState(null),nt=async Y=>{if(Y.preventDefault(),!(!s||!t)){if(g!==v){Z("Passwords do not match");return}V(!0),Z(null);try{const st=await Sw(s,c,g);await Qc(Os(t,"users",st.user.uid),{uid:st.user.uid,fullName:a,email:c,createdAt:new Date().toISOString()}),await Qc(Os(t,`users/${st.user.uid}/apps/${i}`,"meta"),{ownerUid:st.user.uid,appId:i,createdAt:new Date().toISOString()});try{await ww(st.user)}catch{}Z("Registered and signed in. Verification email sent (if supported).")}catch(st){console.error(st);let pt="Registration failed.";const ct=(st==null?void 0:st.code)||"";ct.includes("auth/email-already-in-use")&&(pt="This email is already registered."),ct.includes("auth/weak-password")&&(pt="Password is too weak."),Z(pt)}finally{V(!1)}}};return j.jsxs("form",{onSubmit:nt,className:"space-y-3",children:[j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm text-gray-300",children:"Full name"}),j.jsx("input",{value:a,onChange:Y=>l(Y.target.value),type:"text",required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm text-gray-300",children:"Email"}),j.jsx("input",{value:c,onChange:Y=>d(Y.target.value),type:"email",required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),j.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm text-gray-300",children:"Password"}),j.jsx("input",{value:g,onChange:Y=>p(Y.target.value),type:"password",required:!0,minLength:6,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm text-gray-300",children:"Confirm"}),j.jsx("input",{value:v,onChange:Y=>A(Y.target.value),type:"password",required:!0,minLength:6,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]})]}),F&&j.jsx("div",{className:"text-sm text-yellow-300",children:F}),j.jsx("div",{children:j.jsx("button",{disabled:S,type:"submit",className:"py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-md",children:S?"Registering":"Create account"})})]})}function u2({djs:s,onDjClick:t,onDragStart:i,onDragOver:a,onDragEnter:l,onDragLeave:c,onDrop:d,isDropZoneActive:g,disabled:p}){return j.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg flex-grow",children:[j.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center",children:[j.jsx(sT,{className:"w-6 h-6 mr-3 text-blue-400"}),"Unassigned DJs"]}),j.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:s.length===0?j.jsx("p",{className:"text-gray-400",children:"No unassigned DJs. Register one!"}):s.map(v=>j.jsx("div",{children:j.jsx(oT,{dj:v,onClick:()=>t(v),isDraggable:!p,onDragStart:A=>i(A,{from:"pool",dj:v})})},v.id))}),j.jsx("div",{onDragOver:a,onDragEnter:l,onDragLeave:c,onDrop:d,className:`mt-6 p-4 border-2 border-dashed rounded-lg text-center transition-all duration-200 ${g?"border-red-500 bg-red-900/50":"border-gray-600"}`,children:j.jsxs("div",{className:"flex flex-col items-center justify-center pointer-events-none",children:[j.jsx(JC,{className:`w-8 h-8 ${g?"text-red-400":"text-gray-500"}`}),j.jsx("p",{className:`mt-2 text-sm ${g?"text-red-300":"text-gray-400"}`,children:"Drag a DJ here to unassign"})]})})]})}function c2({schedule:s,djs:t,onDjClick:i,onDragStart:a,onDragOver:l,onDragEnter:c,onDragLeave:d,onDrop:g,isDropZoneActive:p,disabled:v}){return j.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[j.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[j.jsx(YC,{className:"w-6 h-6 mr-3 text-blue-400"}),s.name," Set Times"]}),j.jsx("div",{className:"space-y-4",children:s.timeSlots.map((A,S)=>j.jsx("div",{children:j.jsx(h2,{slot:A,slotIndex:S,allDjs:t,onDjClick:i,onDragStart:a,onDragOver:l,onDragEnter:c,onDragLeave:d,onDrop:g,disabled:v})},S))})]})}function h2({slot:s,slotIndex:t,allDjs:i,onDjClick:a,onDragStart:l,onDragOver:c,onDragEnter:d,onDragLeave:g,onDrop:p,disabled:v}){const[A,S]=Ht.useState(!1),V=s.djId&&i.find(Y=>Y.id===s.djId)||null,F=Y=>{Y.preventDefault(),Y.stopPropagation(),S(!0),d(Y)},Z=Y=>{Y.preventDefault(),Y.stopPropagation(),S(!1),g(Y)},nt=Y=>{Y.preventDefault(),Y.stopPropagation(),S(!1),p(Y,t)};return j.jsxs("div",{className:`flex items-center bg-gray-700 rounded-lg p-3 transition-all duration-200 ${A?"ring-2 ring-blue-500 bg-gray-600":""}`,onDragOver:c,onDragEnter:F,onDragLeave:Z,onDrop:nt,children:[j.jsxs("div",{className:"w-32 flex-shrink-0 text-blue-300 font-mono flex items-center",children:[j.jsx(XC,{className:"w-4 h-4 mr-2"}),s.time]}),j.jsx("div",{className:"flex-grow",children:V?j.jsx(oT,{dj:V,onClick:()=>a(V),isDraggable:!v,onDragStart:Y=>l(Y,{from:"slot",slotIndex:t,djId:V.id,djName:V.djName})}):j.jsx("div",{className:"text-center text-gray-500 p-3 border border-dashed border-gray-600 rounded-md",children:"Empty Slot"})})]})}function oT({dj:s,onClick:t,isDraggable:i,onDragStart:a}){var c;const l=`https://placehold.co/40x40/374151/9CA3AF?text=${encodeURIComponent(((c=s.djName)==null?void 0:c.charAt(0))||"D")}`;return j.jsxs("div",{draggable:i,onDragStart:a,className:`flex items-center bg-gray-900 p-2 rounded-md shadow-sm ${i?"cursor-move":"cursor-pointer"} border border-gray-700 hover:bg-gray-800 transition-colors`,children:[j.jsx($C,{className:"w-5 h-5 mr-2 text-gray-500 flex-shrink-0"}),j.jsx("img",{src:s.photoUrl||l,alt:s.djName,onError:d=>{d.currentTarget.src=l},className:"w-10 h-10 rounded-full object-cover mr-3 flex-shrink-0"}),j.jsxs("div",{className:"flex-grow min-w-0",onClick:t,children:[j.jsx("p",{className:"text-md font-semibold text-white truncate",children:s.djName}),j.jsx("p",{className:"text-sm text-gray-400 truncate",children:s.realName})]})]})}function f2({dj:s,onClose:t}){const i="https://placehold.co/600x400/374151/9CA3AF?text=No+Photo";return j.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-75 backdrop-blur-sm",onClick:t,children:j.jsxs("div",{className:"bg-gray-800 w-full max-w-lg rounded-xl shadow-2xl overflow-hidden",onClick:a=>a.stopPropagation(),children:[j.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[j.jsxs("h2",{className:"text-2xl font-bold text-blue-400 flex items-center",children:[j.jsx(sT,{className:"w-6 h-6 mr-3"}),s.djName]}),j.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white rounded-full p-1 transition-colors",children:j.jsx(aT,{className:"w-6 h-6"})})]}),j.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[j.jsx("img",{src:s.photoUrl||i,alt:s.djName,onError:a=>{a.currentTarget.src=i},className:"w-full h-64 object-cover rounded-lg bg-gray-700"}),j.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[j.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[j.jsx(ZC,{className:"w-4 h-4 mr-2"}),"Real Name"]}),j.jsx("p",{className:"text-lg text-white",children:s.realName})]}),s.info&&j.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[j.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[j.jsx(im,{className:"w-4 h-4 mr-2"}),"Bio / Info"]}),j.jsx("p",{className:"text-white whitespace-pre-wrap",children:s.info})]}),s.visualUrl&&j.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[j.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[j.jsx(t2,{className:"w-4 h-4 mr-2"}),"Visuals / Content"]}),j.jsx("a",{href:s.visualUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline truncate block",children:s.visualUrl})]})]})]})})}const d2=document.getElementById("root"),m2=FA.createRoot(d2);m2.render(j.jsx(n2,{}));
