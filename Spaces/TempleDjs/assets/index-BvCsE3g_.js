(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var Td={exports:{}},hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function KA(){if(S_)return hl;S_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:u}}return hl.Fragment=t,hl.jsx=i,hl.jsxs=i,hl}var b_;function QA(){return b_||(b_=1,Td.exports=KA()),Td.exports}var M=QA(),Ad={exports:{}},fl={},Sd={exports:{}},bd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function YA(){return w_||(w_=1,(function(r){function t(F,et){var ht=F.length;F.push(et);t:for(;0<ht;){var Bt=ht-1>>>1,Gt=F[Bt];if(0<l(Gt,et))F[Bt]=et,F[ht]=Gt,ht=Bt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var et=F[0],ht=F.pop();if(ht!==et){F[0]=ht;t:for(var Bt=0,Gt=F.length,D=Gt>>>1;Bt<D;){var K=2*(Bt+1)-1,W=F[K],rt=K+1,mt=F[rt];if(0>l(W,ht))rt<Gt&&0>l(mt,W)?(F[Bt]=mt,F[rt]=ht,Bt=rt):(F[Bt]=W,F[K]=ht,Bt=K);else if(rt<Gt&&0>l(mt,ht))F[Bt]=mt,F[rt]=ht,Bt=rt;else break t}}return et}function l(F,et){var ht=F.sortIndex-et.sortIndex;return ht!==0?ht:F.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],v=[],A=1,S=null,x=3,B=!1,X=!1,tt=!1,J=!1,ot=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function Lt(F){for(var et=i(v);et!==null;){if(et.callback===null)a(v);else if(et.startTime<=F)a(v),et.sortIndex=et.expirationTime,t(p,et);else break;et=i(v)}}function re(F){if(tt=!1,Lt(F),!X)if(i(p)!==null)X=!0,At||(At=!0,k());else{var et=i(v);et!==null&&ge(re,et.startTime-F)}}var At=!1,C=-1,b=5,I=-1;function O(){return J?!0:!(r.unstable_now()-I<b)}function V(){if(J=!1,At){var F=r.unstable_now();I=F;var et=!0;try{t:{X=!1,tt&&(tt=!1,_t(C),C=-1),B=!0;var ht=x;try{e:{for(Lt(F),S=i(p);S!==null&&!(S.expirationTime>F&&O());){var Bt=S.callback;if(typeof Bt=="function"){S.callback=null,x=S.priorityLevel;var Gt=Bt(S.expirationTime<=F);if(F=r.unstable_now(),typeof Gt=="function"){S.callback=Gt,Lt(F),et=!0;break e}S===i(p)&&a(p),Lt(F)}else a(p);S=i(p)}if(S!==null)et=!0;else{var D=i(v);D!==null&&ge(re,D.startTime-F),et=!1}}break t}finally{S=null,x=ht,B=!1}et=void 0}}finally{et?k():At=!1}}}var k;if(typeof it=="function")k=function(){it(V)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,me=w.port2;w.port1.onmessage=V,k=function(){me.postMessage(null)}}else k=function(){ot(V,0)};function ge(F,et){C=ot(function(){F(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(F){switch(x){case 1:case 2:case 3:var et=3;break;default:et=x}var ht=x;x=et;try{return F()}finally{x=ht}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=x;x=F;try{return et()}finally{x=ht}},r.unstable_scheduleCallback=function(F,et,ht){var Bt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Bt+ht:Bt):ht=Bt,F){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ht+Gt,F={id:A++,callback:et,priorityLevel:F,startTime:ht,expirationTime:Gt,sortIndex:-1},ht>Bt?(F.sortIndex=ht,t(v,F),i(p)===null&&F===i(v)&&(tt?(_t(C),C=-1):tt=!0,ge(re,ht-Bt))):(F.sortIndex=Gt,t(p,F),X||B||(X=!0,At||(At=!0,k()))),F},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(F){var et=x;return function(){var ht=x;x=et;try{return F.apply(this,arguments)}finally{x=ht}}}})(bd)),bd}var R_;function XA(){return R_||(R_=1,Sd.exports=YA()),Sd.exports}var wd={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function $A(){if(I_)return St;I_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function B(D){return D===null||typeof D!="object"?null:(D=x&&D[x]||D["@@iterator"],typeof D=="function"?D:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,J={};function ot(D,K,W){this.props=D,this.context=K,this.refs=J,this.updater=W||X}ot.prototype.isReactComponent={},ot.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},ot.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function _t(){}_t.prototype=ot.prototype;function it(D,K,W){this.props=D,this.context=K,this.refs=J,this.updater=W||X}var Lt=it.prototype=new _t;Lt.constructor=it,tt(Lt,ot.prototype),Lt.isPureReactComponent=!0;var re=Array.isArray;function At(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(D,K,W){var rt=W.ref;return{$$typeof:r,type:D,key:K,ref:rt!==void 0?rt:null,props:W}}function O(D,K){return I(D.type,K,D.props)}function V(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function k(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(W){return K[W]})}var w=/\/+/g;function me(D,K){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):K.toString(36)}function ge(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(At,At):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function F(D,K,W,rt,mt){var Ct=typeof D;(Ct==="undefined"||Ct==="boolean")&&(D=null);var Vt=!1;if(D===null)Vt=!0;else switch(Ct){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(D.$$typeof){case r:case t:Vt=!0;break;case A:return Vt=D._init,F(Vt(D._payload),K,W,rt,mt)}}if(Vt)return mt=mt(D),Vt=rt===""?"."+me(D,0):rt,re(mt)?(W="",Vt!=null&&(W=Vt.replace(w,"$&/")+"/"),F(mt,K,W,"",function(gt){return gt})):mt!=null&&(V(mt)&&(mt=O(mt,W+(mt.key==null||D&&D.key===mt.key?"":(""+mt.key).replace(w,"$&/")+"/")+Vt)),K.push(mt)),1;Vt=0;var Ve=rt===""?".":rt+":";if(re(D))for(var oe=0;oe<D.length;oe++)rt=D[oe],Ct=Ve+me(rt,oe),Vt+=F(rt,K,W,Ct,mt);else if(oe=B(D),typeof oe=="function")for(D=oe.call(D),oe=0;!(rt=D.next()).done;)rt=rt.value,Ct=Ve+me(rt,oe++),Vt+=F(rt,K,W,Ct,mt);else if(Ct==="object"){if(typeof D.then=="function")return F(ge(D),K,W,rt,mt);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function et(D,K,W){if(D==null)return D;var rt=[],mt=0;return F(D,rt,"","",function(Ct){return K.call(W,Ct,mt++)}),rt}function ht(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(W){(D._status===0||D._status===-1)&&(D._status=1,D._result=W)},function(W){(D._status===0||D._status===-1)&&(D._status=2,D._result=W)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var Bt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Gt={map:et,forEach:function(D,K,W){et(D,function(){K.apply(this,arguments)},W)},count:function(D){var K=0;return et(D,function(){K++}),K},toArray:function(D){return et(D,function(K){return K})||[]},only:function(D){if(!V(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return St.Activity=S,St.Children=Gt,St.Component=ot,St.Fragment=i,St.Profiler=l,St.PureComponent=it,St.StrictMode=a,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,St.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},St.cache=function(D){return function(){return D.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(D,K,W){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var rt=tt({},D.props),mt=D.key;if(K!=null)for(Ct in K.key!==void 0&&(mt=""+K.key),K)!b.call(K,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&K.ref===void 0||(rt[Ct]=K[Ct]);var Ct=arguments.length-2;if(Ct===1)rt.children=W;else if(1<Ct){for(var Vt=Array(Ct),Ve=0;Ve<Ct;Ve++)Vt[Ve]=arguments[Ve+2];rt.children=Vt}return I(D.type,mt,rt)},St.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},St.createElement=function(D,K,W){var rt,mt={},Ct=null;if(K!=null)for(rt in K.key!==void 0&&(Ct=""+K.key),K)b.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(mt[rt]=K[rt]);var Vt=arguments.length-2;if(Vt===1)mt.children=W;else if(1<Vt){for(var Ve=Array(Vt),oe=0;oe<Vt;oe++)Ve[oe]=arguments[oe+2];mt.children=Ve}if(D&&D.defaultProps)for(rt in Vt=D.defaultProps,Vt)mt[rt]===void 0&&(mt[rt]=Vt[rt]);return I(D,Ct,mt)},St.createRef=function(){return{current:null}},St.forwardRef=function(D){return{$$typeof:g,render:D}},St.isValidElement=V,St.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:ht}},St.memo=function(D,K){return{$$typeof:v,type:D,compare:K===void 0?null:K}},St.startTransition=function(D){var K=C.T,W={};C.T=W;try{var rt=D(),mt=C.S;mt!==null&&mt(W,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(At,Bt)}catch(Ct){Bt(Ct)}finally{K!==null&&W.types!==null&&(K.types=W.types),C.T=K}},St.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},St.use=function(D){return C.H.use(D)},St.useActionState=function(D,K,W){return C.H.useActionState(D,K,W)},St.useCallback=function(D,K){return C.H.useCallback(D,K)},St.useContext=function(D){return C.H.useContext(D)},St.useDebugValue=function(){},St.useDeferredValue=function(D,K){return C.H.useDeferredValue(D,K)},St.useEffect=function(D,K){return C.H.useEffect(D,K)},St.useEffectEvent=function(D){return C.H.useEffectEvent(D)},St.useId=function(){return C.H.useId()},St.useImperativeHandle=function(D,K,W){return C.H.useImperativeHandle(D,K,W)},St.useInsertionEffect=function(D,K){return C.H.useInsertionEffect(D,K)},St.useLayoutEffect=function(D,K){return C.H.useLayoutEffect(D,K)},St.useMemo=function(D,K){return C.H.useMemo(D,K)},St.useOptimistic=function(D,K){return C.H.useOptimistic(D,K)},St.useReducer=function(D,K,W){return C.H.useReducer(D,K,W)},St.useRef=function(D){return C.H.useRef(D)},St.useState=function(D){return C.H.useState(D)},St.useSyncExternalStore=function(D,K,W){return C.H.useSyncExternalStore(D,K,W)},St.useTransition=function(){return C.H.useTransition()},St.version="19.2.0",St}var C_;function um(){return C_||(C_=1,wd.exports=$A()),wd.exports}var Rd={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function JA(){if(N_)return sn;N_=1;var r=um();function t(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,v,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:p,containerInfo:v,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,sn.createPortal=function(p,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return u(p,v,null,A)},sn.flushSync=function(p){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=v,a.p=A,a.d.f()}},sn.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(p,v))},sn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},sn.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var A=v.as,S=g(A,v.crossOrigin),x=typeof v.integrity=="string"?v.integrity:void 0,B=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:B}):A==="script"&&a.d.X(p,{crossOrigin:S,integrity:x,fetchPriority:B,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},sn.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);a.d.M(p,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(p)},sn.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,S=g(A,v.crossOrigin);a.d.L(p,A,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},sn.preloadModule=function(p,v){if(typeof p=="string")if(v){var A=g(v.as,v.crossOrigin);a.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(p)},sn.requestFormReset=function(p){a.d.r(p)},sn.unstable_batchedUpdates=function(p,v){return p(v)},sn.useFormState=function(p,v,A){return d.H.useFormState(p,v,A)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var D_;function ZA(){if(D_)return Rd.exports;D_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Rd.exports=JA(),Rd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function WA(){if(O_)return fl;O_=1;var r=XA(),t=um(),i=ZA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return p(h),e;if(f===o)return p(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===s){y=!0,s=h,o=f;break}if(E===o){y=!0,o=h,s=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===s){y=!0,s=f,o=h;break}if(E===o){y=!0,o=f,s=h;break}E=E.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),it=Symbol.for("react.context"),Lt=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),At=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case ot:return"Profiler";case J:return"StrictMode";case re:return"Suspense";case At:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case X:return"Portal";case it:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case Lt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:me(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return me(e(n))}catch{}}return null}var ge=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Bt=[],Gt=-1;function D(e){return{current:e}}function K(e){0>Gt||(e.current=Bt[Gt],Bt[Gt]=null,Gt--)}function W(e,n){Gt++,Bt[Gt]=e.current,e.current=n}var rt=D(null),mt=D(null),Ct=D(null),Vt=D(null);function Ve(e,n){switch(W(Ct,n),W(mt,e),W(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ky(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ky(n),e=Qy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),W(rt,e)}function oe(){K(rt),K(mt),K(Ct)}function gt(e){e.memoizedState!==null&&W(Vt,e);var n=rt.current,s=Qy(n,e.type);n!==s&&(W(mt,e),W(rt,s))}function ut(e){mt.current===e&&(K(rt),K(mt)),Vt.current===e&&(K(Vt),ol._currentValue=ht)}var xt,Nt;function fe(e){if(xt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);xt=n&&n[1]||"",Nt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xt+e+Nt}var Ln=!1;function ai(e,n){if(!e||Ln)return"";Ln=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var z=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){z=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){z=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),j=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===j.length)for(o=R.length-1,h=j.length-1;1<=o&&0<=h&&R[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==j[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{Ln=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?fe(s):""}function pe(e,n){switch(e.tag){case 26:case 27:case 5:return fe(e.type);case 16:return fe("Lazy");case 13:return e.child!==n&&n!==null?fe("Suspense Fallback"):fe("Suspense");case 19:return fe("SuspenseList");case 0:case 15:return ai(e.type,!1);case 11:return ai(e.type.render,!1);case 1:return ai(e.type,!0);case 31:return fe("Activity");default:return""}}function se(e){try{var n="",s=null;do n+=pe(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Et=Object.prototype.hasOwnProperty,pt=r.unstable_scheduleCallback,Ot=r.unstable_cancelCallback,en=r.unstable_shouldYield,cn=r.unstable_requestPaint,ye=r.unstable_now,Ws=r.unstable_getCurrentPriorityLevel,Ue=r.unstable_ImmediatePriority,je=r.unstable_UserBlockingPriority,wi=r.unstable_NormalPriority,$l=r.unstable_LowPriority,co=r.unstable_IdlePriority,vh=r.log,ds=r.unstable_setDisableYieldValue,cr=null,nn=null;function Pn(e){if(typeof vh=="function"&&ds(e),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(cr,e)}catch{}}var hn=Math.clz32?Math.clz32:Jl,Eh=Math.log,ho=Math.LN2;function Jl(e){return e>>>=0,e===0?32:31-(Eh(e)/ho|0)|0}var ms=256,oi=262144,hr=4194304;function $n(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function jn(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=$n(o):(y&=E,y!==0?h=$n(y):s||(s=E&~e,s!==0&&(h=$n(s))))):(E=o&~f,E!==0?h=$n(E):y!==0?h=$n(y):s||(s=o&~e,s!==0&&(h=$n(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function fr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ta(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fo(){var e=hr;return hr<<=1,(hr&62914560)===0&&(hr=4194304),e}function Ri(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function dr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ge(e,n,s,o,h,f){var y=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,j=e.hiddenUpdates;for(s=y&~s;0<s;){var G=31-hn(s),Y=1<<G;E[G]=0,R[G]=-1;var z=j[G];if(z!==null)for(j[G]=null,G=0;G<z.length;G++){var q=z[G];q!==null&&(q.lane&=-536870913)}s&=~Y}o!==0&&mo(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function mo(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-hn(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function mr(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-hn(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function gr(e,n){var s=n&-n;return s=(s&42)!==0?1:go(s),(s&(e.suspendedLanes|n))!==0?0:s}function go(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function po(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ii(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:p_(e.type))}function Zl(e,n){var s=et.p;try{return et.p=e,n()}finally{et.p=s}}var li=Math.random().toString(36).slice(2),ve="__reactFiber$"+li,Ke="__reactProps$"+li,ui="__reactContainer$"+li,pr="__reactEvents$"+li,ci="__reactListeners$"+li,Wl="__reactHandles$"+li,yo="__reactResources$"+li,Ci="__reactMarker$"+li;function gs(e){delete e[ve],delete e[Ke],delete e[pr],delete e[ci],delete e[Wl]}function Ni(e){var n=e[ve];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ui]||s[ve]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=t_(e);e!==null;){if(s=e[ve])return s;e=t_(e)}return n}e=s,s=e.parentNode}return null}function Di(e){if(e=e[ve]||e[ui]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ps(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Jn(e){var n=e[yo];return n||(n=e[yo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Se(e){e[Ci]=!0}var ea=new Set,yr={};function fn(e,n){hi(e,n),hi(e+"Capture",n)}function hi(e,n){for(yr[e]=n,e=0;e<n.length;e++)ea.add(n[e])}var Th=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_o={},vo={};function tu(e){return Et.call(vo,e)?!0:Et.call(_o,e)?!1:Th.test(e)?vo[e]=!0:(_o[e]=!0,!1)}function _r(e,n,s){if(tu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function vr(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function zn(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function eu(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ah(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function na(e){if(!e._valueTracker){var n=eu(e)?"checked":"value";e._valueTracker=Ah(e,n,""+e[n])}}function Eo(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=eu(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function ia(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Oi=/[\n"\\]/g;function Ee(e){return e.replace(Oi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Er(e,n,s,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+dn(n)):e.value!==""+dn(n)&&(e.value=""+dn(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?ra(e,y,dn(n)):s!=null?ra(e,y,dn(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+dn(E):e.removeAttribute("name")}function ys(e,n,s,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){na(e);return}s=s!=null?""+dn(s):"",n=n!=null?""+dn(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),na(e)}function ra(e,n,s){n==="number"&&ia(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Kt(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+dn(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function _s(e,n,s){if(n!=null&&(n=""+dn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+dn(s):""}function Tr(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ge(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=dn(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),na(e)}function Bn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Sh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function To(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||Sh.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function nu(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&To(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&To(e,f,n[f])}function Ao(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fi(e){return wh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ze(){}var sa=null;function aa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xi=null,In=null;function iu(e){var n=Di(e);if(n&&(e=n.stateNode)){var s=e[Ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(Er(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ee(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Ke]||null;if(!h)throw Error(a(90));Er(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Eo(o)}break t;case"textarea":_s(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Kt(e,!!s.multiple,n,!1)}}}var So=!1;function ru(e,n,s){if(So)return e(n,s);So=!0;try{var o=e(n);return o}finally{if(So=!1,(xi!==null||In!==null)&&(tc(),xi&&(n=xi,e=In,In=xi=null,iu(n),e)))for(n=0;n<e.length;n++)iu(e[n])}}function vn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ke]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bo=!1;if(Zn)try{var di={};Object.defineProperty(di,"passive",{get:function(){bo=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{bo=!1}var Cn=null,oa=null,mi=null;function Ar(){if(mi)return mi;var e,n=oa,s=n.length,o,h="value"in Cn?Cn.value:Cn.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var y=s-e;for(o=1;o<=y&&n[s-o]===h[f-o];o++);return mi=h.slice(e,1<o?1-o:void 0)}function vs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Sr(){return!0}function le(){return!1}function rn(e){function n(s,o,h,f,y){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Sr:le,this.isPropagationStopped=le,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),n}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Es=rn(Mi),br=S({},Mi,{view:0,detail:0}),su=rn(br),wr,la,mn,Ts=S({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mn&&(mn&&e.type==="mousemove"?(wr=e.screenX-mn.screenX,la=e.screenY-mn.screenY):la=wr=0,mn=e),wr)},movementY:function(e){return"movementY"in e?e.movementY:la}}),au=rn(Ts),As=S({},Ts,{dataTransfer:0}),ou=rn(As),wo=S({},br,{relatedTarget:0}),Rr=rn(wo),lu=S({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),ua=rn(lu),Rh=S({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uu=rn(Rh),Ss=S({},Mi,{data:0}),Ro=rn(Ss),cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Io={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Co={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Co[e])?!!n[e]:!1}function Ir(){return hu}var fu=S({},br,{key:function(e){if(e.key){var n=cu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Io[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(e){return e.type==="keypress"?vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),du=rn(fu),Vi=S({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),No=rn(Vi),mu=S({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),gu=rn(mu),pu=S({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ca=rn(pu),gn=S({},Ts,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yu=rn(gn),_u=S({},Mi,{newState:0,oldState:0}),Cr=rn(_u),c=[9,13,27,32],m=Zn&&"CompositionEvent"in window,_=null;Zn&&"documentMode"in document&&(_=document.documentMode);var T=Zn&&"TextEvent"in window&&!_,L=Zn&&(!m||_&&8<_&&11>=_),H=" ",nt=!1;function Jt(e,n){switch(e){case"keyup":return c.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ie(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function Be(e,n){switch(e){case"compositionend":return Ie(n);case"keypress":return n.which!==32?null:(nt=!0,H);case"textInput":return e=n.data,e===H&&nt?null:e;default:return null}}function qe(e,n){if(Mt)return e==="compositionend"||!m&&Jt(e,n)?(e=Ar(),mi=oa=Cn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return L&&n.locale!=="ko"?null:n.data;default:return null}}var Nr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function En(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Nr[e.type]:n==="textarea"}function bs(e,n,s,o){xi?In?In.push(o):In=[o]:xi=o,n=oc(n,"onChange"),0<n.length&&(s=new Es("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Ui=null,Do=null;function vT(e){zy(e,0)}function vu(e){var n=ps(e);if(Eo(n))return e}function sg(e,n){if(e==="change")return n}var ag=!1;if(Zn){var Ih;if(Zn){var Ch="oninput"in document;if(!Ch){var og=document.createElement("div");og.setAttribute("oninput","return;"),Ch=typeof og.oninput=="function"}Ih=Ch}else Ih=!1;ag=Ih&&(!document.documentMode||9<document.documentMode)}function lg(){Ui&&(Ui.detachEvent("onpropertychange",ug),Do=Ui=null)}function ug(e){if(e.propertyName==="value"&&vu(Do)){var n=[];bs(n,Do,e,aa(e)),ru(vT,n)}}function ET(e,n,s){e==="focusin"?(lg(),Ui=n,Do=s,Ui.attachEvent("onpropertychange",ug)):e==="focusout"&&lg()}function TT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vu(Do)}function AT(e,n){if(e==="click")return vu(n)}function ST(e,n){if(e==="input"||e==="change")return vu(n)}function bT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Nn=typeof Object.is=="function"?Object.is:bT;function Oo(e,n){if(Nn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Et.call(n,h)||!Nn(e[h],n[h]))return!1}return!0}function cg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hg(e,n){var s=cg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=cg(s)}}function fg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?fg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function dg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ia(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ia(e.document)}return n}function Nh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var wT=Zn&&"documentMode"in document&&11>=document.documentMode,ha=null,Dh=null,xo=null,Oh=!1;function mg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Oh||ha==null||ha!==ia(o)||(o=ha,"selectionStart"in o&&Nh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),xo&&Oo(xo,o)||(xo=o,o=oc(Dh,"onSelect"),0<o.length&&(n=new Es("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ha)))}function ws(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var fa={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},xh={},gg={};Zn&&(gg=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Rs(e){if(xh[e])return xh[e];if(!fa[e])return e;var n=fa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in gg)return xh[e]=n[s];return e}var pg=Rs("animationend"),yg=Rs("animationiteration"),_g=Rs("animationstart"),RT=Rs("transitionrun"),IT=Rs("transitionstart"),CT=Rs("transitioncancel"),vg=Rs("transitionend"),Eg=new Map,Mh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mh.push("scrollEnd");function Wn(e,n){Eg.set(e,n),fn(n,[e])}var Eu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qn=[],da=0,Vh=0;function Tu(){for(var e=da,n=Vh=da=0;n<e;){var s=qn[n];qn[n++]=null;var o=qn[n];qn[n++]=null;var h=qn[n];qn[n++]=null;var f=qn[n];if(qn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Tg(s,h,f)}}function Au(e,n,s,o){qn[da++]=e,qn[da++]=n,qn[da++]=s,qn[da++]=o,Vh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Uh(e,n,s,o){return Au(e,n,s,o),Su(e)}function Is(e,n){return Au(e,null,null,n),Su(e)}function Tg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-hn(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Su(e){if(50<tl)throw tl=0,Gf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ma={};function NT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,n,s,o){return new NT(e,n,s,o)}function kh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,n){var s=e.alternate;return s===null?(s=Dn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Ag(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function bu(e,n,s,o,h,f){var y=0;if(o=e,typeof e=="function")kh(e)&&(y=1);else if(typeof e=="string")y=VA(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Dn(31,s,n,h),e.elementType=I,e.lanes=f,e;case tt:return Cs(s.children,h,f,n);case J:y=8,h|=24;break;case ot:return e=Dn(12,s,n,h|2),e.elementType=ot,e.lanes=f,e;case re:return e=Dn(13,s,n,h),e.elementType=re,e.lanes=f,e;case At:return e=Dn(19,s,n,h),e.elementType=At,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case it:y=10;break t;case _t:y=9;break t;case Lt:y=11;break t;case C:y=14;break t;case b:y=16,o=null;break t}y=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Dn(y,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Cs(e,n,s,o){return e=Dn(7,e,o,n),e.lanes=s,e}function Lh(e,n,s){return e=Dn(6,e,null,n),e.lanes=s,e}function Sg(e){var n=Dn(18,null,null,0);return n.stateNode=e,n}function Ph(e,n,s){return n=Dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var bg=new WeakMap;function Hn(e,n){if(typeof e=="object"&&e!==null){var s=bg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:se(n)},bg.set(e,n),n)}return{value:e,source:n,stack:se(n)}}var ga=[],pa=0,wu=null,Mo=0,Fn=[],Gn=0,Dr=null,gi=1,pi="";function Li(e,n){ga[pa++]=Mo,ga[pa++]=wu,wu=e,Mo=n}function wg(e,n,s){Fn[Gn++]=gi,Fn[Gn++]=pi,Fn[Gn++]=Dr,Dr=e;var o=gi;e=pi;var h=32-hn(o)-1;o&=~(1<<h),s+=1;var f=32-hn(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,gi=1<<32-hn(n)+h|s<<h|o,pi=f+e}else gi=1<<f|s<<h|o,pi=e}function jh(e){e.return!==null&&(Li(e,1),wg(e,1,0))}function zh(e){for(;e===wu;)wu=ga[--pa],ga[pa]=null,Mo=ga[--pa],ga[pa]=null;for(;e===Dr;)Dr=Fn[--Gn],Fn[Gn]=null,pi=Fn[--Gn],Fn[Gn]=null,gi=Fn[--Gn],Fn[Gn]=null}function Rg(e,n){Fn[Gn++]=gi,Fn[Gn++]=pi,Fn[Gn++]=Dr,gi=n.id,pi=n.overflow,Dr=e}var Qe=null,ue=null,qt=!1,Or=null,Kn=!1,Bh=Error(a(519));function xr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vo(Hn(n,e)),Bh}function Ig(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ve]=e,n[Ke]=o,s){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(s=0;s<nl.length;s++)kt(nl[s],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":kt("invalid",n),ys(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":kt("invalid",n);break;case"textarea":kt("invalid",n),Tr(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Fy(n.textContent,s)?(o.popover!=null&&(kt("beforetoggle",n),kt("toggle",n)),o.onScroll!=null&&kt("scroll",n),o.onScrollEnd!=null&&kt("scrollend",n),o.onClick!=null&&(n.onclick=ze),n=!0):n=!1,n||xr(e,!0)}function Cg(e){for(Qe=e.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Qe=Qe.return}}function ya(e){if(e!==Qe)return!1;if(!qt)return Cg(e),qt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||ad(e.type,e.memoizedProps)),s=!s),s&&ue&&xr(e),Cg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ue=Wy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ue=Wy(e)}else n===27?(n=ue,Kr(e.type)?(e=hd,hd=null,ue=e):ue=n):ue=Qe?Yn(e.stateNode.nextSibling):null;return!0}function Ns(){ue=Qe=null,qt=!1}function qh(){var e=Or;return e!==null&&(bn===null?bn=e:bn.push.apply(bn,e),Or=null),e}function Vo(e){Or===null?Or=[e]:Or.push(e)}var Hh=D(null),Ds=null,Pi=null;function Mr(e,n,s){W(Hh,n._currentValue),n._currentValue=s}function ji(e){e._currentValue=Hh.current,K(Hh)}function Fh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Gh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Fh(f.return,s,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),Fh(y,s,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function _a(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=h.type;Nn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===Vt.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}h=h.return}e!==null&&Gh(n,e,s,o),n.flags|=262144}function Ru(e){for(e=e.firstContext;e!==null;){if(!Nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Os(e){Ds=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return Ng(Ds,e)}function Iu(e,n){return Ds===null&&Os(e),Ng(e,n)}function Ng(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Pi===null){if(e===null)throw Error(a(308));Pi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Pi=Pi.next=n;return s}var DT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},OT=r.unstable_scheduleCallback,xT=r.unstable_NormalPriority,Ce={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kh(){return{controller:new DT,data:new Map,refCount:0}}function Uo(e){e.refCount--,e.refCount===0&&OT(xT,function(){e.controller.abort()})}var ko=null,Qh=0,va=0,Ea=null;function MT(e,n){if(ko===null){var s=ko=[];Qh=0,va=Jf(),Ea={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Qh++,n.then(Dg,Dg),n}function Dg(){if(--Qh===0&&ko!==null){Ea!==null&&(Ea.status="fulfilled");var e=ko;ko=null,va=0,Ea=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function VT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Og=F.S;F.S=function(e,n){my=ye(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&MT(e,n),Og!==null&&Og(e,n)};var xs=D(null);function Yh(){var e=xs.current;return e!==null?e:ae.pooledCache}function Cu(e,n){n===null?W(xs,xs.current):W(xs,n.pool)}function xg(){var e=Yh();return e===null?null:{parent:Ce._currentValue,pool:e}}var Ta=Error(a(460)),Xh=Error(a(474)),Nu=Error(a(542)),Du={then:function(){}};function Mg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(ze,ze),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,kg(e),e;default:if(typeof n.status=="string")n.then(ze,ze);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,kg(e),e}throw Vs=n,Ta}}function Ms(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Vs=s,Ta):s}}var Vs=null;function Ug(){if(Vs===null)throw Error(a(459));var e=Vs;return Vs=null,e}function kg(e){if(e===Ta||e===Nu)throw Error(a(483))}var Aa=null,Lo=0;function Ou(e){var n=Lo;return Lo+=1,Aa===null&&(Aa=[]),Vg(Aa,e,n)}function Po(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function xu(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Lg(e){function n(U,N){if(e){var P=U.deletions;P===null?(U.deletions=[N],U.flags|=16):P.push(N)}}function s(U,N){if(!e)return null;for(;N!==null;)n(U,N),N=N.sibling;return null}function o(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function h(U,N){return U=ki(U,N),U.index=0,U.sibling=null,U}function f(U,N,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<N?(U.flags|=67108866,N):P):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function y(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,N,P,Q){return N===null||N.tag!==6?(N=Lh(P,U.mode,Q),N.return=U,N):(N=h(N,P),N.return=U,N)}function R(U,N,P,Q){var ft=P.type;return ft===tt?G(U,N,P.props.children,Q,P.key):N!==null&&(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&Ms(ft)===N.type)?(N=h(N,P.props),Po(N,P),N.return=U,N):(N=bu(P.type,P.key,P.props,null,U.mode,Q),Po(N,P),N.return=U,N)}function j(U,N,P,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Ph(P,U.mode,Q),N.return=U,N):(N=h(N,P.children||[]),N.return=U,N)}function G(U,N,P,Q,ft){return N===null||N.tag!==7?(N=Cs(P,U.mode,Q,ft),N.return=U,N):(N=h(N,P),N.return=U,N)}function Y(U,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Lh(""+N,U.mode,P),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case B:return P=bu(N.type,N.key,N.props,null,U.mode,P),Po(P,N),P.return=U,P;case X:return N=Ph(N,U.mode,P),N.return=U,N;case b:return N=Ms(N),Y(U,N,P)}if(ge(N)||k(N))return N=Cs(N,U.mode,P,null),N.return=U,N;if(typeof N.then=="function")return Y(U,Ou(N),P);if(N.$$typeof===it)return Y(U,Iu(U,N),P);xu(U,N)}return null}function z(U,N,P,Q){var ft=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(U,N,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case B:return P.key===ft?R(U,N,P,Q):null;case X:return P.key===ft?j(U,N,P,Q):null;case b:return P=Ms(P),z(U,N,P,Q)}if(ge(P)||k(P))return ft!==null?null:G(U,N,P,Q,null);if(typeof P.then=="function")return z(U,N,Ou(P),Q);if(P.$$typeof===it)return z(U,N,Iu(U,P),Q);xu(U,P)}return null}function q(U,N,P,Q,ft){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(P)||null,E(N,U,""+Q,ft);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case B:return U=U.get(Q.key===null?P:Q.key)||null,R(N,U,Q,ft);case X:return U=U.get(Q.key===null?P:Q.key)||null,j(N,U,Q,ft);case b:return Q=Ms(Q),q(U,N,P,Q,ft)}if(ge(Q)||k(Q))return U=U.get(P)||null,G(N,U,Q,ft,null);if(typeof Q.then=="function")return q(U,N,P,Ou(Q),ft);if(Q.$$typeof===it)return q(U,N,P,Iu(N,Q),ft);xu(N,Q)}return null}function st(U,N,P,Q){for(var ft=null,Qt=null,ct=N,Dt=N=0,jt=null;ct!==null&&Dt<P.length;Dt++){ct.index>Dt?(jt=ct,ct=null):jt=ct.sibling;var Yt=z(U,ct,P[Dt],Q);if(Yt===null){ct===null&&(ct=jt);break}e&&ct&&Yt.alternate===null&&n(U,ct),N=f(Yt,N,Dt),Qt===null?ft=Yt:Qt.sibling=Yt,Qt=Yt,ct=jt}if(Dt===P.length)return s(U,ct),qt&&Li(U,Dt),ft;if(ct===null){for(;Dt<P.length;Dt++)ct=Y(U,P[Dt],Q),ct!==null&&(N=f(ct,N,Dt),Qt===null?ft=ct:Qt.sibling=ct,Qt=ct);return qt&&Li(U,Dt),ft}for(ct=o(ct);Dt<P.length;Dt++)jt=q(ct,U,Dt,P[Dt],Q),jt!==null&&(e&&jt.alternate!==null&&ct.delete(jt.key===null?Dt:jt.key),N=f(jt,N,Dt),Qt===null?ft=jt:Qt.sibling=jt,Qt=jt);return e&&ct.forEach(function(Jr){return n(U,Jr)}),qt&&Li(U,Dt),ft}function yt(U,N,P,Q){if(P==null)throw Error(a(151));for(var ft=null,Qt=null,ct=N,Dt=N=0,jt=null,Yt=P.next();ct!==null&&!Yt.done;Dt++,Yt=P.next()){ct.index>Dt?(jt=ct,ct=null):jt=ct.sibling;var Jr=z(U,ct,Yt.value,Q);if(Jr===null){ct===null&&(ct=jt);break}e&&ct&&Jr.alternate===null&&n(U,ct),N=f(Jr,N,Dt),Qt===null?ft=Jr:Qt.sibling=Jr,Qt=Jr,ct=jt}if(Yt.done)return s(U,ct),qt&&Li(U,Dt),ft;if(ct===null){for(;!Yt.done;Dt++,Yt=P.next())Yt=Y(U,Yt.value,Q),Yt!==null&&(N=f(Yt,N,Dt),Qt===null?ft=Yt:Qt.sibling=Yt,Qt=Yt);return qt&&Li(U,Dt),ft}for(ct=o(ct);!Yt.done;Dt++,Yt=P.next())Yt=q(ct,U,Dt,Yt.value,Q),Yt!==null&&(e&&Yt.alternate!==null&&ct.delete(Yt.key===null?Dt:Yt.key),N=f(Yt,N,Dt),Qt===null?ft=Yt:Qt.sibling=Yt,Qt=Yt);return e&&ct.forEach(function(GA){return n(U,GA)}),qt&&Li(U,Dt),ft}function ie(U,N,P,Q){if(typeof P=="object"&&P!==null&&P.type===tt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case B:t:{for(var ft=P.key;N!==null;){if(N.key===ft){if(ft=P.type,ft===tt){if(N.tag===7){s(U,N.sibling),Q=h(N,P.props.children),Q.return=U,U=Q;break t}}else if(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&Ms(ft)===N.type){s(U,N.sibling),Q=h(N,P.props),Po(Q,P),Q.return=U,U=Q;break t}s(U,N);break}else n(U,N);N=N.sibling}P.type===tt?(Q=Cs(P.props.children,U.mode,Q,P.key),Q.return=U,U=Q):(Q=bu(P.type,P.key,P.props,null,U.mode,Q),Po(Q,P),Q.return=U,U=Q)}return y(U);case X:t:{for(ft=P.key;N!==null;){if(N.key===ft)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){s(U,N.sibling),Q=h(N,P.children||[]),Q.return=U,U=Q;break t}else{s(U,N);break}else n(U,N);N=N.sibling}Q=Ph(P,U.mode,Q),Q.return=U,U=Q}return y(U);case b:return P=Ms(P),ie(U,N,P,Q)}if(ge(P))return st(U,N,P,Q);if(k(P)){if(ft=k(P),typeof ft!="function")throw Error(a(150));return P=ft.call(P),yt(U,N,P,Q)}if(typeof P.then=="function")return ie(U,N,Ou(P),Q);if(P.$$typeof===it)return ie(U,N,Iu(U,P),Q);xu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(s(U,N.sibling),Q=h(N,P),Q.return=U,U=Q):(s(U,N),Q=Lh(P,U.mode,Q),Q.return=U,U=Q),y(U)):s(U,N)}return function(U,N,P,Q){try{Lo=0;var ft=ie(U,N,P,Q);return Aa=null,ft}catch(ct){if(ct===Ta||ct===Nu)throw ct;var Qt=Dn(29,ct,null,U.mode);return Qt.lanes=Q,Qt.return=U,Qt}finally{}}}var Us=Lg(!0),Pg=Lg(!1),Vr=!1;function $h(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ur(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function kr(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,($t&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Su(e),Tg(e,null,s),n}return Au(e,o,n,s),Su(e)}function jo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,mr(e,s)}}function Zh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Wh=!1;function zo(){if(Wh){var e=Ea;if(e!==null)throw e}}function Bo(e,n,s,o){Wh=!1;var h=e.updateQueue;Vr=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,j=R.next;R.next=null,y===null?f=j:y.next=j,y=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;y=0,G=j=R=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Pt&z)===z:(o&z)===z){z!==0&&z===va&&(Wh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,yt=E;z=n;var ie=s;switch(yt.tag){case 1:if(st=yt.payload,typeof st=="function"){Y=st.call(ie,Y,z);break t}Y=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=yt.payload,z=typeof st=="function"?st.call(ie,Y,z):st,z==null)break t;Y=S({},Y,z);break t;case 2:Vr=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=q,R=Y):G=G.next=q,y|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=j,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Br|=y,e.lanes=y,e.memoizedState=Y}}function jg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function zg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)jg(s[e],n)}var Sa=D(null),Mu=D(0);function Bg(e,n){e=Yi,W(Mu,e),W(Sa,n),Yi=e|n.baseLanes}function tf(){W(Mu,Yi),W(Sa,Sa.current)}function ef(){Yi=Mu.current,K(Sa),K(Mu)}var On=D(null),Qn=null;function Lr(e){var n=e.alternate;W(be,be.current&1),W(On,e),Qn===null&&(n===null||Sa.current!==null||n.memoizedState!==null)&&(Qn=e)}function nf(e){W(be,be.current),W(On,e),Qn===null&&(Qn=e)}function qg(e){e.tag===22?(W(be,be.current),W(On,e),Qn===null&&(Qn=e)):Pr()}function Pr(){W(be,be.current),W(On,On.current)}function xn(e){K(On),Qn===e&&(Qn=null),K(be)}var be=D(0);function Vu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ud(s)||cd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,It=null,ee=null,Ne=null,Uu=!1,ba=!1,ks=!1,ku=0,qo=0,wa=null,UT=0;function Te(){throw Error(a(321))}function rf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Nn(e[s],n[s]))return!1;return!0}function sf(e,n,s,o,h,f){return zi=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?wp:Ef,ks=!1,f=s(o,h),ks=!1,ba&&(f=Fg(n,s,o,h)),Hg(e),f}function Hg(e){F.H=Go;var n=ee!==null&&ee.next!==null;if(zi=0,Ne=ee=It=null,Uu=!1,qo=0,wa=null,n)throw Error(a(300));e===null||De||(e=e.dependencies,e!==null&&Ru(e)&&(De=!0))}function Fg(e,n,s,o){It=e;var h=0;do{if(ba&&(wa=null),qo=0,ba=!1,25<=h)throw Error(a(301));if(h+=1,Ne=ee=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Rp,f=n(s,o)}while(ba);return f}function kT(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Ho(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(It.flags|=1024),n}function af(){var e=ku!==0;return ku=0,e}function of(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function lf(e){if(Uu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Uu=!1}zi=0,Ne=ee=It=null,ba=!1,qo=ku=0,wa=null}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?It.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function we(){if(ee===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=Ne===null?It.memoizedState:Ne.next;if(n!==null)Ne=n,ee=e;else{if(e===null)throw It.alternate===null?Error(a(467)):Error(a(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ne===null?It.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function Lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(e){var n=qo;return qo+=1,wa===null&&(wa=[]),e=Vg(wa,e,n),n=It,(Ne===null?n.memoizedState:Ne.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?wp:Ef),e}function Pu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ho(e);if(e.$$typeof===it)return Ye(e)}throw Error(a(438,String(e)))}function uf(e){var n=null,s=It.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Lu(),It.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=O;return n.index++,s}function Bi(e,n){return typeof n=="function"?n(e):n}function ju(e){var n=we();return cf(n,ee,e)}function cf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,R=null,j=n,G=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(Pt&Y)===Y:(zi&Y)===Y){var z=j.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===va&&(G=!0);else if((zi&z)===z){j=j.next,z===va&&(G=!0);continue}else Y={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=Y,y=f):R=R.next=Y,It.lanes|=z,Br|=z;Y=j.action,ks&&s(f,Y),f=j.hasEagerState?j.eagerState:s(f,Y)}else z={lane:Y,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=z,y=f):R=R.next=z,It.lanes|=Y,Br|=Y;j=j.next}while(j!==null&&j!==n);if(R===null?y=f:R.next=E,!Nn(f,e.memoizedState)&&(De=!0,G&&(s=Ea,s!==null)))throw s;e.memoizedState=f,e.baseState=y,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function hf(e){var n=we(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);Nn(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Gg(e,n,s){var o=It,h=we(),f=qt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var y=!Nn((ee||h).memoizedState,s);if(y&&(h.memoizedState=s,De=!0),h=h.queue,mf(Yg.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||Ne!==null&&Ne.memoizedState.tag&1){if(o.flags|=2048,Ra(9,{destroy:void 0},Qg.bind(null,o,h,s,n),null),ae===null)throw Error(a(349));f||(zi&127)!==0||Kg(o,n,s)}return s}function Kg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=It.updateQueue,n===null?(n=Lu(),It.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Qg(e,n,s,o){n.value=s,n.getSnapshot=o,Xg(n)&&$g(e)}function Yg(e,n,s){return s(function(){Xg(n)&&$g(e)})}function Xg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Nn(e,s)}catch{return!0}}function $g(e){var n=Is(e,2);n!==null&&wn(n,e,2)}function ff(e){var n=pn();if(typeof e=="function"){var s=e;if(e=s(),ks){Pn(!0);try{s()}finally{Pn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},n}function Jg(e,n,s,o){return e.baseState=s,cf(e,ee,typeof o=="function"?o:Bi)}function LT(e,n,s,o,h){if(qu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Zg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Zg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,y={};F.T=y;try{var E=s(h,o),R=F.S;R!==null&&R(y,E),Wg(e,n,E)}catch(j){df(e,n,j)}finally{f!==null&&y.types!==null&&(f.types=y.types),F.T=f}}else try{f=s(h,o),Wg(e,n,f)}catch(j){df(e,n,j)}}function Wg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){tp(e,n,o)},function(o){return df(e,n,o)}):tp(e,n,s)}function tp(e,n,s){n.status="fulfilled",n.value=s,ep(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Zg(e,s)))}function df(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,ep(n),n=n.next;while(n!==o)}e.action=null}function ep(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function np(e,n){return n}function ip(e,n){if(qt){var s=ae.formState;if(s!==null){t:{var o=It;if(qt){if(ue){e:{for(var h=ue,f=Kn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Yn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ue=Yn(h.nextSibling),o=h.data==="F!";break t}}xr(o)}o=!1}o&&(n=s[0])}}return s=pn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:np,lastRenderedState:n},s.queue=o,s=Ap.bind(null,It,o),o.dispatch=s,o=ff(!1),f=vf.bind(null,It,!1,o.queue),o=pn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=LT.bind(null,It,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function rp(e){var n=we();return sp(n,ee,e)}function sp(e,n,s){if(n=cf(e,n,np)[0],e=ju(Bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ho(n)}catch(y){throw y===Ta?Nu:y}else o=n;n=we();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(It.flags|=2048,Ra(9,{destroy:void 0},PT.bind(null,h,s),null)),[o,f,e]}function PT(e,n){e.action=n}function ap(e){var n=we(),s=ee;if(s!==null)return sp(n,s,e);we(),n=n.memoizedState,s=we();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ra(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=It.updateQueue,n===null&&(n=Lu(),It.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function op(){return we().memoizedState}function zu(e,n,s,o){var h=pn();It.flags|=e,h.memoizedState=Ra(1|n,{destroy:void 0},s,o===void 0?null:o)}function Bu(e,n,s,o){var h=we();o=o===void 0?null:o;var f=h.memoizedState.inst;ee!==null&&o!==null&&rf(o,ee.memoizedState.deps)?h.memoizedState=Ra(n,f,s,o):(It.flags|=e,h.memoizedState=Ra(1|n,f,s,o))}function lp(e,n){zu(8390656,8,e,n)}function mf(e,n){Bu(2048,8,e,n)}function jT(e){It.flags|=4;var n=It.updateQueue;if(n===null)n=Lu(),It.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function up(e){var n=we().memoizedState;return jT({ref:n,nextImpl:e}),function(){if(($t&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function cp(e,n){return Bu(4,2,e,n)}function hp(e,n){return Bu(4,4,e,n)}function fp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function dp(e,n,s){s=s!=null?s.concat([e]):null,Bu(4,4,fp.bind(null,n,e),s)}function gf(){}function mp(e,n){var s=we();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&rf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function gp(e,n){var s=we();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&rf(n,o[1]))return o[0];if(o=e(),ks){Pn(!0);try{e()}finally{Pn(!1)}}return s.memoizedState=[o,n],o}function pf(e,n,s){return s===void 0||(zi&1073741824)!==0&&(Pt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=py(),It.lanes|=e,Br|=e,s)}function pp(e,n,s,o){return Nn(s,n)?s:Sa.current!==null?(e=pf(e,s,o),Nn(e,n)||(De=!0),e):(zi&42)===0||(zi&1073741824)!==0&&(Pt&261930)===0?(De=!0,e.memoizedState=s):(e=py(),It.lanes|=e,Br|=e,n)}function yp(e,n,s,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var y=F.T,E={};F.T=E,vf(e,!1,n,s);try{var R=h(),j=F.S;if(j!==null&&j(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=VT(R,o);Fo(e,n,G,Un(e))}else Fo(e,n,o,Un(e))}catch(Y){Fo(e,n,{then:function(){},status:"rejected",reason:Y},Un())}finally{et.p=f,y!==null&&E.types!==null&&(y.types=E.types),F.T=y}}function zT(){}function yf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=_p(e).queue;yp(e,h,n,ht,s===null?zT:function(){return vp(e),s(o)})}function _p(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function vp(e){var n=_p(e);n.next===null&&(n=e.alternate.memoizedState),Fo(e,n.next.queue,{},Un())}function _f(){return Ye(ol)}function Ep(){return we().memoizedState}function Tp(){return we().memoizedState}function BT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Un();e=Ur(s);var o=kr(n,e,s);o!==null&&(wn(o,n,s),jo(o,n,s)),n={cache:Kh()},e.payload=n;return}n=n.return}}function qT(e,n,s){var o=Un();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},qu(e)?Sp(n,s):(s=Uh(e,n,s,o),s!==null&&(wn(s,e,o),bp(s,n,o)))}function Ap(e,n,s){var o=Un();Fo(e,n,s,o)}function Fo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(qu(e))Sp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,s);if(h.hasEagerState=!0,h.eagerState=E,Nn(E,y))return Au(e,n,h,0),ae===null&&Tu(),!1}catch{}finally{}if(s=Uh(e,n,h,o),s!==null)return wn(s,e,o),bp(s,n,o),!0}return!1}function vf(e,n,s,o){if(o={lane:2,revertLane:Jf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},qu(e)){if(n)throw Error(a(479))}else n=Uh(e,s,o,2),n!==null&&wn(n,e,2)}function qu(e){var n=e.alternate;return e===It||n!==null&&n===It}function Sp(e,n){ba=Uu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function bp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,mr(e,s)}}var Go={readContext:Ye,use:Pu,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te};Go.useEffectEvent=Te;var wp={readContext:Ye,use:Pu,useCallback:function(e,n){return pn().memoizedState=[e,n===void 0?null:n],e},useContext:Ye,useEffect:lp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,zu(4194308,4,fp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return zu(4194308,4,e,n)},useInsertionEffect:function(e,n){zu(4,2,e,n)},useMemo:function(e,n){var s=pn();n=n===void 0?null:n;var o=e();if(ks){Pn(!0);try{e()}finally{Pn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=pn();if(s!==void 0){var h=s(n);if(ks){Pn(!0);try{s(n)}finally{Pn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=qT.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var n=pn();return e={current:e},n.memoizedState=e},useState:function(e){e=ff(e);var n=e.queue,s=Ap.bind(null,It,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:gf,useDeferredValue:function(e,n){var s=pn();return pf(s,e,n)},useTransition:function(){var e=ff(!1);return e=yp.bind(null,It,e.queue,!0,!1),pn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=It,h=pn();if(qt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ae===null)throw Error(a(349));(Pt&127)!==0||Kg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,lp(Yg.bind(null,o,f,e),[e]),o.flags|=2048,Ra(9,{destroy:void 0},Qg.bind(null,o,f,s,n),null),s},useId:function(){var e=pn(),n=ae.identifierPrefix;if(qt){var s=pi,o=gi;s=(o&~(1<<32-hn(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=ku++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=UT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:_f,useFormState:ip,useActionState:ip,useOptimistic:function(e){var n=pn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=vf.bind(null,It,!0,s),s.dispatch=n,[e,n]},useMemoCache:uf,useCacheRefresh:function(){return pn().memoizedState=BT.bind(null,It)},useEffectEvent:function(e){var n=pn(),s={impl:e};return n.memoizedState=s,function(){if(($t&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Ef={readContext:Ye,use:Pu,useCallback:mp,useContext:Ye,useEffect:mf,useImperativeHandle:dp,useInsertionEffect:cp,useLayoutEffect:hp,useMemo:gp,useReducer:ju,useRef:op,useState:function(){return ju(Bi)},useDebugValue:gf,useDeferredValue:function(e,n){var s=we();return pp(s,ee.memoizedState,e,n)},useTransition:function(){var e=ju(Bi)[0],n=we().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Gg,useId:Ep,useHostTransitionStatus:_f,useFormState:rp,useActionState:rp,useOptimistic:function(e,n){var s=we();return Jg(s,ee,e,n)},useMemoCache:uf,useCacheRefresh:Tp};Ef.useEffectEvent=up;var Rp={readContext:Ye,use:Pu,useCallback:mp,useContext:Ye,useEffect:mf,useImperativeHandle:dp,useInsertionEffect:cp,useLayoutEffect:hp,useMemo:gp,useReducer:hf,useRef:op,useState:function(){return hf(Bi)},useDebugValue:gf,useDeferredValue:function(e,n){var s=we();return ee===null?pf(s,e,n):pp(s,ee.memoizedState,e,n)},useTransition:function(){var e=hf(Bi)[0],n=we().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Gg,useId:Ep,useHostTransitionStatus:_f,useFormState:ap,useActionState:ap,useOptimistic:function(e,n){var s=we();return ee!==null?Jg(s,ee,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:uf,useCacheRefresh:Tp};Rp.useEffectEvent=up;function Tf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Af={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Un(),h=Ur(o);h.payload=n,s!=null&&(h.callback=s),n=kr(e,h,o),n!==null&&(wn(n,e,o),jo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Un(),h=Ur(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=kr(e,h,o),n!==null&&(wn(n,e,o),jo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Un(),o=Ur(s);o.tag=2,n!=null&&(o.callback=n),n=kr(e,o,s),n!==null&&(wn(n,e,s),jo(n,e,s))}};function Ip(e,n,s,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Oo(s,o)||!Oo(h,f):!0}function Cp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Af.enqueueReplaceState(n,n.state,null)}function Ls(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Np(e){Eu(e)}function Dp(e){console.error(e)}function Op(e){Eu(e)}function Hu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function xp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Sf(e,n,s){return s=Ur(s),s.tag=3,s.payload={element:null},s.callback=function(){Hu(e,n)},s}function Mp(e){return e=Ur(e),e.tag=3,e}function Vp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){xp(n,s,o)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){xp(n,s,o),typeof h!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function HT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&_a(n,s,h,!0),s=On.current,s!==null){switch(s.tag){case 31:case 13:return Qn===null?ec():s.alternate===null&&Ae===0&&(Ae=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Du?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Yf(e,o,h)),!1;case 22:return s.flags|=65536,o===Du?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Yf(e,o,h)),!1}throw Error(a(435,s.tag))}return Yf(e,o,h),ec(),!1}if(qt)return n=On.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Bh&&(e=Error(a(422),{cause:o}),Vo(Hn(e,s)))):(o!==Bh&&(n=Error(a(423),{cause:o}),Vo(Hn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Hn(o,s),h=Sf(e.stateNode,o,h),Zh(e,h),Ae!==4&&(Ae=2)),!1;var f=Error(a(520),{cause:o});if(f=Hn(f,s),Wo===null?Wo=[f]:Wo.push(f),Ae!==4&&(Ae=2),n===null)return!0;o=Hn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Sf(s.stateNode,o,e),Zh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(qr===null||!qr.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Mp(h),Vp(h,e,s,o),Zh(s,h),!1}s=s.return}while(s!==null);return!1}var bf=Error(a(461)),De=!1;function Xe(e,n,s,o){n.child=e===null?Pg(n,null,s,o):Us(n,e.child,s,o)}function Up(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Os(n),o=sf(e,n,s,y,f,h),E=af(),e!==null&&!De?(of(e,n,h),qi(e,n,h)):(qt&&E&&jh(n),n.flags|=1,Xe(e,n,o,h),n.child)}function kp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!kh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Lp(e,n,f,o,h)):(e=bu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!xf(e,h)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:Oo,s(y,o)&&e.ref===n.ref)return qi(e,n,h)}return n.flags|=1,e=ki(f,o),e.ref=n.ref,e.return=n,n.child=e}function Lp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Oo(f,o)&&e.ref===n.ref)if(De=!1,n.pendingProps=o=f,xf(e,h))(e.flags&131072)!==0&&(De=!0);else return n.lanes=e.lanes,qi(e,n,h)}return wf(e,n,s,o,h)}function Pp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return jp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cu(n,f!==null?f.cachePool:null),f!==null?Bg(n,f):tf(),qg(n);else return o=n.lanes=536870912,jp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Cu(n,f.cachePool),Bg(n,f),Pr(),n.memoizedState=null):(e!==null&&Cu(n,null),tf(),Pr());return Xe(e,n,h,s),n.child}function Ko(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function jp(e,n,s,o,h){var f=Yh();return f=f===null?null:{parent:Ce._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Cu(n,null),tf(),qg(n),e!==null&&_a(e,n,o,!0),n.childLanes=h,null}function Fu(e,n){return n=Ku({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function zp(e,n,s){return Us(n,e.child,null,s),e=Fu(n,n.pendingProps),e.flags|=2,xn(n),n.memoizedState=null,e}function FT(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(qt){if(o.mode==="hidden")return e=Fu(n,o),n.lanes=536870912,Ko(null,e);if(nf(n),(e=ue)?(e=Zy(e,Kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Dr!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=Sg(e),s.return=n,n.child=s,Qe=n,ue=null)):e=null,e===null)throw xr(n);return n.lanes=536870912,null}return Fu(n,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(nf(n),h)if(n.flags&256)n.flags&=-257,n=zp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(De||_a(e,n,s,!1),h=(s&e.childLanes)!==0,De||h){if(o=ae,o!==null&&(y=gr(o,s),y!==0&&y!==f.retryLane))throw f.retryLane=y,Is(e,y),wn(o,e,y),bf;ec(),n=zp(e,n,s)}else e=f.treeContext,ue=Yn(y.nextSibling),Qe=n,qt=!0,Or=null,Kn=!1,e!==null&&Rg(n,e),n=Fu(n,o),n.flags|=4096;return n}return e=ki(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Gu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function wf(e,n,s,o,h){return Os(n),s=sf(e,n,s,o,void 0,h),o=af(),e!==null&&!De?(of(e,n,h),qi(e,n,h)):(qt&&o&&jh(n),n.flags|=1,Xe(e,n,s,h),n.child)}function Bp(e,n,s,o,h,f){return Os(n),n.updateQueue=null,s=Fg(n,o,s,h),Hg(e),o=af(),e!==null&&!De?(of(e,n,f),qi(e,n,f)):(qt&&o&&jh(n),n.flags|=1,Xe(e,n,s,f),n.child)}function qp(e,n,s,o,h){if(Os(n),n.stateNode===null){var f=ma,y=s.contextType;typeof y=="object"&&y!==null&&(f=Ye(y)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Af,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},$h(n),y=s.contextType,f.context=typeof y=="object"&&y!==null?Ye(y):ma,f.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Tf(n,s,y,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Af.enqueueReplaceState(f,f.state,null),Bo(n,o,f,h),zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Ls(s,E);f.props=R;var j=f.context,G=s.contextType;y=ma,typeof G=="object"&&G!==null&&(y=Ye(G));var Y=s.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==y)&&Cp(n,f,o,y),Vr=!1;var z=n.memoizedState;f.state=z,Bo(n,o,f,h),zo(),j=n.memoizedState,E||z!==j||Vr?(typeof Y=="function"&&(Tf(n,s,Y,o),j=n.memoizedState),(R=Vr||Ip(n,s,R,o,z,j,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=y,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Jh(e,n),y=n.memoizedProps,G=Ls(s,y),f.props=G,Y=n.pendingProps,z=f.context,j=s.contextType,R=ma,typeof j=="object"&&j!==null&&(R=Ye(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||z!==R)&&Cp(n,f,o,R),Vr=!1,z=n.memoizedState,f.state=z,Bo(n,o,f,h),zo();var q=n.memoizedState;y!==Y||z!==q||Vr||e!==null&&e.dependencies!==null&&Ru(e.dependencies)?(typeof E=="function"&&(Tf(n,s,E,o),q=n.memoizedState),(G=Vr||Ip(n,s,G,o,z,q,R)||e!==null&&e.dependencies!==null&&Ru(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Gu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Us(n,e.child,null,h),n.child=Us(n,null,s,h)):Xe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=qi(e,n,h),e}function Hp(e,n,s,o){return Ns(),n.flags|=256,Xe(e,n,s,o),n.child}var Rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function If(e){return{baseLanes:e,cachePool:xg()}}function Cf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Vn),e}function Fp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(qt){if(h?Lr(n):Pr(),(e=ue)?(e=Zy(e,Kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Dr!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=Sg(e),s.return=n,n.child=s,Qe=n,ue=null)):e=null,e===null)throw xr(n);return cd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Pr(),h=n.mode,E=Ku({mode:"hidden",children:E},h),o=Cs(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=If(s),o.childLanes=Cf(e,y,s),n.memoizedState=Rf,Ko(null,o)):(Lr(n),Nf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Lr(n),n.flags&=-257,n=Df(e,n,s)):n.memoizedState!==null?(Pr(),n.child=e.child,n.flags|=128,n=null):(Pr(),E=o.fallback,h=n.mode,o=Ku({mode:"visible",children:o.children},h),E=Cs(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Us(n,e.child,null,s),o=n.child,o.memoizedState=If(s),o.childLanes=Cf(e,y,s),n.memoizedState=Rf,n=Ko(null,o));else if(Lr(n),cd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var j=y.dgst;y=j,o=Error(a(419)),o.stack="",o.digest=y,Vo({value:o,source:null,stack:null}),n=Df(e,n,s)}else if(De||_a(e,n,s,!1),y=(s&e.childLanes)!==0,De||y){if(y=ae,y!==null&&(o=gr(y,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,Is(e,o),wn(y,e,o),bf;ud(E)||ec(),n=Df(e,n,s)}else ud(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ue=Yn(E.nextSibling),Qe=n,qt=!0,Or=null,Kn=!1,e!==null&&Rg(n,e),n=Nf(n,o.children),n.flags|=4096);return n}return h?(Pr(),E=o.fallback,h=n.mode,R=e.child,j=R.sibling,o=ki(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,j!==null?E=ki(j,E):(E=Cs(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Ko(null,o),o=n.child,E=e.child.memoizedState,E===null?E=If(s):(h=E.cachePool,h!==null?(R=Ce._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=xg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Cf(e,y,s),n.memoizedState=Rf,Ko(e.child,o)):(Lr(n),s=e.child,e=s.sibling,s=ki(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=s,n.memoizedState=null,s)}function Nf(e,n){return n=Ku({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ku(e,n){return e=Dn(22,e,null,n),e.lanes=0,e}function Df(e,n,s){return Us(n,e.child,null,s),e=Nf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Gp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Fh(e.return,n,s)}function Of(e,n,s,o,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=s,y.tailMode=h,y.treeForkCount=f)}function Kp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=be.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,W(be,y),Xe(e,n,o,s),o=qt?Mo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gp(e,s,n);else if(e.tag===19)Gp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Vu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Of(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Vu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Of(n,!0,s,null,f,o);break;case"together":Of(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function qi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Br|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(_a(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=ki(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=ki(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function xf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ru(e)))}function GT(e,n,s){switch(n.tag){case 3:Ve(n,n.stateNode.containerInfo),Mr(n,Ce,e.memoizedState.cache),Ns();break;case 27:case 5:gt(n);break;case 4:Ve(n,n.stateNode.containerInfo);break;case 10:Mr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,nf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Lr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Fp(e,n,s):(Lr(n),e=qi(e,n,s),e!==null?e.sibling:null);Lr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(_a(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Kp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(be,be.current),o)break;return null;case 22:return n.lanes=0,Pp(e,n,s,n.pendingProps);case 24:Mr(n,Ce,e.memoizedState.cache)}return qi(e,n,s)}function Qp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)De=!0;else{if(!xf(e,s)&&(n.flags&128)===0)return De=!1,GT(e,n,s);De=(e.flags&131072)!==0}else De=!1,qt&&(n.flags&1048576)!==0&&wg(n,Mo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ms(n.elementType),n.type=e,typeof e=="function")kh(e)?(o=Ls(e,o),n.tag=1,n=qp(null,n,e,o,s)):(n.tag=0,n=wf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Lt){n.tag=11,n=Up(null,n,e,o,s);break t}else if(h===C){n.tag=14,n=kp(null,n,e,o,s);break t}}throw n=me(e)||e,Error(a(306,n,""))}}return n;case 0:return wf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Ls(o,n.pendingProps),qp(e,n,o,h,s);case 3:t:{if(Ve(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Jh(e,n),Bo(n,o,null,s);var y=n.memoizedState;if(o=y.cache,Mr(n,Ce,o),o!==f.cache&&Gh(n,[Ce],s,!0),zo(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Hp(e,n,o,s);break t}else if(o!==h){h=Hn(Error(a(424)),n),Vo(h),n=Hp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=Yn(e.firstChild),Qe=n,qt=!0,Or=null,Kn=!0,s=Pg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ns(),o===h){n=qi(e,n,s);break t}Xe(e,n,o,s)}n=n.child}return n;case 26:return Gu(e,n),e===null?(s=r_(n.type,null,n.pendingProps,null))?n.memoizedState=s:qt||(s=n.type,e=n.pendingProps,o=lc(Ct.current).createElement(s),o[ve]=n,o[Ke]=e,$e(o,s,e),Se(o),n.stateNode=o):n.memoizedState=r_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return gt(n),e===null&&qt&&(o=n.stateNode=e_(n.type,n.pendingProps,Ct.current),Qe=n,Kn=!0,h=ue,Kr(n.type)?(hd=h,ue=Yn(o.firstChild)):ue=h),Xe(e,n,n.pendingProps.children,s),Gu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&qt&&((h=o=ue)&&(o=TA(o,n.type,n.pendingProps,Kn),o!==null?(n.stateNode=o,Qe=n,ue=Yn(o.firstChild),Kn=!1,h=!0):h=!1),h||xr(n)),gt(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,ad(h,f)?o=null:y!==null&&ad(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=sf(e,n,kT,null,null,s),ol._currentValue=h),Gu(e,n),Xe(e,n,o,s),n.child;case 6:return e===null&&qt&&((e=s=ue)&&(s=AA(s,n.pendingProps,Kn),s!==null?(n.stateNode=s,Qe=n,ue=null,e=!0):e=!1),e||xr(n)),null;case 13:return Fp(e,n,s);case 4:return Ve(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Us(n,null,o,s):Xe(e,n,o,s),n.child;case 11:return Up(e,n,n.type,n.pendingProps,s);case 7:return Xe(e,n,n.pendingProps,s),n.child;case 8:return Xe(e,n,n.pendingProps.children,s),n.child;case 12:return Xe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Mr(n,n.type,o.value),Xe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Os(n),h=Ye(h),o=o(h),n.flags|=1,Xe(e,n,o,s),n.child;case 14:return kp(e,n,n.type,n.pendingProps,s);case 15:return Lp(e,n,n.type,n.pendingProps,s);case 19:return Kp(e,n,s);case 31:return FT(e,n,s);case 22:return Pp(e,n,s,n.pendingProps);case 24:return Os(n),o=Ye(Ce),e===null?(h=Yh(),h===null&&(h=ae,f=Kh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},$h(n),Mr(n,Ce,h)):((e.lanes&s)!==0&&(Jh(e,n),Bo(n,null,null,s),zo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Mr(n,Ce,o)):(o=f.cache,Mr(n,Ce,o),o!==h.cache&&Gh(n,[Ce],s,!0))),Xe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Hi(e){e.flags|=4}function Mf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ey())e.flags|=8192;else throw Vs=Du,Xh}else e.flags&=-16777217}function Yp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!u_(n))if(Ey())e.flags|=8192;else throw Vs=Du,Xh}function Qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?fo():536870912,e.lanes|=n,Da|=n)}function Qo(e,n){if(!qt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ce(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function KT(e,n,s){var o=n.pendingProps;switch(zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(n),null;case 1:return ce(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ji(Ce),oe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ya(n)?Hi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,qh())),ce(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Hi(n),f!==null?(ce(n),Yp(n,f)):(ce(n),Mf(n,h,null,o,s))):f?f!==e.memoizedState?(Hi(n),ce(n),Yp(n,f)):(ce(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Hi(n),ce(n),Mf(n,h,e,o,s)),null;case 27:if(ut(n),s=Ct.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ce(n),null}e=rt.current,ya(n)?Ig(n):(e=e_(h,o,s),n.stateNode=e,Hi(n))}return ce(n),null;case 5:if(ut(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ce(n),null}if(f=rt.current,ya(n))Ig(n);else{var y=lc(Ct.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[ve]=n,f[Ke]=o;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch($e(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Hi(n)}}return ce(n),Mf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Ct.current,ya(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Fy(e.nodeValue,s)),e||xr(n,!0)}else e=lc(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ce(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ya(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ve]=n}else Ns(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),e=!1}else s=qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(xn(n),n):(xn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ce(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ya(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ve]=n}else Ns(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),h=!1}else h=qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(xn(n),n):(xn(n),null)}return xn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Qu(n,n.updateQueue),ce(n),null);case 4:return oe(),e===null&&ed(n.stateNode.containerInfo),ce(n),null;case 10:return ji(n.type),ce(n),null;case 19:if(K(be),o=n.memoizedState,o===null)return ce(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Qo(o,!1);else{if(Ae!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Vu(e),f!==null){for(n.flags|=128,Qo(o,!1),e=f.updateQueue,n.updateQueue=e,Qu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Ag(s,e),s=s.sibling;return W(be,be.current&1|2),qt&&Li(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ye()>Zu&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Vu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Qu(n,e),Qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!qt)return ce(n),null}else 2*ye()-o.renderingStartTime>Zu&&s!==536870912&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ye(),e.sibling=null,s=be.current,W(be,h?s&1|2:s&1),qt&&Li(n,o.treeForkCount),e):(ce(n),null);case 22:case 23:return xn(n),ef(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ce(n),n.subtreeFlags&6&&(n.flags|=8192)):ce(n),s=n.updateQueue,s!==null&&Qu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(xs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ji(Ce),ce(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function QT(e,n){switch(zh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ji(Ce),oe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ut(n),null;case 31:if(n.memoizedState!==null){if(xn(n),n.alternate===null)throw Error(a(340));Ns()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(xn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ns()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(be),null;case 4:return oe(),null;case 10:return ji(n.type),null;case 22:case 23:return xn(n),ef(),e!==null&&K(xs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ji(Ce),null;case 25:return null;default:return null}}function Xp(e,n){switch(zh(n),n.tag){case 3:ji(Ce),oe();break;case 26:case 27:case 5:ut(n);break;case 4:oe();break;case 31:n.memoizedState!==null&&xn(n);break;case 13:xn(n);break;case 19:K(be);break;case 10:ji(n.type);break;case 22:case 23:xn(n),ef(),e!==null&&K(xs);break;case 24:ji(Ce)}}function Yo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,y=s.inst;o=f(),y.destroy=o}s=s.next}while(s!==h)}}catch(E){Wt(n,n.return,E)}}function jr(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var R=s,j=E;try{j()}catch(G){Wt(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){Wt(n,n.return,G)}}function $p(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{zg(n,s)}catch(o){Wt(e,e.return,o)}}}function Jp(e,n,s){s.props=Ls(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Wt(e,n,o)}}function Xo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Wt(e,n,h)}}function yi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Wt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Wt(e,n,h)}else s.current=null}function Zp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Wt(e,e.return,h)}}function Vf(e,n,s){try{var o=e.stateNode;gA(o,e.type,s,n),o[Ke]=n}catch(h){Wt(e,e.return,h)}}function Wp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Kr(e.type)||e.tag===4}function Uf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Wp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Kr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ze));else if(o!==4&&(o===27&&Kr(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(kf(e,n,s),e=e.sibling;e!==null;)kf(e,n,s),e=e.sibling}function Yu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Kr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Yu(e,n,s),e=e.sibling;e!==null;)Yu(e,n,s),e=e.sibling}function ty(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);$e(n,o,s),n[ve]=e,n[Ke]=s}catch(f){Wt(e,e.return,f)}}var Fi=!1,Oe=!1,Lf=!1,ey=typeof WeakSet=="function"?WeakSet:Set,He=null;function YT(e,n){if(e=e.containerInfo,rd=gc,e=dg(e),Nh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var y=0,E=-1,R=-1,j=0,G=0,Y=e,z=null;e:for(;;){for(var q;Y!==s||h!==0&&Y.nodeType!==3||(E=y+h),Y!==f||o!==0&&Y.nodeType!==3||(R=y+o),Y.nodeType===3&&(y+=Y.nodeValue.length),(q=Y.firstChild)!==null;)z=Y,Y=q;for(;;){if(Y===e)break e;if(z===s&&++j===h&&(E=y),z===f&&++G===o&&(R=y),(q=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=q}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(sd={focusedElem:e,selectionRange:s},gc=!1,He=n;He!==null;)if(n=He,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,He=e;else for(;He!==null;){switch(n=He,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var st=Ls(s.type,h);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Wt(s,s.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)ld(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ld(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,He=e;break}He=n.return}}function ny(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Ki(e,s),o&4&&Yo(5,s);break;case 1:if(Ki(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(y){Wt(s,s.return,y)}else{var h=Ls(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Wt(s,s.return,y)}}o&64&&$p(s),o&512&&Xo(s,s.return);break;case 3:if(Ki(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{zg(e,n)}catch(y){Wt(s,s.return,y)}}break;case 27:n===null&&o&4&&ty(s);case 26:case 5:Ki(e,s),n===null&&o&4&&Zp(s),o&512&&Xo(s,s.return);break;case 12:Ki(e,s);break;case 31:Ki(e,s),o&4&&sy(e,s);break;case 13:Ki(e,s),o&4&&ay(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=iA.bind(null,s),SA(e,s))));break;case 22:if(o=s.memoizedState!==null||Fi,!o){n=n!==null&&n.memoizedState!==null||Oe,h=Fi;var f=Oe;Fi=o,(Oe=n)&&!f?Qi(e,s,(s.subtreeFlags&8772)!==0):Ki(e,s),Fi=h,Oe=f}break;case 30:break;default:Ki(e,s)}}function iy(e){var n=e.alternate;n!==null&&(e.alternate=null,iy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&gs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var de=null,Tn=!1;function Gi(e,n,s){for(s=s.child;s!==null;)ry(e,n,s),s=s.sibling}function ry(e,n,s){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(cr,s)}catch{}switch(s.tag){case 26:Oe||yi(s,n),Gi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Oe||yi(s,n);var o=de,h=Tn;Kr(s.type)&&(de=s.stateNode,Tn=!1),Gi(e,n,s),rl(s.stateNode),de=o,Tn=h;break;case 5:Oe||yi(s,n);case 6:if(o=de,h=Tn,de=null,Gi(e,n,s),de=o,Tn=h,de!==null)if(Tn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(s.stateNode)}catch(f){Wt(s,n,f)}else try{de.removeChild(s.stateNode)}catch(f){Wt(s,n,f)}break;case 18:de!==null&&(Tn?(e=de,$y(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Pa(e)):$y(de,s.stateNode));break;case 4:o=de,h=Tn,de=s.stateNode.containerInfo,Tn=!0,Gi(e,n,s),de=o,Tn=h;break;case 0:case 11:case 14:case 15:jr(2,s,n),Oe||jr(4,s,n),Gi(e,n,s);break;case 1:Oe||(yi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Jp(s,n,o)),Gi(e,n,s);break;case 21:Gi(e,n,s);break;case 22:Oe=(o=Oe)||s.memoizedState!==null,Gi(e,n,s),Oe=o;break;default:Gi(e,n,s)}}function sy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pa(e)}catch(s){Wt(n,n.return,s)}}}function ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pa(e)}catch(s){Wt(n,n.return,s)}}function XT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ey),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ey),n;default:throw Error(a(435,e.tag))}}function Xu(e,n){var s=XT(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=rA.bind(null,e,o);o.then(h,h)}})}function An(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Kr(E.type)){de=E.stateNode,Tn=!1;break t}break;case 5:de=E.stateNode,Tn=!1;break t;case 3:case 4:de=E.stateNode.containerInfo,Tn=!0;break t}E=E.return}if(de===null)throw Error(a(160));ry(f,y,h),de=null,Tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)oy(n,e),n=n.sibling}var ti=null;function oy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:An(n,e),Sn(e),o&4&&(jr(3,e,e.return),Yo(3,e),jr(5,e,e.return));break;case 1:An(n,e),Sn(e),o&512&&(Oe||s===null||yi(s,s.return)),o&64&&Fi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ti;if(An(n,e),Sn(e),o&512&&(Oe||s===null||yi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ci]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),$e(f,o,s),f[ve]=e,Se(f),o=f;break t;case"link":var y=o_("link","href",h).get(o+(s.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),$e(f,o,s),h.head.appendChild(f);break;case"meta":if(y=o_("meta","content",h).get(o+(s.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(E,1);break e}}f=h.createElement(o),$e(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ve]=e,Se(f),o=f}e.stateNode=o}else l_(h,e.type,e.stateNode);else e.stateNode=a_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?l_(h,e.type,e.stateNode):a_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Vf(e,e.memoizedProps,s.memoizedProps)}break;case 27:An(n,e),Sn(e),o&512&&(Oe||s===null||yi(s,s.return)),s!==null&&o&4&&Vf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(An(n,e),Sn(e),o&512&&(Oe||s===null||yi(s,s.return)),e.flags&32){h=e.stateNode;try{Bn(h,"")}catch(st){Wt(e,e.return,st)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Vf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Lf=!0);break;case 6:if(An(n,e),Sn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(st){Wt(e,e.return,st)}}break;case 3:if(hc=null,h=ti,ti=uc(n.containerInfo),An(n,e),ti=h,Sn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Pa(n.containerInfo)}catch(st){Wt(e,e.return,st)}Lf&&(Lf=!1,ly(e));break;case 4:o=ti,ti=uc(e.stateNode.containerInfo),An(n,e),Sn(e),ti=o;break;case 12:An(n,e),Sn(e);break;case 31:An(n,e),Sn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Xu(e,o)));break;case 13:An(n,e),Sn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ju=ye()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Xu(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,j=Fi,G=Oe;if(Fi=j||h,Oe=G||R,An(n,e),Oe=G,Fi=j,Sn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||Fi||Oe||Ps(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(st){Wt(R,R.return,st)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(st){Wt(R,R.return,st)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;h?Jy(q,!0):Jy(R.stateNode,!1)}catch(st){Wt(R,R.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Xu(e,s))));break;case 19:An(n,e),Sn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Xu(e,o)));break;case 30:break;case 21:break;default:An(n,e),Sn(e)}}function Sn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Wp(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Uf(e);Yu(e,f,h);break;case 5:var y=s.stateNode;s.flags&32&&(Bn(y,""),s.flags&=-33);var E=Uf(e);Yu(e,E,y);break;case 3:case 4:var R=s.stateNode.containerInfo,j=Uf(e);kf(e,j,R);break;default:throw Error(a(161))}}catch(G){Wt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ly(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ly(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ki(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ny(e,n.alternate,n),n=n.sibling}function Ps(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:jr(4,n,n.return),Ps(n);break;case 1:yi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Jp(n,n.return,s),Ps(n);break;case 27:rl(n.stateNode);case 26:case 5:yi(n,n.return),Ps(n);break;case 22:n.memoizedState===null&&Ps(n);break;case 30:Ps(n);break;default:Ps(n)}e=e.sibling}}function Qi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Qi(h,f,s),Yo(4,f);break;case 1:if(Qi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Wt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)jg(R[h],E)}catch(j){Wt(o,o.return,j)}}s&&y&64&&$p(f),Xo(f,f.return);break;case 27:ty(f);case 26:case 5:Qi(h,f,s),s&&o===null&&y&4&&Zp(f),Xo(f,f.return);break;case 12:Qi(h,f,s);break;case 31:Qi(h,f,s),s&&y&4&&sy(h,f);break;case 13:Qi(h,f,s),s&&y&4&&ay(h,f);break;case 22:f.memoizedState===null&&Qi(h,f,s),Xo(f,f.return);break;case 30:break;default:Qi(h,f,s)}n=n.sibling}}function Pf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Uo(s))}function jf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e))}function ei(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)uy(e,n,s,o),n=n.sibling}function uy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ei(e,n,s,o),h&2048&&Yo(9,n);break;case 1:ei(e,n,s,o);break;case 3:ei(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e)));break;case 12:if(h&2048){ei(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Wt(n,n.return,R)}}else ei(e,n,s,o);break;case 31:ei(e,n,s,o);break;case 13:ei(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ei(e,n,s,o):$o(e,n):f._visibility&2?ei(e,n,s,o):(f._visibility|=2,Ia(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Pf(y,n);break;case 24:ei(e,n,s,o),h&2048&&jf(n.alternate,n);break;default:ei(e,n,s,o)}}function Ia(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,E=s,R=o,j=y.flags;switch(y.tag){case 0:case 11:case 15:Ia(f,y,E,R,h),Yo(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Ia(f,y,E,R,h):$o(f,y):(G._visibility|=2,Ia(f,y,E,R,h)),h&&j&2048&&Pf(y.alternate,y);break;case 24:Ia(f,y,E,R,h),h&&j&2048&&jf(y.alternate,y);break;default:Ia(f,y,E,R,h)}n=n.sibling}}function $o(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:$o(s,o),h&2048&&Pf(o.alternate,o);break;case 24:$o(s,o),h&2048&&jf(o.alternate,o);break;default:$o(s,o)}n=n.sibling}}var Jo=8192;function Ca(e,n,s){if(e.subtreeFlags&Jo)for(e=e.child;e!==null;)cy(e,n,s),e=e.sibling}function cy(e,n,s){switch(e.tag){case 26:Ca(e,n,s),e.flags&Jo&&e.memoizedState!==null&&UA(s,ti,e.memoizedState,e.memoizedProps);break;case 5:Ca(e,n,s);break;case 3:case 4:var o=ti;ti=uc(e.stateNode.containerInfo),Ca(e,n,s),ti=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Jo,Jo=16777216,Ca(e,n,s),Jo=o):Ca(e,n,s));break;default:Ca(e,n,s)}}function hy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Zo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];He=o,dy(o,e)}hy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fy(e),e=e.sibling}function fy(e){switch(e.tag){case 0:case 11:case 15:Zo(e),e.flags&2048&&jr(9,e,e.return);break;case 3:Zo(e);break;case 12:Zo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,$u(e)):Zo(e);break;default:Zo(e)}}function $u(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];He=o,dy(o,e)}hy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:jr(8,n,n.return),$u(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,$u(n));break;default:$u(n)}e=e.sibling}}function dy(e,n){for(;He!==null;){var s=He;switch(s.tag){case 0:case 11:case 15:jr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Uo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,He=o;else t:for(s=e;He!==null;){o=He;var h=o.sibling,f=o.return;if(iy(o),o===s){He=null;break t}if(h!==null){h.return=f,He=h;break t}He=f}}}var $T={getCacheForType:function(e){var n=Ye(Ce),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Ye(Ce).controller.signal}},JT=typeof WeakMap=="function"?WeakMap:Map,$t=0,ae=null,Ut=null,Pt=0,Zt=0,Mn=null,zr=!1,Na=!1,zf=!1,Yi=0,Ae=0,Br=0,js=0,Bf=0,Vn=0,Da=0,Wo=null,bn=null,qf=!1,Ju=0,my=0,Zu=1/0,Wu=null,qr=null,ke=0,Hr=null,Oa=null,Xi=0,Hf=0,Ff=null,gy=null,tl=0,Gf=null;function Un(){return($t&2)!==0&&Pt!==0?Pt&-Pt:F.T!==null?Jf():Ii()}function py(){if(Vn===0)if((Pt&536870912)===0||qt){var e=oi;oi<<=1,(oi&3932160)===0&&(oi=262144),Vn=e}else Vn=536870912;return e=On.current,e!==null&&(e.flags|=32),Vn}function wn(e,n,s){(e===ae&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(xa(e,0),Fr(e,Pt,Vn,!1)),dr(e,s),(($t&2)===0||e!==ae)&&(e===ae&&(($t&2)===0&&(js|=s),Ae===4&&Fr(e,Pt,Vn,!1)),_i(e))}function yy(e,n,s){if(($t&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||fr(e,n),h=o?tA(e,n):Qf(e,n,!0),f=o;do{if(h===0){Na&&!o&&Fr(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!ZT(s)){h=Qf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=Wo;var R=E.current.memoizedState.isDehydrated;if(R&&(xa(E,y).flags|=256),y=Qf(E,y,!1),y!==2){if(zf&&!R){E.errorRecoveryDisabledLanes|=f,js|=f,h=4;break t}f=bn,bn=h,f!==null&&(bn===null?bn=f:bn.push.apply(bn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){xa(e,0),Fr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Fr(o,n,Vn,!zr);break t;case 2:bn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Ju+300-ye(),10<h)){if(Fr(o,n,Vn,!zr),jn(o,0,!0)!==0)break t;Xi=n,o.timeoutHandle=Yy(_y.bind(null,o,s,bn,Wu,qf,n,Vn,js,Da,zr,f,"Throttled",-0,0),h);break t}_y(o,s,bn,Wu,qf,n,Vn,js,Da,zr,f,null,-0,0)}}break}while(!0);_i(e)}function _y(e,n,s,o,h,f,y,E,R,j,G,Y,z,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ze},cy(n,f,Y);var st=(f&62914560)===f?Ju-ye():(f&4194048)===f?my-ye():0;if(st=kA(Y,st),st!==null){Xi=f,e.cancelPendingCommit=st(Ry.bind(null,e,n,f,s,o,h,y,E,R,G,Y,null,z,q)),Fr(e,f,y,!j);return}}Ry(e,n,f,s,o,h,y,E,R)}function ZT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Nn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fr(e,n,s,o){n&=~Bf,n&=~js,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-hn(h),y=1<<f;o[f]=-1,h&=~y}s!==0&&mo(e,s,n)}function tc(){return($t&6)===0?(el(0),!1):!0}function Kf(){if(Ut!==null){if(Zt===0)var e=Ut.return;else e=Ut,Pi=Ds=null,lf(e),Aa=null,Lo=0,e=Ut;for(;e!==null;)Xp(e.alternate,e),e=e.return;Ut=null}}function xa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,_A(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Xi=0,Kf(),ae=e,Ut=s=ki(e.current,null),Pt=n,Zt=0,Mn=null,zr=!1,Na=fr(e,n),zf=!1,Da=Vn=Bf=js=Br=Ae=0,bn=Wo=null,qf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-hn(o),f=1<<h;n|=e[h],o&=~f}return Yi=n,Tu(),s}function vy(e,n){It=null,F.H=Go,n===Ta||n===Nu?(n=Ug(),Zt=3):n===Xh?(n=Ug(),Zt=4):Zt=n===bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Mn=n,Ut===null&&(Ae=1,Hu(e,Hn(n,e.current)))}function Ey(){var e=On.current;return e===null?!0:(Pt&4194048)===Pt?Qn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?e===Qn:!1}function Ty(){var e=F.H;return F.H=Go,e===null?Go:e}function Ay(){var e=F.A;return F.A=$T,e}function ec(){Ae=4,zr||(Pt&4194048)!==Pt&&On.current!==null||(Na=!0),(Br&134217727)===0&&(js&134217727)===0||ae===null||Fr(ae,Pt,Vn,!1)}function Qf(e,n,s){var o=$t;$t|=2;var h=Ty(),f=Ay();(ae!==e||Pt!==n)&&(Wu=null,xa(e,n)),n=!1;var y=Ae;t:do try{if(Zt!==0&&Ut!==null){var E=Ut,R=Mn;switch(Zt){case 8:Kf(),y=6;break t;case 3:case 2:case 9:case 6:On.current===null&&(n=!0);var j=Zt;if(Zt=0,Mn=null,Ma(e,E,R,j),s&&Na){y=0;break t}break;default:j=Zt,Zt=0,Mn=null,Ma(e,E,R,j)}}WT(),y=Ae;break}catch(G){vy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Pi=Ds=null,$t=o,F.H=h,F.A=f,Ut===null&&(ae=null,Pt=0,Tu()),y}function WT(){for(;Ut!==null;)Sy(Ut)}function tA(e,n){var s=$t;$t|=2;var o=Ty(),h=Ay();ae!==e||Pt!==n?(Wu=null,Zu=ye()+500,xa(e,n)):Na=fr(e,n);t:do try{if(Zt!==0&&Ut!==null){n=Ut;var f=Mn;e:switch(Zt){case 1:Zt=0,Mn=null,Ma(e,n,f,1);break;case 2:case 9:if(Mg(f)){Zt=0,Mn=null,by(n);break}n=function(){Zt!==2&&Zt!==9||ae!==e||(Zt=7),_i(e)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Mg(f)?(Zt=0,Mn=null,by(n)):(Zt=0,Mn=null,Ma(e,n,f,7));break;case 5:var y=null;switch(Ut.tag){case 26:y=Ut.memoizedState;case 5:case 27:var E=Ut;if(y?u_(y):E.stateNode.complete){Zt=0,Mn=null;var R=E.sibling;if(R!==null)Ut=R;else{var j=E.return;j!==null?(Ut=j,nc(j)):Ut=null}break e}}Zt=0,Mn=null,Ma(e,n,f,5);break;case 6:Zt=0,Mn=null,Ma(e,n,f,6);break;case 8:Kf(),Ae=6;break t;default:throw Error(a(462))}}eA();break}catch(G){vy(e,G)}while(!0);return Pi=Ds=null,F.H=o,F.A=h,$t=s,Ut!==null?0:(ae=null,Pt=0,Tu(),Ae)}function eA(){for(;Ut!==null&&!en();)Sy(Ut)}function Sy(e){var n=Qp(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,n===null?nc(e):Ut=n}function by(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Bp(s,n,n.pendingProps,n.type,void 0,Pt);break;case 11:n=Bp(s,n,n.pendingProps,n.type.render,n.ref,Pt);break;case 5:lf(n);default:Xp(s,n),n=Ut=Ag(n,Yi),n=Qp(s,n,Yi)}e.memoizedProps=e.pendingProps,n===null?nc(e):Ut=n}function Ma(e,n,s,o){Pi=Ds=null,lf(n),Aa=null,Lo=0;var h=n.return;try{if(HT(e,h,n,s,Pt)){Ae=1,Hu(e,Hn(s,e.current)),Ut=null;return}}catch(f){if(h!==null)throw Ut=h,f;Ae=1,Hu(e,Hn(s,e.current)),Ut=null;return}n.flags&32768?(qt||o===1?e=!0:Na||(Pt&536870912)!==0?e=!1:(zr=e=!0,(o===2||o===9||o===3||o===6)&&(o=On.current,o!==null&&o.tag===13&&(o.flags|=16384))),wy(n,e)):nc(n)}function nc(e){var n=e;do{if((n.flags&32768)!==0){wy(n,zr);return}e=n.return;var s=KT(n.alternate,n,Yi);if(s!==null){Ut=s;return}if(n=n.sibling,n!==null){Ut=n;return}Ut=n=e}while(n!==null);Ae===0&&(Ae=5)}function wy(e,n){do{var s=QT(e.alternate,e);if(s!==null){s.flags&=32767,Ut=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ut=e;return}Ut=e=s}while(e!==null);Ae=6,Ut=null}function Ry(e,n,s,o,h,f,y,E,R){e.cancelPendingCommit=null;do ic();while(ke!==0);if(($t&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Vh,Ge(e,s,f,y,E,R),e===ae&&(Ut=ae=null,Pt=0),Oa=n,Hr=e,Xi=s,Hf=f,Ff=h,gy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,sA(wi,function(){return Oy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=et.p,et.p=2,y=$t,$t|=4;try{YT(e,n,s)}finally{$t=y,et.p=h,F.T=o}}ke=1,Iy(),Cy(),Ny()}}function Iy(){if(ke===1){ke=0;var e=Hr,n=Oa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=et.p;et.p=2;var h=$t;$t|=4;try{oy(n,e);var f=sd,y=dg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&fg(E.ownerDocument.documentElement,E)){if(R!==null&&Nh(E)){var j=R.start,G=R.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var q=z.getSelection(),st=E.textContent.length,yt=Math.min(R.start,st),ie=R.end===void 0?yt:Math.min(R.end,st);!q.extend&&yt>ie&&(y=ie,ie=yt,yt=y);var U=hg(E,yt),N=hg(E,ie);if(U&&N&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var P=Y.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),yt>ie?(q.addRange(P),q.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),q.addRange(P))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}gc=!!rd,sd=rd=null}finally{$t=h,et.p=o,F.T=s}}e.current=n,ke=2}}function Cy(){if(ke===2){ke=0;var e=Hr,n=Oa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=et.p;et.p=2;var h=$t;$t|=4;try{ny(e,n.alternate,n)}finally{$t=h,et.p=o,F.T=s}}ke=3}}function Ny(){if(ke===4||ke===3){ke=0,cn();var e=Hr,n=Oa,s=Xi,o=gy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ke=5:(ke=0,Oa=Hr=null,Dy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(qr=null),po(s),n=n.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(cr,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=et.p,et.p=2,F.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{F.T=n,et.p=h}}(Xi&3)!==0&&ic(),_i(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Gf?tl++:(tl=0,Gf=e):tl=0,el(0)}}function Dy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Uo(n)))}function ic(){return Iy(),Cy(),Ny(),Oy()}function Oy(){if(ke!==5)return!1;var e=Hr,n=Hf;Hf=0;var s=po(Xi),o=F.T,h=et.p;try{et.p=32>s?32:s,F.T=null,s=Ff,Ff=null;var f=Hr,y=Xi;if(ke=0,Oa=Hr=null,Xi=0,($t&6)!==0)throw Error(a(331));var E=$t;if($t|=4,fy(f.current),uy(f,f.current,y,s),$t=E,el(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(cr,f)}catch{}return!0}finally{et.p=h,F.T=o,Dy(e,n)}}function xy(e,n,s){n=Hn(s,n),n=Sf(e.stateNode,n,2),e=kr(e,n,2),e!==null&&(dr(e,2),_i(e))}function Wt(e,n,s){if(e.tag===3)xy(e,e,s);else for(;n!==null;){if(n.tag===3){xy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qr===null||!qr.has(o))){e=Hn(s,e),s=Mp(2),o=kr(n,s,2),o!==null&&(Vp(s,o,n,e),dr(o,2),_i(o));break}}n=n.return}}function Yf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new JT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(zf=!0,h.add(s),e=nA.bind(null,e,n,s),n.then(e,e))}function nA(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ae===e&&(Pt&s)===s&&(Ae===4||Ae===3&&(Pt&62914560)===Pt&&300>ye()-Ju?($t&2)===0&&xa(e,0):Bf|=s,Da===Pt&&(Da=0)),_i(e)}function My(e,n){n===0&&(n=fo()),e=Is(e,n),e!==null&&(dr(e,n),_i(e))}function iA(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),My(e,s)}function rA(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),My(e,s)}function sA(e,n){return pt(e,n)}var rc=null,Va=null,Xf=!1,sc=!1,$f=!1,Gr=0;function _i(e){e!==Va&&e.next===null&&(Va===null?rc=Va=e:Va=Va.next=e),sc=!0,Xf||(Xf=!0,oA())}function el(e,n){if(!$f&&sc){$f=!0;do for(var s=!1,o=rc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-hn(42|e)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Ly(o,f))}else f=Pt,f=jn(o,o===ae?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||fr(o,f)||(s=!0,Ly(o,f));o=o.next}while(s);$f=!1}}function aA(){Vy()}function Vy(){sc=Xf=!1;var e=0;Gr!==0&&yA()&&(e=Gr);for(var n=ye(),s=null,o=rc;o!==null;){var h=o.next,f=Uy(o,n);f===0?(o.next=null,s===null?rc=h:s.next=h,h===null&&(Va=s)):(s=o,(e!==0||(f&3)!==0)&&(sc=!0)),o=h}ke!==0&&ke!==5||el(e),Gr!==0&&(Gr=0)}function Uy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-hn(f),E=1<<y,R=h[y];R===-1?((E&s)===0||(E&o)!==0)&&(h[y]=ta(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=ae,s=Pt,s=jn(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ot(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||fr(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&Ot(o),po(s)){case 2:case 8:s=je;break;case 32:s=wi;break;case 268435456:s=co;break;default:s=wi}return o=ky.bind(null,e),s=pt(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&Ot(o),e.callbackPriority=2,e.callbackNode=null,2}function ky(e,n){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ic()&&e.callbackNode!==s)return null;var o=Pt;return o=jn(e,e===ae?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(yy(e,o,n),Uy(e,ye()),e.callbackNode!=null&&e.callbackNode===s?ky.bind(null,e):null)}function Ly(e,n){if(ic())return null;yy(e,n,!0)}function oA(){vA(function(){($t&6)!==0?pt(Ue,aA):Vy()})}function Jf(){if(Gr===0){var e=va;e===0&&(e=ms,ms<<=1,(ms&261888)===0&&(ms=256)),Gr=e}return Gr}function Py(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fi(""+e)}function jy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function lA(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Py((h[Ke]||null).action),y=o.submitter;y&&(n=(n=y[Ke]||null)?Py(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Es("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Gr!==0){var R=y?jy(h,y):new FormData(h);yf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?jy(h,y):new FormData(h),yf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Zf=0;Zf<Mh.length;Zf++){var Wf=Mh[Zf],uA=Wf.toLowerCase(),cA=Wf[0].toUpperCase()+Wf.slice(1);Wn(uA,"on"+cA)}Wn(pg,"onAnimationEnd"),Wn(yg,"onAnimationIteration"),Wn(_g,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(RT,"onTransitionRun"),Wn(IT,"onTransitionStart"),Wn(CT,"onTransitionCancel"),Wn(vg,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function zy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],R=E.instance,j=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(G){Eu(G)}h.currentTarget=null,f=R}else for(y=0;y<o.length;y++){if(E=o[y],R=E.instance,j=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(G){Eu(G)}h.currentTarget=null,f=R}}}}function kt(e,n){var s=n[pr];s===void 0&&(s=n[pr]=new Set);var o=e+"__bubble";s.has(o)||(By(n,e,2,!1),s.add(o))}function td(e,n,s){var o=0;n&&(o|=4),By(s,e,o,n)}var ac="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[ac]){e[ac]=!0,ea.forEach(function(s){s!=="selectionchange"&&(hA.has(s)||td(s,!1,e),td(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ac]||(n[ac]=!0,td("selectionchange",!1,n))}}function By(e,n,s,o){switch(p_(n)){case 2:var h=jA;break;case 8:h=zA;break;default:h=pd}s=h.bind(null,n,s,e),h=void 0,!bo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function nd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=Ni(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){o=f=y;continue t}E=E.parentNode}}o=o.return}ru(function(){var j=f,G=aa(s),Y=[];t:{var z=Eg.get(e);if(z!==void 0){var q=Es,st=e;switch(e){case"keypress":if(vs(s)===0)break t;case"keydown":case"keyup":q=du;break;case"focusin":st="focus",q=Rr;break;case"focusout":st="blur",q=Rr;break;case"beforeblur":case"afterblur":q=Rr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=gu;break;case pg:case yg:case _g:q=ua;break;case vg:q=ca;break;case"scroll":case"scrollend":q=su;break;case"wheel":q=yu;break;case"copy":case"cut":case"paste":q=uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=No;break;case"toggle":case"beforetoggle":q=Cr}var yt=(n&4)!==0,ie=!yt&&(e==="scroll"||e==="scrollend"),U=yt?z!==null?z+"Capture":null:z;yt=[];for(var N=j,P;N!==null;){var Q=N;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||U===null||(Q=vn(N,U),Q!=null&&yt.push(il(N,Q,P))),ie)break;N=N.return}0<yt.length&&(z=new q(z,st,null,s,G),Y.push({event:z,listeners:yt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&s!==sa&&(st=s.relatedTarget||s.fromElement)&&(Ni(st)||st[ui]))break t;if((q||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,q?(st=s.relatedTarget||s.toElement,q=j,st=st?Ni(st):null,st!==null&&(ie=u(st),yt=st.tag,st!==ie||yt!==5&&yt!==27&&yt!==6)&&(st=null)):(q=null,st=j),q!==st)){if(yt=au,Q="onMouseLeave",U="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(yt=No,Q="onPointerLeave",U="onPointerEnter",N="pointer"),ie=q==null?z:ps(q),P=st==null?z:ps(st),z=new yt(Q,N+"leave",q,s,G),z.target=ie,z.relatedTarget=P,Q=null,Ni(G)===j&&(yt=new yt(U,N+"enter",st,s,G),yt.target=P,yt.relatedTarget=ie,Q=yt),ie=Q,q&&st)e:{for(yt=fA,U=q,N=st,P=0,Q=U;Q;Q=yt(Q))P++;Q=0;for(var ft=N;ft;ft=yt(ft))Q++;for(;0<P-Q;)U=yt(U),P--;for(;0<Q-P;)N=yt(N),Q--;for(;P--;){if(U===N||N!==null&&U===N.alternate){yt=U;break e}U=yt(U),N=yt(N)}yt=null}else yt=null;q!==null&&qy(Y,z,q,yt,!1),st!==null&&ie!==null&&qy(Y,ie,st,yt,!0)}}t:{if(z=j?ps(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Qt=sg;else if(En(z))if(ag)Qt=ST;else{Qt=TT;var ct=ET}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&Ao(j.elementType)&&(Qt=sg):Qt=AT;if(Qt&&(Qt=Qt(e,j))){bs(Y,Qt,s,G);break t}ct&&ct(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&ra(z,"number",z.value)}switch(ct=j?ps(j):window,e){case"focusin":(En(ct)||ct.contentEditable==="true")&&(ha=ct,Dh=j,xo=null);break;case"focusout":xo=Dh=ha=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,mg(Y,s,G);break;case"selectionchange":if(wT)break;case"keydown":case"keyup":mg(Y,s,G)}var Dt;if(m)t:{switch(e){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else Mt?Jt(e,s)&&(jt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(jt="onCompositionStart");jt&&(L&&s.locale!=="ko"&&(Mt||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&Mt&&(Dt=Ar()):(Cn=G,oa="value"in Cn?Cn.value:Cn.textContent,Mt=!0)),ct=oc(j,jt),0<ct.length&&(jt=new Ro(jt,e,null,s,G),Y.push({event:jt,listeners:ct}),Dt?jt.data=Dt:(Dt=Ie(s),Dt!==null&&(jt.data=Dt)))),(Dt=T?Be(e,s):qe(e,s))&&(jt=oc(j,"onBeforeInput"),0<jt.length&&(ct=new Ro("onBeforeInput","beforeinput",null,s,G),Y.push({event:ct,listeners:jt}),ct.data=Dt)),lA(Y,e,j,s,G)}zy(Y,n)})}function il(e,n,s){return{instance:e,listener:n,currentTarget:s}}function oc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=vn(e,s),h!=null&&o.unshift(il(e,h,f)),h=vn(e,n),h!=null&&o.push(il(e,h,f))),e.tag===3)return o;e=e.return}return[]}function fA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qy(e,n,s,o,h){for(var f=n._reactName,y=[];s!==null&&s!==o;){var E=s,R=E.alternate,j=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||j===null||(R=j,h?(j=vn(s,f),j!=null&&y.unshift(il(s,j,R))):h||(j=vn(s,f),j!=null&&y.push(il(s,j,R)))),s=s.return}y.length!==0&&e.push({event:n,listeners:y})}var dA=/\r\n?/g,mA=/\u0000|\uFFFD/g;function Hy(e){return(typeof e=="string"?e:""+e).replace(dA,`
`).replace(mA,"")}function Fy(e,n){return n=Hy(n),Hy(e)===n}function ne(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Bn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Bn(e,""+o);break;case"className":vr(e,"class",o);break;case"tabIndex":vr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":vr(e,s,o);break;case"style":nu(e,o,f);break;case"data":if(n!=="object"){vr(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=fi(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ne(e,n,"name",h.name,h,null),ne(e,n,"formEncType",h.formEncType,h,null),ne(e,n,"formMethod",h.formMethod,h,null),ne(e,n,"formTarget",h.formTarget,h,null)):(ne(e,n,"encType",h.encType,h,null),ne(e,n,"method",h.method,h,null),ne(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=fi(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=ze);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=fi(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":kt("beforetoggle",e),kt("toggle",e),_r(e,"popover",o);break;case"xlinkActuate":zn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":zn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":zn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":zn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":zn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":zn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":zn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":zn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":zn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":_r(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=bh.get(s)||s,_r(e,s,o))}}function id(e,n,s,o,h,f){switch(s){case"style":nu(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?Bn(e,o):(typeof o=="number"||typeof o=="bigint")&&Bn(e,""+o);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ze);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ke]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):_r(e,s,o)}}}function $e(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",e),kt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,f,y,s,null)}}h&&ne(e,n,"srcSet",s.srcSet,s,null),o&&ne(e,n,"src",s.src,s,null);return;case"input":kt("invalid",e);var E=f=y=h=null,R=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":y=G;break;case"checked":R=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ne(e,n,o,G,s,null)}}ys(e,f,E,R,j,y,h,!1);return;case"select":kt("invalid",e),o=y=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:ne(e,n,h,E,s,null)}n=f,s=y,e.multiple=!!o,n!=null?Kt(e,!!o,n,!1):s!=null&&Kt(e,!!o,s,!0);return;case"textarea":kt("invalid",e),f=h=o=null;for(y in s)if(s.hasOwnProperty(y)&&(E=s[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ne(e,n,y,E,s,null)}Tr(e,o,h,f);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(o=s[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ne(e,n,R,o,s,null)}return;case"dialog":kt("beforetoggle",e),kt("toggle",e),kt("cancel",e),kt("close",e);break;case"iframe":case"object":kt("load",e);break;case"video":case"audio":for(o=0;o<nl.length;o++)kt(nl[o],e);break;case"image":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"embed":case"source":case"link":kt("error",e),kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,j,o,s,null)}return;default:if(Ao(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&id(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ne(e,n,E,o,s,null))}function gA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,R=null,j=null,G=null;for(q in s){var Y=s[q];if(s.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(q)||ne(e,n,q,null,o,Y)}}for(var z in o){var q=o[z];if(Y=s[z],o.hasOwnProperty(z)&&(q!=null||Y!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":G=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&ne(e,n,z,q,o,Y)}}Er(e,y,E,R,j,G,f,h);return;case"select":q=y=E=z=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||ne(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&ne(e,n,h,f,o,R)}n=E,s=y,o=q,z!=null?Kt(e,!!s,z,!1):!!o!=!!s&&(n!=null?Kt(e,!!s,n,!0):Kt(e,!!s,s?[]:"",!1));return;case"textarea":q=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ne(e,n,E,null,o,h)}for(y in o)if(h=o[y],f=s[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ne(e,n,y,h,o,f)}_s(e,z,q);return;case"option":for(var st in s)if(z=s[st],s.hasOwnProperty(st)&&z!=null&&!o.hasOwnProperty(st))switch(st){case"selected":e.selected=!1;break;default:ne(e,n,st,null,o,z)}for(R in o)if(z=o[R],q=s[R],o.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null))switch(R){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:ne(e,n,R,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)z=s[yt],s.hasOwnProperty(yt)&&z!=null&&!o.hasOwnProperty(yt)&&ne(e,n,yt,null,o,z);for(j in o)if(z=o[j],q=s[j],o.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ne(e,n,j,z,o,q)}return;default:if(Ao(n)){for(var ie in s)z=s[ie],s.hasOwnProperty(ie)&&z!==void 0&&!o.hasOwnProperty(ie)&&id(e,n,ie,void 0,o,z);for(G in o)z=o[G],q=s[G],!o.hasOwnProperty(G)||z===q||z===void 0&&q===void 0||id(e,n,G,z,o,q);return}}for(var U in s)z=s[U],s.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&ne(e,n,U,null,o,z);for(Y in o)z=o[Y],q=s[Y],!o.hasOwnProperty(Y)||z===q||z==null&&q==null||ne(e,n,Y,z,o,q)}function Gy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&Gy(y)){for(y=0,E=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],j=R.startTime;if(j>E)break;var G=R.transferSize,Y=R.initiatorType;G&&Gy(Y)&&(R=R.responseEnd,y+=G*(R<E?1:(E-j)/(R-j)))}if(--o,n+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var rd=null,sd=null;function lc(e){return e.nodeType===9?e:e.ownerDocument}function Ky(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ad(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var od=null;function yA(){var e=window.event;return e&&e.type==="popstate"?e===od?!1:(od=e,!0):(od=null,!1)}var Yy=typeof setTimeout=="function"?setTimeout:void 0,_A=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,vA=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(e){return Xy.resolve(null).then(e).catch(EA)}:Yy;function EA(e){setTimeout(function(){throw e})}function Kr(e){return e==="head"}function $y(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Pa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")rl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,rl(s);for(var f=s.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[Ci]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=y}}else s==="body"&&rl(e.ownerDocument.body);s=h}while(s);Pa(n)}function Jy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function ld(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ld(s),gs(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function TA(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ci])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function AA(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Yn(e.nextSibling),e===null))return null;return e}function Zy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yn(e.nextSibling),e===null))return null;return e}function ud(e){return e.data==="$?"||e.data==="$~"}function cd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function SA(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Yn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var hd=null;function Wy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Yn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function t_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function e_(e,n,s){switch(n=lc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function rl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);gs(e)}var Xn=new Map,n_=new Set;function uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=et.d;et.d={f:bA,r:wA,D:RA,C:IA,L:CA,m:NA,X:OA,S:DA,M:xA};function bA(){var e=$i.f(),n=tc();return e||n}function wA(e){var n=Di(e);n!==null&&n.tag===5&&n.type==="form"?vp(n):$i.r(e)}var Ua=typeof document>"u"?null:document;function i_(e,n,s){var o=Ua;if(o&&typeof n=="string"&&n){var h=Ee(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),n_.has(h)||(n_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),$e(n,"link",e),Se(n),o.head.appendChild(n)))}}function RA(e){$i.D(e),i_("dns-prefetch",e,null)}function IA(e,n){$i.C(e,n),i_("preconnect",e,n)}function CA(e,n,s){$i.L(e,n,s);var o=Ua;if(o&&e&&n){var h='link[rel="preload"][as="'+Ee(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Ee(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Ee(s.imageSizes)+'"]')):h+='[href="'+Ee(e)+'"]';var f=h;switch(n){case"style":f=ka(e);break;case"script":f=La(e)}Xn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Xn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(sl(f))||n==="script"&&o.querySelector(al(f))||(n=o.createElement("link"),$e(n,"link",e),Se(n),o.head.appendChild(n)))}}function NA(e,n){$i.m(e,n);var s=Ua;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Ee(o)+'"][href="'+Ee(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=La(e)}if(!Xn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Xn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(al(f)))return}o=s.createElement("link"),$e(o,"link",e),Se(o),s.head.appendChild(o)}}}function DA(e,n,s){$i.S(e,n,s);var o=Ua;if(o&&e){var h=Jn(o).hoistableStyles,f=ka(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(sl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Xn.get(f))&&fd(e,s);var R=y=o.createElement("link");Se(R),$e(R,"link",e),R._p=new Promise(function(j,G){R.onload=j,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,cc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function OA(e,n){$i.X(e,n);var s=Ua;if(s&&e){var o=Jn(s).hoistableScripts,h=La(e),f=o.get(h);f||(f=s.querySelector(al(h)),f||(e=S({src:e,async:!0},n),(n=Xn.get(h))&&dd(e,n),f=s.createElement("script"),Se(f),$e(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function xA(e,n){$i.M(e,n);var s=Ua;if(s&&e){var o=Jn(s).hoistableScripts,h=La(e),f=o.get(h);f||(f=s.querySelector(al(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Xn.get(h))&&dd(e,n),f=s.createElement("script"),Se(f),$e(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function r_(e,n,s,o){var h=(h=Ct.current)?uc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ka(s.href),s=Jn(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ka(s.href);var f=Jn(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(sl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Xn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Xn.set(e,s),f||MA(h,e,s,y.state))),n&&o===null)throw Error(a(528,""));return y}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=La(s),s=Jn(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ka(e){return'href="'+Ee(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function s_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function MA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),$e(n,"link",s),Se(n),e.head.appendChild(n))}function La(e){return'[src="'+Ee(e)+'"]'}function al(e){return"script[async]"+e}function a_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Ee(s.href)+'"]');if(o)return n.instance=o,Se(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Se(o),$e(o,"style",h),cc(o,s.precedence,e),n.instance=o;case"stylesheet":h=ka(s.href);var f=e.querySelector(sl(h));if(f)return n.state.loading|=4,n.instance=f,Se(f),f;o=s_(s),(h=Xn.get(h))&&fd(o,h),f=(e.ownerDocument||e).createElement("link"),Se(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),$e(f,"link",o),n.state.loading|=4,cc(f,s.precedence,e),n.instance=f;case"script":return f=La(s.src),(h=e.querySelector(al(f)))?(n.instance=h,Se(h),h):(o=s,(h=Xn.get(f))&&(o=S({},s),dd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Se(h),$e(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,cc(o,s.precedence,e));return n.instance}function cc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function fd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function dd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var hc=null;function o_(e,n,s){if(hc===null){var o=new Map,h=hc=new Map;h.set(s,o)}else h=hc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[Ci]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function l_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function VA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function u_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function UA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ka(o.href),f=n.querySelector(sl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=fc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Se(f);return}f=n.ownerDocument||n,o=s_(o),(h=Xn.get(h))&&fd(o,h),f=f.createElement("link"),Se(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),$e(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=fc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var md=0;function kA(e,n){return e.stylesheets&&e.count===0&&mc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&mc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&md===0&&(md=62500*pA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&mc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>md?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dc=null;function mc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dc=new Map,n.forEach(LA,e),dc=null,fc.call(e))}function LA(e,n){if(!(n.state.loading&4)){var s=dc.get(e);if(s)var o=s.get(null);else{s=new Map,dc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),o=y)}o&&s.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=s.get(y)||o,f===o&&s.set(null,h),s.set(y,h),this.count++,o=fc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ol={$$typeof:it,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function PA(e,n,s,o,h,f,y,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function c_(e,n,s,o,h,f,y,E,R,j,G,Y){return e=new PA(e,n,s,y,R,j,G,Y,E),n=1,f===!0&&(n|=24),f=Dn(3,null,null,n),e.current=f,f.stateNode=e,n=Kh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},$h(f),e}function h_(e){return e?(e=ma,e):ma}function f_(e,n,s,o,h,f){h=h_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ur(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=kr(e,o,n),s!==null&&(wn(s,e,n),jo(s,e,n))}function d_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function gd(e,n){d_(e,n),(e=e.alternate)&&d_(e,n)}function m_(e){if(e.tag===13||e.tag===31){var n=Is(e,67108864);n!==null&&wn(n,e,67108864),gd(e,67108864)}}function g_(e){if(e.tag===13||e.tag===31){var n=Un();n=go(n);var s=Is(e,n);s!==null&&wn(s,e,n),gd(e,n)}}var gc=!0;function jA(e,n,s,o){var h=F.T;F.T=null;var f=et.p;try{et.p=2,pd(e,n,s,o)}finally{et.p=f,F.T=h}}function zA(e,n,s,o){var h=F.T;F.T=null;var f=et.p;try{et.p=8,pd(e,n,s,o)}finally{et.p=f,F.T=h}}function pd(e,n,s,o){if(gc){var h=yd(o);if(h===null)nd(e,n,o,pc,s),y_(e,o);else if(qA(h,e,n,s,o))o.stopPropagation();else if(y_(e,o),n&4&&-1<BA.indexOf(e)){for(;h!==null;){var f=Di(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=$n(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-hn(y);E.entanglements[1]|=R,y&=~R}_i(f),($t&6)===0&&(Zu=ye()+500,el(0))}}break;case 31:case 13:E=Is(f,2),E!==null&&wn(E,f,2),tc(),gd(f,2)}if(f=yd(o),f===null&&nd(e,n,o,pc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else nd(e,n,o,null,s)}}function yd(e){return e=aa(e),_d(e)}var pc=null;function _d(e){if(pc=null,e=Ni(e),e!==null){var n=u(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return pc=e,null}function p_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ws()){case Ue:return 2;case je:return 8;case wi:case $l:return 32;case co:return 268435456;default:return 32}default:return 32}}var vd=!1,Qr=null,Yr=null,Xr=null,ll=new Map,ul=new Map,$r=[],BA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y_(e,n){switch(e){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(n.pointerId)}}function cl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Di(n),n!==null&&m_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function qA(e,n,s,o,h){switch(n){case"focusin":return Qr=cl(Qr,e,n,s,o,h),!0;case"dragenter":return Yr=cl(Yr,e,n,s,o,h),!0;case"mouseover":return Xr=cl(Xr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return ll.set(f,cl(ll.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ul.set(f,cl(ul.get(f)||null,e,n,s,o,h)),!0}return!1}function __(e){var n=Ni(e.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Zl(e.priority,function(){g_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Zl(e.priority,function(){g_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=yd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);sa=o,s.target.dispatchEvent(o),sa=null}else return n=Di(s),n!==null&&m_(n),e.blockedOn=s,!1;n.shift()}return!0}function v_(e,n,s){yc(e)&&s.delete(n)}function HA(){vd=!1,Qr!==null&&yc(Qr)&&(Qr=null),Yr!==null&&yc(Yr)&&(Yr=null),Xr!==null&&yc(Xr)&&(Xr=null),ll.forEach(v_),ul.forEach(v_)}function _c(e,n){e.blockedOn===n&&(e.blockedOn=null,vd||(vd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,HA)))}var vc=null;function E_(e){vc!==e&&(vc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){vc===e&&(vc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(_d(o||s)===null)continue;break}var f=Di(s);f!==null&&(e.splice(n,3),n-=3,yf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Pa(e){function n(R){return _c(R,e)}Qr!==null&&_c(Qr,e),Yr!==null&&_c(Yr,e),Xr!==null&&_c(Xr,e),ll.forEach(n),ul.forEach(n);for(var s=0;s<$r.length;s++){var o=$r[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<$r.length&&(s=$r[0],s.blockedOn===null);)__(s),s.blockedOn===null&&$r.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],y=h[Ke]||null;if(typeof f=="function")y||E_(s);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Ke]||null)E=y.formAction;else if(_d(h)!==null)continue}else E=y.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),E_(s)}}}function T_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ed(e){this._internalRoot=e}Ec.prototype.render=Ed.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Un();f_(s,o,e,n,null,null)},Ec.prototype.unmount=Ed.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;f_(e.current,2,null,e,null,null),tc(),n[ui]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ii();e={blockedOn:null,target:e,priority:n};for(var s=0;s<$r.length&&n!==0&&n<$r[s].priority;s++);$r.splice(s,0,e),s===0&&__(e)}};var A_=t.version;if(A_!=="19.2.0")throw Error(a(527,A_,"19.2.0"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var FA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{cr=Tc.inject(FA),nn=Tc}catch{}}return fl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Np,f=Dp,y=Op;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=c_(e,1,!1,null,null,s,o,null,h,f,y,T_),e[ui]=n.current,ed(e),new Ed(n)},fl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Np,y=Dp,E=Op,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=c_(e,1,!0,n,s??null,o,h,R,f,y,E,T_),n.context=h_(null),s=n.current,o=Un(),o=go(o),h=Ur(o),h.callback=null,kr(s,h,o),s=o,n.current.lanes=s,dr(n,s),_i(n),e[ui]=n.current,ed(e),new Ec(n)},fl.version="19.2.0",fl}var x_;function tS(){if(x_)return Ad.exports;x_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ad.exports=WA(),Ad.exports}var eS=tS(),bt=um(),M_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},nS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[i++];t[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[i++],d=r[i++],g=r[i++],p=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},e0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,v=p?r[l+2]:0,A=u>>2,S=(u&3)<<4|g>>4;let x=(g&15)<<2|v>>6,B=v&63;p||(B=64,d||(x=64)),a.push(i[A],i[S],i[x],i[B])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(t0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):nS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const u=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const v=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,u==null||g==null||v==null||S==null)throw new iS;const x=u<<2|g>>4;if(a.push(x),v!==64){const B=g<<4&240|v>>2;if(a.push(B),S!==64){const X=v<<6&192|S;a.push(X)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class iS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rS=function(r){const t=t0(r);return e0.encodeByteArray(t,!0)},Lc=function(r){return rS(r).replace(/\./g,"")},n0=function(r){try{return e0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=()=>sS().__FIREBASE_DEFAULTS__,oS=()=>{if(typeof process>"u"||typeof M_>"u")return;const r=M_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},lS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&n0(r[1]);return t&&JSON.parse(t)},th=()=>{try{return aS()||oS()||lS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},i0=r=>{var t,i;return(i=(t=th())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},uS=r=>{const t=i0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},r0=()=>{var r;return(r=th())===null||r===void 0?void 0:r.config},s0=r=>{var t;return(t=th())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Lc(JSON.stringify(i)),Lc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function dS(){var r;const t=(r=th())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function pS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yS(){const r=un();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function _S(){return!dS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vS(){try{return typeof indexedDB=="object"}catch{return!1}}function ES(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;t(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="FirebaseError";class or extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=TS,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?AS(u,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new or(l,g,a)}}function AS(r,t){return r.replace(SS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const SS=/\{\$([^}]+)}/g;function bS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Rl(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const u=r[l],d=t[l];if(V_(u)&&V_(d)){if(!Rl(u,d))return!1}else if(u!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function V_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function ml(r){const t={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,u]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(u)}}),t}function gl(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}function wS(r,t){const i=new RS(r,t);return i.subscribe.bind(i)}class RS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");IS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Id),l.error===void 0&&(l.error=Id),l.complete===void 0&&(l.complete=Id);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Id(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(r){return r&&r._delegate?r._delegate:r}class Fs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new cS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(DS(t))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(t=zs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zs){return this.instances.has(t)}getOptions(t=zs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);a===g&&d.resolve(l)}return l}onInit(t,i){var a;const l=this.normalizeInstanceIdentifier(i),u=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;u.add(t),this.onInitCallbacks.set(l,u);const d=this.instances.get(l);return d&&t(d,l),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:NS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=zs){return this.component?this.component.multipleInstances?t:zs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NS(r){return r===zs?void 0:r}function DS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new CS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ht||(Ht={}));const xS={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},MS=Ht.INFO,VS={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},US=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=VS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cm{constructor(t){this.name=t,this._logLevel=MS,this._logHandler=US,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?xS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const kS=(r,t)=>t.some(i=>r instanceof i);let U_,k_;function LS(){return U_||(U_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PS(){return k_||(k_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a0=new WeakMap,Pd=new WeakMap,o0=new WeakMap,Cd=new WeakMap,hm=new WeakMap;function jS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{i(rs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&a0.set(i,r)}).catch(()=>{}),hm.set(t,r),t}function zS(r){if(Pd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});Pd.set(r,t)}let jd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Pd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||o0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return rs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function BS(r){jd=r(jd)}function qS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Nd(this),t,...i);return o0.set(a,t.sort?t.sort():[t]),rs(a)}:PS().includes(r)?function(...t){return r.apply(Nd(this),t),rs(a0.get(this))}:function(...t){return rs(r.apply(Nd(this),t))}}function HS(r){return typeof r=="function"?qS(r):(r instanceof IDBTransaction&&zS(r),kS(r,LS())?new Proxy(r,jd):r)}function rs(r){if(r instanceof IDBRequest)return jS(r);if(Cd.has(r))return Cd.get(r);const t=HS(r);return t!==r&&(Cd.set(r,t),hm.set(t,r)),t}const Nd=r=>hm.get(r);function FS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:u}={}){const d=indexedDB.open(r,t),g=rs(d);return a&&d.addEventListener("upgradeneeded",p=>{a(rs(d.result),p.oldVersion,p.newVersion,rs(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const GS=["get","getKey","getAll","getAllKeys","count"],KS=["put","add","delete","clear"],Dd=new Map;function L_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Dd.get(t))return Dd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=KS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||GS.includes(i)))return;const u=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let v=p.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&p.done]))[0]};return Dd.set(t,u),u}BS(r=>({...r,get:(t,i,a)=>L_(t,i)||r.get(t,i,a),has:(t,i)=>!!L_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(YS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function YS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const zd="@firebase/app",P_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new cm("@firebase/app"),XS="@firebase/app-compat",$S="@firebase/analytics-compat",JS="@firebase/analytics",ZS="@firebase/app-check-compat",WS="@firebase/app-check",tb="@firebase/auth",eb="@firebase/auth-compat",nb="@firebase/database",ib="@firebase/data-connect",rb="@firebase/database-compat",sb="@firebase/functions",ab="@firebase/functions-compat",ob="@firebase/installations",lb="@firebase/installations-compat",ub="@firebase/messaging",cb="@firebase/messaging-compat",hb="@firebase/performance",fb="@firebase/performance-compat",db="@firebase/remote-config",mb="@firebase/remote-config-compat",gb="@firebase/storage",pb="@firebase/storage-compat",yb="@firebase/firestore",_b="@firebase/vertexai-preview",vb="@firebase/firestore-compat",Eb="firebase",Tb="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="[DEFAULT]",Ab={[zd]:"fire-core",[XS]:"fire-core-compat",[JS]:"fire-analytics",[$S]:"fire-analytics-compat",[WS]:"fire-app-check",[ZS]:"fire-app-check-compat",[tb]:"fire-auth",[eb]:"fire-auth-compat",[nb]:"fire-rtdb",[ib]:"fire-data-connect",[rb]:"fire-rtdb-compat",[sb]:"fire-fn",[ab]:"fire-fn-compat",[ob]:"fire-iid",[lb]:"fire-iid-compat",[ub]:"fire-fcm",[cb]:"fire-fcm-compat",[hb]:"fire-perf",[fb]:"fire-perf-compat",[db]:"fire-rc",[mb]:"fire-rc-compat",[gb]:"fire-gcs",[pb]:"fire-gcs-compat",[yb]:"fire-fst",[vb]:"fire-fst-compat",[_b]:"fire-vertex","fire-js":"fire-js",[Eb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Map,Sb=new Map,qd=new Map;function j_(r,t){try{r.container.addComponent(t)}catch(i){ir.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Qa(r){const t=r.name;if(qd.has(t))return ir.debug(`There were multiple attempts to register component ${t}.`),!1;qd.set(t,r);for(const i of Pc.values())j_(i,r);for(const i of Sb.values())j_(i,r);return!0}function fm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function vi(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new Ll("app","Firebase",bb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=Tb;function l0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Bd,automaticDataCollectionEnabled:!1},t),l=a.name;if(typeof l!="string"||!l)throw ss.create("bad-app-name",{appName:String(l)});if(i||(i=r0()),!i)throw ss.create("no-options");const u=Pc.get(l);if(u){if(Rl(i,u.options)&&Rl(a,u.config))return u;throw ss.create("duplicate-app",{appName:l})}const d=new OS(l);for(const p of qd.values())d.addComponent(p);const g=new wb(i,a,d);return Pc.set(l,g),g}function u0(r=Bd){const t=Pc.get(r);if(!t&&r===Bd&&r0())return l0();if(!t)throw ss.create("no-app",{appName:r});return t}function as(r,t,i){var a;let l=(a=Ab[r])!==null&&a!==void 0?a:r;i&&(l+=`-${i}`);const u=l.match(/\s|\//),d=t.match(/\s|\//);if(u||d){const g=[`Unable to register library "${l}" with version "${t}":`];u&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ir.warn(g.join(" "));return}Qa(new Fs(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="firebase-heartbeat-database",Ib=1,Il="firebase-heartbeat-store";let Od=null;function c0(){return Od||(Od=FS(Rb,Ib,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Il)}catch(i){console.warn(i)}}}}).catch(r=>{throw ss.create("idb-open",{originalErrorMessage:r.message})})),Od}async function Cb(r){try{const i=(await c0()).transaction(Il),a=await i.objectStore(Il).get(h0(r));return await i.done,a}catch(t){if(t instanceof or)ir.warn(t.message);else{const i=ss.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ir.warn(i.message)}}}async function z_(r,t){try{const a=(await c0()).transaction(Il,"readwrite");await a.objectStore(Il).put(t,h0(r)),await a.done}catch(i){if(i instanceof or)ir.warn(i.message);else{const a=ss.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ir.warn(a.message)}}}function h0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=1024,Db=720*60*60*1e3;class Ob{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Mb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=B_();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const g=new Date(d.date).valueOf();return Date.now()-g<=Db}),this._storage.overwrite(this._heartbeatsCache))}catch(a){ir.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=B_(),{heartbeatsToSend:a,unsentEntries:l}=xb(this._heartbeatsCache.heartbeats),u=Lc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return ir.warn(i),""}}}function B_(){return new Date().toISOString().substring(0,10)}function xb(r,t=Nb){const i=[];let a=r.slice();for(const l of r){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),q_(i)>t){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),q_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Mb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vS()?ES().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Cb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return z_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return z_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function q_(r){return Lc(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(r){Qa(new Fs("platform-logger",t=>new QS(t),"PRIVATE")),Qa(new Fs("heartbeat",t=>new Ob(t),"PRIVATE")),as(zd,P_,r),as(zd,P_,"esm2017"),as("fire-js","")}Vb("");var Ub="firebase",kb="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(Ub,kb,"app");function dm(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(i[a[l]]=r[a[l]]);return i}function f0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lb=f0,d0=new Ll("auth","Firebase",f0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new cm("@firebase/auth");function Pb(r,...t){jc.logLevel<=Ht.WARN&&jc.warn(`Auth (${io}): ${r}`,...t)}function Ic(r,...t){jc.logLevel<=Ht.ERROR&&jc.error(`Auth (${io}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(r,...t){throw mm(r,...t)}function Ei(r,...t){return mm(r,...t)}function m0(r,t,i){const a=Object.assign(Object.assign({},Lb()),{[t]:i});return new Ll("auth","Firebase",a).create(t,{appName:r.name})}function er(r){return m0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return d0.create(r,...t)}function vt(r,t,...i){if(!r)throw mm(t,...i)}function Zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Ic(t),new Error(t)}function rr(r,t){r||Zi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function jb(){return H_()==="http:"||H_()==="https:"}function H_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jb()||gS()||"connection"in navigator)?navigator.onLine:!0}function Bb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t,i){this.shortDelay=t,this.longDelay=i,rr(i>t,"Short delay should be less than long delay!"),this.isMobile=fS()||pS()}get(){return zb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(r,t){rr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=new jl(3e4,6e4);function lr(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function ur(r,t,i,a,l={}){return p0(r,l,async()=>{let u={},d={};a&&(t==="GET"?d=a:u={body:JSON.stringify(a)});const g=Pl(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:t,headers:p},u);return mS()||(v.referrerPolicy="no-referrer"),g0.fetch()(y0(r,r.config.apiHost,i,g),v)})}async function p0(r,t,i){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},qb),t);try{const l=new Gb(r),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Ac(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[p,v]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Ac(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw Ac(r,"user-disabled",d);const A=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw m0(r,A,v);ii(r,A)}}catch(l){if(l instanceof or)throw l;ii(r,"network-request-failed",{message:String(l)})}}async function zl(r,t,i,a,l={}){const u=await ur(r,t,i,a,l);return"mfaPendingCredential"in u&&ii(r,"multi-factor-auth-required",{_serverResponse:u}),u}function y0(r,t,i,a){const l=`${t}${i}?${a}`;return r.config.emulator?gm(r.config,l):`${r.config.apiScheme}://${l}`}function Fb(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gb{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ei(this.auth,"network-request-failed")),Hb.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ac(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ei(r,t,a);return l.customData._tokenResponse=i,l}function F_(r){return r!==void 0&&r.enterprise!==void 0}class Kb{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return Fb(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function Qb(r,t){return ur(r,"GET","/v2/recaptchaConfig",lr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yb(r,t){return ur(r,"POST","/v1/accounts:delete",t)}async function _0(r,t){return ur(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Xb(r,t=!1){const i=Pe(r),a=await i.getIdToken(t),l=pm(a);vt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:l,token:a,authTime:El(xd(l.auth_time)),issuedAtTime:El(xd(l.iat)),expirationTime:El(xd(l.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function xd(r){return Number(r)*1e3}function pm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Ic("JWT malformed, contained fewer than 3 sections"),null;try{const l=n0(i);return l?JSON.parse(l):(Ic("Failed to decode base64 JWT payload"),null)}catch(l){return Ic("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function G_(r){const t=pm(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof or&&$b(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function $b({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(r){var t;const i=r.auth,a=await r.getIdToken(),l=await Cl(r,_0(i,{idToken:a}));vt(l==null?void 0:l.users.length,i,"internal-error");const u=l.users[0];r._notifyReloadListener(u);const d=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?v0(u.providerUserInfo):[],g=Wb(r.providerData,d),p=r.isAnonymous,v=!(r.email&&u.passwordHash)&&!(g!=null&&g.length),A=p?v:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:g,metadata:new Fd(u.createdAt,u.lastLoginAt),isAnonymous:A};Object.assign(r,S)}async function Zb(r){const t=Pe(r);await zc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Wb(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function v0(r){return r.map(t=>{var{providerId:i}=t,a=dm(t,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tw(r,t){const i=await p0(r,{},async()=>{const a=Pl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=y0(r,l,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",g0.fetch()(d,{method:"POST",headers:g,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function ew(r,t){return ur(r,"POST","/v2/accounts:revokeToken",lr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):G_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=G_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:u}=await tw(t,i);this.updateTokensAndExpiration(a,l,Number(u))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:u}=i,d=new Ha;return a&&(vt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),u&&(vt(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wi{constructor(t){var{uid:i,auth:a,stsTokenManager:l}=t,u=dm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Fd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const i=await Cl(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Xb(this,t)}reload(){return Zb(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Wi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await zc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vi(this.auth.app))return Promise.reject(er(this.auth));const t=await this.getIdToken();return await Cl(this,Yb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var a,l,u,d,g,p,v,A;const S=(a=i.displayName)!==null&&a!==void 0?a:void 0,x=(l=i.email)!==null&&l!==void 0?l:void 0,B=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,X=(d=i.photoURL)!==null&&d!==void 0?d:void 0,tt=(g=i.tenantId)!==null&&g!==void 0?g:void 0,J=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,ot=(v=i.createdAt)!==null&&v!==void 0?v:void 0,_t=(A=i.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:it,emailVerified:Lt,isAnonymous:re,providerData:At,stsTokenManager:C}=i;vt(it&&C,t,"internal-error");const b=Ha.fromJSON(this.name,C);vt(typeof it=="string",t,"internal-error"),Zr(S,t.name),Zr(x,t.name),vt(typeof Lt=="boolean",t,"internal-error"),vt(typeof re=="boolean",t,"internal-error"),Zr(B,t.name),Zr(X,t.name),Zr(tt,t.name),Zr(J,t.name),Zr(ot,t.name),Zr(_t,t.name);const I=new Wi({uid:it,auth:t,email:x,emailVerified:Lt,displayName:S,isAnonymous:re,photoURL:X,phoneNumber:B,tenantId:tt,stsTokenManager:b,createdAt:ot,lastLoginAt:_t});return At&&Array.isArray(At)&&(I.providerData=At.map(O=>Object.assign({},O))),J&&(I._redirectEventId=J),I}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ha;l.updateFromServerResponse(i);const u=new Wi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await zc(u),u}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];vt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?v0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),g=new Ha;g.updateFromIdToken(a);const p=new Wi({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Fd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;function tr(r){rr(r instanceof Function,"Expected a class definition");let t=K_.get(r);return t?(rr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,K_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}E0.type="NONE";const Q_=E0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(r,t,i){return`firebase:${r}:${t}:${i}`}class Fa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:u}=this.auth;this.fullUserKey=Cc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Cc("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Wi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Fa(tr(Q_),t,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=l[0]||tr(Q_);const d=Cc(a,t.config.apiKey,t.name);let g=null;for(const v of i)try{const A=await v._get(d);if(A){const S=Wi._fromJSON(t,A);v!==u&&(g=S),u=v;break}}catch{}const p=l.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Fa(u,t,a):(u=p[0],g&&await u._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==u)try{await v._remove(d)}catch{}})),new Fa(u,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(b0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(T0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(R0(t))return"Blackberry";if(I0(t))return"Webos";if(A0(t))return"Safari";if((t.includes("chrome/")||S0(t))&&!t.includes("edge/"))return"Chrome";if(w0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function T0(r=un()){return/firefox\//i.test(r)}function A0(r=un()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function S0(r=un()){return/crios\//i.test(r)}function b0(r=un()){return/iemobile/i.test(r)}function w0(r=un()){return/android/i.test(r)}function R0(r=un()){return/blackberry/i.test(r)}function I0(r=un()){return/webos/i.test(r)}function ym(r=un()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function nw(r=un()){var t;return ym(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function iw(){return yS()&&document.documentMode===10}function C0(r=un()){return ym(r)||w0(r)||I0(r)||R0(r)||/windows phone/i.test(r)||b0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(r,t=[]){let i;switch(r){case"Browser":i=Y_(un());break;case"Worker":i=`${Y_(un())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${io}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=u=>new Promise((d,g)=>{try{const p=t(u);d(p)}catch(p){g(p)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sw(r,t={}){return ur(r,"GET","/v2/passwordPolicy",lr(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=6;class ow{constructor(t){var i,a,l,u;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:aw,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,a,l,u,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X_(this),this.idTokenSubscription=new X_(this),this.beforeStateQueue=new rw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=tr(i)),this._initializationPromise=this.queue(async()=>{var a,l;if(!this._deleted&&(this.persistenceManager=await Fa.create(this,t),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await _0(this,{idToken:t}),a=await Wi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(vi(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await zc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Bb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(vi(this.app))return Promise.reject(er(this));const i=t?Pe(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return vi(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return vi(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await sw(this),i=new ow(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ll("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await ew(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&tr(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[tr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,a,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=N0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&Pb(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function $s(r){return Pe(r)}class X_{constructor(t){this.auth=t,this.observer=null,this.addObserver=wS(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uw(r){eh=r}function D0(r){return eh.loadJS(r)}function cw(){return eh.recaptchaEnterpriseScript}function hw(){return eh.gapiScript}function fw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const dw="recaptcha-enterprise",mw="NO_RECAPTCHA";class gw{constructor(t){this.type=dw,this.auth=$s(t)}async verify(t="verify",i=!1){async function a(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{Qb(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const v=new Kb(p);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,d(v.siteKey)}}).catch(p=>{g(p)})})}function l(u,d,g){const p=window.grecaptcha;F_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(v=>{d(v)}).catch(()=>{d(mw)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((u,d)=>{a(this.auth).then(g=>{if(!i&&F_(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=cw();p.length!==0&&(p+=g),D0(p).then(()=>{l(g,u,d)}).catch(v=>{d(v)})}}).catch(g=>{d(g)})})}}async function $_(r,t,i,a=!1){const l=new gw(r);let u;try{u=await l.verify(i)}catch{u=await l.verify(i,!0)}const d=Object.assign({},t);return a?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Gd(r,t,i,a){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await $_(r,t,i,i==="getOobCode");return a(r,u)}else return a(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await $_(r,t,i,i==="getOobCode");return a(r,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(r,t){const i=fm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(Rl(u,t??{}))return l;ii(l,"already-initialized")}return i.initialize({options:t})}function yw(r,t){const i=(t==null?void 0:t.persistence)||[],a=(Array.isArray(i)?i:[i]).map(tr);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function _w(r,t,i){const a=$s(r);vt(a._canInitEmulator,a,"emulator-config-failed"),vt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,u=O0(t),{host:d,port:g}=vw(t),p=g===null?"":`:${g}`;a.config.emulator={url:`${u}//${d}${p}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})}),Ew()}function O0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function vw(r){const t=O0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const u=l[1];return{host:u,port:J_(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:J_(d)}}}function J_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Ew(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,i){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function Tw(r,t){return ur(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aw(r,t){return zl(r,"POST","/v1/accounts:signInWithPassword",lr(r,t))}async function Sw(r,t){return ur(r,"POST","/v1/accounts:sendOobCode",lr(r,t))}async function bw(r,t){return Sw(r,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ww(r,t){return zl(r,"POST","/v1/accounts:signInWithEmailLink",lr(r,t))}async function Rw(r,t){return zl(r,"POST","/v1/accounts:signInWithEmailLink",lr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends _m{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Nl(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new Nl(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gd(t,i,"signInWithPassword",Aw);case"emailLink":return ww(t,{email:this._email,oobCode:this._password});default:ii(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gd(t,a,"signUpPassword",Tw);case"emailLink":return Rw(t,{idToken:i,email:this._email,oobCode:this._password});default:ii(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(r,t){return zl(r,"POST","/v1/accounts:signInWithIdp",lr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="http://localhost";class Gs extends _m{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Gs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ii("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l}=i,u=dm(i,["providerId","signInMethod"]);if(!a||!l)return null;const d=new Gs(a,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ga(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ga(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ga(t,i)}buildRequest(){const t={requestUri:Iw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Pl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Nw(r){const t=ml(gl(r)).link,i=t?ml(gl(t)).deep_link_id:null,a=ml(gl(r)).deep_link_id;return(a?ml(gl(a)).link:null)||a||i||t||r}class vm{constructor(t){var i,a,l,u,d,g;const p=ml(gl(t)),v=(i=p.apiKey)!==null&&i!==void 0?i:null,A=(a=p.oobCode)!==null&&a!==void 0?a:null,S=Cw((l=p.mode)!==null&&l!==void 0?l:null);vt(v&&A&&S,"argument-error"),this.apiKey=v,this.operation=S,this.code=A,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(t){const i=Nw(t);try{return new vm(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.providerId=ro.PROVIDER_ID}static credential(t,i){return Nl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=vm.parseLink(i);return vt(a,"argument-error"),Nl._fromEmailAndCode(t,a.code,a.tenantId)}}ro.PROVIDER_ID="password";ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends x0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Bl{constructor(){super("facebook.com")}static credential(t){return Gs._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wr.credentialFromTaggedObject(t)}static credentialFromError(t){return Wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wr.credential(t.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Gs._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return ts.credential(i,a)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Bl{constructor(){super("github.com")}static credential(t){return Gs._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return es.credentialFromTaggedObject(t)}static credentialFromError(t){return es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return es.credential(t.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Bl{constructor(){super("twitter.com")}static credential(t,i){return Gs._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return ns.credentialFromTaggedObject(t)}static credentialFromError(t){return ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return ns.credential(i,a)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dw(r,t){return zl(r,"POST","/v1/accounts:signUp",lr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const u=await Wi._fromIdTokenResponse(t,a,l),d=Z_(a);return new Ks({user:u,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=Z_(a);return new Ks({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function Z_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends or{constructor(t,i,a,l){var u;super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Bc.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Bc(t,i,a,l)}}function M0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Bc._fromErrorAndOperation(r,u,t,a):u})}async function Ow(r,t,i=!1){const a=await Cl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Ks._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xw(r,t,i=!1){const{auth:a}=r;if(vi(a.app))return Promise.reject(er(a));const l="reauthenticate";try{const u=await Cl(r,M0(a,l,t,r),i);vt(u.idToken,a,"internal-error");const d=pm(u.idToken);vt(d,a,"internal-error");const{sub:g}=d;return vt(r.uid===g,a,"user-mismatch"),Ks._forOperation(r,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ii(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V0(r,t,i=!1){if(vi(r.app))return Promise.reject(er(r));const a="signIn",l=await M0(r,a,t),u=await Ks._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(u.user),u}async function Mw(r,t){return V0($s(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U0(r){const t=$s(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Vw(r,t,i){if(vi(r.app))return Promise.reject(er(r));const a=$s(r),d=await Gd(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Dw).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&U0(r),p}),g=await Ks._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(g.user),g}function Uw(r,t,i){return vi(r.app)?Promise.reject(er(r)):Mw(Pe(r),ro.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&U0(r),a})}async function kw(r,t){const i=Pe(r),l={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:u}=await bw(i.auth,l);u!==r.email&&await r.reload()}function Lw(r,t,i,a){return Pe(r).onIdTokenChanged(t,i,a)}function Pw(r,t,i){return Pe(r).beforeAuthStateChanged(t,i)}function jw(r,t,i,a){return Pe(r).onAuthStateChanged(t,i,a)}const qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(qc,"1"),this.storage.removeItem(qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=1e3,Bw=10;class L0 extends k0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);iw()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Bw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},zw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}L0.type="LOCAL";const qw=L0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0 extends k0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}P0.type="SESSION";const j0=P0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new nh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,u)),p=await Hw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,p)=>{const v=Em("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const x=S;if(x.data.eventId===v)switch(x.data.status){case"ack":clearTimeout(A),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(x.data.response);break;default:clearTimeout(A),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(){return window}function Gw(r){Ti().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function Kw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Yw(){return z0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="firebaseLocalStorageDb",Xw=1,Hc="firebaseLocalStorage",q0="fbase_key";class ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ih(r,t){return r.transaction([Hc],t?"readwrite":"readonly").objectStore(Hc)}function $w(){const r=indexedDB.deleteDatabase(B0);return new ql(r).toPromise()}function Kd(){const r=indexedDB.open(B0,Xw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Hc,{keyPath:q0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Hc)?t(a):(a.close(),await $w(),t(await Kd()))})})}async function W_(r,t,i){const a=ih(r,!0).put({[q0]:t,value:i});return new ql(a).toPromise()}async function Jw(r,t){const i=ih(r,!1).get(t),a=await new ql(i).toPromise();return a===void 0?null:a.value}function tv(r,t){const i=ih(r,!0).delete(t);return new ql(i).toPromise()}const Zw=800,Ww=3;class H0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Ww)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nh._getInstance(Yw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await Kw(),!this.activeServiceWorker)return;this.sender=new Fw(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Qw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Kd();return await W_(t,qc,"1"),await tv(t,qc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>W_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Jw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>tv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=ih(l,!1).getAll();return new ql(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Zw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H0.type="LOCAL";const tR=H0;new jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(r,t){return t?tr(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm extends _m{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ga(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ga(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ga(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function nR(r){return V0(r.auth,new Tm(r),r.bypassAuthState)}function iR(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),xw(i,new Tm(r),r.bypassAuthState)}async function rR(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),Ow(i,new Tm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(t,i,a,l,u=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:u,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return nR;case"linkViaPopup":case"linkViaRedirect":return rR;case"reauthViaPopup":case"reauthViaRedirect":return iR;default:ii(this.auth,"internal-error")}}resolve(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=new jl(2e3,1e4);class qa extends F0{constructor(t,i,a,l,u){super(t,i,l,u),this.provider=a,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const t=Em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,sR.get())};t()}}qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="pendingRedirect",Nc=new Map;class oR extends F0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Nc.get(this.auth._key());if(!t){try{const a=await lR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Nc.set(this.auth._key(),t)}return this.bypassAuthState||Nc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lR(r,t){const i=hR(t),a=cR(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function uR(r,t){Nc.set(r._key(),t)}function cR(r){return tr(r._redirectPersistence)}function hR(r){return Cc(aR,r.config.apiKey,r.name)}async function fR(r,t,i=!1){if(vi(r.app))return Promise.reject(er(r));const a=$s(r),l=eR(a,t),d=await new oR(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=600*1e3;class mR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!gR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var a;if(t.error&&!G0(t)){const l=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(Ei(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=dR&&this.cachedEventUids.clear(),this.cachedEventUids.has(ev(t))}saveEventToCache(t){this.cachedEventUids.add(ev(t)),this.lastProcessedEventTime=Date.now()}}function ev(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function G0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function gR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(r,t={}){return ur(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_R=/^https?/;async function vR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await pR(r);for(const i of t)try{if(ER(i))return}catch{}ii(r,"unauthorized-domain")}function ER(r){const t=Hd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!_R.test(i))return!1;if(yR.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=new jl(3e4,6e4);function nv(){const r=Ti().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function AR(r){return new Promise((t,i)=>{var a,l,u;function d(){nv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nv(),i(Ei(r,"network-request-failed"))},timeout:TR.get()})}if(!((l=(a=Ti().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((u=Ti().gapi)===null||u===void 0)&&u.load)d();else{const g=fw("iframefcb");return Ti()[g]=()=>{gapi.load?d():i(Ei(r,"network-request-failed"))},D0(`${hw()}?onload=${g}`).catch(p=>i(p))}}).catch(t=>{throw Dc=null,t})}let Dc=null;function SR(r){return Dc=Dc||AR(r),Dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=new jl(5e3,15e3),wR="__/auth/iframe",RR="emulator/auth/iframe",IR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NR(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?gm(t,RR):`https://${r.config.authDomain}/${wR}`,a={apiKey:t.apiKey,appName:r.name,v:io},l=CR.get(r.config.apiHost);l&&(a.eid=l);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${i}?${Pl(a).slice(1)}`}async function DR(r){const t=await SR(r),i=Ti().gapi;return vt(i,r,"internal-error"),t.open({where:document.body,url:NR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IR,dontclear:!0},a=>new Promise(async(l,u)=>{await a.restyle({setHideOnLeave:!1});const d=Ei(r,"network-request-failed"),g=Ti().setTimeout(()=>{u(d)},bR.get());function p(){Ti().clearTimeout(g),l(a)}a.ping(p).then(p,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xR=500,MR=600,VR="_blank",UR="http://localhost";class iv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kR(r,t,i,a=xR,l=MR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const p=Object.assign(Object.assign({},OR),{width:a.toString(),height:l.toString(),top:u,left:d}),v=un().toLowerCase();i&&(g=S0(v)?VR:i),T0(v)&&(t=t||UR,p.scrollbars="yes");const A=Object.entries(p).reduce((x,[B,X])=>`${x}${B}=${X},`,"");if(nw(v)&&g!=="_self")return LR(t||"",g),new iv(null);const S=window.open(t||"",g,A);vt(S,r,"popup-blocked");try{S.focus()}catch{}return new iv(S)}function LR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="__/auth/handler",jR="emulator/auth/handler",zR=encodeURIComponent("fac");async function rv(r,t,i,a,l,u){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:io,eventId:l};if(t instanceof x0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",bS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Bl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await r._getAppCheckToken(),v=p?`#${zR}=${encodeURIComponent(p)}`:"";return`${BR(r)}?${Pl(g).slice(1)}${v}`}function BR({config:r}){return r.emulator?gm(r,jR):`https://${r.authDomain}/${PR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="webStorageSupport";class qR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=j0,this._completeRedirectFn=fR,this._overrideRedirectResult=uR}async _openPopup(t,i,a,l){var u;rr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await rv(t,i,a,Hd(),l);return kR(t,d,Em())}async _openRedirect(t,i,a,l){await this._originValidation(t);const u=await rv(t,i,a,Hd(),l);return Gw(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(rr(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await DR(t),a=new mR(t);return i.register("authEvent",l=>(vt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Md,{type:Md},l=>{var u;const d=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[Md];d!==void 0&&i(!!d),ii(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=vR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return C0()||A0()||ym()}}const HR=qR;var sv="@firebase/auth",av="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KR(r){Qa(new Fs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:N0(r)},v=new lw(a,l,u,p);return yw(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Qa(new Fs("auth-internal",t=>{const i=$s(t.getProvider("auth").getImmediate());return(a=>new FR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(sv,av,GR(r)),as(sv,av,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=300,YR=s0("authIdTokenMaxAge")||QR;let ov=null;const XR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>YR)return;const l=i==null?void 0:i.token;ov!==l&&(ov=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function $R(r=u0()){const t=fm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=pw(r,{popupRedirectResolver:HR,persistence:[tR,qw,j0]}),a=s0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=XR(u.toString());Pw(i,d,()=>d(i.currentUser)),Lw(i,g=>d(g))}}const l=i0("auth");return l&&_w(i,`http://${l}`),i}function JR(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}uw({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const u=Ei("internal-error");u.customData=l,i(u)},a.type="text/javascript",a.charset="UTF-8",JR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KR("Browser");var lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qs,K0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,b){function I(){}I.prototype=b.prototype,C.D=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(O,V,k){for(var w=Array(arguments.length-2),me=2;me<arguments.length;me++)w[me-2]=arguments[me];return b.prototype[V].apply(O,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);var O=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)O[V]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(V=0;16>V;++V)O[V]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],V=C.g[2];var k=C.g[3],w=b+(k^I&(V^k))+O[0]+3614090360&4294967295;b=I+(w<<7&4294967295|w>>>25),w=k+(V^b&(I^V))+O[1]+3905402710&4294967295,k=b+(w<<12&4294967295|w>>>20),w=V+(I^k&(b^I))+O[2]+606105819&4294967295,V=k+(w<<17&4294967295|w>>>15),w=I+(b^V&(k^b))+O[3]+3250441966&4294967295,I=V+(w<<22&4294967295|w>>>10),w=b+(k^I&(V^k))+O[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(V^b&(I^V))+O[5]+1200080426&4294967295,k=b+(w<<12&4294967295|w>>>20),w=V+(I^k&(b^I))+O[6]+2821735955&4294967295,V=k+(w<<17&4294967295|w>>>15),w=I+(b^V&(k^b))+O[7]+4249261313&4294967295,I=V+(w<<22&4294967295|w>>>10),w=b+(k^I&(V^k))+O[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(V^b&(I^V))+O[9]+2336552879&4294967295,k=b+(w<<12&4294967295|w>>>20),w=V+(I^k&(b^I))+O[10]+4294925233&4294967295,V=k+(w<<17&4294967295|w>>>15),w=I+(b^V&(k^b))+O[11]+2304563134&4294967295,I=V+(w<<22&4294967295|w>>>10),w=b+(k^I&(V^k))+O[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(V^b&(I^V))+O[13]+4254626195&4294967295,k=b+(w<<12&4294967295|w>>>20),w=V+(I^k&(b^I))+O[14]+2792965006&4294967295,V=k+(w<<17&4294967295|w>>>15),w=I+(b^V&(k^b))+O[15]+1236535329&4294967295,I=V+(w<<22&4294967295|w>>>10),w=b+(V^k&(I^V))+O[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^V&(b^I))+O[6]+3225465664&4294967295,k=b+(w<<9&4294967295|w>>>23),w=V+(b^I&(k^b))+O[11]+643717713&4294967295,V=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(V^k))+O[0]+3921069994&4294967295,I=V+(w<<20&4294967295|w>>>12),w=b+(V^k&(I^V))+O[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^V&(b^I))+O[10]+38016083&4294967295,k=b+(w<<9&4294967295|w>>>23),w=V+(b^I&(k^b))+O[15]+3634488961&4294967295,V=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(V^k))+O[4]+3889429448&4294967295,I=V+(w<<20&4294967295|w>>>12),w=b+(V^k&(I^V))+O[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^V&(b^I))+O[14]+3275163606&4294967295,k=b+(w<<9&4294967295|w>>>23),w=V+(b^I&(k^b))+O[3]+4107603335&4294967295,V=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(V^k))+O[8]+1163531501&4294967295,I=V+(w<<20&4294967295|w>>>12),w=b+(V^k&(I^V))+O[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^V&(b^I))+O[2]+4243563512&4294967295,k=b+(w<<9&4294967295|w>>>23),w=V+(b^I&(k^b))+O[7]+1735328473&4294967295,V=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(V^k))+O[12]+2368359562&4294967295,I=V+(w<<20&4294967295|w>>>12),w=b+(I^V^k)+O[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^V)+O[8]+2272392833&4294967295,k=b+(w<<11&4294967295|w>>>21),w=V+(k^b^I)+O[11]+1839030562&4294967295,V=k+(w<<16&4294967295|w>>>16),w=I+(V^k^b)+O[14]+4259657740&4294967295,I=V+(w<<23&4294967295|w>>>9),w=b+(I^V^k)+O[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^V)+O[4]+1272893353&4294967295,k=b+(w<<11&4294967295|w>>>21),w=V+(k^b^I)+O[7]+4139469664&4294967295,V=k+(w<<16&4294967295|w>>>16),w=I+(V^k^b)+O[10]+3200236656&4294967295,I=V+(w<<23&4294967295|w>>>9),w=b+(I^V^k)+O[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^V)+O[0]+3936430074&4294967295,k=b+(w<<11&4294967295|w>>>21),w=V+(k^b^I)+O[3]+3572445317&4294967295,V=k+(w<<16&4294967295|w>>>16),w=I+(V^k^b)+O[6]+76029189&4294967295,I=V+(w<<23&4294967295|w>>>9),w=b+(I^V^k)+O[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^V)+O[12]+3873151461&4294967295,k=b+(w<<11&4294967295|w>>>21),w=V+(k^b^I)+O[15]+530742520&4294967295,V=k+(w<<16&4294967295|w>>>16),w=I+(V^k^b)+O[2]+3299628645&4294967295,I=V+(w<<23&4294967295|w>>>9),w=b+(V^(I|~k))+O[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~V))+O[7]+1126891415&4294967295,k=b+(w<<10&4294967295|w>>>22),w=V+(b^(k|~I))+O[14]+2878612391&4294967295,V=k+(w<<15&4294967295|w>>>17),w=I+(k^(V|~b))+O[5]+4237533241&4294967295,I=V+(w<<21&4294967295|w>>>11),w=b+(V^(I|~k))+O[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~V))+O[3]+2399980690&4294967295,k=b+(w<<10&4294967295|w>>>22),w=V+(b^(k|~I))+O[10]+4293915773&4294967295,V=k+(w<<15&4294967295|w>>>17),w=I+(k^(V|~b))+O[1]+2240044497&4294967295,I=V+(w<<21&4294967295|w>>>11),w=b+(V^(I|~k))+O[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~V))+O[15]+4264355552&4294967295,k=b+(w<<10&4294967295|w>>>22),w=V+(b^(k|~I))+O[6]+2734768916&4294967295,V=k+(w<<15&4294967295|w>>>17),w=I+(k^(V|~b))+O[13]+1309151649&4294967295,I=V+(w<<21&4294967295|w>>>11),w=b+(V^(I|~k))+O[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~V))+O[11]+3174756917&4294967295,k=b+(w<<10&4294967295|w>>>22),w=V+(b^(k|~I))+O[2]+718787259&4294967295,V=k+(w<<15&4294967295|w>>>17),w=I+(k^(V|~b))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var I=b-this.blockSize,O=this.B,V=this.h,k=0;k<b;){if(V==0)for(;k<=I;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<b;)if(O[V++]=C.charCodeAt(k++),V==this.blockSize){l(this,O),V=0;break}}else for(;k<b;)if(O[V++]=C[k++],V==this.blockSize){l(this,O),V=0;break}}this.h=V,this.o+=b},a.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var I=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=I&255,I/=256;for(this.u(C),C=Array(16),b=I=0;4>b;++b)for(var O=0;32>O;O+=8)C[I++]=this.g[b]>>>O&255;return C};function u(C,b){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;for(var I=[],O=!0,V=C.length-1;0<=V;V--){var k=C[V]|0;O&&k==b||(I[V]=k,O=!1)}this.g=I}var g={};function p(C){return-128<=C&&128>C?u(C,function(b){return new d([b|0],0>b?-1:0)}):new d([C|0],0>C?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return S;if(0>C)return J(v(-C));for(var b=[],I=1,O=0;C>=I;O++)b[O]=C/I|0,I*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return J(A(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=v(Math.pow(b,8)),O=S,V=0;V<C.length;V+=8){var k=Math.min(8,C.length-V),w=parseInt(C.substring(V,V+k),b);8>k?(k=v(Math.pow(b,k)),O=O.j(k).add(v(w))):(O=O.j(I),O=O.add(v(w)))}return O}var S=p(0),x=p(1),B=p(16777216);r=d.prototype,r.m=function(){if(tt(this))return-J(this).m();for(var C=0,b=1,I=0;I<this.g.length;I++){var O=this.i(I);C+=(0<=O?O:4294967296+O)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(X(this))return"0";if(tt(this))return"-"+J(this).toString(C);for(var b=v(Math.pow(C,6)),I=this,O="";;){var V=Lt(I,b).g;I=ot(I,V.j(b));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=V,X(I))return k+O;for(;6>k.length;)k="0"+k;O=k+O}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function X(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function tt(C){return C.h==-1}r.l=function(C){return C=ot(this,C),tt(C)?-1:X(C)?0:1};function J(C){for(var b=C.g.length,I=[],O=0;O<b;O++)I[O]=~C.g[O];return new d(I,~C.h).add(x)}r.abs=function(){return tt(this)?J(this):this},r.add=function(C){for(var b=Math.max(this.g.length,C.g.length),I=[],O=0,V=0;V<=b;V++){var k=O+(this.i(V)&65535)+(C.i(V)&65535),w=(k>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);O=w>>>16,k&=65535,w&=65535,I[V]=w<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ot(C,b){return C.add(J(b))}r.j=function(C){if(X(this)||X(C))return S;if(tt(this))return tt(C)?J(this).j(J(C)):J(J(this).j(C));if(tt(C))return J(this.j(J(C)));if(0>this.l(B)&&0>C.l(B))return v(this.m()*C.m());for(var b=this.g.length+C.g.length,I=[],O=0;O<2*b;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<C.g.length;V++){var k=this.i(O)>>>16,w=this.i(O)&65535,me=C.i(V)>>>16,ge=C.i(V)&65535;I[2*O+2*V]+=w*ge,_t(I,2*O+2*V),I[2*O+2*V+1]+=k*ge,_t(I,2*O+2*V+1),I[2*O+2*V+1]+=w*me,_t(I,2*O+2*V+1),I[2*O+2*V+2]+=k*me,_t(I,2*O+2*V+2)}for(O=0;O<b;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=b;O<2*b;O++)I[O]=0;return new d(I,0)};function _t(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function it(C,b){this.g=C,this.h=b}function Lt(C,b){if(X(b))throw Error("division by zero");if(X(C))return new it(S,S);if(tt(C))return b=Lt(J(C),b),new it(J(b.g),J(b.h));if(tt(b))return b=Lt(C,J(b)),new it(J(b.g),b.h);if(30<C.g.length){if(tt(C)||tt(b))throw Error("slowDivide_ only works with positive integers.");for(var I=x,O=b;0>=O.l(C);)I=re(I),O=re(O);var V=At(I,1),k=At(O,1);for(O=At(O,2),I=At(I,2);!X(O);){var w=k.add(O);0>=w.l(C)&&(V=V.add(I),k=w),O=At(O,1),I=At(I,1)}return b=ot(C,V.j(b)),new it(V,b)}for(V=S;0<=C.l(b);){for(I=Math.max(1,Math.floor(C.m()/b.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),k=v(I),w=k.j(b);tt(w)||0<w.l(C);)I-=O,k=v(I),w=k.j(b);X(k)&&(k=x),V=V.add(k),C=ot(C,w)}return new it(V,C)}r.A=function(C){return Lt(this,C).h},r.and=function(C){for(var b=Math.max(this.g.length,C.g.length),I=[],O=0;O<b;O++)I[O]=this.i(O)&C.i(O);return new d(I,this.h&C.h)},r.or=function(C){for(var b=Math.max(this.g.length,C.g.length),I=[],O=0;O<b;O++)I[O]=this.i(O)|C.i(O);return new d(I,this.h|C.h)},r.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),I=[],O=0;O<b;O++)I[O]=this.i(O)^C.i(O);return new d(I,this.h^C.h)};function re(C){for(var b=C.g.length+1,I=[],O=0;O<b;O++)I[O]=C.i(O)<<1|C.i(O-1)>>>31;return new d(I,C.h)}function At(C,b){var I=b>>5;b%=32;for(var O=C.g.length-I,V=[],k=0;k<O;k++)V[k]=0<b?C.i(k+I)>>>b|C.i(k+I+1)<<32-b:C.i(k+I);return new d(V,C.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,K0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,qs=d}).apply(typeof lv<"u"?lv:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Q0,pl,Y0,Oc,Qd,X0,$0,J0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,_){return c==Array.prototype||c==Object.prototype||(c[m]=_.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(c,m){if(m)t:{var _=a;c=c.split(".");for(var T=0;T<c.length-1;T++){var L=c[T];if(!(L in _))break t;_=_[L]}c=c[c.length-1],T=_[c],m=m(T),m!=T&&m!=null&&t(_,c,{configurable:!0,writable:!0,value:m})}}function u(c,m){c instanceof String&&(c+="");var _=0,T=!1,L={next:function(){if(!T&&_<c.length){var H=_++;return{value:m(H,c[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}l("Array.prototype.values",function(c){return c||function(){return u(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function v(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function A(c,m,_){return c.call.apply(c.bind,arguments)}function S(c,m,_){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),c.apply(m,L)}}return function(){return c.apply(m,arguments)}}function x(c,m,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:S,x.apply(null,arguments)}function B(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function X(c,m){function _(){}_.prototype=m.prototype,c.aa=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(T,L,H){for(var nt=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)nt[Jt-2]=arguments[Jt];return m.prototype[L].apply(T,nt)}}function tt(c){const m=c.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=c[T];return _}return[]}function J(c,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(p(T)){const L=c.length||0,H=T.length||0;c.length=L+H;for(let nt=0;nt<H;nt++)c[L+nt]=T[nt]}else c.push(T)}}class ot{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function _t(c){return/^[\s\xa0]*$/.test(c)}function it(){var c=g.navigator;return c&&(c=c.userAgent)?c:""}function Lt(c){return Lt[" "](c),c}Lt[" "]=function(){};var re=it().indexOf("Gecko")!=-1&&!(it().toLowerCase().indexOf("webkit")!=-1&&it().indexOf("Edge")==-1)&&!(it().indexOf("Trident")!=-1||it().indexOf("MSIE")!=-1)&&it().indexOf("Edge")==-1;function At(c,m,_){for(const T in c)m.call(_,c[T],T,c)}function C(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function b(c){const m={};for(const _ in c)m[_]=c[_];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)c[_]=T[_];for(let H=0;H<I.length;H++)_=I[H],Object.prototype.hasOwnProperty.call(T,_)&&(c[_]=T[_])}}function V(c){var m=1;c=c.split(":");const _=[];for(;0<m&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function k(c){g.setTimeout(()=>{throw c},0)}function w(){var c=Bt;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class me{constructor(){this.h=this.g=null}add(m,_){const T=ge.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var ge=new ot(()=>new F,c=>c.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ht=!1,Bt=new me,Gt=()=>{const c=g.Promise.resolve(void 0);et=()=>{c.then(D)}};var D=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(_){k(_)}var m=ge;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}ht=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var rt=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return c})();function mt(c,m){if(W.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(re){t:{try{Lt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else _=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ct[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&mt.aa.h.call(this)}}X(mt,W);var Ct={2:"touch",3:"pen",4:"mouse"};mt.prototype.h=function(){mt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function oe(c,m,_,T,L){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++Ve,this.da=this.fa=!1}function gt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ut(c){this.src=c,this.g={},this.h=0}ut.prototype.add=function(c,m,_,T,L){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var nt=Nt(c,m,T,L);return-1<nt?(m=c[nt],_||(m.fa=!1)):(m=new oe(m,this.src,H,!!T,L),m.fa=_,c.push(m)),m};function xt(c,m){var _=m.type;if(_ in c.g){var T=c.g[_],L=Array.prototype.indexOf.call(T,m,void 0),H;(H=0<=L)&&Array.prototype.splice.call(T,L,1),H&&(gt(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Nt(c,m,_,T){for(var L=0;L<c.length;++L){var H=c[L];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==T)return L}return-1}var fe="closure_lm_"+(1e6*Math.random()|0),Ln={};function ai(c,m,_,T,L){if(Array.isArray(m)){for(var H=0;H<m.length;H++)ai(c,m[H],_,T,L);return null}return _=Ws(_),c&&c[Vt]?c.K(m,_,v(T)?!!T.capture:!1,L):pe(c,m,_,!1,T,L)}function pe(c,m,_,T,L,H){if(!m)throw Error("Invalid event type");var nt=v(L)?!!L.capture:!!L,Jt=cn(c);if(Jt||(c[fe]=Jt=new ut(c)),_=Jt.add(m,_,T,nt,H),_.proxy)return _;if(T=se(),_.proxy=T,T.src=c,T.listener=_,c.addEventListener)rt||(L=nt),L===void 0&&(L=!1),c.addEventListener(m.toString(),T,L);else if(c.attachEvent)c.attachEvent(Ot(m.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function se(){function c(_){return m.call(c.src,c.listener,_)}const m=en;return c}function Et(c,m,_,T,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)Et(c,m[H],_,T,L);else T=v(T)?!!T.capture:!!T,_=Ws(_),c&&c[Vt]?(c=c.i,m=String(m).toString(),m in c.g&&(H=c.g[m],_=Nt(H,_,T,L),-1<_&&(gt(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete c.g[m],c.h--)))):c&&(c=cn(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Nt(m,_,T,L)),(_=-1<c?m[c]:null)&&pt(_))}function pt(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Vt])xt(m.i,c);else{var _=c.type,T=c.proxy;m.removeEventListener?m.removeEventListener(_,T,c.capture):m.detachEvent?m.detachEvent(Ot(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=cn(m))?(xt(_,c),_.h==0&&(_.src=null,m[fe]=null)):gt(c)}}}function Ot(c){return c in Ln?Ln[c]:Ln[c]="on"+c}function en(c,m){if(c.da)c=!0;else{m=new mt(m,this);var _=c.listener,T=c.ha||c.src;c.fa&&pt(c),c=_.call(T,m)}return c}function cn(c){return c=c[fe],c instanceof ut?c:null}var ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ws(c){return typeof c=="function"?c:(c[ye]||(c[ye]=function(m){return c.handleEvent(m)}),c[ye])}function Ue(){K.call(this),this.i=new ut(this),this.M=this,this.F=null}X(Ue,K),Ue.prototype[Vt]=!0,Ue.prototype.removeEventListener=function(c,m,_,T){Et(this,c,m,_,T)};function je(c,m){var _,T=c.F;if(T)for(_=[];T;T=T.F)_.push(T);if(c=c.M,T=m.type||m,typeof m=="string")m=new W(m,c);else if(m instanceof W)m.target=m.target||c;else{var L=m;m=new W(T,c),O(m,L)}if(L=!0,_)for(var H=_.length-1;0<=H;H--){var nt=m.g=_[H];L=wi(nt,T,!0,m)&&L}if(nt=m.g=c,L=wi(nt,T,!0,m)&&L,L=wi(nt,T,!1,m)&&L,_)for(H=0;H<_.length;H++)nt=m.g=_[H],L=wi(nt,T,!1,m)&&L}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var _=c.g[m],T=0;T<_.length;T++)gt(_[T]);delete c.g[m],c.h--}}this.F=null},Ue.prototype.K=function(c,m,_,T){return this.i.add(String(c),m,!1,_,T)},Ue.prototype.L=function(c,m,_,T){return this.i.add(String(c),m,!0,_,T)};function wi(c,m,_,T){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,H=0;H<m.length;++H){var nt=m[H];if(nt&&!nt.da&&nt.capture==_){var Jt=nt.listener,Ie=nt.ha||nt.src;nt.fa&&xt(c.i,nt),L=Jt.call(Ie,T)!==!1&&L}}return L&&!T.defaultPrevented}function $l(c,m,_){if(typeof c=="function")_&&(c=x(c,_));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(c,m||0)}function co(c){c.g=$l(()=>{c.g=null,c.i&&(c.i=!1,co(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class vh extends K{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:co(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(c){K.call(this),this.h=c,this.g={}}X(ds,K);var cr=[];function nn(c){At(c.g,function(m,_){this.g.hasOwnProperty(_)&&pt(m)},c),c.g={}}ds.prototype.N=function(){ds.aa.N.call(this),nn(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=g.JSON.stringify,hn=g.JSON.parse,Eh=class{stringify(c){return g.JSON.stringify(c,void 0)}parse(c){return g.JSON.parse(c,void 0)}};function ho(){}ho.prototype.h=null;function Jl(c){return c.h||(c.h=c.i())}function ms(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hr(){W.call(this,"d")}X(hr,W);function $n(){W.call(this,"c")}X($n,W);var jn={},fr=null;function ta(){return fr=fr||new Ue}jn.La="serverreachability";function fo(c){W.call(this,jn.La,c)}X(fo,W);function Ri(c){const m=ta();je(m,new fo(m))}jn.STAT_EVENT="statevent";function dr(c,m){W.call(this,jn.STAT_EVENT,c),this.stat=m}X(dr,W);function Ge(c){const m=ta();je(m,new dr(m,c))}jn.Ma="timingevent";function mo(c,m){W.call(this,jn.Ma,c),this.size=m}X(mo,W);function mr(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){c()},m)}function gr(){this.g=!0}gr.prototype.xa=function(){this.g=!1};function go(c,m,_,T,L,H){c.info(function(){if(c.g)if(H)for(var nt="",Jt=H.split("&"),Ie=0;Ie<Jt.length;Ie++){var Mt=Jt[Ie].split("=");if(1<Mt.length){var Be=Mt[0];Mt=Mt[1];var qe=Be.split("_");nt=2<=qe.length&&qe[1]=="type"?nt+(Be+"="+Mt+"&"):nt+(Be+"=redacted&")}}else nt=null;else nt=H;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+nt})}function po(c,m,_,T,L,H,nt){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+H+" "+nt})}function Ii(c,m,_,T){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+li(c,_)+(T?" "+T:"")})}function Zl(c,m){c.info(function(){return"TIMEOUT: "+m})}gr.prototype.info=function(){};function li(c,m){if(!c.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var T=_[c];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var H=L[0];if(H!="noop"&&H!="stop"&&H!="close")for(var nt=1;nt<L.length;nt++)L[nt]=""}}}}return Pn(_)}catch{return m}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ke={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ui;function pr(){}X(pr,ho),pr.prototype.g=function(){return new XMLHttpRequest},pr.prototype.i=function(){return{}},ui=new pr;function ci(c,m,_,T){this.j=c,this.i=m,this.l=_,this.R=T||1,this.U=new ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wl}function Wl(){this.i=null,this.g="",this.h=!1}var yo={},Ci={};function gs(c,m,_){c.L=1,c.v=_s(Ee(m)),c.m=_,c.P=!0,Ni(c,null)}function Ni(c,m){c.F=Date.now(),Jn(c),c.A=Ee(c.v);var _=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),xi(_.i,"t",T),c.C=0,_=c.j.J,c.h=new Wl,c.g=gu(c.j,_?m:null,!c.m),0<c.O&&(c.M=new vh(x(c.Y,c,c.g),c.O)),m=c.U,_=c.g,T=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(cr[0]=L.toString()),L=cr);for(var H=0;H<L.length;H++){var nt=ai(_,L[H],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Ri(),go(c.i,c.u,c.A,c.l,c.R,c.m)}ci.prototype.ca=function(c){c=c.target;const m=this.M;m&&mn(c)==3?m.j():this.Y(c)},ci.prototype.Y=function(c){try{if(c==this.g)t:{const qe=mn(this.g);var m=this.g.Ba();const Nr=this.g.Z();if(!(3>qe)&&(qe!=3||this.g&&(this.h.h||this.g.oa()||Ts(this.g)))){this.J||qe!=4||m==7||(m==8||0>=Nr?Ri(3):Ri(2)),ea(this);var _=this.g.Z();this.X=_;e:if(Di(this)){var T=Ts(this.g);c="";var L=T.length,H=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),yr(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,c+=this.h.i.decode(T[m],{stream:!(H&&m==L-1)});T.length=0,this.h.g+=c,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=_==200,po(this.i,this.u,this.A,this.l,this.R,qe,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Jt,Ie=this.g;if((Jt=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_t(Jt)){var Mt=Jt;break e}}Mt=null}if(_=Mt)Ii(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hi(this,_);else{this.o=!1,this.s=3,Ge(12),fn(this),yr(this);break t}}if(this.P){_=!0;let En;for(;!this.J&&this.C<nt.length;)if(En=ps(this,nt),En==Ci){qe==4&&(this.s=4,Ge(14),_=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if(En==yo){this.s=4,Ge(15),Ii(this.i,this.l,nt,"[Invalid Chunk]"),_=!1;break}else Ii(this.i,this.l,En,null),hi(this,En);if(Di(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||nt.length!=0||this.h.h||(this.s=1,Ge(16),_=!1),this.o=this.o&&_,!_)Ii(this.i,this.l,nt,"[Invalid Chunked Response]"),fn(this),yr(this);else if(0<nt.length&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.ba&&!Be.M&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),Co(Be),Be.M=!0,Ge(11))}}else Ii(this.i,this.l,nt,null),hi(this,nt);qe==4&&fn(this),this.o&&!this.J&&(qe==4?fu(this.j,this):(this.o=!1,Jn(this)))}else au(this.g),_==400&&0<nt.indexOf("Unknown SID")?(this.s=3,Ge(12)):(this.s=0,Ge(13)),fn(this),yr(this)}}}catch{}finally{}};function Di(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ps(c,m){var _=c.C,T=m.indexOf(`
`,_);return T==-1?Ci:(_=Number(m.substring(_,T)),isNaN(_)?yo:(T+=1,T+_>m.length?Ci:(m=m.slice(T,T+_),c.C=T+_,m)))}ci.prototype.cancel=function(){this.J=!0,fn(this)};function Jn(c){c.S=Date.now()+c.I,Se(c,c.I)}function Se(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mr(x(c.ba,c),m)}function ea(c){c.B&&(g.clearTimeout(c.B),c.B=null)}ci.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Zl(this.i,this.A),this.L!=2&&(Ri(),Ge(17)),fn(this),this.s=2,yr(this)):Se(this,this.S-c)};function yr(c){c.j.G==0||c.J||fu(c.j,c)}function fn(c){ea(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,nn(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function hi(c,m){try{var _=c.j;if(_.G!=0&&(_.g==c||_r(_.h,c))){if(!c.K&&_r(_.h,c)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ir(_),Rr(_);else break t;Io(_),Ge(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=mr(x(_.Za,_),6e3));if(1>=tu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Vi(_,11)}else if((c.K||_.g==c)&&Ir(_),!_t(m))for(L=_.Da.g.parse(m),m=0;m<L.length;m++){let Mt=L[m];if(_.T=Mt[0],Mt=Mt[1],_.G==2)if(Mt[0]=="c"){_.K=Mt[1],_.ia=Mt[2];const Be=Mt[3];Be!=null&&(_.la=Be,_.j.info("VER="+_.la));const qe=Mt[4];qe!=null&&(_.Aa=qe,_.j.info("SVER="+_.Aa));const Nr=Mt[5];Nr!=null&&typeof Nr=="number"&&0<Nr&&(T=1.5*Nr,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const En=c.g;if(En){const bs=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bs){var H=T.h;H.g||bs.indexOf("spdy")==-1&&bs.indexOf("quic")==-1&&bs.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(vr(H,H.h),H.h=null))}if(T.D){const Ui=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;Ui&&(T.ya=Ui,Kt(T.I,T.D,Ui))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var nt=c;if(T.qa=mu(T,T.J?T.ia:null,T.W),nt.K){zn(T.h,nt);var Jt=nt,Ie=T.L;Ie&&(Jt.I=Ie),Jt.B&&(ea(Jt),Jn(Jt)),T.g=nt}else cu(T);0<_.i.length&&ua(_)}else Mt[0]!="stop"&&Mt[0]!="close"||Vi(_,7);else _.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Vi(_,7):wo(_):Mt[0]!="noop"&&_.l&&_.l.ta(Mt),_.v=0)}}Ri(4)}catch{}}var Th=class{constructor(c,m){this.g=c,this.map=m}};function _o(c){this.l=c||10,g.PerformanceNavigationTiming?(c=g.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function tu(c){return c.h?1:c.g?c.g.size:0}function _r(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function vr(c,m){c.g?c.g.add(m):c.h=m}function zn(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}_o.prototype.cancel=function(){if(this.i=dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function dn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.D);return m}return tt(c.i)}function eu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var m=[],_=c.length,T=0;T<_;T++)m.push(c[T]);return m}m=[],_=0;for(T in c)m[_++]=c[T];return m}function Ah(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var m=[];c=c.length;for(var _=0;_<c;_++)m.push(_);return m}m=[],_=0;for(const T in c)m[_++]=T;return m}}}function na(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var _=Ah(c),T=eu(c),L=T.length,H=0;H<L;H++)m.call(void 0,T[H],_&&_[H],c)}var Eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(c,m){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var T=c[_].indexOf("="),L=null;if(0<=T){var H=c[_].substring(0,T);L=c[_].substring(T+1)}else H=c[_];m(H,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Oi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Oi){this.h=c.h,Er(this,c.j),this.o=c.o,this.g=c.g,ys(this,c.s),this.l=c.l;var m=c.i,_=new fi;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),ra(this,_),this.m=c.m}else c&&(m=String(c).match(Eo))?(this.h=!1,Er(this,m[1]||"",!0),this.o=Tr(m[2]||""),this.g=Tr(m[3]||"",!0),ys(this,m[4]),this.l=Tr(m[5]||"",!0),ra(this,m[6]||"",!0),this.m=Tr(m[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}Oi.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Bn(m,To,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Bn(m,To,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Bn(_,_.charAt(0)=="/"?Ao:nu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Bn(_,wh)),c.join("")};function Ee(c){return new Oi(c)}function Er(c,m,_){c.j=_?Tr(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function ys(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function ra(c,m,_){m instanceof fi?(c.i=m,iu(c.i,c.h)):(_||(m=Bn(m,bh)),c.i=new fi(m,c.h))}function Kt(c,m,_){c.i.set(m,_)}function _s(c){return Kt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Tr(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Bn(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,Sh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Sh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var To=/[#\/\?@]/g,nu=/[#\?:]/g,Ao=/[#\?]/g,bh=/[#\?@]/g,wh=/#/g;function fi(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ze(c){c.g||(c.g=new Map,c.h=0,c.i&&ia(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=fi.prototype,r.add=function(c,m){ze(this),this.i=null,c=In(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function sa(c,m){ze(c),m=In(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function aa(c,m){return ze(c),m=In(c,m),c.g.has(m)}r.forEach=function(c,m){ze(this),this.g.forEach(function(_,T){_.forEach(function(L){c.call(m,L,T,this)},this)},this)},r.na=function(){ze(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const L=c[T];for(let H=0;H<L.length;H++)_.push(m[T])}return _},r.V=function(c){ze(this);let m=[];if(typeof c=="string")aa(this,c)&&(m=m.concat(this.g.get(In(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)m=m.concat(c[_])}return m},r.set=function(c,m){return ze(this),this.i=null,c=In(this,c),aa(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function xi(c,m,_){sa(c,m),0<_.length&&(c.i=null,c.g.set(In(c,m),tt(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const H=encodeURIComponent(String(T)),nt=this.V(T);for(T=0;T<nt.length;T++){var L=H;nt[T]!==""&&(L+="="+encodeURIComponent(String(nt[T]))),c.push(L)}}return this.i=c.join("&")};function In(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function iu(c,m){m&&!c.j&&(ze(c),c.i=null,c.g.forEach(function(_,T){var L=T.toLowerCase();T!=L&&(sa(this,T),xi(this,L,_))},c)),c.j=m}function So(c,m){const _=new gr;if(g.Image){const T=new Image;T.onload=B(vn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=B(vn,_,"TestLoadImage: error",!1,m,T),T.onabort=B(vn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=B(vn,_,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else m(!1)}function ru(c,m){const _=new gr,T=new AbortController,L=setTimeout(()=>{T.abort(),vn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:T.signal}).then(H=>{clearTimeout(L),H.ok?vn(_,"TestPingServer: ok",!0,m):vn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),vn(_,"TestPingServer: error",!1,m)})}function vn(c,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function Zn(){this.g=new Eh}function bo(c,m,_){const T=_||"";try{na(c,function(L,H){let nt=L;v(L)&&(nt=Pn(L)),m.push(T+H+"="+encodeURIComponent(nt))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function di(c){this.l=c.Ub||null,this.j=c.eb||!1}X(di,ho),di.prototype.g=function(){return new Cn(this.l,this.j)},di.prototype.i=(function(c){return function(){return c}})({});function Cn(c,m){Ue.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(Cn,Ue),r=Cn.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Ar(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ar(this)),this.g&&(this.readyState=3,Ar(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oa(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function oa(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?mi(this):Ar(this),this.readyState==3&&oa(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,mi(this))},r.Qa=function(c){this.g&&(this.response=c,mi(this))},r.ga=function(){this.g&&mi(this)};function mi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ar(c)}r.setRequestHeader=function(c,m){this.u.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function Ar(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function vs(c){let m="";return At(c,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Sr(c,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=vs(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Kt(c,m,_))}function le(c){Ue.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(le,Ue);var rn=/^https?$/i,Mi=["POST","PUT"];r=le.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ui.g(),this.v=this.o?Jl(this.o):Jl(ui),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(H){Es(this,H);return}if(c=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())_.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),L=g.FormData&&c instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Mi,m,void 0))||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,nt]of _)this.g.setRequestHeader(H,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{la(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){Es(this,H)}};function Es(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,br(c),wr(c)}function br(c){c.A||(c.A=!0,je(c,"complete"),je(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,je(this,"complete"),je(this,"abort"),wr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wr(this,!0)),le.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?su(this):this.bb())},r.bb=function(){su(this)};function su(c){if(c.h&&typeof d<"u"&&(!c.v[1]||mn(c)!=4||c.Z()!=2)){if(c.u&&mn(c)==4)$l(c.Ea,0,c);else if(je(c,"readystatechange"),mn(c)==4){c.h=!1;try{const nt=c.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=nt===0){var L=String(c.D).match(Eo)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!rn.test(L?L.toLowerCase():"")}_=T}if(_)je(c,"complete"),je(c,"success");else{c.m=6;try{var H=2<mn(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",br(c)}}finally{wr(c)}}}}function wr(c,m){if(c.g){la(c);const _=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||je(c,"ready");try{_.onreadystatechange=T}catch{}}}function la(c){c.I&&(g.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function mn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),hn(m)}};function Ts(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function au(c){const m={};c=(c.g&&2<=mn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(_t(c[T]))continue;var _=V(c[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[L]||[];m[L]=H,H.push(_)}C(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function ou(c){this.Aa=0,this.i=[],this.j=new gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=As("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=As("baseRetryDelayMs",5e3,c),this.cb=As("retryDelaySeedMs",1e4,c),this.Wa=As("forwardChannelMaxRetries",2,c),this.wa=As("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new _o(c&&c.concurrentRequestLimit),this.Da=new Zn,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ou.prototype,r.la=8,r.G=1,r.connect=function(c,m,_,T){Ge(0),this.W=c,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=mu(this,null,this.W),ua(this)};function wo(c){if(lu(c),c.G==3){var m=c.U++,_=Ee(c.I);if(Kt(_,"SID",c.K),Kt(_,"RID",m),Kt(_,"TYPE","terminate"),Ss(c,_),m=new ci(c,c.j,m),m.L=2,m.v=_s(Ee(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=gu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Jn(m)}No(c)}function Rr(c){c.g&&(Co(c),c.g.cancel(),c.g=null)}function lu(c){Rr(c),c.u&&(g.clearTimeout(c.u),c.u=null),Ir(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&g.clearTimeout(c.s),c.s=null)}function ua(c){if(!vo(c.h)&&!c.s){c.s=!0;var m=c.Ga;et||Gt(),ht||(et(),ht=!0),Bt.add(m,c),c.B=0}}function Rh(c,m){return tu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mr(x(c.Ga,c,m),du(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new ci(this,this.j,c);let H=this.o;if(this.S&&(H?(H=b(H),O(H,this.S)):H=this.S),this.m!==null||this.O||(L.H=H,H=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Ro(this,L,m),_=Ee(this.I),Kt(_,"RID",c),Kt(_,"CVER",22),this.D&&Kt(_,"X-HTTP-Session-Id",this.D),Ss(this,_),H&&(this.O?m="headers="+encodeURIComponent(String(vs(H)))+"&"+m:this.m&&Sr(_,this.m,H)),vr(this.h,L),this.Ua&&Kt(_,"TYPE","init"),this.P?(Kt(_,"$req",m),Kt(_,"SID","null"),L.T=!0,gs(L,_,null)):gs(L,_,m),this.G=2}}else this.G==3&&(c?uu(this,c):this.i.length==0||vo(this.h)||uu(this))};function uu(c,m){var _;m?_=m.l:_=c.U++;const T=Ee(c.I);Kt(T,"SID",c.K),Kt(T,"RID",_),Kt(T,"AID",c.T),Ss(c,T),c.m&&c.o&&Sr(T,c.m,c.o),_=new ci(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Ro(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),vr(c.h,_),gs(_,T,m)}function Ss(c,m){c.H&&At(c.H,function(_,T){Kt(m,T,_)}),c.l&&na({},function(_,T){Kt(m,T,_)})}function Ro(c,m,_){_=Math.min(c.i.length,_);var T=c.l?x(c.l.Na,c.l,c):null;t:{var L=c.i;let H=-1;for(;;){const nt=["count="+_];H==-1?0<_?(H=L[0].g,nt.push("ofs="+H)):H=0:nt.push("ofs="+H);let Jt=!0;for(let Ie=0;Ie<_;Ie++){let Mt=L[Ie].g;const Be=L[Ie].map;if(Mt-=H,0>Mt)H=Math.max(0,L[Ie].g-100),Jt=!1;else try{bo(Be,nt,"req"+Mt+"_")}catch{T&&T(Be)}}if(Jt){T=nt.join("&");break t}}}return c=c.i.splice(0,_),m.D=c,T}function cu(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;et||Gt(),ht||(et(),ht=!0),Bt.add(m,c),c.v=0}}function Io(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mr(x(c.Fa,c),du(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mr(x(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ge(10),Rr(this),hu(this))};function Co(c){c.A!=null&&(g.clearTimeout(c.A),c.A=null)}function hu(c){c.g=new ci(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Ee(c.qa);Kt(m,"RID","rpc"),Kt(m,"SID",c.K),Kt(m,"AID",c.T),Kt(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Kt(m,"TO",c.ja),Kt(m,"TYPE","xmlhttp"),Ss(c,m),c.m&&c.o&&Sr(m,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=_s(Ee(m)),_.m=null,_.P=!0,Ni(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Rr(this),Io(this),Ge(19))};function Ir(c){c.C!=null&&(g.clearTimeout(c.C),c.C=null)}function fu(c,m){var _=null;if(c.g==m){Ir(c),Co(c),c.g=null;var T=2}else if(_r(c.h,m))_=m.D,zn(c.h,m),T=1;else return;if(c.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var L=c.B;T=ta(),je(T,new mo(T,_)),ua(c)}else cu(c);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Rh(c,m)||T==2&&Io(c)))switch(_&&0<_.length&&(m=c.h,m.i=m.i.concat(_)),L){case 1:Vi(c,5);break;case 4:Vi(c,10);break;case 3:Vi(c,6);break;default:Vi(c,2)}}}function du(c,m){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*m}function Vi(c,m){if(c.j.info("Error code "+m),m==2){var _=x(c.fb,c),T=c.Xa;const L=!T;T=new Oi(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Er(T,"https"),_s(T),L?So(T.toString(),_):ru(T.toString(),_)}else Ge(2);c.G=0,c.l&&c.l.sa(m),No(c),lu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ge(2)):(this.j.info("Failed to ping google.com"),Ge(1))};function No(c){if(c.G=0,c.ka=[],c.l){const m=dn(c.h);(m.length!=0||c.i.length!=0)&&(J(c.ka,m),J(c.ka,c.i),c.h.i.length=0,tt(c.i),c.i.length=0),c.l.ra()}}function mu(c,m,_){var T=_ instanceof Oi?Ee(_):new Oi(_);if(T.g!="")m&&(T.g=m+"."+T.g),ys(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var H=new Oi(null);T&&Er(H,T),m&&(H.g=m),L&&ys(H,L),_&&(H.l=_),T=H}return _=c.D,m=c.ya,_&&m&&Kt(T,_,m),Kt(T,"VER",c.la),Ss(c,T),T}function gu(c,m,_){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new le(new di({eb:_})):new le(c.pa),m.Ha(c.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}r=pu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ca(){}ca.prototype.g=function(c,m){return new gn(c,m)};function gn(c,m){Ue.call(this),this.g=new ou(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!_t(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!_t(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Cr(this)}X(gn,Ue),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){wo(this.g)},gn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Pn(c),c=_);m.i.push(new Th(m.Ya++,c)),m.G==3&&ua(m)},gn.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,gn.aa.N.call(this)};function yu(c){hr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const _ in m){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}X(yu,hr);function _u(){$n.call(this),this.status=1}X(_u,$n);function Cr(c){this.g=c}X(Cr,pu),Cr.prototype.ua=function(){je(this.g,"a")},Cr.prototype.ta=function(c){je(this.g,new yu(c))},Cr.prototype.sa=function(c){je(this.g,new _u)},Cr.prototype.ra=function(){je(this.g,"b")},ca.prototype.createWebChannel=ca.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,J0=function(){return new ca},$0=function(){return ta()},X0=jn,Qd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,Oc=ve,Ke.COMPLETE="complete",Y0=Ke,ms.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,pl=ms,le.prototype.listenOnce=le.prototype.L,le.prototype.getLastError=le.prototype.Ka,le.prototype.getLastErrorCode=le.prototype.Ba,le.prototype.getStatus=le.prototype.Z,le.prototype.getResponseJson=le.prototype.Oa,le.prototype.getResponseText=le.prototype.oa,le.prototype.send=le.prototype.ea,le.prototype.setWithCredentials=le.prototype.Ha,Q0=le}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});const uv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let on=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new cm("@firebase/firestore");function dl(){return Qs.logLevel}function lt(r,...t){if(Qs.logLevel<=Ht.DEBUG){const i=t.map(Am);Qs.debug(`Firestore (${so}): ${r}`,...i)}}function sr(r,...t){if(Qs.logLevel<=Ht.ERROR){const i=t.map(Am);Qs.error(`Firestore (${so}): ${r}`,...i)}}function Ya(r,...t){if(Qs.logLevel<=Ht.WARN){const i=t.map(Am);Qs.warn(`Firestore (${so}): ${r}`,...i)}}function Am(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r="Unexpected state"){const t=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: `+r;throw sr(t),new Error(t)}function te(r,t){r||Tt()}function Rt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends or{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ZR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(on.UNAUTHENTICATED)))}shutdown(){}}class WR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class t1{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){te(this.o===void 0);let a=this.i;const l=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let u=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Hs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Hs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(te(typeof a.accessToken=="string"),new Z0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return te(t===null||typeof t=="string"),new on(t)}}class e1{constructor(t,i,a){this.l=t,this.h=i,this.P=a,this.type="FirstParty",this.user=on.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class n1{constructor(t,i,a){this.l=t,this.h=i,this.P=a}getToken(){return Promise.resolve(new e1(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable((()=>i(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class i1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r1{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){te(this.o===void 0);const a=u=>{u.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.R;return this.R=u.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>a(u)))};const l=u=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(te(typeof i.token=="string"),this.R=i.token,new i1(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length;let a="";for(;a.length<20;){const l=s1(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<i&&(a+=t.charAt(l[u]%t.length))}return a}}function Xt(r,t){return r<t?-1:r>t?1:0}function Xa(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new at($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Le.fromMillis(Date.now())}static fromDate(t){return Le.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor(1e6*(t-1e3*i));return new Le(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Xt(this.nanoseconds,t.nanoseconds):Xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new wt(t)}static min(){return new wt(new Le(0,0))}static max(){return new wt(new Le(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t,i,a){i===void 0?i=0:i>t.length&&Tt(),a===void 0?a=t.length-i:a>t.length-i&&Tt(),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Dl.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Dl?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const u=t.get(l),d=i.get(l);if(u<d)return-1;if(u>d)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class he extends Dl{construct(t,i,a){return new he(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new at($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new he(i)}static emptyPath(){return new he([])}}const a1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Dl{construct(t,i,a){return new Ze(t,i,a)}static isValidIdentifier(t){return a1.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ze(["__name__"])}static fromServerFormat(t){const i=[];let a="",l=0;const u=()=>{if(a.length===0)throw new at($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new at($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new at($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(u(),l++)}if(u(),d)throw new at($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(i)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(he.fromString(t))}static fromName(t){return new dt(he.fromString(t).popFirst(5))}static empty(){return new dt(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&he.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return he.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new he(t.slice()))}}function o1(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=wt.fromTimestamp(a===1e9?new Le(i+1,0):new Le(i,a));return new ls(l,dt.empty(),t)}function l1(r){return new ls(r.readTime,r.key,-1)}class ls{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new ls(wt.min(),dt.empty(),-1)}static max(){return new ls(wt.max(),dt.empty(),-1)}}function u1(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,t.documentKey),i!==0?i:Xt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==c1)throw r;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let l=0,u=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&i()}),(p=>a(p)))})),d=!0,u===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,u)=>{a.push(i.call(this,l,u))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,l)=>{const u=t.length,d=new Array(u);let g=0;for(let p=0;p<u;p++){const v=p;i(t[v]).next((A=>{d[v]=A,++g,g===u&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Z(((a,l)=>{const u=()=>{t()===!0?i().next((()=>{u()}),l):a()};u()}))}}function f1(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Fl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ie(a),this.se=a=>i.writeSequenceNumber(a))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Sm.oe=-1;function rh(r){return r==null}function Fc(r){return r===0&&1/r==-1/0}function d1(r){return typeof r=="number"&&Number.isInteger(r)&&!Fc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Js(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function tE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(t,i){this.comparator=t,this.root=i||Je.EMPTY}insert(t,i){return new _e(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new _e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bc(this.root,t,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bc(this.root,t,this.comparator,!0)}}class bc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?a(t.key,i):1,i&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,i,a,l,u){this.key=t,this.value=i,this.color=a??Je.RED,this.left=l??Je.EMPTY,this.right=u??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,u){return new Je(t??this.key,i??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const u=a(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,i,a),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Je.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tt();const t=this.left.check();if(t!==this.right.check())throw Tt();return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt()}get value(){throw Tt()}get color(){throw Tt()}get left(){throw Tt()}get right(){throw Tt()}copy(t,i,a,l,u){return this}insert(t,i,a){return new Je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.comparator=t,this.data=new _e(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new hv(this.data.getIterator())}getIteratorFrom(t){return new hv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof We)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new We(this.comparator);return i.data=t,i}}class hv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new kn([])}unionWith(t){let i=new We(Ze.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new kn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Xa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new eE("Invalid base64 string: "+u):u}})(t);return new tn(i)}static fromUint8Array(t){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(t);return new tn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const m1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(r){if(te(!!r),typeof r=="string"){let t=0;const i=m1.exec(r);if(te(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Re(r.seconds),nanos:Re(r.nanos)}}function Re(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ys(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function wm(r){const t=r.mapValue.fields.__previous_value__;return bm(t)?wm(t):t}function Ol(r){const t=us(r.mapValue.fields.__local_write_time__.timestampValue);return new Le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(t,i,a,l,u,d,g,p,v){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=v}}class xl{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof xl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc={mapValue:{}};function Xs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?bm(r)?4:y1(r)?9007199254740991:p1(r)?10:11:Tt()}function bi(r,t){if(r===t)return!0;const i=Xs(r);if(i!==Xs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ol(r).isEqual(Ol(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=us(l.timestampValue),g=us(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,u){return Ys(l.bytesValue).isEqual(Ys(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,u){return Re(l.geoPointValue.latitude)===Re(u.geoPointValue.latitude)&&Re(l.geoPointValue.longitude)===Re(u.geoPointValue.longitude)})(r,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Re(l.integerValue)===Re(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Re(l.doubleValue),g=Re(u.doubleValue);return d===g?Fc(d)===Fc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Xa(r.arrayValue.values||[],t.arrayValue.values||[],bi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(cv(d)!==cv(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!bi(d[p],g[p])))return!1;return!0})(r,t);default:return Tt()}}function Ml(r,t){return(r.values||[]).find((i=>bi(i,t)))!==void 0}function $a(r,t){if(r===t)return 0;const i=Xs(r),a=Xs(t);if(i!==a)return Xt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Xt(r.booleanValue,t.booleanValue);case 2:return(function(u,d){const g=Re(u.integerValue||u.doubleValue),p=Re(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(r,t);case 3:return fv(r.timestampValue,t.timestampValue);case 4:return fv(Ol(r),Ol(t));case 5:return Xt(r.stringValue,t.stringValue);case 6:return(function(u,d){const g=Ys(u),p=Ys(d);return g.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,d){const g=u.split("/"),p=d.split("/");for(let v=0;v<g.length&&v<p.length;v++){const A=Xt(g[v],p[v]);if(A!==0)return A}return Xt(g.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,d){const g=Xt(Re(u.latitude),Re(d.latitude));return g!==0?g:Xt(Re(u.longitude),Re(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return dv(r.arrayValue,t.arrayValue);case 10:return(function(u,d){var g,p,v,A;const S=u.fields||{},x=d.fields||{},B=(g=S.value)===null||g===void 0?void 0:g.arrayValue,X=(p=x.value)===null||p===void 0?void 0:p.arrayValue,tt=Xt(((v=B==null?void 0:B.values)===null||v===void 0?void 0:v.length)||0,((A=X==null?void 0:X.values)===null||A===void 0?void 0:A.length)||0);return tt!==0?tt:dv(B,X)})(r.mapValue,t.mapValue);case 11:return(function(u,d){if(u===wc.mapValue&&d===wc.mapValue)return 0;if(u===wc.mapValue)return 1;if(d===wc.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),v=d.fields||{},A=Object.keys(v);p.sort(),A.sort();for(let S=0;S<p.length&&S<A.length;++S){const x=Xt(p[S],A[S]);if(x!==0)return x;const B=$a(g[p[S]],v[A[S]]);if(B!==0)return B}return Xt(p.length,A.length)})(r.mapValue,t.mapValue);default:throw Tt()}}function fv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Xt(r,t);const i=us(r),a=us(t),l=Xt(i.seconds,a.seconds);return l!==0?l:Xt(i.nanos,a.nanos)}function dv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const u=$a(i[l],a[l]);if(u)return u}return Xt(i.length,a.length)}function Ja(r){return Yd(r)}function Yd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=us(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ys(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const u of i.values||[])l?l=!1:a+=",",a+=Yd(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of a)u?u=!1:l+=",",l+=`${d}:${Yd(i.fields[d])}`;return l+"}"})(r.mapValue):Tt()}function mv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Xd(r){return!!r&&"integerValue"in r}function Rm(r){return!!r&&"arrayValue"in r}function gv(r){return!!r&&"nullValue"in r}function pv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function xc(r){return!!r&&"mapValue"in r}function p1(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function Tl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Js(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Tl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Tl(r.arrayValue.values[i]);return t}return Object.assign({},r)}function y1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.value=t}static empty(){return new Rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!xc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tl(i)}setAll(t){let i=Ze.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Tl(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,a,l)}delete(t){const i=this.field(t.popLast());xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return bi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];xc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Js(i,((l,u)=>t[l]=u));for(const l of a)delete t[l]}clone(){return new Rn(Tl(this.value))}}function nE(r){const t=[];return Js(r.fields,((i,a)=>{const l=new Ze([i]);if(xc(a)){const u=nE(a.mapValue).fields;if(u.length===0)t.push(l);else for(const d of u)t.push(l.child(d))}else t.push(l)})),new kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t,i,a,l,u,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(t){return new ln(t,0,wt.min(),wt.min(),wt.min(),Rn.empty(),0)}static newFoundDocument(t,i,a,l){return new ln(t,1,i,wt.min(),a,l,0)}static newNoDocument(t,i){return new ln(t,2,i,wt.min(),wt.min(),Rn.empty(),0)}static newUnknownDocument(t,i){return new ln(t,3,i,wt.min(),wt.min(),Rn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,i){this.position=t,this.inclusive=i}}function yv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const u=t[l],d=r.position[l];if(u.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=$a(d,i.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function _v(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!bi(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(t,i="asc"){this.field=t,this.dir=i}}function _1(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{}class Me extends iE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new E1(t,i,a):i==="array-contains"?new S1(t,a):i==="in"?new b1(t,a):i==="not-in"?new w1(t,a):i==="array-contains-any"?new R1(t,a):new Me(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new T1(t,a):new A1(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison($a(i,this.value)):i!==null&&Xs(this.value)===Xs(i)&&this.matchesComparison($a(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends iE{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new ri(t,i)}matches(t){return rE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rE(r){return r.op==="and"}function sE(r){return v1(r)&&rE(r)}function v1(r){for(const t of r.filters)if(t instanceof ri)return!1;return!0}function $d(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+Ja(r.value);if(sE(r))return r.filters.map((t=>$d(t))).join(",");{const t=r.filters.map((i=>$d(i))).join(",");return`${r.op}(${t})`}}function aE(r,t){return r instanceof Me?(function(a,l){return l instanceof Me&&a.op===l.op&&a.field.isEqual(l.field)&&bi(a.value,l.value)})(r,t):r instanceof ri?(function(a,l){return l instanceof ri&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((u,d,g)=>u&&aE(d,l.filters[g])),!0):!1})(r,t):void Tt()}function oE(r){return r instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ja(i.value)}`})(r):r instanceof ri?(function(i){return i.op.toString()+" {"+i.getFilters().map(oE).join(" ,")+"}"})(r):"Filter"}class E1 extends Me{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class T1 extends Me{constructor(t,i){super(t,"in",i),this.keys=lE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class A1 extends Me{constructor(t,i){super(t,"not-in",i),this.keys=lE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function lE(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((a=>dt.fromName(a.referenceValue)))}class S1 extends Me{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Rm(i)&&Ml(i.arrayValue,this.value)}}class b1 extends Me{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ml(this.value.arrayValue,i)}}class w1 extends Me{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!Ml(this.value.arrayValue,i)}}class R1 extends Me{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Rm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ml(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(t,i=null,a=[],l=[],u=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.ue=null}}function vv(r,t=null,i=[],a=[],l=null,u=null,d=null){return new I1(r,t,i,a,l,u,d)}function Im(r){const t=Rt(r);if(t.ue===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>$d(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),rh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ja(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ja(a))).join(",")),t.ue=i}return t.ue}function Cm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!_1(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!aE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!_v(r.startAt,t.startAt)&&_v(r.endAt,t.endAt)}function Jd(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t,i=null,a=[],l=[],u=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function C1(r,t,i,a,l,u,d,g){return new ao(r,t,i,a,l,u,d,g)}function Nm(r){return new ao(r)}function Ev(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function uE(r){return r.collectionGroup!==null}function Al(r){const t=Rt(r);if(t.ce===null){t.ce=[];const i=new Set;for(const u of t.explicitOrderBy)t.ce.push(u),i.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new We(Ze.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.ce.push(new Vl(u,a))})),i.has(Ze.keyField().canonicalString())||t.ce.push(new Vl(Ze.keyField(),a))}return t.ce}function Ai(r){const t=Rt(r);return t.le||(t.le=N1(t,Al(r))),t.le}function N1(r,t){if(r.limitType==="F")return vv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Vl(l.field,u)}));const i=r.endAt?new Gc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Gc(r.startAt.position,r.startAt.inclusive):null;return vv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Zd(r,t){const i=r.filters.concat([t]);return new ao(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Kc(r,t,i){return new ao(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function sh(r,t){return Cm(Ai(r),Ai(t))&&r.limitType===t.limitType}function cE(r){return`${Im(Ai(r))}|lt:${r.limitType}`}function ja(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>oE(l))).join(", ")}]`),rh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ja(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ja(l))).join(",")),`Target(${a})`})(Ai(r))}; limitType=${r.limitType})`}function ah(r,t){return t.isFoundDocument()&&(function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):dt.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,t)&&(function(a,l){for(const u of Al(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,p){const v=yv(d,g,p);return d.inclusive?v<=0:v<0})(a.startAt,Al(a),l)||a.endAt&&!(function(d,g,p){const v=yv(d,g,p);return d.inclusive?v>=0:v>0})(a.endAt,Al(a),l))})(r,t)}function D1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function hE(r){return(t,i)=>{let a=!1;for(const l of Al(r)){const u=O1(l,t,i);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function O1(r,t,i){const a=r.field.isKeyField()?dt.comparator(t.key,i.key):(function(u,d,g){const p=d.data.field(u),v=g.data.field(u);return p!==null&&v!==null?$a(p,v):Tt()})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Tt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Js(this.inner,((i,a)=>{for(const[l,u]of a)t(l,u)}))}isEmpty(){return tE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=new _e(dt.comparator);function ar(){return x1}const fE=new _e(dt.comparator);function yl(...r){let t=fE;for(const i of r)t=t.insert(i.key,i);return t}function dE(r){let t=fE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Bs(){return Sl()}function mE(){return Sl()}function Sl(){return new oo((r=>r.toString()),((r,t)=>r.isEqual(t)))}const M1=new _e(dt.comparator),V1=new We(dt.comparator);function zt(...r){let t=V1;for(const i of r)t=t.add(i);return t}const U1=new We(Xt);function k1(){return U1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(t)?"-0":t}}function gE(r){return{integerValue:""+r}}function L1(r,t){return d1(t)?gE(t):Dm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this._=void 0}}function P1(r,t,i){return r instanceof Ul?(function(l,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&bm(u)&&(u=wm(u)),u&&(d.fields.__previous_value__=u),{mapValue:d}})(i,t):r instanceof Za?yE(r,t):r instanceof kl?_E(r,t):(function(l,u){const d=pE(l,u),g=Tv(d)+Tv(l.Pe);return Xd(d)&&Xd(l.Pe)?gE(g):Dm(l.serializer,g)})(r,t)}function j1(r,t,i){return r instanceof Za?yE(r,t):r instanceof kl?_E(r,t):i}function pE(r,t){return r instanceof Qc?(function(a){return Xd(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(t)?t:{integerValue:0}:null}class Ul extends oh{}class Za extends oh{constructor(t){super(),this.elements=t}}function yE(r,t){const i=vE(t);for(const a of r.elements)i.some((l=>bi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class kl extends oh{constructor(t){super(),this.elements=t}}function _E(r,t){let i=vE(t);for(const a of r.elements)i=i.filter((l=>!bi(l,a)));return{arrayValue:{values:i}}}class Qc extends oh{constructor(t,i){super(),this.serializer=t,this.Pe=i}}function Tv(r){return Re(r.integerValue||r.doubleValue)}function vE(r){return Rm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(t,i){this.field=t,this.transform=i}}function z1(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Za&&l instanceof Za||a instanceof kl&&l instanceof kl?Xa(a.elements,l.elements,bi):a instanceof Qc&&l instanceof Qc?bi(a.Pe,l.Pe):a instanceof Ul&&l instanceof Ul})(r.transform,t.transform)}class B1{constructor(t,i){this.version=t,this.transformResults=i}}class ni{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ni}static exists(t){return new ni(void 0,t)}static updateTime(t){return new ni(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class lh{}function TE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new SE(r.key,ni.none()):new Gl(r.key,r.data,ni.none());{const i=r.data,a=Rn.empty();let l=new We(Ze.comparator);for(let u of t.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?a.delete(u):a.set(u,d),l=l.add(u)}return new hs(r.key,a,new kn(l.toArray()),ni.none())}}function q1(r,t,i){r instanceof Gl?(function(l,u,d){const g=l.value.clone(),p=Sv(l.fieldTransforms,u,d.transformResults);g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof hs?(function(l,u,d){if(!Mc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=Sv(l.fieldTransforms,u,d.transformResults),p=u.data;p.setAll(AE(l)),p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function bl(r,t,i,a){return r instanceof Gl?(function(u,d,g,p){if(!Mc(u.precondition,d))return g;const v=u.value.clone(),A=bv(u.fieldTransforms,p,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,t,i,a):r instanceof hs?(function(u,d,g,p){if(!Mc(u.precondition,d))return g;const v=bv(u.fieldTransforms,p,d),A=d.data;return A.setAll(AE(u)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(u,d,g){return Mc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function H1(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),u=pE(a.transform,l||null);u!=null&&(i===null&&(i=Rn.empty()),i.set(a.field,u))}return i||null}function Av(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Xa(a,l,((u,d)=>z1(u,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Gl extends lh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class hs extends lh{constructor(t,i,a,l,u=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function AE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Sv(r,t,i){const a=new Map;te(r.length===i.length);for(let l=0;l<i.length;l++){const u=r[l],d=u.transform,g=t.data.field(u.field);a.set(u.field,j1(d,g,i[l]))}return a}function bv(r,t,i){const a=new Map;for(const l of r){const u=l.transform,d=i.data.field(l.field);a.set(l.field,P1(u,d,t))}return a}class SE extends lh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F1 extends lh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&q1(u,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=bl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=bl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=mE();return this.mutations.forEach((l=>{const u=t.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=i.has(l.key)?null:g;const p=TE(d,g);p!==null&&a.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(wt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&Xa(this.mutations,t.mutations,((i,a)=>Av(i,a)))&&Xa(this.baseMutations,t.baseMutations,((i,a)=>Av(i,a)))}}class Om{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){te(t.mutations.length===a.length);let l=(function(){return M1})();const u=t.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,a[d].version);return new Om(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,Ft;function Y1(r){switch(r){default:return Tt();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function bE(r){if(r===void 0)return sr("GRPC error has no .code"),$.UNKNOWN;switch(r){case xe.OK:return $.OK;case xe.CANCELLED:return $.CANCELLED;case xe.UNKNOWN:return $.UNKNOWN;case xe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case xe.INTERNAL:return $.INTERNAL;case xe.UNAVAILABLE:return $.UNAVAILABLE;case xe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case xe.NOT_FOUND:return $.NOT_FOUND;case xe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case xe.ABORTED:return $.ABORTED;case xe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case xe.DATA_LOSS:return $.DATA_LOSS;default:return Tt()}}(Ft=xe||(xe={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=new qs([4294967295,4294967295],0);function wv(r){const t=X1().encode(r),i=new K0;return i.update(t),new Uint8Array(i.digest())}function Rv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new qs([i,a],0),new qs([l,u],0)]}class xm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new _l(`Invalid padding: ${i}`);if(a<0)throw new _l(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new _l(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=qs.fromNumber(this.Ie)}Ee(t,i,a){let l=t.add(i.multiply(qs.fromNumber(a)));return l.compare($1)===1&&(l=new qs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const i=wv(t),[a,l]=Rv(i);for(let u=0;u<this.hashCount;u++){const d=this.Ee(a,l,u);if(!this.de(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new xm(u,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.Ie===0)return;const i=wv(t),[a,l]=Rv(i);for(let u=0;u<this.hashCount;u++){const d=this.Ee(a,l,u);this.Ae(d)}}Ae(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,i,a,l,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Kl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new uh(wt.min(),l,new _e(Xt),ar(),zt())}}class Kl{constructor(t,i,a,l,u){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Kl(a,i,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,i,a,l){this.Re=t,this.removedTargetIds=i,this.key=a,this.Ve=l}}class wE{constructor(t,i){this.targetId=t,this.me=i}}class RE{constructor(t,i,a=tn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Iv{constructor(){this.fe=0,this.ge=Nv(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=zt(),i=zt(),a=zt();return this.ge.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Tt()}})),new Kl(this.pe,this.ye,t,i,a)}Ce(){this.we=!1,this.ge=Nv()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class J1{constructor(t){this.Le=t,this.Be=new Map,this.ke=ar(),this.qe=Cv(),this.Qe=new _e(Xt)}Ke(t){for(const i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(const i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,(i=>{const a=this.Ge(i);switch(t.state){case 0:this.ze(i)&&a.De(t.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(t.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(a.Ne(),a.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),a.De(t.resumeToken));break;default:Tt()}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach(((a,l)=>{this.ze(l)&&i(l)}))}He(t){const i=t.targetId,a=t.me.count,l=this.Je(i);if(l){const u=l.target;if(Jd(u))if(a===0){const d=new dt(u.path);this.Ue(i,d,ln.newNoDocument(d,wt.min()))}else te(a===1);else{const d=this.Ye(i);if(d!==a){const g=this.Ze(t),p=g?this.Xe(g,t,d):1;if(p!==0){this.je(i);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,v)}}}}}Ze(t){const i=t.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=i;let d,g;try{d=Ys(a).toUint8Array()}catch(p){if(p instanceof eE)return Ya("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new xm(d,l,u)}catch(p){return Ya(p instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ie===0?null:g}Xe(t,i,a){return i.me.count===a-this.nt(t,i.targetId)?0:2}nt(t,i){const a=this.Le.getRemoteKeysForTarget(i);let l=0;return a.forEach((u=>{const d=this.Le.tt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.Ue(i,u,null),l++)})),l}rt(t){const i=new Map;this.Be.forEach(((u,d)=>{const g=this.Je(d);if(g){if(u.current&&Jd(g.target)){const p=new dt(g.target.path);this.ke.get(p)!==null||this.it(d,p)||this.Ue(d,p,ln.newNoDocument(p,t))}u.be&&(i.set(d,u.ve()),u.Ce())}}));let a=zt();this.qe.forEach(((u,d)=>{let g=!0;d.forEachWhile((p=>{const v=this.Je(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(u))})),this.ke.forEach(((u,d)=>d.setReadTime(t)));const l=new uh(t,i,this.Qe,this.ke,a);return this.ke=ar(),this.qe=Cv(),this.Qe=new _e(Xt),l}$e(t,i){if(!this.ze(t))return;const a=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,a),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,a){if(!this.ze(t))return;const l=this.Ge(t);this.it(t,i)?l.Fe(i,1):l.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),a&&(this.ke=this.ke.insert(i,a))}removeTarget(t){this.Be.delete(t)}Ye(t){const i=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new Iv,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new We(Xt),this.qe=this.qe.insert(t,i)),i}ze(t){const i=this.Je(t)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",t),i}Je(t){const i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Iv),this.Le.getRemoteKeysForTarget(t).forEach((i=>{this.Ue(t,i,null)}))}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}}function Cv(){return new _e(dt.comparator)}function Nv(){return new _e(dt.comparator)}const Z1={asc:"ASCENDING",desc:"DESCENDING"},W1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tI={and:"AND",or:"OR"};class eI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Wd(r,t){return r.useProto3Json||rh(t)?t:{value:t}}function Yc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function IE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function nI(r,t){return Yc(r,t.toTimestamp())}function Si(r){return te(!!r),wt.fromTimestamp((function(i){const a=us(i);return new Le(a.seconds,a.nanos)})(r))}function Mm(r,t){return tm(r,t).canonicalString()}function tm(r,t){const i=(function(l){return new he(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function CE(r){const t=he.fromString(r);return te(ME(t)),t}function em(r,t){return Mm(r.databaseId,t.path)}function Vd(r,t){const i=CE(t);if(i.get(1)!==r.databaseId.projectId)throw new at($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new at($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(DE(i))}function NE(r,t){return Mm(r.databaseId,t)}function iI(r){const t=CE(r);return t.length===4?he.emptyPath():DE(t)}function nm(r){return new he(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function DE(r){return te(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Dv(r,t,i){return{name:em(r,t),fields:i.value.mapValue.fields}}function rI(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Tt()})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(v,A){return v.useProto3Json?(te(A===void 0||typeof A=="string"),tn.fromBase64String(A||"")):(te(A===void 0||A instanceof Buffer||A instanceof Uint8Array),tn.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(v){const A=v.code===void 0?$.UNKNOWN:bE(v.code);return new at(A,v.message||"")})(d);i=new RE(a,l,u,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Vd(r,a.document.name),u=Si(a.document.updateTime),d=a.document.createTime?Si(a.document.createTime):wt.min(),g=new Rn({mapValue:{fields:a.document.fields}}),p=ln.newFoundDocument(l,u,d,g),v=a.targetIds||[],A=a.removedTargetIds||[];i=new Vc(v,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Vd(r,a.document),u=a.readTime?Si(a.readTime):wt.min(),d=ln.newNoDocument(l,u),g=a.removedTargetIds||[];i=new Vc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Vd(r,a.document),u=a.removedTargetIds||[];i=new Vc([],u,l,null)}else{if(!("filter"in t))return Tt();{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,d=new Q1(l,u),g=a.targetId;i=new wE(g,d)}}return i}function sI(r,t){let i;if(t instanceof Gl)i={update:Dv(r,t.key,t.value)};else if(t instanceof SE)i={delete:em(r,t.key)};else if(t instanceof hs)i={update:Dv(r,t.key,t.data),updateMask:mI(t.fieldMask)};else{if(!(t instanceof F1))return Tt();i={verify:em(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(u,d){const g=d.transform;if(g instanceof Ul)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Za)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Qc)return{fieldPath:d.field.canonicalString(),increment:g.Pe};throw Tt()})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:nI(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt()})(r,t.precondition)),i}function aI(r,t){return r&&r.length>0?(te(t!==void 0),r.map((i=>(function(l,u){let d=l.updateTime?Si(l.updateTime):Si(u);return d.isEqual(wt.min())&&(d=Si(u)),new B1(d,l.transformResults||[])})(i,t)))):[]}function oI(r,t){return{documents:[NE(r,t.path)]}}function lI(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=NE(r,l);const u=(function(v){if(v.length!==0)return xE(ri.create(v,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const d=(function(v){if(v.length!==0)return v.map((A=>(function(x){return{field:za(x.field),direction:hI(x.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Wd(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{_t:i,parent:l}}function uI(r){let t=iI(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){te(a===1);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let u=[];i.where&&(u=(function(S){const x=OE(S);return x instanceof ri&&sE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((x=>(function(X){return new Vl(Ba(X.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(x)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let x;return x=typeof S=="object"?S.value:S,rh(x)?null:x})(i.limit));let p=null;i.startAt&&(p=(function(S){const x=!!S.before,B=S.values||[];return new Gc(B,x)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const x=!S.before,B=S.values||[];return new Gc(B,x)})(i.endAt)),C1(t,l,d,u,g,"F",p,v)}function cI(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt()}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function OE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ba(i.unaryFilter.field);return Me.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ba(i.unaryFilter.field);return Me.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ba(i.unaryFilter.field);return Me.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ba(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Tt()}})(r):r.fieldFilter!==void 0?(function(i){return Me.create(Ba(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tt()}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ri.create(i.compositeFilter.filters.map((a=>OE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Tt()}})(i.compositeFilter.op))})(r):Tt()}function hI(r){return Z1[r]}function fI(r){return W1[r]}function dI(r){return tI[r]}function za(r){return{fieldPath:r.canonicalString()}}function Ba(r){return Ze.fromServerFormat(r.fieldPath)}function xE(r){return r instanceof Me?(function(i){if(i.op==="=="){if(pv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NAN"}};if(gv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(pv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NAN"}};if(gv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(i.field),op:fI(i.op),value:i.value}}})(r):r instanceof ri?(function(i){const a=i.getFilters().map((l=>xE(l)));return a.length===1?a[0]:{compositeFilter:{op:dI(i.op),filters:a}}})(r):Tt()}function mI(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function ME(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t,i,a,l,u=wt.min(),d=wt.min(),g=tn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new is(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t){this.ct=t}}function pI(r){const t=uI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Kc(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.un=new _I}addToCollectionParentIndex(t,i){return this.un.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.un.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(ls.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(ls.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class _I{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new We(he.comparator),u=!l.has(a);return this.index[i]=l.add(a),u}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new We(he.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Wa(0)}static kn(){return new Wa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.changes=new oo((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&bl(a.mutation,l,kn.empty(),Le.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const l=Bs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((u=>{let d=yl();return u.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Bs();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const l=[];return a.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let u=ar();const d=Sl(),g=(function(){return Sl()})();return i.forEach(((p,v)=>{const A=a.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof hs)?u=u.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),bl(A.mutation,v,A.mutation.getFieldMask(),Le.now())):d.set(v.key,kn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>{var S;return g.set(v,new EI(A,(S=d.get(v))!==null&&S!==void 0?S:null))})),g)))}recalculateAndSaveOverlays(t,i){const a=Sl();let l=new _e(((d,g)=>d-g)),u=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((p=>{const v=i.get(p);if(v===null)return;let A=a.get(p)||kn.empty();A=g.applyToLocalView(v,A),a.set(p,A);const S=(l.get(g.batchId)||zt()).add(p);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),v=p.key,A=p.value,S=mE();A.forEach((x=>{if(!u.has(x)){const B=TE(i.get(x),a.get(x));B!==null&&S.set(x,B),u=u.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,S))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):uE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-u.size):Z.resolve(Bs());let g=-1,p=u;return d.next((v=>Z.forEach(v,((A,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),u.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(t,A).next((x=>{p=p.insert(A,x)}))))).next((()=>this.populateOverlays(t,v,u))).next((()=>this.computeViews(t,p,v,zt()))).next((A=>({batchId:g,changes:dE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=yl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const u=i.collectionGroup;let d=yl();return this.indexManager.getCollectionParents(t,u).next((g=>Z.forEach(g,(p=>{const v=(function(S,x){return new ao(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,v,a,l).next((A=>{A.forEach(((S,x)=>{d=d.insert(S,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,u,l)))).next((d=>{u.forEach(((p,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,ln.newInvalidDocument(A)))}));let g=yl();return d.forEach(((p,v)=>{const A=u.get(p);A!==void 0&&bl(A.mutation,v,kn.empty(),Le.now()),ah(i,v)&&(g=g.insert(p,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,i){return Z.resolve(this.hr.get(i))}saveBundleMetadata(t,i){return this.hr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Si(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.Pr.get(i))}saveNamedQuery(t,i){return this.Pr.set(i.name,(function(l){return{name:l.name,query:pI(l.bundledQuery),readTime:Si(l.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.overlays=new _e(dt.comparator),this.Ir=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Bs();return Z.forEach(i,(l=>this.getOverlay(t,l).next((u=>{u!==null&&a.set(l,u)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,u)=>{this.ht(t,i,u)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Ir.get(a);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Ir.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const l=Bs(),u=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,v=p.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===u&&p.largestBatchId>a&&l.set(p.getKey(),p)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let u=new _e(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=u.get(v.largestBatchId);A===null&&(A=Bs(),u=u.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=Bs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((v,A)=>g.set(v,A))),!(g.size()>=l)););return Z.resolve(g)}ht(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Ir.get(l.largestBatchId).delete(a.key);this.Ir.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new K1(i,a));let u=this.Ir.get(i);u===void 0&&(u=zt(),this.Ir.set(i,u)),this.Ir.set(i,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(){this.Tr=new We(Fe.Er),this.dr=new We(Fe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,i){const a=new Fe(t,i);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Vr(new Fe(t,i))}mr(t,i){t.forEach((a=>this.removeReference(a,i)))}gr(t){const i=new dt(new he([])),a=new Fe(i,t),l=new Fe(i,t+1),u=[];return this.dr.forEachInRange([a,l],(d=>{this.Vr(d),u.push(d.key)})),u}pr(){this.Tr.forEach((t=>this.Vr(t)))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const i=new dt(new he([])),a=new Fe(i,t),l=new Fe(i,t+1);let u=zt();return this.dr.forEachInRange([a,l],(d=>{u=u.add(d.key)})),u}containsKey(t){const i=new Fe(t,0),a=this.Tr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Fe{constructor(t,i){this.key=t,this.wr=i}static Er(t,i){return dt.comparator(t.key,i.key)||Xt(t.wr,i.wr)}static Ar(t,i){return Xt(t.wr,i.wr)||dt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new We(Fe.Er)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new G1(u,i,a,l);this.mutationQueue.push(d);for(const g of l)this.br=this.br.add(new Fe(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.vr(a),u=l<0?0:l;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Fe(i,0),l=new Fe(i,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([a,l],(d=>{const g=this.Dr(d.wr);u.push(g)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new We(Xt);return i.forEach((l=>{const u=new Fe(l,0),d=new Fe(l,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,d],(g=>{a=a.add(g.wr)}))})),Z.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let u=a;dt.isDocumentKey(u)||(u=u.child(""));const d=new Fe(new dt(u),0);let g=new We(Xt);return this.br.forEachWhile((p=>{const v=p.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(g=g.add(p.wr)),!0)}),d),Z.resolve(this.Cr(g))}Cr(t){const i=[];return t.forEach((a=>{const l=this.Dr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){te(this.Fr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.br;return Z.forEach(i.mutations,(l=>{const u=new Fe(l.key,i.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.br=a}))}On(t){}containsKey(t,i){const a=new Fe(i,0),l=this.br.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}Fr(t,i){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const i=this.vr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t){this.Mr=t,this.docs=(function(){return new _e(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),u=l?l.size:0,d=this.Mr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():ln.newInvalidDocument(i))}getEntries(t,i){let a=ar();return i.forEach((l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():ln.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let u=ar();const d=i.path,g=new dt(d.child("")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:v,value:{document:A}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||u1(l1(A),a)<=0||(l.has(A.key)||ah(i,A))&&(u=u.insert(A.key,A.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,i,a,l){Tt()}Or(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new II(this)}getSize(t){return Z.resolve(this.size)}}class II extends vI{constructor(t){super(),this.cr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.cr.addEntry(t,l)):this.cr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.cr.getEntry(t,i)}getAllFromCache(t,i){return this.cr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t){this.persistence=t,this.Nr=new oo((i=>Im(i)),Cm),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Vm,this.targetCount=0,this.kr=Wa.Bn()}forEachTarget(t,i){return this.Nr.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Lr&&(this.Lr=i),Z.resolve()}Kn(t){this.Nr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.kr=new Wa(i),this.highestTargetId=i),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,i){return this.Kn(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Kn(i),Z.resolve()}removeTargetData(t,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let l=0;const u=[];return this.Nr.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Nr.delete(d),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Z.waitFor(u).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.Nr.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this.Br.Rr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this.Br.mr(i,a);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.Br.gr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this.Br.yr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this.Br.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t,i){this.qr={},this.overlays={},this.Qr=new Sm(0),this.Kr=!1,this.Kr=!0,this.$r=new bI,this.referenceDelegate=t(this),this.Ur=new CI(this),this.indexManager=new yI,this.remoteDocumentCache=(function(l){return new RI(l)})((a=>this.referenceDelegate.Wr(a))),this.serializer=new gI(i),this.Gr=new AI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new SI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.qr[t.toKey()];return a||(a=new wI(i,this.referenceDelegate),this.qr[t.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,i,a){lt("MemoryPersistence","Starting transaction:",t);const l=new DI(this.Qr.next());return this.referenceDelegate.zr(),a(l).next((u=>this.referenceDelegate.jr(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Hr(t,i){return Z.or(Object.values(this.qr).map((a=>()=>a.containsKey(t,i))))}}class DI extends h1{constructor(t){super(),this.currentSequenceNumber=t}}class Um{constructor(t){this.persistence=t,this.Jr=new Vm,this.Yr=null}static Zr(t){return new Um(t)}get Xr(){if(this.Yr)return this.Yr;throw Tt()}addReference(t,i,a){return this.Jr.addReference(a,i),this.Xr.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Jr.removeReference(a,i),this.Xr.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.Xr.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Jr.gr(i.targetId).forEach((l=>this.Xr.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((u=>this.Xr.add(u.toString())))})).next((()=>a.removeTargetData(t,i)))}zr(){this.Yr=new Set}jr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,(a=>{const l=dt.fromPath(a);return this.ei(t,l).next((u=>{u||i.removeEntry(l,wt.min())}))})).next((()=>(this.Yr=null,i.apply(t))))}updateLimboDocument(t,i){return this.ei(t,i).next((a=>{a?this.Xr.delete(i.toString()):this.Xr.add(i.toString())}))}Wr(t){return 0}ei(t,i){return Z.or([()=>Z.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Hr(t,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.$i=a,this.Ui=l}static Wi(t,i){let a=zt(),l=zt();for(const u of i.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new km(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return _S()?8:f1(un())>0?6:4})()}initialize(t,i){this.Ji=t,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(t,i,a,l){const u={result:null};return this.Yi(t,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.Zi(t,i,l,a).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new OI;return this.Xi(t,i,d).next((g=>{if(u.result=g,this.zi)return this.es(t,i,d,g.size)}))})).next((()=>u.result))}es(t,i,a,l){return a.documentReadCount<this.ji?(dl()<=Ht.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(dl()<=Ht.DEBUG&&lt("QueryEngine","Query:",ja(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.Hi*l?(dl()<=Ht.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(i))):Z.resolve())}Yi(t,i){if(Ev(i))return Z.resolve(null);let a=Ai(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Kc(i,null,"F"),a=Ai(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((u=>{const d=zt(...u);return this.Ji.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((p=>{const v=this.ts(i,g);return this.ns(i,v,d,p.readTime)?this.Yi(t,Kc(i,null,"F")):this.rs(t,v,i,p)}))))})))))}Zi(t,i,a,l){return Ev(i)||l.isEqual(wt.min())?Z.resolve(null):this.Ji.getDocuments(t,a).next((u=>{const d=this.ts(i,u);return this.ns(i,d,a,l)?Z.resolve(null):(dl()<=Ht.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ja(i)),this.rs(t,d,i,o1(l,-1)).next((g=>g)))}))}ts(t,i){let a=new We(hE(t));return i.forEach(((l,u)=>{ah(t,u)&&(a=a.add(u))})),a}ns(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Xi(t,i,a){return dl()<=Ht.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",ja(i)),this.Ji.getDocumentsMatchingQuery(t,i,ls.min(),a)}rs(t,i,a,l){return this.Ji.getDocumentsMatchingQuery(t,a,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(t,i,a,l){this.persistence=t,this.ss=i,this.serializer=l,this.os=new _e(Xt),this._s=new oo((u=>Im(u)),Cm),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(a)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new TI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.os)))}}function VI(r,t,i,a){return new MI(r,t,i,a)}async function VE(r,t){const i=Rt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((u=>(l=u,i.ls(t),i.mutationQueue.getAllMutationBatches(a)))).next((u=>{const d=[],g=[];let p=zt();for(const v of l){d.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}for(const v of u){g.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}return i.localDocuments.getDocuments(a,p).next((v=>({hs:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function UI(r,t){const i=Rt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),u=i.cs.newChangeBuffer({trackRemovals:!0});return(function(g,p,v,A){const S=v.batch,x=S.keys();let B=Z.resolve();return x.forEach((X=>{B=B.next((()=>A.getEntry(p,X))).next((tt=>{const J=v.docVersions.get(X);te(J!==null),tt.version.compareTo(J)<0&&(S.applyToRemoteDocument(tt,v),tt.isValidDocument()&&(tt.setReadTime(v.commitVersion),A.addEntry(tt)))}))})),B.next((()=>g.mutationQueue.removeMutationBatch(p,S)))})(i,a,t,u).next((()=>u.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let p=zt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(p=p.add(g.batch.mutations[v].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function UE(r){const t=Rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Ur.getLastRemoteSnapshotVersion(i)))}function kI(r,t){const i=Rt(r),a=t.snapshotVersion;let l=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.cs.newChangeBuffer({trackRemovals:!0});l=i.os;const g=[];t.targetChanges.forEach(((A,S)=>{const x=l.get(S);if(!x)return;g.push(i.Ur.removeMatchingKeys(u,A.removedDocuments,S).next((()=>i.Ur.addMatchingKeys(u,A.addedDocuments,S))));let B=x.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?B=B.withResumeToken(tn.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):A.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(A.resumeToken,a)),l=l.insert(S,B),(function(tt,J,ot){return tt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=3e8?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(x,B,A)&&g.push(i.Ur.updateTargetData(u,B))}));let p=ar(),v=zt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(u,A))})),g.push(LI(u,d,t.documentUpdates).next((A=>{p=A.Ps,v=A.Is}))),!a.isEqual(wt.min())){const A=i.Ur.getLastRemoteSnapshotVersion(u).next((S=>i.Ur.setTargetsMetadata(u,u.currentSequenceNumber,a)));g.push(A)}return Z.waitFor(g).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,p,v))).next((()=>p))})).then((u=>(i.os=l,u)))}function LI(r,t,i){let a=zt(),l=zt();return i.forEach((u=>a=a.add(u))),t.getEntries(r,a).next((u=>{let d=ar();return i.forEach(((g,p)=>{const v=u.get(g);p.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(wt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):lt("LocalStore","Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",p.version)})),{Ps:d,Is:l}}))}function PI(r,t){const i=Rt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function jI(r,t){const i=Rt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Ur.getTargetData(a,t).next((u=>u?(l=u,Z.resolve(l)):i.Ur.allocateTargetId(a).next((d=>(l=new is(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Ur.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.os.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.os=i.os.insert(a.targetId,a),i._s.set(t,a.targetId)),a}))}async function im(r,t,i){const a=Rt(r),l=a.os.get(t),u=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",u,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Fl(d))throw d;lt("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}a.os=a.os.remove(t),a._s.delete(l.target)}function Ov(r,t,i){const a=Rt(r);let l=wt.min(),u=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,v,A){const S=Rt(p),x=S._s.get(A);return x!==void 0?Z.resolve(S.os.get(x)):S.Ur.getTargetData(v,A)})(a,d,Ai(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(d,g.targetId).next((p=>{u=p}))})).next((()=>a.ss.getDocumentsMatchingQuery(d,t,i?l:wt.min(),i?u:zt()))).next((g=>(zI(a,D1(t),g),{documents:g,Ts:u})))))}function zI(r,t,i){let a=r.us.get(t)||wt.min();i.forEach(((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.us.set(t,a)}class xv{constructor(){this.activeTargetIds=k1()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class BI{constructor(){this.so=new xv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,i,a){this.oo[t]=i}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new xv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc=null;function Ud(){return Rc===null?Rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rc++,"0x"+Rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class GI extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const a=i.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+i.host,this.vo=`projects/${l}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${l}`:`project_id=${l}&database_id=${u}`}get Fo(){return!1}Mo(i,a,l,u,d){const g=Ud(),p=this.xo(i,a.toUriEncodedString());lt("RestConnection",`Sending RPC '${i}' ${g}:`,p,l);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,u,d),this.No(i,p,v,l).then((A=>(lt("RestConnection",`Received RPC '${i}' ${g}: `,A),A)),(A=>{throw Ya("RestConnection",`RPC '${i}' ${g} failed with error: `,A,"url: ",p,"request:",l),A}))}Lo(i,a,l,u,d,g){return this.Mo(i,a,l,u,d)}Oo(i,a,l){i["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+so})(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((u,d)=>i[d]=u)),l&&l.headers.forEach(((u,d)=>i[d]=u))}xo(i,a){const l=HI[i];return`${this.Do}/v1/${a}:${l}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,i,a,l){const u=Ud();return new Promise(((d,g)=>{const p=new Q0;p.setWithCredentials(!0),p.listenOnce(Y0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Oc.NO_ERROR:const A=p.getResponseJson();lt(an,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(A)),d(A);break;case Oc.TIMEOUT:lt(an,`RPC '${t}' ${u} timed out`),g(new at($.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const S=p.getStatus();if(lt(an,`RPC '${t}' ${u} failed with status:`,S,"response text:",p.getResponseText()),S>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const B=x==null?void 0:x.error;if(B&&B.status&&B.message){const X=(function(J){const ot=J.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ot)>=0?ot:$.UNKNOWN})(B.status);g(new at(X,B.message))}else g(new at($.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new at($.UNAVAILABLE,"Connection failed."));break;default:Tt()}}finally{lt(an,`RPC '${t}' ${u} completed.`)}}));const v=JSON.stringify(l);lt(an,`RPC '${t}' ${u} sending request:`,l),p.send(i,"POST",v,a,15)}))}Bo(t,i,a){const l=Ud(),u=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=J0(),g=$0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const A=u.join("");lt(an,`Creating RPC '${t}' stream ${l}: ${A}`,p);const S=d.createWebChannel(A,p);let x=!1,B=!1;const X=new FI({Io:J=>{B?lt(an,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(x||(lt(an,`Opening RPC '${t}' stream ${l} transport.`),S.open(),x=!0),lt(an,`RPC '${t}' stream ${l} sending:`,J),S.send(J))},To:()=>S.close()}),tt=(J,ot,_t)=>{J.listen(ot,(it=>{try{_t(it)}catch(Lt){setTimeout((()=>{throw Lt}),0)}}))};return tt(S,pl.EventType.OPEN,(()=>{B||(lt(an,`RPC '${t}' stream ${l} transport opened.`),X.yo())})),tt(S,pl.EventType.CLOSE,(()=>{B||(B=!0,lt(an,`RPC '${t}' stream ${l} transport closed`),X.So())})),tt(S,pl.EventType.ERROR,(J=>{B||(B=!0,Ya(an,`RPC '${t}' stream ${l} transport errored:`,J),X.So(new at($.UNAVAILABLE,"The operation could not be completed")))})),tt(S,pl.EventType.MESSAGE,(J=>{var ot;if(!B){const _t=J.data[0];te(!!_t);const it=_t,Lt=it.error||((ot=it[0])===null||ot===void 0?void 0:ot.error);if(Lt){lt(an,`RPC '${t}' stream ${l} received error:`,Lt);const re=Lt.status;let At=(function(I){const O=xe[I];if(O!==void 0)return bE(O)})(re),C=Lt.message;At===void 0&&(At=$.INTERNAL,C="Unknown error status: "+re+" with message "+Lt.message),B=!0,X.So(new at(At,C)),S.close()}else lt(an,`RPC '${t}' stream ${l} received:`,_t),X.bo(_t)}})),tt(g,X0.STAT_EVENT,(J=>{J.stat===Qd.PROXY?lt(an,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===Qd.NOPROXY&&lt(an,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{X.wo()}),0),X}}function kd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(r){return new eI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(t,i,a=1e3,l=1.5,u=6e4){this.ui=t,this.timerId=i,this.ko=a,this.qo=l,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const i=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),l=Math.max(0,i-a);l>0&&lt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,l,(()=>(this.Uo=Date.now(),t()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t,i,a,l,u,d,g,p){this.ui=t,this.Ho=a,this.Jo=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new kE(t,i)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,i){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(sr(i.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(i)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.Yo===i&&this.P_(a,l)}),(a=>{t((()=>{const l=new at($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(l)}))}))}P_(t,i){const a=this.h_(this.Yo);this.stream=this.T_(t,i),this.stream.Eo((()=>{a((()=>this.listener.Eo()))})),this.stream.Ro((()=>{a((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((l=>{a((()=>this.I_(l)))})),this.stream.onMessage((l=>{a((()=>++this.e_==1?this.E_(l):this.onNext(l)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(t){return lt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return i=>{this.ui.enqueueAndForget((()=>this.Yo===t?i():(lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class KI extends LE{constructor(t,i,a,l,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=u}T_(t,i){return this.connection.Bo("Listen",t,i)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const i=rI(this.serializer,t),a=(function(u){if(!("targetChange"in u))return wt.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?wt.min():d.readTime?Si(d.readTime):wt.min()})(t);return this.listener.d_(i,a)}A_(t){const i={};i.database=nm(this.serializer),i.addTarget=(function(u,d){let g;const p=d.target;if(g=Jd(p)?{documents:oI(u,p)}:{query:lI(u,p)._t},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=IE(u,d.resumeToken);const v=Wd(u,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(wt.min())>0){g.readTime=Yc(u,d.snapshotVersion.toTimestamp());const v=Wd(u,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,t);const a=cI(this.serializer,t);a&&(i.labels=a),this.a_(i)}R_(t){const i={};i.database=nm(this.serializer),i.removeTarget=t,this.a_(i)}}class QI extends LE{constructor(t,i,a,l,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,i){return this.connection.Bo("Write",t,i)}E_(t){return te(!!t.streamToken),this.lastStreamToken=t.streamToken,te(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){te(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const i=aI(t.writeResults,t.commitTime),a=Si(t.commitTime);return this.listener.g_(a,i)}p_(){const t={};t.database=nm(this.serializer),this.a_(t)}m_(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>sI(this.serializer,a)))};this.a_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI extends class{}{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.y_=!1}w_(){if(this.y_)throw new at($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,i,a,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Mo(t,tm(i,a),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new at($.UNKNOWN,u.toString())}))}Lo(t,i,a,l,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Lo(t,tm(i,a),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at($.UNKNOWN,d.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class XI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(sr(i),this.D_=!1):lt("OnlineStateTracker",i)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(t,i,a,l,u){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o((d=>{a.enqueueAndForget((async()=>{Zs(this)&&(lt("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const v=Rt(p);v.L_.add(4),await Ql(v),v.q_.set("Unknown"),v.L_.delete(4),await hh(v)})(this))}))})),this.q_=new XI(a,l)}}async function hh(r){if(Zs(r))for(const t of r.B_)await t(!0)}async function Ql(r){for(const t of r.B_)await t(!1)}function PE(r,t){const i=Rt(r);i.N_.has(t.targetId)||(i.N_.set(t.targetId,t),zm(i)?jm(i):lo(i).r_()&&Pm(i,t))}function Lm(r,t){const i=Rt(r),a=lo(i);i.N_.delete(t),a.r_()&&jE(i,t),i.N_.size===0&&(a.r_()?a.o_():Zs(i)&&i.q_.set("Unknown"))}function Pm(r,t){if(r.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}lo(r).A_(t)}function jE(r,t){r.Q_.xe(t),lo(r).R_(t)}function jm(r){r.Q_=new J1({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>r.N_.get(t)||null,tt:()=>r.datastore.serializer.databaseId}),lo(r).start(),r.q_.v_()}function zm(r){return Zs(r)&&!lo(r).n_()&&r.N_.size>0}function Zs(r){return Rt(r).L_.size===0}function zE(r){r.Q_=void 0}async function JI(r){r.q_.set("Online")}async function ZI(r){r.N_.forEach(((t,i)=>{Pm(r,t)}))}async function WI(r,t){zE(r),zm(r)?(r.q_.M_(t),jm(r)):r.q_.set("Unknown")}async function tC(r,t,i){if(r.q_.set("Online"),t instanceof RE&&t.state===2&&t.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.N_.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.N_.delete(g),l.Q_.removeTarget(g))})(r,t)}catch(a){lt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Xc(r,a)}else if(t instanceof Vc?r.Q_.Ke(t):t instanceof wE?r.Q_.He(t):r.Q_.We(t),!i.isEqual(wt.min()))try{const a=await UE(r.localStore);i.compareTo(a)>=0&&await(function(u,d){const g=u.Q_.rt(d);return g.targetChanges.forEach(((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const A=u.N_.get(v);A&&u.N_.set(v,A.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,v)=>{const A=u.N_.get(p);if(!A)return;u.N_.set(p,A.withResumeToken(tn.EMPTY_BYTE_STRING,A.snapshotVersion)),jE(u,p);const S=new is(A.target,p,v,A.sequenceNumber);Pm(u,S)})),u.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){lt("RemoteStore","Failed to raise snapshot:",a),await Xc(r,a)}}async function Xc(r,t,i){if(!Fl(t))throw t;r.L_.add(1),await Ql(r),r.q_.set("Offline"),i||(i=()=>UE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt("RemoteStore","Retrying IndexedDB access"),await i(),r.L_.delete(1),await hh(r)}))}function BE(r,t){return t().catch((i=>Xc(r,i,t)))}async function fh(r){const t=Rt(r),i=cs(t);let a=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;eC(t);)try{const l=await PI(t.localStore,a);if(l===null){t.O_.length===0&&i.o_();break}a=l.batchId,nC(t,l)}catch(l){await Xc(t,l)}qE(t)&&HE(t)}function eC(r){return Zs(r)&&r.O_.length<10}function nC(r,t){r.O_.push(t);const i=cs(r);i.r_()&&i.V_&&i.m_(t.mutations)}function qE(r){return Zs(r)&&!cs(r).n_()&&r.O_.length>0}function HE(r){cs(r).start()}async function iC(r){cs(r).p_()}async function rC(r){const t=cs(r);for(const i of r.O_)t.m_(i.mutations)}async function sC(r,t,i){const a=r.O_.shift(),l=Om.from(a,t,i);await BE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await fh(r)}async function aC(r,t){t&&cs(r).V_&&await(async function(a,l){if((function(d){return Y1(d)&&d!==$.ABORTED})(l.code)){const u=a.O_.shift();cs(a).s_(),await BE(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l))),await fh(a)}})(r,t),qE(r)&&HE(r)}async function Vv(r,t){const i=Rt(r);i.asyncQueue.verifyOperationInProgress(),lt("RemoteStore","RemoteStore received new credentials");const a=Zs(i);i.L_.add(3),await Ql(i),a&&i.q_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.L_.delete(3),await hh(i)}async function oC(r,t){const i=Rt(r);t?(i.L_.delete(2),await hh(i)):t||(i.L_.add(2),await Ql(i),i.q_.set("Unknown"))}function lo(r){return r.K_||(r.K_=(function(i,a,l){const u=Rt(i);return u.w_(),new KI(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Eo:JI.bind(null,r),Ro:ZI.bind(null,r),mo:WI.bind(null,r),d_:tC.bind(null,r)}),r.B_.push((async t=>{t?(r.K_.s_(),zm(r)?jm(r):r.q_.set("Unknown")):(await r.K_.stop(),zE(r))}))),r.K_}function cs(r){return r.U_||(r.U_=(function(i,a,l){const u=Rt(i);return u.w_(),new QI(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:iC.bind(null,r),mo:aC.bind(null,r),f_:rC.bind(null,r),g_:sC.bind(null,r)}),r.B_.push((async t=>{t?(r.U_.s_(),await fh(r)):(await r.U_.stop(),r.O_.length>0&&(lt("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,i,a,l,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,u){const d=Date.now()+a,g=new Bm(t,i,d,l,u);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qm(r,t){if(sr("AsyncQueue",`${t}: ${r}`),Fl(r))return new at($.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=yl(),this.sortedSet=new _e(this.comparator)}static emptySet(t){return new Ka(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ka;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(){this.W_=new _e(dt.comparator)}track(t){const i=t.doc.key,a=this.W_.get(i);a?t.type!==0&&a.type===3?this.W_=this.W_.insert(i,t):t.type===3&&a.type!==1?this.W_=this.W_.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.W_=this.W_.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.W_=this.W_.remove(i):t.type===1&&a.type===2?this.W_=this.W_.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):Tt():this.W_=this.W_.insert(i,t)}G_(){const t=[];return this.W_.inorderTraversal(((i,a)=>{t.push(a)})),t}}class to{constructor(t,i,a,l,u,d,g,p,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,l,u){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new to(t,i,Ka.emptySet(i),d,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((t=>t.J_()))}}class uC{constructor(){this.queries=kv(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(i,a){const l=Rt(i),u=l.queries;l.queries=kv(),u.forEach(((d,g)=>{for(const p of g.j_)p.onError(a)}))})(this,new at($.ABORTED,"Firestore shutting down"))}}function kv(){return new oo((r=>cE(r)),sh)}async function cC(r,t){const i=Rt(r);let a=3;const l=t.query;let u=i.queries.get(l);u?!u.H_()&&t.J_()&&(a=2):(u=new lC,a=t.J_()?0:1);try{switch(a){case 0:u.z_=await i.onListen(l,!0);break;case 1:u.z_=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=qm(d,`Initialization of query '${ja(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,u),u.j_.push(t),t.Z_(i.onlineState),u.z_&&t.X_(u.z_)&&Hm(i)}async function hC(r,t){const i=Rt(r),a=t.query;let l=3;const u=i.queries.get(a);if(u){const d=u.j_.indexOf(t);d>=0&&(u.j_.splice(d,1),u.j_.length===0?l=t.J_()?0:1:!u.H_()&&t.J_()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function fC(r,t){const i=Rt(r);let a=!1;for(const l of t){const u=l.query,d=i.queries.get(u);if(d){for(const g of d.j_)g.X_(l)&&(a=!0);d.z_=l}}a&&Hm(i)}function dC(r,t,i){const a=Rt(r),l=a.queries.get(t);if(l)for(const u of l.j_)u.onError(i);a.queries.delete(t)}function Hm(r){r.Y_.forEach((t=>{t.next()}))}var rm,Lv;(Lv=rm||(rm={})).ea="default",Lv.Cache="cache";class mC{constructor(t,i,a){this.query=t,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new to(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.na?this.ia(t)&&(this.ta.next(t),i=!0):this.sa(t,this.onlineState)&&(this.oa(t),i=!0),this.ra=t,i}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),i=!0),i}sa(t,i){if(!t.fromCache||!this.J_())return!0;const a=i!=="Offline";return(!this.options._a||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const i=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}oa(t){t=to.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==rm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t){this.key=t}}class GE{constructor(t){this.key=t}}class gC{constructor(t,i){this.query=t,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=zt(),this.mutatedKeys=zt(),this.Aa=hE(t),this.Ra=new Ka(this.Aa)}get Va(){return this.Ta}ma(t,i){const a=i?i.fa:new Uv,l=i?i.Ra:this.Ra;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const x=l.get(A),B=ah(this.query,S)?S:null,X=!!x&&this.mutatedKeys.has(x.key),tt=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let J=!1;x&&B?x.data.isEqual(B.data)?X!==tt&&(a.track({type:3,doc:B}),J=!0):this.ga(x,B)||(a.track({type:2,doc:B}),J=!0,(p&&this.Aa(B,p)>0||v&&this.Aa(B,v)<0)&&(g=!0)):!x&&B?(a.track({type:0,doc:B}),J=!0):x&&!B&&(a.track({type:1,doc:x}),J=!0,(p||v)&&(g=!0)),J&&(B?(d=d.add(B),u=tt?u.add(A):u.delete(A)):(d=d.delete(A),u=u.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),u=u.delete(A.key),a.track({type:1,doc:A})}return{Ra:d,fa:a,ns:g,mutatedKeys:u}}ga(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const u=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const d=t.fa.G_();d.sort(((A,S)=>(function(B,X){const tt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt()}};return tt(B)-tt(X)})(A.type,S.type)||this.Aa(A.doc,S.doc))),this.pa(a),l=l!=null&&l;const g=i&&!l?this.ya():[],p=this.da.size===0&&this.current&&!l?1:0,v=p!==this.Ea;return this.Ea=p,d.length!==0||v?{snapshot:new to(this.query,t.Ra,u,d,t.mutatedKeys,p===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:g}:{wa:g}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Uv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach((i=>this.Ta=this.Ta.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ta=this.Ta.delete(i))),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=zt(),this.Ra.forEach((a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))}));const i=[];return t.forEach((a=>{this.da.has(a)||i.push(new GE(a))})),this.da.forEach((a=>{t.has(a)||i.push(new FE(a))})),i}ba(t){this.Ta=t.Ts,this.da=zt();const i=this.ma(t.documents);return this.applyChanges(i,!0)}Da(){return to.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class pC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class yC{constructor(t){this.key=t,this.va=!1}}class _C{constructor(t,i,a,l,u,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new oo((g=>cE(g)),sh),this.Ma=new Map,this.xa=new Set,this.Oa=new _e(dt.comparator),this.Na=new Map,this.La=new Vm,this.Ba={},this.ka=new Map,this.qa=Wa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function vC(r,t,i=!0){const a=JE(r);let l;const u=a.Fa.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Da()):l=await KE(a,t,i,!0),l}async function EC(r,t){const i=JE(r);await KE(i,t,!0,!1)}async function KE(r,t,i,a){const l=await jI(r.localStore,Ai(t)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,i);let g;return a&&(g=await TC(r,t,u,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&PE(r.remoteStore,l),g}async function TC(r,t,i,a,l){r.Ka=(S,x,B)=>(async function(tt,J,ot,_t){let it=J.view.ma(ot);it.ns&&(it=await Ov(tt.localStore,J.query,!1).then((({documents:C})=>J.view.ma(C,it))));const Lt=_t&&_t.targetChanges.get(J.targetId),re=_t&&_t.targetMismatches.get(J.targetId)!=null,At=J.view.applyChanges(it,tt.isPrimaryClient,Lt,re);return jv(tt,J.targetId,At.wa),At.snapshot})(r,S,x,B);const u=await Ov(r.localStore,t,!0),d=new gC(t,u.Ts),g=d.ma(u.documents),p=Kl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),v=d.applyChanges(g,r.isPrimaryClient,p);jv(r,i,v.wa);const A=new pC(t,i,d);return r.Fa.set(t,A),r.Ma.has(i)?r.Ma.get(i).push(t):r.Ma.set(i,[t]),v.snapshot}async function AC(r,t,i){const a=Rt(r),l=a.Fa.get(t),u=a.Ma.get(l.targetId);if(u.length>1)return a.Ma.set(l.targetId,u.filter((d=>!sh(d,t)))),void a.Fa.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await im(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Lm(a.remoteStore,l.targetId),sm(a,l.targetId)})).catch(Hl)):(sm(a,l.targetId),await im(a.localStore,l.targetId,!0))}async function SC(r,t){const i=Rt(r),a=i.Fa.get(t),l=i.Ma.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Lm(i.remoteStore,a.targetId))}async function bC(r,t,i){const a=OC(r);try{const l=await(function(d,g){const p=Rt(d),v=Le.now(),A=g.reduce(((B,X)=>B.add(X.key)),zt());let S,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let X=ar(),tt=zt();return p.cs.getEntries(B,A).next((J=>{X=J,X.forEach(((ot,_t)=>{_t.isValidDocument()||(tt=tt.add(ot))}))})).next((()=>p.localDocuments.getOverlayedDocuments(B,X))).next((J=>{S=J;const ot=[];for(const _t of g){const it=H1(_t,S.get(_t.key).overlayedDocument);it!=null&&ot.push(new hs(_t.key,it,nE(it.value.mapValue),ni.exists(!0)))}return p.mutationQueue.addMutationBatch(B,v,ot,g)})).next((J=>{x=J;const ot=J.applyToLocalDocumentSet(S,tt);return p.documentOverlayCache.saveOverlays(B,J.batchId,ot)}))})).then((()=>({batchId:x.batchId,changes:dE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,p){let v=d.Ba[d.currentUser.toKey()];v||(v=new _e(Xt)),v=v.insert(g,p),d.Ba[d.currentUser.toKey()]=v})(a,l.batchId,i),await Yl(a,l.changes),await fh(a.remoteStore)}catch(l){const u=qm(l,"Failed to persist write");i.reject(u)}}async function QE(r,t){const i=Rt(r);try{const a=await kI(i.localStore,t);t.targetChanges.forEach(((l,u)=>{const d=i.Na.get(u);d&&(te(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.va=!0:l.modifiedDocuments.size>0?te(d.va):l.removedDocuments.size>0&&(te(d.va),d.va=!1))})),await Yl(i,a,t)}catch(a){await Hl(a)}}function Pv(r,t,i){const a=Rt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Fa.forEach(((u,d)=>{const g=d.view.Z_(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const p=Rt(d);p.onlineState=g;let v=!1;p.queries.forEach(((A,S)=>{for(const x of S.j_)x.Z_(g)&&(v=!0)})),v&&Hm(p)})(a.eventManager,t),l.length&&a.Ca.d_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function wC(r,t,i){const a=Rt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Na.get(t),u=l&&l.key;if(u){let d=new _e(dt.comparator);d=d.insert(u,ln.newNoDocument(u,wt.min()));const g=zt().add(u),p=new uh(wt.min(),new Map,new _e(Xt),d,g);await QE(a,p),a.Oa=a.Oa.remove(u),a.Na.delete(t),Fm(a)}else await im(a.localStore,t,!1).then((()=>sm(a,t,i))).catch(Hl)}async function RC(r,t){const i=Rt(r),a=t.batch.batchId;try{const l=await UI(i.localStore,t);XE(i,a,null),YE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Yl(i,l)}catch(l){await Hl(l)}}async function IC(r,t,i){const a=Rt(r);try{const l=await(function(d,g){const p=Rt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return p.mutationQueue.lookupMutationBatch(v,g).next((S=>(te(S!==null),A=S.keys(),p.mutationQueue.removeMutationBatch(v,S)))).next((()=>p.mutationQueue.performConsistencyCheck(v))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(v,A,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>p.localDocuments.getDocuments(v,A)))}))})(a.localStore,t);XE(a,t,i),YE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Yl(a,l)}catch(l){await Hl(l)}}function YE(r,t){(r.ka.get(t)||[]).forEach((i=>{i.resolve()})),r.ka.delete(t)}function XE(r,t,i){const a=Rt(r);let l=a.Ba[a.currentUser.toKey()];if(l){const u=l.get(t);u&&(i?u.reject(i):u.resolve(),l=l.remove(t)),a.Ba[a.currentUser.toKey()]=l}}function sm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Ma.get(t))r.Fa.delete(a),i&&r.Ca.$a(a,i);r.Ma.delete(t),r.isPrimaryClient&&r.La.gr(t).forEach((a=>{r.La.containsKey(a)||$E(r,a)}))}function $E(r,t){r.xa.delete(t.path.canonicalString());const i=r.Oa.get(t);i!==null&&(Lm(r.remoteStore,i),r.Oa=r.Oa.remove(t),r.Na.delete(i),Fm(r))}function jv(r,t,i){for(const a of i)a instanceof FE?(r.La.addReference(a.key,t),CC(r,a)):a instanceof GE?(lt("SyncEngine","Document no longer in limbo: "+a.key),r.La.removeReference(a.key,t),r.La.containsKey(a.key)||$E(r,a.key)):Tt()}function CC(r,t){const i=t.key,a=i.path.canonicalString();r.Oa.get(i)||r.xa.has(a)||(lt("SyncEngine","New document in limbo: "+i),r.xa.add(a),Fm(r))}function Fm(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const t=r.xa.values().next().value;r.xa.delete(t);const i=new dt(he.fromString(t)),a=r.qa.next();r.Na.set(a,new yC(i)),r.Oa=r.Oa.insert(i,a),PE(r.remoteStore,new is(Ai(Nm(i.path)),a,"TargetPurposeLimboResolution",Sm.oe))}}async function Yl(r,t,i){const a=Rt(r),l=[],u=[],d=[];a.Fa.isEmpty()||(a.Fa.forEach(((g,p)=>{d.push(a.Ka(p,t,i).then((v=>{var A;if((v||i)&&a.isPrimaryClient){const S=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(v){l.push(v);const S=km.Wi(p.targetId,v);u.push(S)}})))})),await Promise.all(d),a.Ca.d_(l),await(async function(p,v){const A=Rt(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(v,(x=>Z.forEach(x.$i,(B=>A.persistence.referenceDelegate.addReference(S,x.targetId,B))).next((()=>Z.forEach(x.Ui,(B=>A.persistence.referenceDelegate.removeReference(S,x.targetId,B)))))))))}catch(S){if(!Fl(S))throw S;lt("LocalStore","Failed to update sequence numbers: "+S)}for(const S of v){const x=S.targetId;if(!S.fromCache){const B=A.os.get(x),X=B.snapshotVersion,tt=B.withLastLimboFreeSnapshotVersion(X);A.os=A.os.insert(x,tt)}}})(a.localStore,u))}async function NC(r,t){const i=Rt(r);if(!i.currentUser.isEqual(t)){lt("SyncEngine","User change. New user:",t.toKey());const a=await VE(i.localStore,t);i.currentUser=t,(function(u,d){u.ka.forEach((g=>{g.forEach((p=>{p.reject(new at($.CANCELLED,d))}))})),u.ka.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Yl(i,a.hs)}}function DC(r,t){const i=Rt(r),a=i.Na.get(t);if(a&&a.va)return zt().add(a.key);{let l=zt();const u=i.Ma.get(t);if(!u)return l;for(const d of u){const g=i.Fa.get(d);l=l.unionWith(g.view.Va)}return l}}function JE(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=QE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=DC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wC.bind(null,t),t.Ca.d_=fC.bind(null,t.eventManager),t.Ca.$a=dC.bind(null,t.eventManager),t}function OC(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=IC.bind(null,t),t}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ch(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,i){return null}Ha(t,i){return null}za(t){return VI(this.persistence,new xI,t.initialUser,this.serializer)}Ga(t){return new NI(Um.Zr,this.serializer)}Wa(t){return new BI}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class am{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Pv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=NC.bind(null,this.syncEngine),await oC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new uC})()}createDatastore(t){const i=ch(t.databaseInfo.databaseId),a=(function(u){return new GI(u)})(t.databaseInfo);return(function(u,d,g,p){return new YI(u,d,g,p)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,u,d,g){return new $I(a,l,u,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Pv(this.syncEngine,i,0)),(function(){return Mv.D()?new Mv:new qI})())}createSyncEngine(t,i){return(function(l,u,d,g,p,v,A){const S=new _C(l,u,d,g,p,v);return A&&(S.Qa=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(l){const u=Rt(l);lt("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await Ql(u),u.k_.shutdown(),u.q_.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}am.provider={build:()=>new am};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):sr("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t,i,a,l,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=on.UNAUTHENTICATED,this.clientId=W0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async d=>{lt("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(lt("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=qm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Ld(r,t){r.asyncQueue.verifyOperationInProgress(),lt("FirestoreClient","Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await VE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function zv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await VC(r);lt("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Vv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Vv(t.remoteStore,l))),r._onlineComponents=t}async function VC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ld(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ya("Error using user provided cache. Falling back to memory cache: "+i),await Ld(r,new $c)}}else lt("FirestoreClient","Using default OfflineComponentProvider"),await Ld(r,new $c);return r._offlineComponents}async function ZE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt("FirestoreClient","Using user provided OnlineComponentProvider"),await zv(r,r._uninitializedComponentsProvider._online)):(lt("FirestoreClient","Using default OnlineComponentProvider"),await zv(r,new am))),r._onlineComponents}function UC(r){return ZE(r).then((t=>t.syncEngine))}async function Bv(r){const t=await ZE(r),i=t.eventManager;return i.onListen=vC.bind(null,t.syncEngine),i.onUnlisten=AC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=EC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=SC.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(r,t,i){if(!i)throw new at($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function kC(r,t,i,a){if(t===!0&&a===!0)throw new at($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Hv(r){if(!dt.isDocumentKey(r))throw new at($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Fv(r){if(dt.isDocumentKey(r))throw new at($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function dh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Tt()}function nr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new at($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dh(r);throw new at($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new at($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(i=t.ssl)===null||i===void 0||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new at($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WE((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new at($.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new at($.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new at($.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gv(t),t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new ZR;switch(a.type){case"firstParty":return new n1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=qv.get(i);a&&(lt("ComponentProvider","Removing Datastore"),qv.delete(i),a.terminate())})(this),Promise.resolve()}}function LC(r,t,i,a={}){var l;const u=(r=nr(r,mh))._getSettings(),d=`${t}:${i}`;if(u.host!=="firestore.googleapis.com"&&u.host!==d&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:d,ssl:!1})),a.mockUserToken){let g,p;if(typeof a.mockUserToken=="string")g=a.mockUserToken,p=on.MOCK_USER;else{g=hS(a.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const v=a.mockUserToken.sub||a.mockUserToken.user_id;if(!v)throw new at($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new on(v)}r._authCredentials=new WR(new Z0(g,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new fs(this.firestore,t,this._query)}}class _n{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _n(this.firestore,t,this._key)}}class os extends fs{constructor(t,i,a){super(t,i,Nm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _n(this.firestore,null,new dt(t))}withConverter(t){return new os(this.firestore,t,this._path)}}function Jc(r,t,...i){if(r=Pe(r),tT("collection","path",t),r instanceof mh){const a=he.fromString(t,...i);return Fv(a),new os(r,null,a)}{if(!(r instanceof _n||r instanceof os))throw new at($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(he.fromString(t,...i));return Fv(a),new os(r.firestore,null,a)}}function Ji(r,t,...i){if(r=Pe(r),arguments.length===1&&(t=W0.newId()),tT("doc","path",t),r instanceof mh){const a=he.fromString(t,...i);return Hv(a),new _n(r,null,new dt(a))}{if(!(r instanceof _n||r instanceof os))throw new at($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(he.fromString(t,...i));return Hv(a),new _n(r.firestore,r instanceof os?r.converter:null,new dt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new kE(this,"async_queue_retry"),this.Vu=()=>{const a=kd();a&&lt("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=t;const i=kd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const i=kd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise((()=>{}));const i=new Hs;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Pu.push(t),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!Fl(t))throw t;lt("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(t){const i=this.mu.then((()=>(this.du=!0,t().catch((a=>{this.Eu=a,this.du=!1;const l=(function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g})(a);throw sr("INTERNAL UNHANDLED ERROR: ",l),a})).then((a=>(this.du=!1,a))))));return this.mu=i,i}enqueueAfterDelay(t,i,a){this.fu(),this.Ru.indexOf(t)>-1&&(i=0);const l=Bm.createAndSchedule(this,t,i,a,(u=>this.yu(u)));return this.Tu.push(l),l}fu(){this.Eu&&Tt()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const i of this.Tu)if(i.timerId===t)return!0;return!1}bu(t){return this.wu().then((()=>{this.Tu.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.Tu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.wu()}))}Du(t){this.Ru.push(t)}yu(t){const i=this.Tu.indexOf(t);this.Tu.splice(i,1)}}function Qv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of a)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class eo extends mh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Kv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Kv(t),this._firestoreClient=void 0,await t}}}function PC(r,t){const i=typeof r=="object"?r:u0(),a=typeof r=="string"?r:"(default)",l=fm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=uS("firestore");u&&LC(l,...u)}return l}function eT(r){if(r._terminated)throw new at($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jC(r),r._firestoreClient}function jC(r){var t,i,a;const l=r._freezeSettings(),u=(function(g,p,v,A){return new g1(g,p,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,WE(A.experimentalLongPollingOptions),A.useFetchStreams)})(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new MC(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t){this._byteString=t}static fromBase64String(t){try{return new no(tn.fromBase64String(t))}catch(i){throw new at($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new no(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Xt(this._lat,t._lat)||Xt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0})(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=/^__.*__$/;class BC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new hs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Gl(t,this.data,i,this.fieldTransforms)}}class nT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new hs(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function iT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt()}}class ph{constructor(t,i,a,l,u,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new ph(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Fu({path:a,xu:!1});return l.Ou(t),l}Nu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Fu({path:a,xu:!1});return l.vu(),l}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Zc(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(iT(this.Cu)&&zC.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class qC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||ch(t)}Qu(t,i,a,l=!1){return new ph({Cu:t,methodName:i,qu:a,path:Ze.emptyPath(),xu:!1,ku:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yh(r){const t=r._freezeSettings(),i=ch(r._databaseId);return new qC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function rT(r,t,i,a,l,u={}){const d=r.Qu(u.merge||u.mergeFields?2:0,t,i,l);Xm("Data must be an object, but it was:",d,a);const g=sT(a,d);let p,v;if(u.merge)p=new kn(d.fieldMask),v=d.fieldTransforms;else if(u.mergeFields){const A=[];for(const S of u.mergeFields){const x=om(t,S,i);if(!d.contains(x))throw new at($.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);oT(A,x)||A.push(x)}p=new kn(A),v=d.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,v=d.fieldTransforms;return new BC(new Rn(g),p,v)}class _h extends Xl{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _h}}function HC(r,t,i){return new ph({Cu:3,qu:t.settings.qu,methodName:r._methodName,xu:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Qm extends Xl{_toFieldTransform(t){return new EE(t.path,new Ul)}isEqual(t){return t instanceof Qm}}class Ym extends Xl{constructor(t,i){super(t),this.Ku=i}_toFieldTransform(t){const i=HC(this,t,!0),a=this.Ku.map((u=>uo(u,i))),l=new Za(a);return new EE(t.path,l)}isEqual(t){return t instanceof Ym&&Rl(this.Ku,t.Ku)}}function FC(r,t,i,a){const l=r.Qu(1,t,i);Xm("Data must be an object, but it was:",l,a);const u=[],d=Rn.empty();Js(a,((p,v)=>{const A=$m(t,p,i);v=Pe(v);const S=l.Nu(A);if(v instanceof _h)u.push(A);else{const x=uo(v,S);x!=null&&(u.push(A),d.set(A,x))}}));const g=new kn(u);return new nT(d,g,l.fieldTransforms)}function GC(r,t,i,a,l,u){const d=r.Qu(1,t,i),g=[om(t,a,i)],p=[l];if(u.length%2!=0)throw new at($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)g.push(om(t,u[x])),p.push(u[x+1]);const v=[],A=Rn.empty();for(let x=g.length-1;x>=0;--x)if(!oT(v,g[x])){const B=g[x];let X=p[x];X=Pe(X);const tt=d.Nu(B);if(X instanceof _h)v.push(B);else{const J=uo(X,tt);J!=null&&(v.push(B),A.set(B,J))}}const S=new kn(v);return new nT(A,S,d.fieldTransforms)}function KC(r,t,i,a=!1){return uo(i,r.Qu(a?4:3,t))}function uo(r,t){if(aT(r=Pe(r)))return Xm("Unsupported field value:",t,r),sT(r,t);if(r instanceof Xl)return(function(a,l){if(!iT(l.Cu))throw l.Bu(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Bu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return(function(a,l){const u=[];let d=0;for(const g of a){let p=uo(g,l.Lu(d));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),d++}return{arrayValue:{values:u}}})(r,t)}return(function(a,l){if((a=Pe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return L1(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Le.fromDate(a);return{timestampValue:Yc(l.serializer,u)}}if(a instanceof Le){const u=new Le(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Yc(l.serializer,u)}}if(a instanceof Gm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof no)return{bytesValue:IE(l.serializer,a._byteString)};if(a instanceof _n){const u=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw l.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Mm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Km)return(function(d,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Bu("VectorValues must only contain numeric values.");return Dm(g.serializer,p)}))}}}}}})(a,l);throw l.Bu(`Unsupported field value: ${dh(a)}`)})(r,t)}function sT(r,t){const i={};return tE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Js(r,((a,l)=>{const u=uo(l,t.Mu(a));u!=null&&(i[a]=u)})),{mapValue:{fields:i}}}function aT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Le||r instanceof Gm||r instanceof no||r instanceof _n||r instanceof Xl||r instanceof Km)}function Xm(r,t,i){if(!aT(i)||!(function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)})(i)){const a=dh(i);throw a==="an object"?t.Bu(r+" a custom object"):t.Bu(r+" "+a)}}function om(r,t,i){if((t=Pe(t))instanceof gh)return t._internalPath;if(typeof t=="string")return $m(r,t);throw Zc("Field path arguments must be of type string or ",r,!1,void 0,i)}const QC=new RegExp("[~\\*/\\[\\]]");function $m(r,t,i){if(t.search(QC)>=0)throw Zc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new gh(...t.split("."))._internalPath}catch{throw Zc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Zc(r,t,i,a,l){const u=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||d)&&(p+=" (found",u&&(p+=` in field ${a}`),d&&(p+=` in document ${l}`),p+=")"),new at($.INVALID_ARGUMENT,g+r+p)}function oT(r,t){return r.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(t,i,a,l,u){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new YC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Jm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class YC extends lT{data(){return super.data()}}function Jm(r,t){return typeof t=="string"?$m(r,t):t instanceof gh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zm{}class Wm extends Zm{}function uT(r,t,...i){let a=[];t instanceof Zm&&a.push(t),a=a.concat(i),(function(u){const d=u.filter((p=>p instanceof eg)).length,g=u.filter((p=>p instanceof tg)).length;if(d>1||d>0&&g>0)throw new at($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class tg extends Wm{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new tg(t,i,a)}_apply(t){const i=this._parse(t);return cT(t._query,i),new fs(t.firestore,t.converter,Zd(t._query,i))}_parse(t){const i=yh(t.firestore);return(function(u,d,g,p,v,A,S){let x;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Xv(S,A);const B=[];for(const X of S)B.push(Yv(p,u,X));x={arrayValue:{values:B}}}else x=Yv(p,u,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Xv(S,A),x=KC(g,d,S,A==="in"||A==="not-in");return Me.create(v,A,x)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class eg extends Zm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new eg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:ri.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const p of g)cT(d,p),d=Zd(d,p)})(t._query,i),new fs(t.firestore,t.converter,Zd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ng extends Wm{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new ng(t,i)}_apply(t){const i=(function(l,u,d){if(l.startAt!==null)throw new at($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new at($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vl(u,d)})(t._query,this._field,this._direction);return new fs(t.firestore,t.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new ao(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function $C(r,t="asc"){const i=t,a=Jm("orderBy",r);return ng._create(a,i)}class ig extends Wm{constructor(t,i,a){super(),this.type=t,this._limit=i,this._limitType=a}static _create(t,i,a){return new ig(t,i,a)}_apply(t){return new fs(t.firestore,t.converter,Kc(t._query,this._limit,this._limitType))}}function JC(r){return ig._create("limit",r,"F")}function Yv(r,t,i){if(typeof(i=Pe(i))=="string"){if(i==="")throw new at($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uE(t)&&i.indexOf("/")!==-1)throw new at($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(he.fromString(i));if(!dt.isDocumentKey(a))throw new at($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return mv(r,new dt(a))}if(i instanceof _n)return mv(r,i._key);throw new at($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(i)}.`)}function Xv(r,t){if(!Array.isArray(r)||r.length===0)throw new at($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function cT(r,t){const i=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new at($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class ZC{convertValue(t,i="none"){switch(Xs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Re(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ys(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Js(t,((l,u)=>{a[l]=this.convertValue(u,i)})),a}convertVectorValue(t){var i,a,l;const u=(l=(a=(i=t.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map((d=>Re(d.doubleValue)));return new Km(u)}convertGeoPoint(t){return new Gm(Re(t.latitude),Re(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=wm(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ol(t));default:return null}}convertTimestamp(t){const i=us(t);return new Le(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=he.fromString(t);te(ME(a));const l=new xl(a.get(1),a.get(3)),u=new dt(a.popFirst(5));return l.isEqual(i)||sr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fT extends lT{constructor(t,i,a,l,u,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Jm("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Uc extends fT{data(t={}){return super.data(t)}}class WC{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new vl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Uc(this._firestore,this._userDataWriter,a.key,a,new vl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const p=new Uc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new vl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new Uc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new vl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:t2(g.type),doc:p,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function t2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt()}}class dT extends ZC{constructor(t){super(),this.firestore=t}convertBytes(t){return new no(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new _n(this.firestore,null,i)}}function wl(r,t,i){r=nr(r,_n);const a=nr(r.firestore,eo),l=hT(r.converter,t,i);return rg(a,[rT(yh(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,ni.none())])}function Wc(r,t,i,...a){r=nr(r,_n);const l=nr(r.firestore,eo),u=yh(l);let d;return d=typeof(t=Pe(t))=="string"||t instanceof gh?GC(u,"updateDoc",r._key,t,i,a):FC(u,"updateDoc",r._key,t),rg(l,[d.toMutation(r._key,ni.exists(!0))])}function mT(r,t){const i=nr(r.firestore,eo),a=Ji(r),l=hT(r.converter,t);return rg(i,[rT(yh(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,ni.exists(!1))]).then((()=>a))}function kc(r,...t){var i,a,l;r=Pe(r);let u={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||Qv(t[d])||(u=t[d],d++);const g={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Qv(t[d])){const S=t[d];t[d]=(i=S.next)===null||i===void 0?void 0:i.bind(S),t[d+1]=(a=S.error)===null||a===void 0?void 0:a.bind(S),t[d+2]=(l=S.complete)===null||l===void 0?void 0:l.bind(S)}let p,v,A;if(r instanceof _n)v=nr(r.firestore,eo),A=Nm(r._key.path),p={next:S=>{t[d]&&t[d](e2(v,r,S))},error:t[d+1],complete:t[d+2]};else{const S=nr(r,fs);v=nr(S.firestore,eo),A=S._query;const x=new dT(v);p={next:B=>{t[d]&&t[d](new WC(v,x,S,B))},error:t[d+1],complete:t[d+2]},XC(r._query)}return(function(x,B,X,tt){const J=new xC(tt),ot=new mC(B,J,X);return x.asyncQueue.enqueueAndForget((async()=>cC(await Bv(x),ot))),()=>{J.Za(),x.asyncQueue.enqueueAndForget((async()=>hC(await Bv(x),ot)))}})(eT(v),A,g,p)}function rg(r,t){return(function(a,l){const u=new Hs;return a.asyncQueue.enqueueAndForget((async()=>bC(await UC(a),l,u))),u.promise})(eT(r),t)}function e2(r,t,i){const a=i.docs.get(t._key),l=new dT(r);return new fT(r,l,t._key,a,new vl(i.hasPendingWrites,i.fromCache),t.converter)}function n2(){return new Qm("serverTimestamp")}function $v(...r){return new Ym("arrayUnion",r)}(function(t,i=!0){(function(l){so=l})(io),Qa(new Fs("firestore",((a,{instanceIdentifier:l,options:u})=>{const d=a.getProvider("app").getImmediate(),g=new eo(new t1(a.getProvider("auth-internal")),new r1(a.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new at($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(v.options.projectId,A)})(d,l),d);return u=Object.assign({useFetchStreams:i},u),g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),as(uv,"4.7.3",t),as(uv,"4.7.3","esm2017")})();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var r2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=bt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:u,iconNode:d,...g},p)=>bt.createElement("svg",{ref:p,...r2,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:gT("lucide",l),...g},[...d.map(([v,A])=>bt.createElement(v,A)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=(r,t)=>{const i=bt.forwardRef(({className:a,...l},u)=>bt.createElement(s2,{ref:u,iconNode:t,className:gT(`lucide-${i2(r)}`,a),...l}));return i.displayName=`${r}`,i};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=si("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=si("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=si("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=si("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=si("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=si("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=si("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=si("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=si("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=si("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=si("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),d2=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{},yn=typeof __app_id<"u"?__app_id:"default-doof-crew";function m2(){const r=typeof __shared_mode<"u"?!!__shared_mode:!0,[t,i]=bt.useState(null),[a,l]=bt.useState(null),[u,d]=bt.useState(null),[g,p]=bt.useState(!1),[v,A]=bt.useState([]),[S,x]=bt.useState(null),[B,X]=bt.useState(null),[tt,J]=bt.useState(!1),[ot,_t]=bt.useState(!1),[it,Lt]=bt.useState(null),[re,At]=bt.useState(!1),[C,b]=bt.useState(null),[I,O]=bt.useState(!1),[V,k]=bt.useState(0),[w,me]=bt.useState(null),[ge,F]=bt.useState(null),[et,ht]=bt.useState(null);bt.useEffect(()=>{try{const gt=l0(d2),ut=$R(gt),xt=PC(gt);i(xt),l(ut);const Nt=jw(ut,async fe=>{if(fe){d(fe.uid),Lt(fe.email||null),p(!0);return}d(null),p(!0)});return()=>Nt()}catch(gt){console.error("Error initializing Firebase:",gt),b("Failed to initialize application. Invalid configuration.")}},[]),bt.useEffect(()=>{if(!g||!t||!u)return;const gt=r?`apps/${yn}`:`users/${u}/apps/${yn}`,ut=`${gt}/djs`,xt=uT(Jc(t,ut)),Nt=kc(xt,Et=>{const pt=[];Et.forEach(Ot=>{pt.push({id:Ot.id,...Ot.data()})}),A(pt)},Et=>{console.error("Error listening to DJs:",Et),b("Failed to load DJ list.")}),fe=`${gt}/schedule/mainStage`,Ln=Ji(t,fe),ai=kc(Ln,async Et=>{var pt;if(Et.exists())x(Et.data()),O(!1);else try{const Ot=Zv();await wl(Ln,Ot),x(Ot),O(!1)}catch(Ot){console.error("Error creating base schedule:",Ot);try{(pt=window.firebaseOpsAgent)==null||pt.log({level:"error",type:"schedule.create.error",code:(Ot==null?void 0:Ot.code)||"",message:(Ot==null?void 0:Ot.message)||"",path:fe})}catch{}b("Failed to initialize schedule."),O(!0)}},Et=>{var Ot;console.error("Error listening to schedule:",Et);try{(Ot=window.firebaseOpsAgent)==null||Ot.log({level:"error",type:"schedule.listen.error",code:(Et==null?void 0:Et.code)||"",message:(Et==null?void 0:Et.message)||"",path:fe})}catch{}const pt=(Et==null?void 0:Et.code)||"";pt.includes("permission")||pt.includes("denied")?b(`Failed to load schedule (permission denied). Path: ${fe}`):b("Failed to load schedule."),O(!0)}),pe=Ji(t,`${gt}/meta/app`);wl(pe,{ownerUid:u,appId:yn,createdAt:new Date().toISOString(),allowedAdminEmails:[],allowedAdminUids:[]},{merge:!0}).catch(Et=>{console.warn("Could not ensure crew meta doc",Et)});const se=kc(pe,Et=>{const pt=Et.data(),Ot=pt==null?void 0:pt.ownerUid,en=(pt==null?void 0:pt.allowedAdminEmails)||[],cn=(pt==null?void 0:pt.allowedAdminUids)||[],ye=Ot===u||!!it&&en.includes(it)||cn.includes(u);_t(ye)});return()=>{Nt(),ai(),se&&se()}},[g,t,u,it]);const Bt=gt=>{X(gt),J(!0)},Gt=()=>{J(!1),X(null)},D=(gt,ut)=>{gt.dataTransfer.setData("application/json",JSON.stringify(ut)),gt.dataTransfer.effectAllowed="move",ht(ut),me(null),F(null)},K=gt=>{gt.preventDefault(),gt.dataTransfer.dropEffect="move"},W=gt=>{gt.preventDefault(),k(ut=>ut+1)},rt=(gt,ut)=>{gt.preventDefault(),k(xt=>xt+1),me(xt=>xt===null?et&&et.from==="slot"&&typeof et.slotIndex=="number"?et.slotIndex:ut:xt),F(ut)},mt=gt=>{gt.preventDefault(),k(ut=>ut-1)},Ct=async(gt,ut)=>{gt.preventDefault(),k(0),At(!0);try{const xt=JSON.parse(gt.dataTransfer.getData("application/json")),Nt=[...S.timeSlots],fe=Ji(t,`${r?`apps/${yn}`:`users/${u}/apps/${yn}`}/schedule/mainStage`),Ln=w!==null&&ge!==null,ai=pe=>{const se=Math.min(w,ut,ge),Et=Math.max(w,ut,ge),pt=xt.from==="pool"?xt.dj.id:xt.djId,Ot=xt.from==="pool"?xt.dj.djName:xt.djName;for(let en=se;en<=Et;en++){const cn={...Nt[en]};if(pe)if(cn.djId&&cn.djId!==pt){const ye=Array.isArray(cn.guests)?[...cn.guests]:[];ye.find(Ws=>Ws.djId===pt)||ye.push({djId:pt,djName:Ot}),Nt[en]={...cn,guests:ye}}else Nt[en]={...cn,djId:pt,djName:Ot};else Nt[en]={...cn,djId:pt,djName:Ot}}};if(Ln)ai(gt.altKey);else if(xt.from==="pool"){const pe=xt.dj.id,se=xt.dj.djName,Et=Nt.findIndex(pt=>pt.djId===pe);if(Et>-1){const pt={...Nt[ut]};Nt[ut]={...Nt[ut],djId:pe,djName:se},Nt[Et]={...Nt[Et],djId:pt.djId,djName:pt.djName}}else{const pt={...Nt[ut]};if(pt.djId&&pt.djId!==pe){const Ot=Array.isArray(pt.guests)?[...pt.guests]:[];Ot.find(en=>en.djId===pe)||Ot.push({djId:pe,djName:se}),Nt[ut]={...pt,guests:Ot}}else Nt[ut]={...pt,djId:pe,djName:se}}}else if(xt.from==="slot"){const pe=xt.slotIndex;if(pe===ut)return;if(gt.shiftKey){const se=Math.min(pe,ut),Et=Math.max(pe,ut),pt={...Nt[pe]};for(let Ot=se;Ot<=Et;Ot++)Nt[Ot]={...Nt[Ot],djId:pt.djId,djName:pt.djName}}else if(gt.altKey){const se={...Nt[pe]},Et={...Nt[ut]};if(Et.djId&&Et.djId!==se.djId){const pt=Array.isArray(Et.guests)?[...Et.guests]:[];se.djId&&!pt.find(Ot=>Ot.djId===se.djId)&&(pt.push({djId:se.djId,djName:se.djName||""}),Nt[ut]={...Et,guests:pt})}else Nt[ut]={...Et,djId:se.djId,djName:se.djName}}else{const se={...Nt[pe]},Et={...Nt[ut]};Nt[ut]={...Et,djId:se.djId,djName:se.djName},Nt[pe]={...se,djId:Et.djId,djName:Et.djName}}}await Wc(fe,{timeSlots:Nt})}catch(xt){console.error("Error handling drop on slot:",xt),b("Failed to update schedule.")}finally{At(!1),me(null),F(null),ht(null)}},Vt=async gt=>{gt.preventDefault(),k(0),At(!0);try{const ut=JSON.parse(gt.dataTransfer.getData("application/json"));if(ut.from==="slot"){const xt=ut.slotIndex,Nt=[...S.timeSlots];Nt[xt]={...Nt[xt],djId:null,djName:null};const fe=Ji(t,`${r?`apps/${yn}`:`users/${u}/apps/${yn}`}/schedule/mainStage`);await Wc(fe,{timeSlots:Nt})}}catch(ut){console.error("Error unassigning DJ:",ut),b("Failed to update schedule.")}finally{At(!1)}},Ve=new Set(((S==null?void 0:S.timeSlots)||[]).flatMap(gt=>[...gt.djId?[gt.djId]:[],...(gt.guests||[]).map(ut=>ut.djId)])),oe=v.filter(gt=>!Ve.has(gt.id));return g?g&&!u?M.jsx(y2,{auth:a,db:t,appId:yn}):S?M.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 font-sans p-4 md:p-8",children:[M.jsxs("header",{className:"mb-6",children:[M.jsx("h1",{className:"text-4xl font-bold text-center text-blue-400",children:"Doof Crew Admin"}),u&&M.jsxs("div",{className:"text-center text-sm text-gray-400 mt-2 flex flex-col items-center gap-1",children:[M.jsxs("p",{children:["Share this User ID with your crew: ",M.jsx("code",{className:"bg-gray-700 p-1 rounded-md",children:u})]}),ot&&M.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-green-800 text-green-200 text-xs uppercase tracking-wide",children:"Admin"}),M.jsx("div",{className:"mt-2",children:M.jsx("a",{href:"/hub.html",className:"inline-block py-1.5 px-3 bg-indigo-600 hover:bg-indigo-700 rounded-md text-white",children:"Enter the Portal"})})]})]}),C&&M.jsxs("div",{className:"bg-red-800 border border-red-600 text-white p-4 rounded-lg mb-6 flex items-center",children:[M.jsx(lm,{className:"w-5 h-5 mr-3"}),M.jsx("p",{children:C}),M.jsx("button",{onClick:()=>b(null),className:"ml-auto text-red-200 hover:text-white",children:M.jsx(yT,{className:"w-5 h-5"})})]}),M.jsxs("main",{className:"flex flex-col lg:flex-row gap-8",children:[M.jsxs("aside",{className:"w-full lg:w-1/3 flex flex-col gap-6",children:[M.jsx(p2,{db:t,userId:u,appId:yn,setIsLoading:At,setError:b,disabled:re}),M.jsx(S2,{djs:oe,onDjClick:Bt,onDragStart:D,onDragOver:K,onDragEnter:W,onDragLeave:mt,onDrop:Vt,isDropZoneActive:V>0,disabled:re})]}),M.jsx("section",{className:"w-full lg:w-2/3",children:M.jsx(b2,{schedule:S,djs:v,onDjClick:Bt,onDragStart:D,onDragOver:K,onDragEnter:W,onDragEnterSlot:rt,onDragLeave:mt,onDrop:Ct,isDropZoneActive:V>0,disabled:re,activeRange:w!==null?{start:Math.min(w,ge??w),end:Math.max(w,ge??w)}:null})})]}),M.jsx("div",{className:"mt-8",children:M.jsx(g2,{db:t,userId:u,appId:yn,sharedMode:r,userEmail:it})}),ot&&!r&&M.jsxs("div",{className:"mb-6 mx-auto max-w-2xl bg-gray-800 p-4 rounded-lg",children:[M.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Admin Settings"}),M.jsx(A2,{db:t,userId:u,appId:yn})]}),tt&&B&&M.jsx(R2,{dj:B,onClose:Gt})]}):M.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white font-sans p-4",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx(Jv,{className:"animate-pulse w-16 h-16"}),M.jsx("span",{className:"ml-4 text-2xl",children:"Loading Crew Data..."})]}),C&&M.jsxs("div",{className:"mt-6 max-w-xl w-full bg-red-800 border border-red-600 text-white p-4 rounded-lg",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx(lm,{className:"w-5 h-5 mr-3"}),M.jsx("p",{className:"font-semibold",children:C})]}),M.jsx("p",{className:"text-sm text-red-200 mt-2",children:"If this persists, you may not have permission to read or write your schedule. Please sign out and back in, or contact support."}),I&&M.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[M.jsx("button",{onClick:async()=>{var gt;if(!(!t||!u)){At(!0),b(null);try{const ut=Ji(t,`${r?`apps/${yn}`:`users/${u}/apps/${yn}`}/schedule/mainStage`),xt=Zv();await wl(ut,xt),x(xt)}catch(ut){console.error(ut);try{(gt=window.firebaseOpsAgent)==null||gt.log({level:"error",type:"schedule.create.error",code:(ut==null?void 0:ut.code)||"",message:(ut==null?void 0:ut.message)||"",path:`${r?`apps/${yn}`:`users/${u}/apps/${yn}`}/schedule/mainStage`})}catch{}const xt=(ut==null?void 0:ut.code)||"";xt.includes("permission")||xt.includes("denied")?b("Could not create base schedule (permission denied). Please update Firestore rules to allow authenticated users to write to this app namespace."):b("Could not create base schedule.")}finally{At(!1)}}},className:"py-2 px-3 bg-blue-600 hover:bg-blue-700 rounded-md text-white",children:"Create Base Schedule (Temple  31 Jan 2025)"}),M.jsx("a",{href:"/hub.html",className:"py-2 px-3 bg-gray-700 hover:bg-gray-600 rounded-md text-white",children:"Enter the Portal"})]})]})]}):M.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white font-sans",children:[M.jsx(Jv,{className:"animate-pulse w-16 h-16"}),M.jsx("span",{className:"ml-4 text-2xl",children:"Checking session"})]})}function g2({db:r,userId:t,appId:i,sharedMode:a,userEmail:l}){const[u,d]=bt.useState([]),[g,p]=bt.useState(""),v=a?`apps/${i}`:`users/${t}/apps/${i}`;bt.useEffect(()=>{const S=uT(Jc(r,`${v}/chat/messages`),$C("createdAt","asc"),JC(100)),x=kc(S,B=>{const X=[];B.forEach(tt=>X.push({id:tt.id,...tt.data()})),d(X)});return()=>x()},[r,v]);const A=async S=>{S.preventDefault();const x=g.trim();if(x)try{await mT(Jc(r,`${v}/chat/messages`),{uid:t,email:l||null,text:x,createdAt:n2()}),p("")}catch(B){console.error(B)}};return M.jsxs("div",{className:"max-w-3xl mx-auto bg-gray-800 p-4 rounded-lg",children:[M.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Crew Chat"}),M.jsxs("div",{className:"h-64 overflow-y-auto bg-gray-900 rounded-md p-3 space-y-2 border border-gray-700",children:[u.length===0&&M.jsx("div",{className:"text-gray-500",children:"No messages yet. Say hi!"}),u.map(S=>M.jsxs("div",{className:"text-sm",children:[M.jsx("span",{className:"text-blue-300",children:S.email||S.uid.slice(0,6)}),M.jsx("span",{className:"text-gray-400",children:": "}),M.jsx("span",{className:"text-gray-100 whitespace-pre-wrap",children:S.text})]},S.id))]}),M.jsxs("form",{onSubmit:A,className:"mt-3 flex gap-2",children:[M.jsx("input",{value:g,onChange:S=>p(S.target.value),placeholder:"Type a message",className:"flex-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"}),M.jsx("button",{className:"py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Send"})]})]})}function Zv(){const r="Temple - 31 Jan 2025",a=[];for(let l=720;l<1440;l+=15){const u=Wv(l),d=Wv(l+15);a.push({time:`${u} - ${d}`,djId:null,djName:null})}return{name:r,timeSlots:a}}function Wv(r){const t=(r%1440+1440)%1440,i=Math.floor(t/60),a=t%60,l=i.toString().padStart(2,"0"),u=a.toString().padStart(2,"0");return`${l}:${u}`}function p2({db:r,userId:t,appId:i,setIsLoading:a,setError:l,disabled:u}){const d=typeof __shared_mode<"u"?!!__shared_mode:!0,[g,p]=bt.useState({djName:"",realName:"",info:"",photoUrl:"",visualUrl:""}),v=S=>{const{name:x,value:B}=S.target;p(X=>({...X,[x]:B}))},A=async S=>{if(S.preventDefault(),!g.djName||!g.realName){l("DJ Name and Real Name are required.");return}a(!0),l(null);try{const x=`${d?`apps/${i}`:`users/${t}/apps/${i}`}/djs`;await mT(Jc(r,x),{...g,createdAt:new Date().toISOString()}),p({djName:"",realName:"",info:"",photoUrl:"",visualUrl:""})}catch(x){console.error("Error registering DJ:",x),l("Failed to register DJ. Please try again.")}finally{a(!1)}};return M.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[M.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center",children:[M.jsx(h2,{className:"w-6 h-6 mr-3 text-blue-400"}),"Register DJ"]}),M.jsxs("form",{onSubmit:A,className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{htmlFor:"djName",className:"block text-sm font-medium text-gray-300",children:"DJ Name"}),M.jsx("input",{type:"text",id:"djName",name:"djName",value:g.djName,onChange:v,required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"realName",className:"block text-sm font-medium text-gray-300",children:"Real Name"}),M.jsx("input",{type:"text",id:"realName",name:"realName",value:g.realName,onChange:v,required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"info",className:"block text-sm font-medium text-gray-300",children:"Promo Info / Bio"}),M.jsx("textarea",{id:"info",name:"info",rows:3,value:g.info,onChange:v,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"photoUrl",className:"block text-sm font-medium text-gray-300",children:"Promo Photo (URL)"}),M.jsx("input",{type:"url",id:"photoUrl",name:"photoUrl",value:g.photoUrl,onChange:v,placeholder:"https://example.com/photo.jpg",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"visualUrl",className:"block text-sm font-medium text-gray-300",children:"Visuals / Content (URL)"}),M.jsx("input",{type:"url",id:"visualUrl",name:"visualUrl",value:g.visualUrl,onChange:v,placeholder:"https://youtube.com/watch?v=...",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),M.jsx("button",{type:"submit",disabled:u,className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Registering...":"Register DJ"})]})]})}function y2({auth:r,db:t,appId:i}){const[a,l]=bt.useState("login");return M.jsx("div",{className:"min-h-screen bg-gray-900 text-gray-100 font-sans p-6 flex items-center justify-center",children:M.jsxs("div",{className:"max-w-2xl w-full bg-gray-800 rounded-xl shadow-lg p-6",children:[M.jsx("h1",{className:"text-3xl font-bold text-blue-400 mb-2 text-center",children:"Temple DJ Spot"}),M.jsx("p",{className:"text-center text-gray-300 mb-6",children:"Sign in to manage your crew and set times."}),M.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[M.jsx("button",{onClick:()=>l("login"),className:`py-2 px-4 rounded-md ${a==="login"?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,children:"Login"}),M.jsx("button",{onClick:()=>l("register"),className:`py-2 px-4 rounded-md ${a==="register"?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,children:"Register"})]}),a==="login"?M.jsx(E2,{auth:r}):M.jsx(T2,{auth:r,db:t,appId:i}),M.jsxs("div",{className:"mt-6",children:[M.jsx(_2,{}),M.jsx(v2,{})]})]})})}function _2(){return M.jsx("div",{className:"text-sm text-gray-300 space-y-2",children:M.jsx("p",{children:"Your Portal UI account is shared across sites. Register once on the main site, then return here to manage your crew. When you first sign in, well set up your crew space automatically."})})}function v2(){return M.jsxs("div",{className:"mt-6 text-xs text-gray-400 border-t border-gray-700 pt-4 leading-relaxed",children:[M.jsx("p",{className:"font-semibold text-gray-300 mb-1",children:"Terms & Conditions (Summary)"}),M.jsxs("ul",{className:"list-disc ml-5 space-y-1",children:[M.jsx("li",{children:"Use this service responsibly and in compliance with applicable laws."}),M.jsx("li",{children:"You own the content you upload; you grant us a license to host and display it to provide the service."}),M.jsx("li",{children:"Dont upload content that is illegal, infringing, or harmful."}),M.jsx("li",{children:"We may update features and policies; continued use constitutes acceptance of changes."}),M.jsx("li",{children:"This service is provided as is without warranties; were not liable for indirect or consequential damages."}),M.jsx("li",{children:"If youre under your regional age of digital consent, use only with a guardians permission."}),M.jsx("li",{children:"We may suspend accounts that violate these terms or abuse resources."}),M.jsx("li",{children:"For data requests or takedowns, contact support via the main Portal UI site."})]})]})}function E2({auth:r}){const[t,i]=bt.useState(""),[a,l]=bt.useState(""),[u,d]=bt.useState(!1),[g,p]=bt.useState(null),v=async A=>{if(A.preventDefault(),!!r){d(!0),p(null);try{await Uw(r,t,a),p("Logged in successfully.")}catch(S){console.error(S);const x=(S==null?void 0:S.code)||"";let B="Login failed. Check your credentials.";x.includes("auth/user-not-found")&&(B="No account with that email."),x.includes("auth/wrong-password")&&(B="Incorrect password."),p(B)}finally{d(!1)}}};return M.jsxs("form",{onSubmit:v,className:"space-y-3",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-gray-300",children:"Email"}),M.jsx("input",{value:t,onChange:A=>i(A.target.value),type:"email",required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-gray-300",children:"Password"}),M.jsx("input",{value:a,onChange:A=>l(A.target.value),type:"password",required:!0,minLength:6,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),g&&M.jsx("div",{className:"text-sm text-yellow-300",children:g}),M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("button",{disabled:u,type:"submit",className:"py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-md",children:u?"Signing in":"Sign in"}),M.jsx("a",{href:"/login.html",className:"text-sm text-gray-400",children:"I prefer the full login page"})]})]})}function T2({auth:r,db:t,appId:i}){const[a,l]=bt.useState(""),[u,d]=bt.useState(""),[g,p]=bt.useState(""),[v,A]=bt.useState(""),[S,x]=bt.useState(!1),[B,X]=bt.useState(null),tt=async J=>{if(J.preventDefault(),!(!r||!t)){if(g!==v){X("Passwords do not match");return}x(!0),X(null);try{const ot=await Vw(r,u,g);await wl(Ji(t,"users",ot.user.uid),{uid:ot.user.uid,fullName:a,email:u,createdAt:new Date().toISOString()}),await wl(Ji(t,`users/${ot.user.uid}/apps/${i}`,"meta"),{ownerUid:ot.user.uid,appId:i,createdAt:new Date().toISOString()});try{await kw(ot.user)}catch{}X("Registered and signed in. Verification email sent (if supported).")}catch(ot){console.error(ot);let _t="Registration failed.";const it=(ot==null?void 0:ot.code)||"";it.includes("auth/email-already-in-use")&&(_t="This email is already registered."),it.includes("auth/weak-password")&&(_t="Password is too weak."),X(_t)}finally{x(!1)}}};return M.jsxs("form",{onSubmit:tt,className:"space-y-3",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-gray-300",children:"Full name"}),M.jsx("input",{value:a,onChange:J=>l(J.target.value),type:"text",required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-gray-300",children:"Email"}),M.jsx("input",{value:u,onChange:J=>d(J.target.value),type:"email",required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),M.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-gray-300",children:"Password"}),M.jsx("input",{value:g,onChange:J=>p(J.target.value),type:"password",required:!0,minLength:6,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-gray-300",children:"Confirm"}),M.jsx("input",{value:v,onChange:J=>A(J.target.value),type:"password",required:!0,minLength:6,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]})]}),B&&M.jsx("div",{className:"text-sm text-yellow-300",children:B}),M.jsx("div",{children:M.jsx("button",{disabled:S,type:"submit",className:"py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-md",children:S?"Registering":"Create account"})})]})}function A2({db:r,userId:t,appId:i}){const[a,l]=bt.useState(""),[u,d]=bt.useState(""),[g,p]=bt.useState(!1),[v,A]=bt.useState(null),S=`users/${t}/apps/${i}`,x=Ji(r,`${S}/meta/app`),B=async tt=>{if(tt.preventDefault(),!!a){p(!0),A(null);try{await Wc(x,{allowedAdminEmails:$v(a.trim().toLowerCase())}),A("Admin email added."),l("")}catch(J){console.error(J),A("Failed to add email.")}finally{p(!1)}}},X=async tt=>{if(tt.preventDefault(),!!u){p(!0),A(null);try{await Wc(x,{allowedAdminUids:$v(u.trim())}),A("Admin UID added."),d("")}catch(J){console.error(J),A("Failed to add UID.")}finally{p(!1)}}};return M.jsxs("div",{className:"space-y-3",children:[M.jsxs("form",{onSubmit:B,className:"flex items-end gap-2",children:[M.jsxs("div",{className:"flex-1",children:[M.jsx("label",{className:"block text-sm text-gray-300",children:"Add admin by email"}),M.jsx("input",{value:a,onChange:tt=>l(tt.target.value),type:"email",placeholder:"crew@example.com",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),M.jsx("button",{disabled:g||!a,className:"py-2 px-3 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Add"})]}),M.jsxs("form",{onSubmit:X,className:"flex items-end gap-2",children:[M.jsxs("div",{className:"flex-1",children:[M.jsx("label",{className:"block text-sm text-gray-300",children:"Add admin by UID"}),M.jsx("input",{value:u,onChange:tt=>d(tt.target.value),type:"text",placeholder:"Paste Firebase UID",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),M.jsx("button",{disabled:g||!u,className:"py-2 px-3 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Add"})]}),v&&M.jsx("div",{className:"text-sm text-gray-300",children:v}),M.jsx("div",{className:"text-xs text-gray-400",children:"Tip: Ask the user to copy their UID from the header or provide their account email."})]})}function S2({djs:r,onDjClick:t,onDragStart:i,onDragOver:a,onDragEnter:l,onDragLeave:u,onDrop:d,isDropZoneActive:g,disabled:p}){return M.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg flex-grow",children:[M.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center",children:[M.jsx(pT,{className:"w-6 h-6 mr-3 text-blue-400"}),"Unassigned DJs"]}),M.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:r.length===0?M.jsx("p",{className:"text-gray-400",children:"No unassigned DJs. Register one!"}):r.map(v=>M.jsx("div",{children:M.jsx(_T,{dj:v,onClick:()=>t(v),isDraggable:!p,onDragStart:A=>i(A,{from:"pool",dj:v})})},v.id))}),M.jsx("div",{onDragOver:a,onDragEnter:l,onDragLeave:u,onDrop:d,className:`mt-6 p-4 border-2 border-dashed rounded-lg text-center transition-all duration-200 ${g?"border-red-500 bg-red-900/50":"border-gray-600"}`,children:M.jsxs("div",{className:"flex flex-col items-center justify-center pointer-events-none",children:[M.jsx(u2,{className:`w-8 h-8 ${g?"text-red-400":"text-gray-500"}`}),M.jsx("p",{className:`mt-2 text-sm ${g?"text-red-300":"text-gray-400"}`,children:"Drag a DJ here to unassign"})]})})]})}function b2({schedule:r,djs:t,onDjClick:i,onDragStart:a,onDragOver:l,onDragEnter:u,onDragEnterSlot:d,onDragLeave:g,onDrop:p,isDropZoneActive:v,disabled:A,activeRange:S}){return M.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[M.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[M.jsx(a2,{className:"w-6 h-6 mr-3 text-blue-400"}),r.name," Set Times"]}),M.jsx("p",{className:"text-xs text-gray-400 mb-4",children:"Tips: Drag to swap. Hold Shift while dropping to fill all slots in the range. Hold Alt to overlap into a slot without replacing."}),M.jsx("div",{className:"space-y-4",children:r.timeSlots.map((x,B)=>M.jsx("div",{children:M.jsx(w2,{slot:x,slotIndex:B,allDjs:t,onDjClick:i,onDragStart:a,onDragOver:l,onDragEnter:u,onDragEnterSlot:d,onDragLeave:g,onDrop:p,disabled:A,activeRange:S})},B))})]})}function w2({slot:r,slotIndex:t,allDjs:i,onDjClick:a,onDragStart:l,onDragOver:u,onDragEnter:d,onDragEnterSlot:g,onDragLeave:p,onDrop:v,disabled:A,activeRange:S}){const[x,B]=bt.useState(!1),X=r.djId&&i.find(it=>it.id===r.djId)||null,tt=S?t>=S.start&&t<=S.end:!1,J=it=>{it.preventDefault(),it.stopPropagation(),B(!0),d(it),g(it,t)},ot=it=>{it.preventDefault(),it.stopPropagation(),B(!1),p(it)},_t=it=>{it.preventDefault(),it.stopPropagation(),B(!1),v(it,t)};return M.jsxs("div",{className:`flex items-center bg-gray-700 rounded-lg p-3 transition-all duration-200 ${x||tt?"ring-2 ring-blue-500 bg-gray-600":""}`,onDragOver:u,onDragEnter:J,onDragLeave:ot,onDrop:_t,children:[M.jsxs("div",{className:"w-32 flex-shrink-0 text-blue-300 font-mono flex items-center",children:[M.jsx(o2,{className:"w-4 h-4 mr-2"}),r.time]}),M.jsxs("div",{className:"flex-grow",children:[X?M.jsx(_T,{dj:X,onClick:()=>a(X),isDraggable:!A,onDragStart:it=>l(it,{from:"slot",slotIndex:t,djId:X.id,djName:X.djName})}):M.jsx("div",{className:"text-center text-gray-500 p-3 border border-dashed border-gray-600 rounded-md",children:"Empty Slot"}),r.guests&&r.guests.length>0&&M.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:r.guests.map(it=>M.jsxs("span",{className:"text-xs bg-gray-900 border border-gray-600 rounded px-2 py-1 text-gray-200",children:["+ ",it.djName]},it.djId))})]})]})}function _T({dj:r,onClick:t,isDraggable:i,onDragStart:a}){var u;const l=`https://placehold.co/40x40/374151/9CA3AF?text=${encodeURIComponent(((u=r.djName)==null?void 0:u.charAt(0))||"D")}`;return M.jsxs("div",{draggable:i,onDragStart:a,className:`flex items-center bg-gray-900 p-2 rounded-md shadow-sm ${i?"cursor-move":"cursor-pointer"} border border-gray-700 hover:bg-gray-800 transition-colors`,children:[M.jsx(l2,{className:"w-5 h-5 mr-2 text-gray-500 flex-shrink-0"}),M.jsx("img",{src:r.photoUrl||l,alt:r.djName,onError:d=>{d.currentTarget.src=l},className:"w-10 h-10 rounded-full object-cover mr-3 flex-shrink-0"}),M.jsxs("div",{className:"flex-grow min-w-0",onClick:t,children:[M.jsx("p",{className:"text-md font-semibold text-white truncate",children:r.djName}),M.jsx("p",{className:"text-sm text-gray-400 truncate",children:r.realName})]})]})}function R2({dj:r,onClose:t}){const i="https://placehold.co/600x400/374151/9CA3AF?text=No+Photo";return M.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-75 backdrop-blur-sm",onClick:t,children:M.jsxs("div",{className:"bg-gray-800 w-full max-w-lg rounded-xl shadow-2xl overflow-hidden",onClick:a=>a.stopPropagation(),children:[M.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[M.jsxs("h2",{className:"text-2xl font-bold text-blue-400 flex items-center",children:[M.jsx(pT,{className:"w-6 h-6 mr-3"}),r.djName]}),M.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white rounded-full p-1 transition-colors",children:M.jsx(yT,{className:"w-6 h-6"})})]}),M.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[M.jsx("img",{src:r.photoUrl||i,alt:r.djName,onError:a=>{a.currentTarget.src=i},className:"w-full h-64 object-cover rounded-lg bg-gray-700"}),M.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[M.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[M.jsx(c2,{className:"w-4 h-4 mr-2"}),"Real Name"]}),M.jsx("p",{className:"text-lg text-white",children:r.realName})]}),r.info&&M.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[M.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[M.jsx(lm,{className:"w-4 h-4 mr-2"}),"Bio / Info"]}),M.jsx("p",{className:"text-white whitespace-pre-wrap",children:r.info})]}),r.visualUrl&&M.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[M.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[M.jsx(f2,{className:"w-4 h-4 mr-2"}),"Visuals / Content"]}),M.jsx("a",{href:r.visualUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline truncate block",children:r.visualUrl})]})]})]})})}const I2=document.getElementById("root"),C2=eS.createRoot(I2);C2.render(M.jsx(m2,{}));
