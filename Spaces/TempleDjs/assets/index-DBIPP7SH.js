(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var _d={exports:{}},ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function zA(){if(y_)return ol;y_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:u}}return ol.Fragment=t,ol.jsx=i,ol.jsxs=i,ol}var __;function jA(){return __||(__=1,_d.exports=zA()),_d.exports}var U=jA(),vd={exports:{}},ll={},Ed={exports:{}},Td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function BA(){return v_||(v_=1,(function(r){function t(F,it){var ht=F.length;F.push(it);t:for(;0<ht;){var kt=ht-1>>>1,Pt=F[kt];if(0<l(Pt,it))F[kt]=it,F[ht]=Pt,ht=kt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var it=F[0],ht=F.pop();if(ht!==it){F[0]=ht;t:for(var kt=0,Pt=F.length,N=Pt>>>1;kt<N;){var K=2*(kt+1)-1,Q=F[K],tt=K+1,st=F[tt];if(0>l(Q,ht))tt<Pt&&0>l(st,Q)?(F[kt]=st,F[tt]=ht,kt=tt):(F[kt]=Q,F[K]=ht,kt=K);else if(tt<Pt&&0>l(st,ht))F[kt]=st,F[tt]=ht,kt=tt;else break t}}return it}function l(F,it){var ht=F.sortIndex-it.sortIndex;return ht!==0?ht:F.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],v=[],A=1,b=null,x=3,H=!1,Z=!1,et=!1,Y=!1,ot=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Nt(F){for(var it=i(v);it!==null;){if(it.callback===null)a(v);else if(it.startTime<=F)a(v),it.sortIndex=it.expirationTime,t(p,it);else break;it=i(v)}}function Wt(F){if(et=!1,Nt(F),!Z)if(i(p)!==null)Z=!0,Et||(Et=!0,k());else{var it=i(v);it!==null&&_e(Wt,it.startTime-F)}}var Et=!1,C=-1,S=5,R=-1;function O(){return Y?!0:!(r.unstable_now()-R<S)}function M(){if(Y=!1,Et){var F=r.unstable_now();R=F;var it=!0;try{t:{Z=!1,et&&(et=!1,yt(C),C=-1),H=!0;var ht=x;try{e:{for(Nt(F),b=i(p);b!==null&&!(b.expirationTime>F&&O());){var kt=b.callback;if(typeof kt=="function"){b.callback=null,x=b.priorityLevel;var Pt=kt(b.expirationTime<=F);if(F=r.unstable_now(),typeof Pt=="function"){b.callback=Pt,Nt(F),it=!0;break e}b===i(p)&&a(p),Nt(F)}else a(p);b=i(p)}if(b!==null)it=!0;else{var N=i(v);N!==null&&_e(Wt,N.startTime-F),it=!1}}break t}finally{b=null,x=ht,H=!1}it=void 0}}finally{it?k():Et=!1}}}var k;if(typeof dt=="function")k=function(){dt(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,fe=I.port2;I.port1.onmessage=M,k=function(){fe.postMessage(null)}}else k=function(){ot(M,0)};function _e(F,it){C=ot(function(){F(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(F){switch(x){case 1:case 2:case 3:var it=3;break;default:it=x}var ht=x;x=it;try{return F()}finally{x=ht}},r.unstable_requestPaint=function(){Y=!0},r.unstable_runWithPriority=function(F,it){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=x;x=F;try{return it()}finally{x=ht}},r.unstable_scheduleCallback=function(F,it,ht){var kt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?kt+ht:kt):ht=kt,F){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=ht+Pt,F={id:A++,callback:it,priorityLevel:F,startTime:ht,expirationTime:Pt,sortIndex:-1},ht>kt?(F.sortIndex=ht,t(v,F),i(p)===null&&F===i(v)&&(et?(yt(C),C=-1):et=!0,_e(Wt,ht-kt))):(F.sortIndex=Pt,t(p,F),Z||H||(Z=!0,Et||(Et=!0,k()))),F},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(F){var it=x;return function(){var ht=x;x=it;try{return F.apply(this,arguments)}finally{x=ht}}}})(Td)),Td}var E_;function qA(){return E_||(E_=1,Ed.exports=BA()),Ed.exports}var Ad={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function HA(){if(T_)return Tt;T_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function H(N){return N===null||typeof N!="object"?null:(N=x&&N[x]||N["@@iterator"],typeof N=="function"?N:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,Y={};function ot(N,K,Q){this.props=N,this.context=K,this.refs=Y,this.updater=Q||Z}ot.prototype.isReactComponent={},ot.prototype.setState=function(N,K){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,K,"setState")},ot.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function yt(){}yt.prototype=ot.prototype;function dt(N,K,Q){this.props=N,this.context=K,this.refs=Y,this.updater=Q||Z}var Nt=dt.prototype=new yt;Nt.constructor=dt,et(Nt,ot.prototype),Nt.isPureReactComponent=!0;var Wt=Array.isArray;function Et(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(N,K,Q){var tt=Q.ref;return{$$typeof:r,type:N,key:K,ref:tt!==void 0?tt:null,props:Q}}function O(N,K){return R(N.type,K,N.props)}function M(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function k(N){var K={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(Q){return K[Q]})}var I=/\/+/g;function fe(N,K){return typeof N=="object"&&N!==null&&N.key!=null?k(""+N.key):K.toString(36)}function _e(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Et,Et):(N.status="pending",N.then(function(K){N.status==="pending"&&(N.status="fulfilled",N.value=K)},function(K){N.status==="pending"&&(N.status="rejected",N.reason=K)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function F(N,K,Q,tt,st){var ut=typeof N;(ut==="undefined"||ut==="boolean")&&(N=null);var vt=!1;if(N===null)vt=!0;else switch(ut){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(N.$$typeof){case r:case t:vt=!0;break;case A:return vt=N._init,F(vt(N._payload),K,Q,tt,st)}}if(vt)return st=st(N),vt=tt===""?"."+fe(N,0):tt,Wt(st)?(Q="",vt!=null&&(Q=vt.replace(I,"$&/")+"/"),F(st,K,Q,"",function(de){return de})):st!=null&&(M(st)&&(st=O(st,Q+(st.key==null||N&&N.key===st.key?"":(""+st.key).replace(I,"$&/")+"/")+vt)),K.push(st)),1;vt=0;var Xt=tt===""?".":tt+":";if(Wt(N))for(var zt=0;zt<N.length;zt++)tt=N[zt],ut=Xt+fe(tt,zt),vt+=F(tt,K,Q,ut,st);else if(zt=H(N),typeof zt=="function")for(N=zt.call(N),zt=0;!(tt=N.next()).done;)tt=tt.value,ut=Xt+fe(tt,zt++),vt+=F(tt,K,Q,ut,st);else if(ut==="object"){if(typeof N.then=="function")return F(_e(N),K,Q,tt,st);throw K=String(N),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return vt}function it(N,K,Q){if(N==null)return N;var tt=[],st=0;return F(N,tt,"","",function(ut){return K.call(Q,ut,st++)}),tt}function ht(N){if(N._status===-1){var K=N._result;K=K(),K.then(function(Q){(N._status===0||N._status===-1)&&(N._status=1,N._result=Q)},function(Q){(N._status===0||N._status===-1)&&(N._status=2,N._result=Q)}),N._status===-1&&(N._status=0,N._result=K)}if(N._status===1)return N._result.default;throw N._result}var kt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Pt={map:it,forEach:function(N,K,Q){it(N,function(){K.apply(this,arguments)},Q)},count:function(N){var K=0;return it(N,function(){K++}),K},toArray:function(N){return it(N,function(K){return K})||[]},only:function(N){if(!M(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Tt.Activity=b,Tt.Children=Pt,Tt.Component=ot,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=dt,Tt.StrictMode=a,Tt.Suspense=p,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return C.H.useMemoCache(N)}},Tt.cache=function(N){return function(){return N.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(N,K,Q){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var tt=et({},N.props),st=N.key;if(K!=null)for(ut in K.key!==void 0&&(st=""+K.key),K)!S.call(K,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&K.ref===void 0||(tt[ut]=K[ut]);var ut=arguments.length-2;if(ut===1)tt.children=Q;else if(1<ut){for(var vt=Array(ut),Xt=0;Xt<ut;Xt++)vt[Xt]=arguments[Xt+2];tt.children=vt}return R(N.type,st,tt)},Tt.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Tt.createElement=function(N,K,Q){var tt,st={},ut=null;if(K!=null)for(tt in K.key!==void 0&&(ut=""+K.key),K)S.call(K,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(st[tt]=K[tt]);var vt=arguments.length-2;if(vt===1)st.children=Q;else if(1<vt){for(var Xt=Array(vt),zt=0;zt<vt;zt++)Xt[zt]=arguments[zt+2];st.children=Xt}if(N&&N.defaultProps)for(tt in vt=N.defaultProps,vt)st[tt]===void 0&&(st[tt]=vt[tt]);return R(N,ut,st)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(N){return{$$typeof:g,render:N}},Tt.isValidElement=M,Tt.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:ht}},Tt.memo=function(N,K){return{$$typeof:v,type:N,compare:K===void 0?null:K}},Tt.startTransition=function(N){var K=C.T,Q={};C.T=Q;try{var tt=N(),st=C.S;st!==null&&st(Q,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Et,kt)}catch(ut){kt(ut)}finally{K!==null&&Q.types!==null&&(K.types=Q.types),C.T=K}},Tt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Tt.use=function(N){return C.H.use(N)},Tt.useActionState=function(N,K,Q){return C.H.useActionState(N,K,Q)},Tt.useCallback=function(N,K){return C.H.useCallback(N,K)},Tt.useContext=function(N){return C.H.useContext(N)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(N,K){return C.H.useDeferredValue(N,K)},Tt.useEffect=function(N,K){return C.H.useEffect(N,K)},Tt.useEffectEvent=function(N){return C.H.useEffectEvent(N)},Tt.useId=function(){return C.H.useId()},Tt.useImperativeHandle=function(N,K,Q){return C.H.useImperativeHandle(N,K,Q)},Tt.useInsertionEffect=function(N,K){return C.H.useInsertionEffect(N,K)},Tt.useLayoutEffect=function(N,K){return C.H.useLayoutEffect(N,K)},Tt.useMemo=function(N,K){return C.H.useMemo(N,K)},Tt.useOptimistic=function(N,K){return C.H.useOptimistic(N,K)},Tt.useReducer=function(N,K,Q){return C.H.useReducer(N,K,Q)},Tt.useRef=function(N){return C.H.useRef(N)},Tt.useState=function(N){return C.H.useState(N)},Tt.useSyncExternalStore=function(N,K,Q){return C.H.useSyncExternalStore(N,K,Q)},Tt.useTransition=function(){return C.H.useTransition()},Tt.version="19.2.0",Tt}var A_;function lm(){return A_||(A_=1,Ad.exports=HA()),Ad.exports}var Sd={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function FA(){if(S_)return Ze;S_=1;var r=lm();function t(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,v,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:p,containerInfo:v,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ze.createPortal=function(p,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return u(p,v,null,A)},Ze.flushSync=function(p){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=v,a.p=A,a.d.f()}},Ze.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(p,v))},Ze.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Ze.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var A=v.as,b=g(A,v.crossOrigin),x=typeof v.integrity=="string"?v.integrity:void 0,H=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:H}):A==="script"&&a.d.X(p,{crossOrigin:b,integrity:x,fetchPriority:H,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ze.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);a.d.M(p,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(p)},Ze.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,b=g(A,v.crossOrigin);a.d.L(p,A,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ze.preloadModule=function(p,v){if(typeof p=="string")if(v){var A=g(v.as,v.crossOrigin);a.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(p)},Ze.requestFormReset=function(p){a.d.r(p)},Ze.unstable_batchedUpdates=function(p,v){return p(v)},Ze.useFormState=function(p,v,A){return d.H.useFormState(p,v,A)},Ze.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ze.version="19.2.0",Ze}var b_;function GA(){if(b_)return Sd.exports;b_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Sd.exports=FA(),Sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function QA(){if(w_)return ll;w_=1;var r=qA(),t=lm(),i=GA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return p(h),e;if(f===o)return p(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===s){y=!0,s=h,o=f;break}if(E===o){y=!0,o=h,s=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===s){y=!0,s=f,o=h;break}if(E===o){y=!0,o=f,s=h;break}E=E.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),yt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Nt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ot:return"Profiler";case Y:return"StrictMode";case Wt:return"Suspense";case Et:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case dt:return e.displayName||"Context";case yt:return(e._context.displayName||"Context")+".Consumer";case Nt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:fe(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return fe(e(n))}catch{}}return null}var _e=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},kt=[],Pt=-1;function N(e){return{current:e}}function K(e){0>Pt||(e.current=kt[Pt],kt[Pt]=null,Pt--)}function Q(e,n){Pt++,kt[Pt]=e.current,e.current=n}var tt=N(null),st=N(null),ut=N(null),vt=N(null);function Xt(e,n){switch(Q(ut,n),Q(st,e),Q(tt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?jy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=jy(n),e=By(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(tt),Q(tt,e)}function zt(){K(tt),K(st),K(ut)}function de(e){e.memoizedState!==null&&Q(vt,e);var n=tt.current,s=By(n,e.type);n!==s&&(Q(st,e),Q(tt,s))}function Le(e){st.current===e&&(K(tt),K(st)),vt.current===e&&(K(vt),il._currentValue=ht)}var ve,se;function Xe(e){if(ve===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ve=n&&n[1]||"",se=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+e+se}var pi=!1;function nr(e,n){if(!e||pi)return"";pi=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(B){var j=B}Reflect.construct(e,[],$)}else{try{$.call()}catch(B){j=B}e.call($.prototype)}}else{try{throw Error()}catch(B){j=B}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(B){if(B&&j&&typeof B.stack=="string")return[B.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var w=y.split(`
`),z=E.split(`
`);for(h=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===w.length||h===z.length)for(o=w.length-1,h=z.length-1;1<=o&&0<=h&&w[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(w[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||w[o]!==z[h]){var G=`
`+w[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{pi=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Xe(s):""}function ro(e,n){switch(e.tag){case 26:case 27:case 5:return Xe(e.type);case 16:return Xe("Lazy");case 13:return e.child!==n&&n!==null?Xe("Suspense Fallback"):Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 15:return nr(e.type,!1);case 11:return nr(e.type.render,!1);case 1:return nr(e.type,!0);case 31:return Xe("Activity");default:return""}}function Fl(e){try{var n="",s=null;do n+=ro(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Qs=Object.prototype.hasOwnProperty,ss=r.unstable_scheduleCallback,Ks=r.unstable_cancelCallback,gh=r.unstable_shouldYield,so=r.unstable_requestPaint,Pe=r.unstable_now,Gl=r.unstable_getCurrentPriorityLevel,Ie=r.unstable_ImmediatePriority,Oe=r.unstable_UserBlockingPriority,yi=r.unstable_NormalPriority,Ql=r.unstable_LowPriority,ao=r.unstable_IdlePriority,ph=r.log,as=r.unstable_setDisableYieldValue,ir=null,$e=null;function Dn(e){if(typeof ph=="function"&&as(e),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(ir,e)}catch{}}var rn=Math.clz32?Math.clz32:Kl,yh=Math.log,oo=Math.LN2;function Kl(e){return e>>>=0,e===0?32:31-(yh(e)/oo|0)|0}var os=256,Zn=262144,rr=4194304;function Bn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Nn(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Bn(o):(y&=E,y!==0?h=Bn(y):s||(s=E&~e,s!==0&&(h=Bn(s))))):(E=o&~f,E!==0?h=Bn(E):y!==0?h=Bn(y):s||(s=o&~e,s!==0&&(h=Bn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function sr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ys(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lo(){var e=rr;return rr<<=1,(rr&62914560)===0&&(rr=4194304),e}function _i(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ar(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ze(e,n,s,o,h,f){var y=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,z=e.hiddenUpdates;for(s=y&~s;0<s;){var G=31-rn(s),$=1<<G;E[G]=0,w[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var B=j[G];B!==null&&(B.lane&=-536870913)}s&=~$}o!==0&&uo(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function uo(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-rn(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function or(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-rn(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function lr(e,n){var s=n&-n;return s=(s&42)!==0?1:co(s),(s&(e.suspendedLanes|n))!==0?0:s}function co(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ho(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function vi(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:c_(e.type))}function Yl(e,n){var s=it.p;try{return it.p=e,n()}finally{it.p=s}}var Wn=Math.random().toString(36).slice(2),le="__reactFiber$"+Wn,je="__reactProps$"+Wn,ti="__reactContainer$"+Wn,ur="__reactEvents$"+Wn,ei="__reactListeners$"+Wn,Xl="__reactHandles$"+Wn,fo="__reactResources$"+Wn,Ei="__reactMarker$"+Wn;function ls(e){delete e[le],delete e[je],delete e[ur],delete e[ei],delete e[Xl]}function Ti(e){var n=e[le];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ti]||s[le]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Yy(e);e!==null;){if(s=e[le])return s;e=Yy(e)}return n}e=s,s=e.parentNode}return null}function Ai(e){if(e=e[le]||e[ti]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function us(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function qn(e){var n=e[fo];return n||(n=e[fo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function me(e){e[Ei]=!0}var Xs=new Set,cr={};function sn(e,n){ni(e,n),ni(e+"Capture",n)}function ni(e,n){for(cr[e]=n,e=0;e<n.length;e++)Xs.add(n[e])}var _h=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mo={},go={};function $l(e){return Qs.call(go,e)?!0:Qs.call(mo,e)?!1:_h.test(e)?go[e]=!0:(mo[e]=!0,!1)}function hr(e,n,s){if($l(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function fr(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function On(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function an(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jl(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vh(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $s(e){if(!e._valueTracker){var n=Jl(e)?"checked":"value";e._valueTracker=vh(e,n,""+e[n])}}function po(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=Jl(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Si=/[\n"\\]/g;function ue(e){return e.replace(Si,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function dr(e,n,s,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+an(n)):e.value!==""+an(n)&&(e.value=""+an(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?Zs(e,y,an(n)):s!=null?Zs(e,y,an(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+an(E):e.removeAttribute("name")}function cs(e,n,s,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$s(e);return}s=s!=null?""+an(s):"",n=n!=null?""+an(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),$s(e)}function Zs(e,n,s){n==="number"&&Js(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function jt(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+an(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function hs(e,n,s){if(n!=null&&(n=""+an(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+an(s):""}function mr(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(_e(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=an(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),$s(e)}function xn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Eh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||Eh.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Zl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&yo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&yo(e,f,n[f])}function _o(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Th=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ah=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ii(e){return Ah.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function xe(){}var Ws=null;function ta(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bi=null,vn=null;function Wl(e){var n=Ai(e);if(n&&(e=n.stateNode)){var s=e[je]||null;t:switch(e=n.stateNode,n.type){case"input":if(dr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ue(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[je]||null;if(!h)throw Error(a(90));dr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&po(o)}break t;case"textarea":hs(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&jt(e,!!s.multiple,n,!1)}}}var vo=!1;function tu(e,n,s){if(vo)return e(n,s);vo=!0;try{var o=e(n);return o}finally{if(vo=!1,(bi!==null||vn!==null)&&($u(),bi&&(n=bi,e=vn,vn=bi=null,Wl(n),e)))for(n=0;n<e.length;n++)Wl(e[n])}}function hn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[je]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eo=!1;if(Hn)try{var ri={};Object.defineProperty(ri,"passive",{get:function(){Eo=!0}}),window.addEventListener("test",ri,ri),window.removeEventListener("test",ri,ri)}catch{Eo=!1}var En=null,ea=null,si=null;function gr(){if(si)return si;var e,n=ea,s=n.length,o,h="value"in En?En.value:En.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var y=s-e;for(o=1;o<=y&&n[s-o]===h[f-o];o++);return si=h.slice(e,1<o?1-o:void 0)}function fs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function pr(){return!0}function ee(){return!1}function Je(e){function n(s,o,h,f,y){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?pr:ee,this.isPropagationStopped=ee,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),n}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ds=Je(wi),yr=b({},wi,{view:0,detail:0}),eu=Je(yr),_r,na,on,ms=b({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&e.type==="mousemove"?(_r=e.screenX-on.screenX,na=e.screenY-on.screenY):na=_r=0,on=e),_r)},movementY:function(e){return"movementY"in e?e.movementY:na}}),nu=Je(ms),gs=b({},ms,{dataTransfer:0}),iu=Je(gs),To=b({},yr,{relatedTarget:0}),vr=Je(To),ru=b({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),ia=Je(ru),Sh=b({},wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),su=Je(Sh),ps=b({},wi,{data:0}),Ao=Je(ps),au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},So={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ou(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bo[e])?!!n[e]:!1}function Er(){return ou}var lu=b({},yr,{key:function(e){if(e.key){var n=au[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?So[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return e.type==="keypress"?fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uu=Je(lu),Ri=b({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wo=Je(Ri),cu=b({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),hu=Je(cu),fu=b({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ra=Je(fu),ln=b({},ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),du=Je(ln),mu=b({},wi,{newState:0,oldState:0}),Tr=Je(mu),c=[9,13,27,32],m=Hn&&"CompositionEvent"in window,_=null;Hn&&"documentMode"in document&&(_=document.documentMode);var T=Hn&&"TextEvent"in window&&!_,L=Hn&&(!m||_&&8<_&&11>=_),q=" ",nt=!1;function Gt(e,n){switch(e){case"keyup":return c.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ee(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rt=!1;function Me(e,n){switch(e){case"compositionend":return Ee(n);case"keypress":return n.which!==32?null:(nt=!0,q);case"textInput":return e=n.data,e===q&&nt?null:e;default:return null}}function Ve(e,n){if(Rt)return e==="compositionend"||!m&&Gt(e,n)?(e=gr(),si=ea=En=null,Rt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return L&&n.locale!=="ko"?null:n.data;default:return null}}var Ar={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fn(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ar[e.type]:n==="textarea"}function ys(e,n,s,o){bi?vn?vn.push(o):vn=[o]:bi=o,n=ic(n,"onChange"),0<n.length&&(s=new ds("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Ii=null,Ro=null;function fT(e){Vy(e,0)}function gu(e){var n=us(e);if(po(n))return e}function Wm(e,n){if(e==="change")return n}var tg=!1;if(Hn){var bh;if(Hn){var wh="oninput"in document;if(!wh){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),wh=typeof eg.oninput=="function"}bh=wh}else bh=!1;tg=bh&&(!document.documentMode||9<document.documentMode)}function ng(){Ii&&(Ii.detachEvent("onpropertychange",ig),Ro=Ii=null)}function ig(e){if(e.propertyName==="value"&&gu(Ro)){var n=[];ys(n,Ro,e,ta(e)),tu(fT,n)}}function dT(e,n,s){e==="focusin"?(ng(),Ii=n,Ro=s,Ii.attachEvent("onpropertychange",ig)):e==="focusout"&&ng()}function mT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gu(Ro)}function gT(e,n){if(e==="click")return gu(n)}function pT(e,n){if(e==="input"||e==="change")return gu(n)}function yT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tn=typeof Object.is=="function"?Object.is:yT;function Io(e,n){if(Tn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Qs.call(n,h)||!Tn(e[h],n[h]))return!1}return!0}function rg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sg(e,n){var s=rg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=rg(s)}}function ag(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ag(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function og(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Js(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Js(e.document)}return n}function Rh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var _T=Hn&&"documentMode"in document&&11>=document.documentMode,sa=null,Ih=null,Co=null,Ch=!1;function lg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ch||sa==null||sa!==Js(o)||(o=sa,"selectionStart"in o&&Rh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Co&&Io(Co,o)||(Co=o,o=ic(Ih,"onSelect"),0<o.length&&(n=new ds("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=sa)))}function _s(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var aa={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},Dh={},ug={};Hn&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function vs(e){if(Dh[e])return Dh[e];if(!aa[e])return e;var n=aa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in ug)return Dh[e]=n[s];return e}var cg=vs("animationend"),hg=vs("animationiteration"),fg=vs("animationstart"),vT=vs("transitionrun"),ET=vs("transitionstart"),TT=vs("transitioncancel"),dg=vs("transitionend"),mg=new Map,Nh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nh.push("scrollEnd");function Fn(e,n){mg.set(e,n),sn(n,[e])}var pu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],oa=0,Oh=0;function yu(){for(var e=oa,n=Oh=oa=0;n<e;){var s=Mn[n];Mn[n++]=null;var o=Mn[n];Mn[n++]=null;var h=Mn[n];Mn[n++]=null;var f=Mn[n];if(Mn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&gg(s,h,f)}}function _u(e,n,s,o){Mn[oa++]=e,Mn[oa++]=n,Mn[oa++]=s,Mn[oa++]=o,Oh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function xh(e,n,s,o){return _u(e,n,s,o),vu(e)}function Es(e,n){return _u(e,null,null,n),vu(e)}function gg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-rn(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function vu(e){if(50<$o)throw $o=0,qf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var la={};function AT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(e,n,s,o){return new AT(e,n,s,o)}function Mh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ci(e,n){var s=e.alternate;return s===null?(s=An(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function pg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Eu(e,n,s,o,h,f){var y=0;if(o=e,typeof e=="function")Mh(e)&&(y=1);else if(typeof e=="string")y=IA(e,s,tt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=An(31,s,n,h),e.elementType=R,e.lanes=f,e;case et:return Ts(s.children,h,f,n);case Y:y=8,h|=24;break;case ot:return e=An(12,s,n,h|2),e.elementType=ot,e.lanes=f,e;case Wt:return e=An(13,s,n,h),e.elementType=Wt,e.lanes=f,e;case Et:return e=An(19,s,n,h),e.elementType=Et,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:y=10;break t;case yt:y=9;break t;case Nt:y=11;break t;case C:y=14;break t;case S:y=16,o=null;break t}y=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=An(y,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ts(e,n,s,o){return e=An(7,e,o,n),e.lanes=s,e}function Vh(e,n,s){return e=An(6,e,null,n),e.lanes=s,e}function yg(e){var n=An(18,null,null,0);return n.stateNode=e,n}function Uh(e,n,s){return n=An(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var _g=new WeakMap;function Vn(e,n){if(typeof e=="object"&&e!==null){var s=_g.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Fl(n)},_g.set(e,n),n)}return{value:e,source:n,stack:Fl(n)}}var ua=[],ca=0,Tu=null,Do=0,Un=[],kn=0,Sr=null,ai=1,oi="";function Di(e,n){ua[ca++]=Do,ua[ca++]=Tu,Tu=e,Do=n}function vg(e,n,s){Un[kn++]=ai,Un[kn++]=oi,Un[kn++]=Sr,Sr=e;var o=ai;e=oi;var h=32-rn(o)-1;o&=~(1<<h),s+=1;var f=32-rn(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,ai=1<<32-rn(n)+h|s<<h|o,oi=f+e}else ai=1<<f|s<<h|o,oi=e}function kh(e){e.return!==null&&(Di(e,1),vg(e,1,0))}function Lh(e){for(;e===Tu;)Tu=ua[--ca],ua[ca]=null,Do=ua[--ca],ua[ca]=null;for(;e===Sr;)Sr=Un[--kn],Un[kn]=null,oi=Un[--kn],Un[kn]=null,ai=Un[--kn],Un[kn]=null}function Eg(e,n){Un[kn++]=ai,Un[kn++]=oi,Un[kn++]=Sr,ai=n.id,oi=n.overflow,Sr=e}var Be=null,ne=null,Vt=!1,br=null,Ln=!1,Ph=Error(a(519));function wr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw No(Vn(n,e)),Ph}function Tg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[le]=e,n[je]=o,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<Zo.length;s++)Dt(Zo[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),cs(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),mr(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Py(n.textContent,s)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=xe),n=!0):n=!1,n||wr(e,!0)}function Ag(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Be=Be.return}}function ha(e){if(e!==Be)return!1;if(!Vt)return Ag(e),Vt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||id(e.type,e.memoizedProps)),s=!s),s&&ne&&wr(e),Ag(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=Ky(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=Ky(e)}else n===27?(n=ne,zr(e.type)?(e=ld,ld=null,ne=e):ne=n):ne=Be?zn(e.stateNode.nextSibling):null;return!0}function As(){ne=Be=null,Vt=!1}function zh(){var e=br;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),br=null),e}function No(e){br===null?br=[e]:br.push(e)}var jh=N(null),Ss=null,Ni=null;function Rr(e,n,s){Q(jh,n._currentValue),n._currentValue=s}function Oi(e){e._currentValue=jh.current,K(jh)}function Bh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function qh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Bh(f.return,s,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),Bh(y,s,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function fa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=h.type;Tn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===vt.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(il):e=[il])}h=h.return}e!==null&&qh(n,e,s,o),n.flags|=262144}function Au(e){for(e=e.firstContext;e!==null;){if(!Tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bs(e){Ss=e,Ni=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Sg(Ss,e)}function Su(e,n){return Ss===null&&bs(e),Sg(e,n)}function Sg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ni===null){if(e===null)throw Error(a(308));Ni=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ni=Ni.next=n;return s}var ST=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},bT=r.unstable_scheduleCallback,wT=r.unstable_NormalPriority,Te={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hh(){return{controller:new ST,data:new Map,refCount:0}}function Oo(e){e.refCount--,e.refCount===0&&bT(wT,function(){e.controller.abort()})}var xo=null,Fh=0,da=0,ma=null;function RT(e,n){if(xo===null){var s=xo=[];Fh=0,da=Yf(),ma={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Fh++,n.then(bg,bg),n}function bg(){if(--Fh===0&&xo!==null){ma!==null&&(ma.status="fulfilled");var e=xo;xo=null,da=0,ma=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function IT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var wg=F.S;F.S=function(e,n){ly=Pe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&RT(e,n),wg!==null&&wg(e,n)};var ws=N(null);function Gh(){var e=ws.current;return e!==null?e:te.pooledCache}function bu(e,n){n===null?Q(ws,ws.current):Q(ws,n.pool)}function Rg(){var e=Gh();return e===null?null:{parent:Te._currentValue,pool:e}}var ga=Error(a(460)),Qh=Error(a(474)),wu=Error(a(542)),Ru={then:function(){}};function Ig(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Cg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(xe,xe),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ng(e),e;default:if(typeof n.status=="string")n.then(xe,xe);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ng(e),e}throw Is=n,ga}}function Rs(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Is=s,ga):s}}var Is=null;function Dg(){if(Is===null)throw Error(a(459));var e=Is;return Is=null,e}function Ng(e){if(e===ga||e===wu)throw Error(a(483))}var pa=null,Mo=0;function Iu(e){var n=Mo;return Mo+=1,pa===null&&(pa=[]),Cg(pa,e,n)}function Vo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Cu(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Og(e){function n(V,D){if(e){var P=V.deletions;P===null?(V.deletions=[D],V.flags|=16):P.push(D)}}function s(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=Ci(V,D),V.index=0,V.sibling=null,V}function f(V,D,P){return V.index=P,e?(P=V.alternate,P!==null?(P=P.index,P<D?(V.flags|=67108866,D):P):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function y(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,P,X){return D===null||D.tag!==6?(D=Vh(P,V.mode,X),D.return=V,D):(D=h(D,P),D.return=V,D)}function w(V,D,P,X){var ft=P.type;return ft===et?G(V,D,P.props.children,X,P.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Rs(ft)===D.type)?(D=h(D,P.props),Vo(D,P),D.return=V,D):(D=Eu(P.type,P.key,P.props,null,V.mode,X),Vo(D,P),D.return=V,D)}function z(V,D,P,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Uh(P,V.mode,X),D.return=V,D):(D=h(D,P.children||[]),D.return=V,D)}function G(V,D,P,X,ft){return D===null||D.tag!==7?(D=Ts(P,V.mode,X,ft),D.return=V,D):(D=h(D,P),D.return=V,D)}function $(V,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Vh(""+D,V.mode,P),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return P=Eu(D.type,D.key,D.props,null,V.mode,P),Vo(P,D),P.return=V,P;case Z:return D=Uh(D,V.mode,P),D.return=V,D;case S:return D=Rs(D),$(V,D,P)}if(_e(D)||k(D))return D=Ts(D,V.mode,P,null),D.return=V,D;if(typeof D.then=="function")return $(V,Iu(D),P);if(D.$$typeof===dt)return $(V,Su(V,D),P);Cu(V,D)}return null}function j(V,D,P,X){var ft=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(V,D,""+P,X);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===ft?w(V,D,P,X):null;case Z:return P.key===ft?z(V,D,P,X):null;case S:return P=Rs(P),j(V,D,P,X)}if(_e(P)||k(P))return ft!==null?null:G(V,D,P,X,null);if(typeof P.then=="function")return j(V,D,Iu(P),X);if(P.$$typeof===dt)return j(V,D,Su(V,P),X);Cu(V,P)}return null}function B(V,D,P,X,ft){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return V=V.get(P)||null,E(D,V,""+X,ft);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case H:return V=V.get(X.key===null?P:X.key)||null,w(D,V,X,ft);case Z:return V=V.get(X.key===null?P:X.key)||null,z(D,V,X,ft);case S:return X=Rs(X),B(V,D,P,X,ft)}if(_e(X)||k(X))return V=V.get(P)||null,G(D,V,X,ft,null);if(typeof X.then=="function")return B(V,D,P,Iu(X),ft);if(X.$$typeof===dt)return B(V,D,P,Su(D,X),ft);Cu(D,X)}return null}function rt(V,D,P,X){for(var ft=null,Bt=null,ct=D,wt=D=0,xt=null;ct!==null&&wt<P.length;wt++){ct.index>wt?(xt=ct,ct=null):xt=ct.sibling;var qt=j(V,ct,P[wt],X);if(qt===null){ct===null&&(ct=xt);break}e&&ct&&qt.alternate===null&&n(V,ct),D=f(qt,D,wt),Bt===null?ft=qt:Bt.sibling=qt,Bt=qt,ct=xt}if(wt===P.length)return s(V,ct),Vt&&Di(V,wt),ft;if(ct===null){for(;wt<P.length;wt++)ct=$(V,P[wt],X),ct!==null&&(D=f(ct,D,wt),Bt===null?ft=ct:Bt.sibling=ct,Bt=ct);return Vt&&Di(V,wt),ft}for(ct=o(ct);wt<P.length;wt++)xt=B(ct,V,wt,P[wt],X),xt!==null&&(e&&xt.alternate!==null&&ct.delete(xt.key===null?wt:xt.key),D=f(xt,D,wt),Bt===null?ft=xt:Bt.sibling=xt,Bt=xt);return e&&ct.forEach(function(Fr){return n(V,Fr)}),Vt&&Di(V,wt),ft}function gt(V,D,P,X){if(P==null)throw Error(a(151));for(var ft=null,Bt=null,ct=D,wt=D=0,xt=null,qt=P.next();ct!==null&&!qt.done;wt++,qt=P.next()){ct.index>wt?(xt=ct,ct=null):xt=ct.sibling;var Fr=j(V,ct,qt.value,X);if(Fr===null){ct===null&&(ct=xt);break}e&&ct&&Fr.alternate===null&&n(V,ct),D=f(Fr,D,wt),Bt===null?ft=Fr:Bt.sibling=Fr,Bt=Fr,ct=xt}if(qt.done)return s(V,ct),Vt&&Di(V,wt),ft;if(ct===null){for(;!qt.done;wt++,qt=P.next())qt=$(V,qt.value,X),qt!==null&&(D=f(qt,D,wt),Bt===null?ft=qt:Bt.sibling=qt,Bt=qt);return Vt&&Di(V,wt),ft}for(ct=o(ct);!qt.done;wt++,qt=P.next())qt=B(ct,V,wt,qt.value,X),qt!==null&&(e&&qt.alternate!==null&&ct.delete(qt.key===null?wt:qt.key),D=f(qt,D,wt),Bt===null?ft=qt:Bt.sibling=qt,Bt=qt);return e&&ct.forEach(function(PA){return n(V,PA)}),Vt&&Di(V,wt),ft}function Zt(V,D,P,X){if(typeof P=="object"&&P!==null&&P.type===et&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var ft=P.key;D!==null;){if(D.key===ft){if(ft=P.type,ft===et){if(D.tag===7){s(V,D.sibling),X=h(D,P.props.children),X.return=V,V=X;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Rs(ft)===D.type){s(V,D.sibling),X=h(D,P.props),Vo(X,P),X.return=V,V=X;break t}s(V,D);break}else n(V,D);D=D.sibling}P.type===et?(X=Ts(P.props.children,V.mode,X,P.key),X.return=V,V=X):(X=Eu(P.type,P.key,P.props,null,V.mode,X),Vo(X,P),X.return=V,V=X)}return y(V);case Z:t:{for(ft=P.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(V,D.sibling),X=h(D,P.children||[]),X.return=V,V=X;break t}else{s(V,D);break}else n(V,D);D=D.sibling}X=Uh(P,V.mode,X),X.return=V,V=X}return y(V);case S:return P=Rs(P),Zt(V,D,P,X)}if(_e(P))return rt(V,D,P,X);if(k(P)){if(ft=k(P),typeof ft!="function")throw Error(a(150));return P=ft.call(P),gt(V,D,P,X)}if(typeof P.then=="function")return Zt(V,D,Iu(P),X);if(P.$$typeof===dt)return Zt(V,D,Su(V,P),X);Cu(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(V,D.sibling),X=h(D,P),X.return=V,V=X):(s(V,D),X=Vh(P,V.mode,X),X.return=V,V=X),y(V)):s(V,D)}return function(V,D,P,X){try{Mo=0;var ft=Zt(V,D,P,X);return pa=null,ft}catch(ct){if(ct===ga||ct===wu)throw ct;var Bt=An(29,ct,null,V.mode);return Bt.lanes=X,Bt.return=V,Bt}finally{}}}var Cs=Og(!0),xg=Og(!1),Ir=!1;function Kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Cr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Dr(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=vu(e),gg(e,null,s),n}return _u(e,o,n,s),vu(e)}function Uo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,or(e,s)}}function Xh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var $h=!1;function ko(){if($h){var e=ma;if(e!==null)throw e}}function Lo(e,n,s,o){$h=!1;var h=e.updateQueue;Ir=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var w=E,z=w.next;w.next=null,y===null?f=z:y.next=z,y=w;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=w))}if(f!==null){var $=h.baseState;y=0,G=z=w=null,E=f;do{var j=E.lane&-536870913,B=j!==E.lane;if(B?(Ot&j)===j:(o&j)===j){j!==0&&j===da&&($h=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,gt=E;j=n;var Zt=s;switch(gt.tag){case 1:if(rt=gt.payload,typeof rt=="function"){$=rt.call(Zt,$,j);break t}$=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=gt.payload,j=typeof rt=="function"?rt.call(Zt,$,j):rt,j==null)break t;$=b({},$,j);break t;case 2:Ir=!0}}j=E.callback,j!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[j]:B.push(j))}else B={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=B,w=$):G=G.next=B,y|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(w=$),h.baseState=w,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Vr|=y,e.lanes=y,e.memoizedState=$}}function Mg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Vg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Mg(s[e],n)}var ya=N(null),Du=N(0);function Ug(e,n){e=ji,Q(Du,e),Q(ya,n),ji=e|n.baseLanes}function Jh(){Q(Du,ji),Q(ya,ya.current)}function Zh(){ji=Du.current,K(ya),K(Du)}var Sn=N(null),Pn=null;function Nr(e){var n=e.alternate;Q(ge,ge.current&1),Q(Sn,e),Pn===null&&(n===null||ya.current!==null||n.memoizedState!==null)&&(Pn=e)}function Wh(e){Q(ge,ge.current),Q(Sn,e),Pn===null&&(Pn=e)}function kg(e){e.tag===22?(Q(ge,ge.current),Q(Sn,e),Pn===null&&(Pn=e)):Or()}function Or(){Q(ge,ge.current),Q(Sn,Sn.current)}function bn(e){K(Sn),Pn===e&&(Pn=null),K(ge)}var ge=N(0);function Nu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ad(s)||od(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var xi=0,bt=null,$t=null,Ae=null,Ou=!1,_a=!1,Ds=!1,xu=0,Po=0,va=null,CT=0;function ce(){throw Error(a(321))}function tf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Tn(e[s],n[s]))return!1;return!0}function ef(e,n,s,o,h,f){return xi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?vp:yf,Ds=!1,f=s(o,h),Ds=!1,_a&&(f=Pg(n,s,o,h)),Lg(e),f}function Lg(e){F.H=Bo;var n=$t!==null&&$t.next!==null;if(xi=0,Ae=$t=bt=null,Ou=!1,Po=0,va=null,n)throw Error(a(300));e===null||Se||(e=e.dependencies,e!==null&&Au(e)&&(Se=!0))}function Pg(e,n,s,o){bt=e;var h=0;do{if(_a&&(va=null),Po=0,_a=!1,25<=h)throw Error(a(301));if(h+=1,Ae=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Ep,f=n(s,o)}while(_a);return f}function DT(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?zo(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(bt.flags|=1024),n}function nf(){var e=xu!==0;return xu=0,e}function rf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function sf(e){if(Ou){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ou=!1}xi=0,Ae=$t=bt=null,_a=!1,Po=xu=0,va=null}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function pe(){if($t===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=Ae===null?bt.memoizedState:Ae.next;if(n!==null)Ae=n,$t=e;else{if(e===null)throw bt.alternate===null?Error(a(467)):Error(a(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zo(e){var n=Po;return Po+=1,va===null&&(va=[]),e=Cg(va,e,n),n=bt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?vp:yf),e}function Vu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zo(e);if(e.$$typeof===dt)return qe(e)}throw Error(a(438,String(e)))}function af(e){var n=null,s=bt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Mu(),bt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=O;return n.index++,s}function Mi(e,n){return typeof n=="function"?n(e):n}function Uu(e){var n=pe();return of(n,$t,e)}function of(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,w=null,z=n,G=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Ot&$)===$:(xi&$)===$){var j=z.revertLane;if(j===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===da&&(G=!0);else if((xi&j)===j){z=z.next,j===da&&(G=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(E=w=$,y=f):w=w.next=$,bt.lanes|=j,Vr|=j;$=z.action,Ds&&s(f,$),f=z.hasEagerState?z.eagerState:s(f,$)}else j={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(E=w=j,y=f):w=w.next=j,bt.lanes|=$,Vr|=$;z=z.next}while(z!==null&&z!==n);if(w===null?y=f:w.next=E,!Tn(f,e.memoizedState)&&(Se=!0,G&&(s=ma,s!==null)))throw s;e.memoizedState=f,e.baseState=y,e.baseQueue=w,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function lf(e){var n=pe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);Tn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function zg(e,n,s){var o=bt,h=pe(),f=Vt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var y=!Tn(($t||h).memoizedState,s);if(y&&(h.memoizedState=s,Se=!0),h=h.queue,hf(qg.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Ea(9,{destroy:void 0},Bg.bind(null,o,h,s,n),null),te===null)throw Error(a(349));f||(xi&127)!==0||jg(o,n,s)}return s}function jg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=bt.updateQueue,n===null?(n=Mu(),bt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Bg(e,n,s,o){n.value=s,n.getSnapshot=o,Hg(n)&&Fg(e)}function qg(e,n,s){return s(function(){Hg(n)&&Fg(e)})}function Hg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Tn(e,s)}catch{return!0}}function Fg(e){var n=Es(e,2);n!==null&&yn(n,e,2)}function uf(e){var n=un();if(typeof e=="function"){var s=e;if(e=s(),Ds){Dn(!0);try{s()}finally{Dn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:e},n}function Gg(e,n,s,o){return e.baseState=s,of(e,$t,typeof o=="function"?o:Mi)}function NT(e,n,s,o,h){if(Pu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Qg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Qg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,y={};F.T=y;try{var E=s(h,o),w=F.S;w!==null&&w(y,E),Kg(e,n,E)}catch(z){cf(e,n,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),F.T=f}}else try{f=s(h,o),Kg(e,n,f)}catch(z){cf(e,n,z)}}function Kg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Yg(e,n,o)},function(o){return cf(e,n,o)}):Yg(e,n,s)}function Yg(e,n,s){n.status="fulfilled",n.value=s,Xg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Qg(e,s)))}function cf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Xg(n),n=n.next;while(n!==o)}e.action=null}function Xg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function $g(e,n){return n}function Jg(e,n){if(Vt){var s=te.formState;if(s!==null){t:{var o=bt;if(Vt){if(ne){e:{for(var h=ne,f=Ln;h.nodeType!==8;){if(!f){h=null;break e}if(h=zn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=zn(h.nextSibling),o=h.data==="F!";break t}}wr(o)}o=!1}o&&(n=s[0])}}return s=un(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:n},s.queue=o,s=pp.bind(null,bt,o),o.dispatch=s,o=uf(!1),f=pf.bind(null,bt,!1,o.queue),o=un(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=NT.bind(null,bt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Zg(e){var n=pe();return Wg(n,$t,e)}function Wg(e,n,s){if(n=of(e,n,$g)[0],e=Uu(Mi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=zo(n)}catch(y){throw y===ga?wu:y}else o=n;n=pe();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(bt.flags|=2048,Ea(9,{destroy:void 0},OT.bind(null,h,s),null)),[o,f,e]}function OT(e,n){e.action=n}function tp(e){var n=pe(),s=$t;if(s!==null)return Wg(n,s,e);pe(),n=n.memoizedState,s=pe();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ea(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=Mu(),bt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function ep(){return pe().memoizedState}function ku(e,n,s,o){var h=un();bt.flags|=e,h.memoizedState=Ea(1|n,{destroy:void 0},s,o===void 0?null:o)}function Lu(e,n,s,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;$t!==null&&o!==null&&tf(o,$t.memoizedState.deps)?h.memoizedState=Ea(n,f,s,o):(bt.flags|=e,h.memoizedState=Ea(1|n,f,s,o))}function np(e,n){ku(8390656,8,e,n)}function hf(e,n){Lu(2048,8,e,n)}function xT(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=Mu(),bt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function ip(e){var n=pe().memoizedState;return xT({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function rp(e,n){return Lu(4,2,e,n)}function sp(e,n){return Lu(4,4,e,n)}function ap(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function op(e,n,s){s=s!=null?s.concat([e]):null,Lu(4,4,ap.bind(null,n,e),s)}function ff(){}function lp(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&tf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function up(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&tf(n,o[1]))return o[0];if(o=e(),Ds){Dn(!0);try{e()}finally{Dn(!1)}}return s.memoizedState=[o,n],o}function df(e,n,s){return s===void 0||(xi&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=cy(),bt.lanes|=e,Vr|=e,s)}function cp(e,n,s,o){return Tn(s,n)?s:ya.current!==null?(e=df(e,s,o),Tn(e,n)||(Se=!0),e):(xi&42)===0||(xi&1073741824)!==0&&(Ot&261930)===0?(Se=!0,e.memoizedState=s):(e=cy(),bt.lanes|=e,Vr|=e,n)}function hp(e,n,s,o,h){var f=it.p;it.p=f!==0&&8>f?f:8;var y=F.T,E={};F.T=E,pf(e,!1,n,s);try{var w=h(),z=F.S;if(z!==null&&z(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var G=IT(w,o);jo(e,n,G,In(e))}else jo(e,n,o,In(e))}catch($){jo(e,n,{then:function(){},status:"rejected",reason:$},In())}finally{it.p=f,y!==null&&E.types!==null&&(y.types=E.types),F.T=y}}function MT(){}function mf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=fp(e).queue;hp(e,h,n,ht,s===null?MT:function(){return dp(e),s(o)})}function fp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function dp(e){var n=fp(e);n.next===null&&(n=e.alternate.memoizedState),jo(e,n.next.queue,{},In())}function gf(){return qe(il)}function mp(){return pe().memoizedState}function gp(){return pe().memoizedState}function VT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=In();e=Cr(s);var o=Dr(n,e,s);o!==null&&(yn(o,n,s),Uo(o,n,s)),n={cache:Hh()},e.payload=n;return}n=n.return}}function UT(e,n,s){var o=In();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Pu(e)?yp(n,s):(s=xh(e,n,s,o),s!==null&&(yn(s,e,o),_p(s,n,o)))}function pp(e,n,s){var o=In();jo(e,n,s,o)}function jo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Pu(e))yp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,s);if(h.hasEagerState=!0,h.eagerState=E,Tn(E,y))return _u(e,n,h,0),te===null&&yu(),!1}catch{}finally{}if(s=xh(e,n,h,o),s!==null)return yn(s,e,o),_p(s,n,o),!0}return!1}function pf(e,n,s,o){if(o={lane:2,revertLane:Yf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Pu(e)){if(n)throw Error(a(479))}else n=xh(e,s,o,2),n!==null&&yn(n,e,2)}function Pu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function yp(e,n){_a=Ou=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function _p(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,or(e,s)}}var Bo={readContext:qe,use:Vu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Bo.useEffectEvent=ce;var vp={readContext:qe,use:Vu,useCallback:function(e,n){return un().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:np,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,ku(4194308,4,ap.bind(null,n,e),s)},useLayoutEffect:function(e,n){return ku(4194308,4,e,n)},useInsertionEffect:function(e,n){ku(4,2,e,n)},useMemo:function(e,n){var s=un();n=n===void 0?null:n;var o=e();if(Ds){Dn(!0);try{e()}finally{Dn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=un();if(s!==void 0){var h=s(n);if(Ds){Dn(!0);try{s(n)}finally{Dn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=UT.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=un();return e={current:e},n.memoizedState=e},useState:function(e){e=uf(e);var n=e.queue,s=pp.bind(null,bt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:ff,useDeferredValue:function(e,n){var s=un();return df(s,e,n)},useTransition:function(){var e=uf(!1);return e=hp.bind(null,bt,e.queue,!0,!1),un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=bt,h=un();if(Vt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),te===null)throw Error(a(349));(Ot&127)!==0||jg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,np(qg.bind(null,o,f,e),[e]),o.flags|=2048,Ea(9,{destroy:void 0},Bg.bind(null,o,f,s,n),null),s},useId:function(){var e=un(),n=te.identifierPrefix;if(Vt){var s=oi,o=ai;s=(o&~(1<<32-rn(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=xu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=CT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:gf,useFormState:Jg,useActionState:Jg,useOptimistic:function(e){var n=un();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=pf.bind(null,bt,!0,s),s.dispatch=n,[e,n]},useMemoCache:af,useCacheRefresh:function(){return un().memoizedState=VT.bind(null,bt)},useEffectEvent:function(e){var n=un(),s={impl:e};return n.memoizedState=s,function(){if((Ft&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},yf={readContext:qe,use:Vu,useCallback:lp,useContext:qe,useEffect:hf,useImperativeHandle:op,useInsertionEffect:rp,useLayoutEffect:sp,useMemo:up,useReducer:Uu,useRef:ep,useState:function(){return Uu(Mi)},useDebugValue:ff,useDeferredValue:function(e,n){var s=pe();return cp(s,$t.memoizedState,e,n)},useTransition:function(){var e=Uu(Mi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:zo(e),n]},useSyncExternalStore:zg,useId:mp,useHostTransitionStatus:gf,useFormState:Zg,useActionState:Zg,useOptimistic:function(e,n){var s=pe();return Gg(s,$t,e,n)},useMemoCache:af,useCacheRefresh:gp};yf.useEffectEvent=ip;var Ep={readContext:qe,use:Vu,useCallback:lp,useContext:qe,useEffect:hf,useImperativeHandle:op,useInsertionEffect:rp,useLayoutEffect:sp,useMemo:up,useReducer:lf,useRef:ep,useState:function(){return lf(Mi)},useDebugValue:ff,useDeferredValue:function(e,n){var s=pe();return $t===null?df(s,e,n):cp(s,$t.memoizedState,e,n)},useTransition:function(){var e=lf(Mi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:zo(e),n]},useSyncExternalStore:zg,useId:mp,useHostTransitionStatus:gf,useFormState:tp,useActionState:tp,useOptimistic:function(e,n){var s=pe();return $t!==null?Gg(s,$t,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:af,useCacheRefresh:gp};Ep.useEffectEvent=ip;function _f(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var vf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=In(),h=Cr(o);h.payload=n,s!=null&&(h.callback=s),n=Dr(e,h,o),n!==null&&(yn(n,e,o),Uo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=In(),h=Cr(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Dr(e,h,o),n!==null&&(yn(n,e,o),Uo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=In(),o=Cr(s);o.tag=2,n!=null&&(o.callback=n),n=Dr(e,o,s),n!==null&&(yn(n,e,s),Uo(n,e,s))}};function Tp(e,n,s,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Io(s,o)||!Io(h,f):!0}function Ap(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&vf.enqueueReplaceState(n,n.state,null)}function Ns(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Sp(e){pu(e)}function bp(e){console.error(e)}function wp(e){pu(e)}function zu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Rp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ef(e,n,s){return s=Cr(s),s.tag=3,s.payload={element:null},s.callback=function(){zu(e,n)},s}function Ip(e){return e=Cr(e),e.tag=3,e}function Cp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Rp(n,s,o)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Rp(n,s,o),typeof h!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function kT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&fa(n,s,h,!0),s=Sn.current,s!==null){switch(s.tag){case 31:case 13:return Pn===null?Ju():s.alternate===null&&he===0&&(he=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Ru?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Gf(e,o,h)),!1;case 22:return s.flags|=65536,o===Ru?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Gf(e,o,h)),!1}throw Error(a(435,s.tag))}return Gf(e,o,h),Ju(),!1}if(Vt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Ph&&(e=Error(a(422),{cause:o}),No(Vn(e,s)))):(o!==Ph&&(n=Error(a(423),{cause:o}),No(Vn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Vn(o,s),h=Ef(e.stateNode,o,h),Xh(e,h),he!==4&&(he=2)),!1;var f=Error(a(520),{cause:o});if(f=Vn(f,s),Xo===null?Xo=[f]:Xo.push(f),he!==4&&(he=2),n===null)return!0;o=Vn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Ef(s.stateNode,o,e),Xh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ur===null||!Ur.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Ip(h),Cp(h,e,s,o),Xh(s,h),!1}s=s.return}while(s!==null);return!1}var Tf=Error(a(461)),Se=!1;function He(e,n,s,o){n.child=e===null?xg(n,null,s,o):Cs(n,e.child,s,o)}function Dp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return bs(n),o=ef(e,n,s,y,f,h),E=nf(),e!==null&&!Se?(rf(e,n,h),Vi(e,n,h)):(Vt&&E&&kh(n),n.flags|=1,He(e,n,o,h),n.child)}function Np(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Mh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Op(e,n,f,o,h)):(e=Eu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Df(e,h)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:Io,s(y,o)&&e.ref===n.ref)return Vi(e,n,h)}return n.flags|=1,e=Ci(f,o),e.ref=n.ref,e.return=n,n.child=e}function Op(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Io(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,Df(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,Vi(e,n,h)}return Af(e,n,s,o,h)}function xp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Mp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&bu(n,f!==null?f.cachePool:null),f!==null?Ug(n,f):Jh(),kg(n);else return o=n.lanes=536870912,Mp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(bu(n,f.cachePool),Ug(n,f),Or(),n.memoizedState=null):(e!==null&&bu(n,null),Jh(),Or());return He(e,n,h,s),n.child}function qo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Mp(e,n,s,o,h){var f=Gh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&bu(n,null),Jh(),kg(n),e!==null&&fa(e,n,o,!0),n.childLanes=h,null}function ju(e,n){return n=qu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Vp(e,n,s){return Cs(n,e.child,null,s),e=ju(n,n.pendingProps),e.flags|=2,bn(n),n.memoizedState=null,e}function LT(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=ju(n,o),n.lanes=536870912,qo(null,e);if(Wh(n),(e=ne)?(e=Qy(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Sr!==null?{id:ai,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},s=yg(e),s.return=n,n.child=s,Be=n,ne=null)):e=null,e===null)throw wr(n);return n.lanes=536870912,null}return ju(n,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(Wh(n),h)if(n.flags&256)n.flags&=-257,n=Vp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Se||fa(e,n,s,!1),h=(s&e.childLanes)!==0,Se||h){if(o=te,o!==null&&(y=lr(o,s),y!==0&&y!==f.retryLane))throw f.retryLane=y,Es(e,y),yn(o,e,y),Tf;Ju(),n=Vp(e,n,s)}else e=f.treeContext,ne=zn(y.nextSibling),Be=n,Vt=!0,br=null,Ln=!1,e!==null&&Eg(n,e),n=ju(n,o),n.flags|=4096;return n}return e=Ci(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Bu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Af(e,n,s,o,h){return bs(n),s=ef(e,n,s,o,void 0,h),o=nf(),e!==null&&!Se?(rf(e,n,h),Vi(e,n,h)):(Vt&&o&&kh(n),n.flags|=1,He(e,n,s,h),n.child)}function Up(e,n,s,o,h,f){return bs(n),n.updateQueue=null,s=Pg(n,o,s,h),Lg(e),o=nf(),e!==null&&!Se?(rf(e,n,f),Vi(e,n,f)):(Vt&&o&&kh(n),n.flags|=1,He(e,n,s,f),n.child)}function kp(e,n,s,o,h){if(bs(n),n.stateNode===null){var f=la,y=s.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Kh(n),y=s.contextType,f.context=typeof y=="object"&&y!==null?qe(y):la,f.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(_f(n,s,y,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&vf.enqueueReplaceState(f,f.state,null),Lo(n,o,f,h),ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,w=Ns(s,E);f.props=w;var z=f.context,G=s.contextType;y=la,typeof G=="object"&&G!==null&&(y=qe(G));var $=s.getDerivedStateFromProps;G=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&Ap(n,f,o,y),Ir=!1;var j=n.memoizedState;f.state=j,Lo(n,o,f,h),ko(),z=n.memoizedState,E||j!==z||Ir?(typeof $=="function"&&(_f(n,s,$,o),z=n.memoizedState),(w=Ir||Tp(n,s,w,o,j,z,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=y,o=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Yh(e,n),y=n.memoizedProps,G=Ns(s,y),f.props=G,$=n.pendingProps,j=f.context,z=s.contextType,w=la,typeof z=="object"&&z!==null&&(w=qe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==$||j!==w)&&Ap(n,f,o,w),Ir=!1,j=n.memoizedState,f.state=j,Lo(n,o,f,h),ko();var B=n.memoizedState;y!==$||j!==B||Ir||e!==null&&e.dependencies!==null&&Au(e.dependencies)?(typeof E=="function"&&(_f(n,s,E,o),B=n.memoizedState),(G=Ir||Tp(n,s,G,o,j,B,w)||e!==null&&e.dependencies!==null&&Au(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=w,o=G):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Bu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Cs(n,e.child,null,h),n.child=Cs(n,null,s,h)):He(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Vi(e,n,h),e}function Lp(e,n,s,o){return As(),n.flags|=256,He(e,n,s,o),n.child}var Sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bf(e){return{baseLanes:e,cachePool:Rg()}}function wf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Rn),e}function Pp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?Nr(n):Or(),(e=ne)?(e=Qy(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Sr!==null?{id:ai,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},s=yg(e),s.return=n,n.child=s,Be=n,ne=null)):e=null,e===null)throw wr(n);return od(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Or(),h=n.mode,E=qu({mode:"hidden",children:E},h),o=Ts(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=bf(s),o.childLanes=wf(e,y,s),n.memoizedState=Sf,qo(null,o)):(Nr(n),Rf(n,E))}var w=e.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(Nr(n),n.flags&=-257,n=If(e,n,s)):n.memoizedState!==null?(Or(),n.child=e.child,n.flags|=128,n=null):(Or(),E=o.fallback,h=n.mode,o=qu({mode:"visible",children:o.children},h),E=Ts(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Cs(n,e.child,null,s),o=n.child,o.memoizedState=bf(s),o.childLanes=wf(e,y,s),n.memoizedState=Sf,n=qo(null,o));else if(Nr(n),od(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,o=Error(a(419)),o.stack="",o.digest=y,No({value:o,source:null,stack:null}),n=If(e,n,s)}else if(Se||fa(e,n,s,!1),y=(s&e.childLanes)!==0,Se||y){if(y=te,y!==null&&(o=lr(y,s),o!==0&&o!==w.retryLane))throw w.retryLane=o,Es(e,o),yn(y,e,o),Tf;ad(E)||Ju(),n=If(e,n,s)}else ad(E)?(n.flags|=192,n.child=e.child,n=null):(e=w.treeContext,ne=zn(E.nextSibling),Be=n,Vt=!0,br=null,Ln=!1,e!==null&&Eg(n,e),n=Rf(n,o.children),n.flags|=4096);return n}return h?(Or(),E=o.fallback,h=n.mode,w=e.child,z=w.sibling,o=Ci(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&65011712,z!==null?E=Ci(z,E):(E=Ts(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,qo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=bf(s):(h=E.cachePool,h!==null?(w=Te._currentValue,h=h.parent!==w?{parent:w,pool:w}:h):h=Rg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=wf(e,y,s),n.memoizedState=Sf,qo(e.child,o)):(Nr(n),s=e.child,e=s.sibling,s=Ci(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=s,n.memoizedState=null,s)}function Rf(e,n){return n=qu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function qu(e,n){return e=An(22,e,null,n),e.lanes=0,e}function If(e,n,s){return Cs(n,e.child,null,s),e=Rf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function zp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Bh(e.return,n,s)}function Cf(e,n,s,o,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=s,y.tailMode=h,y.treeForkCount=f)}function jp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=ge.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,Q(ge,y),He(e,n,o,s),o=Vt?Do:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zp(e,s,n);else if(e.tag===19)zp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Nu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Cf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Nu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Cf(n,!0,s,null,f,o);break;case"together":Cf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Vi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Vr|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(fa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Ci(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ci(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Df(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Au(e)))}function PT(e,n,s){switch(n.tag){case 3:Xt(n,n.stateNode.containerInfo),Rr(n,Te,e.memoizedState.cache),As();break;case 27:case 5:de(n);break;case 4:Xt(n,n.stateNode.containerInfo);break;case 10:Rr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Wh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Nr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Pp(e,n,s):(Nr(n),e=Vi(e,n,s),e!==null?e.sibling:null);Nr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(fa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return jp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Q(ge,ge.current),o)break;return null;case 22:return n.lanes=0,xp(e,n,s,n.pendingProps);case 24:Rr(n,Te,e.memoizedState.cache)}return Vi(e,n,s)}function Bp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!Df(e,s)&&(n.flags&128)===0)return Se=!1,PT(e,n,s);Se=(e.flags&131072)!==0}else Se=!1,Vt&&(n.flags&1048576)!==0&&vg(n,Do,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Rs(n.elementType),n.type=e,typeof e=="function")Mh(e)?(o=Ns(e,o),n.tag=1,n=kp(null,n,e,o,s)):(n.tag=0,n=Af(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Nt){n.tag=11,n=Dp(null,n,e,o,s);break t}else if(h===C){n.tag=14,n=Np(null,n,e,o,s);break t}}throw n=fe(e)||e,Error(a(306,n,""))}}return n;case 0:return Af(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Ns(o,n.pendingProps),kp(e,n,o,h,s);case 3:t:{if(Xt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Yh(e,n),Lo(n,o,null,s);var y=n.memoizedState;if(o=y.cache,Rr(n,Te,o),o!==f.cache&&qh(n,[Te],s,!0),ko(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Lp(e,n,o,s);break t}else if(o!==h){h=Vn(Error(a(424)),n),No(h),n=Lp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ne=zn(e.firstChild),Be=n,Vt=!0,br=null,Ln=!0,s=xg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(As(),o===h){n=Vi(e,n,s);break t}He(e,n,o,s)}n=n.child}return n;case 26:return Bu(e,n),e===null?(s=Zy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Vt||(s=n.type,e=n.pendingProps,o=rc(ut.current).createElement(s),o[le]=n,o[je]=e,Fe(o,s,e),me(o),n.stateNode=o):n.memoizedState=Zy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return de(n),e===null&&Vt&&(o=n.stateNode=Xy(n.type,n.pendingProps,ut.current),Be=n,Ln=!0,h=ne,zr(n.type)?(ld=h,ne=zn(o.firstChild)):ne=h),He(e,n,n.pendingProps.children,s),Bu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=ne)&&(o=mA(o,n.type,n.pendingProps,Ln),o!==null?(n.stateNode=o,Be=n,ne=zn(o.firstChild),Ln=!1,h=!0):h=!1),h||wr(n)),de(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,id(h,f)?o=null:y!==null&&id(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=ef(e,n,DT,null,null,s),il._currentValue=h),Bu(e,n),He(e,n,o,s),n.child;case 6:return e===null&&Vt&&((e=s=ne)&&(s=gA(s,n.pendingProps,Ln),s!==null?(n.stateNode=s,Be=n,ne=null,e=!0):e=!1),e||wr(n)),null;case 13:return Pp(e,n,s);case 4:return Xt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Cs(n,null,o,s):He(e,n,o,s),n.child;case 11:return Dp(e,n,n.type,n.pendingProps,s);case 7:return He(e,n,n.pendingProps,s),n.child;case 8:return He(e,n,n.pendingProps.children,s),n.child;case 12:return He(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Rr(n,n.type,o.value),He(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,bs(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,s),n.child;case 14:return Np(e,n,n.type,n.pendingProps,s);case 15:return Op(e,n,n.type,n.pendingProps,s);case 19:return jp(e,n,s);case 31:return LT(e,n,s);case 22:return xp(e,n,s,n.pendingProps);case 24:return bs(n),o=qe(Te),e===null?(h=Gh(),h===null&&(h=te,f=Hh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Kh(n),Rr(n,Te,h)):((e.lanes&s)!==0&&(Yh(e,n),Lo(n,null,null,s),ko()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Rr(n,Te,o)):(o=f.cache,Rr(n,Te,o),o!==h.cache&&qh(n,[Te],s,!0))),He(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ui(e){e.flags|=4}function Nf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(my())e.flags|=8192;else throw Is=Ru,Qh}else e.flags&=-16777217}function qp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!i_(n))if(my())e.flags|=8192;else throw Is=Ru,Qh}function Hu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?lo():536870912,e.lanes|=n,ba|=n)}function Ho(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function zT(e,n,s){var o=n.pendingProps;switch(Lh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Oi(Te),zt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ha(n)?Ui(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,zh())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Ui(n),f!==null?(ie(n),qp(n,f)):(ie(n),Nf(n,h,null,o,s))):f?f!==e.memoizedState?(Ui(n),ie(n),qp(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Ui(n),ie(n),Nf(n,h,e,o,s)),null;case 27:if(Le(n),s=ut.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ui(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}e=tt.current,ha(n)?Tg(n):(e=Xy(h,o,s),n.stateNode=e,Ui(n))}return ie(n),null;case 5:if(Le(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ui(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(f=tt.current,ha(n))Tg(n);else{var y=rc(ut.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[le]=n,f[je]=o;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Ui(n)}}return ie(n),Nf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Ui(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=ut.current,ha(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[le]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Py(e.nodeValue,s)),e||wr(n,!0)}else e=rc(e).createTextNode(o),e[le]=n,n.stateNode=e}return ie(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ha(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[le]=n}else As(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else s=zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(bn(n),n):(bn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ha(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[le]=n}else As(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(bn(n),n):(bn(n),null)}return bn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Hu(n,n.updateQueue),ie(n),null);case 4:return zt(),e===null&&Zf(n.stateNode.containerInfo),ie(n),null;case 10:return Oi(n.type),ie(n),null;case 19:if(K(ge),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Ho(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Nu(e),f!==null){for(n.flags|=128,Ho(o,!1),e=f.updateQueue,n.updateQueue=e,Hu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)pg(s,e),s=s.sibling;return Q(ge,ge.current&1|2),Vt&&Di(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Pe()>Yu&&(n.flags|=128,h=!0,Ho(o,!1),n.lanes=4194304)}else{if(!h)if(e=Nu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Hu(n,e),Ho(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return ie(n),null}else 2*Pe()-o.renderingStartTime>Yu&&s!==536870912&&(n.flags|=128,h=!0,Ho(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Pe(),e.sibling=null,s=ge.current,Q(ge,h?s&1|2:s&1),Vt&&Di(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return bn(n),Zh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),s=n.updateQueue,s!==null&&Hu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(ws),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Oi(Te),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function jT(e,n){switch(Lh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Oi(Te),zt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Le(n),null;case 31:if(n.memoizedState!==null){if(bn(n),n.alternate===null)throw Error(a(340));As()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(bn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));As()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(ge),null;case 4:return zt(),null;case 10:return Oi(n.type),null;case 22:case 23:return bn(n),Zh(),e!==null&&K(ws),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Oi(Te),null;case 25:return null;default:return null}}function Hp(e,n){switch(Lh(n),n.tag){case 3:Oi(Te),zt();break;case 26:case 27:case 5:Le(n);break;case 4:zt();break;case 31:n.memoizedState!==null&&bn(n);break;case 13:bn(n);break;case 19:K(ge);break;case 10:Oi(n.type);break;case 22:case 23:bn(n),Zh(),e!==null&&K(ws);break;case 24:Oi(Te)}}function Fo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,y=s.inst;o=f(),y.destroy=o}s=s.next}while(s!==h)}}catch(E){Kt(n,n.return,E)}}function xr(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var w=s,z=E;try{z()}catch(G){Kt(h,w,G)}}}o=o.next}while(o!==f)}}catch(G){Kt(n,n.return,G)}}function Fp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Vg(n,s)}catch(o){Kt(e,e.return,o)}}}function Gp(e,n,s){s.props=Ns(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Kt(e,n,o)}}function Go(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Kt(e,n,h)}}function li(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Kt(e,n,h)}else s.current=null}function Qp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Kt(e,e.return,h)}}function Of(e,n,s){try{var o=e.stateNode;lA(o,e.type,s,n),o[je]=n}catch(h){Kt(e,e.return,h)}}function Kp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zr(e.type)||e.tag===4}function xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Kp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=xe));else if(o!==4&&(o===27&&zr(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Mf(e,n,s),e=e.sibling;e!==null;)Mf(e,n,s),e=e.sibling}function Fu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&zr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Fu(e,n,s),e=e.sibling;e!==null;)Fu(e,n,s),e=e.sibling}function Yp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,s),n[le]=e,n[je]=s}catch(f){Kt(e,e.return,f)}}var ki=!1,be=!1,Vf=!1,Xp=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function BT(e,n){if(e=e.containerInfo,ed=hc,e=og(e),Rh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var y=0,E=-1,w=-1,z=0,G=0,$=e,j=null;e:for(;;){for(var B;$!==s||h!==0&&$.nodeType!==3||(E=y+h),$!==f||o!==0&&$.nodeType!==3||(w=y+o),$.nodeType===3&&(y+=$.nodeValue.length),(B=$.firstChild)!==null;)j=$,$=B;for(;;){if($===e)break e;if(j===s&&++z===h&&(E=y),j===f&&++G===o&&(w=y),(B=$.nextSibling)!==null)break;$=j,j=$.parentNode}$=B}s=E===-1||w===-1?null:{start:E,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(nd={focusedElem:e,selectionRange:s},hc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var rt=Ns(s.type,h);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Kt(s,s.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)sd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function $p(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Pi(e,s),o&4&&Fo(5,s);break;case 1:if(Pi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(y){Kt(s,s.return,y)}else{var h=Ns(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Kt(s,s.return,y)}}o&64&&Fp(s),o&512&&Go(s,s.return);break;case 3:if(Pi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Vg(e,n)}catch(y){Kt(s,s.return,y)}}break;case 27:n===null&&o&4&&Yp(s);case 26:case 5:Pi(e,s),n===null&&o&4&&Qp(s),o&512&&Go(s,s.return);break;case 12:Pi(e,s);break;case 31:Pi(e,s),o&4&&Wp(e,s);break;case 13:Pi(e,s),o&4&&ty(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=$T.bind(null,s),pA(e,s))));break;case 22:if(o=s.memoizedState!==null||ki,!o){n=n!==null&&n.memoizedState!==null||be,h=ki;var f=be;ki=o,(be=n)&&!f?zi(e,s,(s.subtreeFlags&8772)!==0):Pi(e,s),ki=h,be=f}break;case 30:break;default:Pi(e,s)}}function Jp(e){var n=e.alternate;n!==null&&(e.alternate=null,Jp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ls(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,dn=!1;function Li(e,n,s){for(s=s.child;s!==null;)Zp(e,n,s),s=s.sibling}function Zp(e,n,s){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(ir,s)}catch{}switch(s.tag){case 26:be||li(s,n),Li(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:be||li(s,n);var o=ae,h=dn;zr(s.type)&&(ae=s.stateNode,dn=!1),Li(e,n,s),tl(s.stateNode),ae=o,dn=h;break;case 5:be||li(s,n);case 6:if(o=ae,h=dn,ae=null,Li(e,n,s),ae=o,dn=h,ae!==null)if(dn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Kt(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Kt(s,n,f)}break;case 18:ae!==null&&(dn?(e=ae,Fy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),xa(e)):Fy(ae,s.stateNode));break;case 4:o=ae,h=dn,ae=s.stateNode.containerInfo,dn=!0,Li(e,n,s),ae=o,dn=h;break;case 0:case 11:case 14:case 15:xr(2,s,n),be||xr(4,s,n),Li(e,n,s);break;case 1:be||(li(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Gp(s,n,o)),Li(e,n,s);break;case 21:Li(e,n,s);break;case 22:be=(o=be)||s.memoizedState!==null,Li(e,n,s),be=o;break;default:Li(e,n,s)}}function Wp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{xa(e)}catch(s){Kt(n,n.return,s)}}}function ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xa(e)}catch(s){Kt(n,n.return,s)}}function qT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Xp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Xp),n;default:throw Error(a(435,e.tag))}}function Gu(e,n){var s=qT(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=JT.bind(null,e,o);o.then(h,h)}})}function mn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(zr(E.type)){ae=E.stateNode,dn=!1;break t}break;case 5:ae=E.stateNode,dn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,dn=!0;break t}E=E.return}if(ae===null)throw Error(a(160));Zp(f,y,h),ae=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ey(n,e),n=n.sibling}var Gn=null;function ey(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(n,e),gn(e),o&4&&(xr(3,e,e.return),Fo(3,e),xr(5,e,e.return));break;case 1:mn(n,e),gn(e),o&512&&(be||s===null||li(s,s.return)),o&64&&ki&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Gn;if(mn(n,e),gn(e),o&512&&(be||s===null||li(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ei]||f[le]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,s),f[le]=e,me(f),o=f;break t;case"link":var y=e_("link","href",h).get(o+(s.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,s),h.head.appendChild(f);break;case"meta":if(y=e_("meta","content",h).get(o+(s.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[le]=e,me(f),o=f}e.stateNode=o}else n_(h,e.type,e.stateNode);else e.stateNode=t_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?n_(h,e.type,e.stateNode):t_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Of(e,e.memoizedProps,s.memoizedProps)}break;case 27:mn(n,e),gn(e),o&512&&(be||s===null||li(s,s.return)),s!==null&&o&4&&Of(e,e.memoizedProps,s.memoizedProps);break;case 5:if(mn(n,e),gn(e),o&512&&(be||s===null||li(s,s.return)),e.flags&32){h=e.stateNode;try{xn(h,"")}catch(rt){Kt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Of(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Vf=!0);break;case 6:if(mn(n,e),gn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(rt){Kt(e,e.return,rt)}}break;case 3:if(oc=null,h=Gn,Gn=sc(n.containerInfo),mn(n,e),Gn=h,gn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{xa(n.containerInfo)}catch(rt){Kt(e,e.return,rt)}Vf&&(Vf=!1,ny(e));break;case 4:o=Gn,Gn=sc(e.stateNode.containerInfo),mn(n,e),gn(e),Gn=o;break;case 12:mn(n,e),gn(e);break;case 31:mn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gu(e,o)));break;case 13:mn(n,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ku=Pe()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gu(e,o)));break;case 22:h=e.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,z=ki,G=be;if(ki=z||h,be=G||w,mn(n,e),be=G,ki=z,gn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||w||ki||be||Os(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){w=s=n;try{if(f=w.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=w.stateNode;var $=w.memoizedProps.style,j=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(rt){Kt(w,w.return,rt)}}}else if(n.tag===6){if(s===null){w=n;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(rt){Kt(w,w.return,rt)}}}else if(n.tag===18){if(s===null){w=n;try{var B=w.stateNode;h?Gy(B,!0):Gy(w.stateNode,!1)}catch(rt){Kt(w,w.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Gu(e,s))));break;case 19:mn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gu(e,o)));break;case 30:break;case 21:break;default:mn(n,e),gn(e)}}function gn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Kp(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=xf(e);Fu(e,f,h);break;case 5:var y=s.stateNode;s.flags&32&&(xn(y,""),s.flags&=-33);var E=xf(e);Fu(e,E,y);break;case 3:case 4:var w=s.stateNode.containerInfo,z=xf(e);Mf(e,z,w);break;default:throw Error(a(161))}}catch(G){Kt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Pi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$p(e,n.alternate,n),n=n.sibling}function Os(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:xr(4,n,n.return),Os(n);break;case 1:li(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Gp(n,n.return,s),Os(n);break;case 27:tl(n.stateNode);case 26:case 5:li(n,n.return),Os(n);break;case 22:n.memoizedState===null&&Os(n);break;case 30:Os(n);break;default:Os(n)}e=e.sibling}}function zi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:zi(h,f,s),Fo(4,f);break;case 1:if(zi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Kt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Mg(w[h],E)}catch(z){Kt(o,o.return,z)}}s&&y&64&&Fp(f),Go(f,f.return);break;case 27:Yp(f);case 26:case 5:zi(h,f,s),s&&o===null&&y&4&&Qp(f),Go(f,f.return);break;case 12:zi(h,f,s);break;case 31:zi(h,f,s),s&&y&4&&Wp(h,f);break;case 13:zi(h,f,s),s&&y&4&&ty(h,f);break;case 22:f.memoizedState===null&&zi(h,f,s),Go(f,f.return);break;case 30:break;default:zi(h,f,s)}n=n.sibling}}function Uf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Oo(s))}function kf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Oo(e))}function Qn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)iy(e,n,s,o),n=n.sibling}function iy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,s,o),h&2048&&Fo(9,n);break;case 1:Qn(e,n,s,o);break;case 3:Qn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Oo(e)));break;case 12:if(h&2048){Qn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Kt(n,n.return,w)}}else Qn(e,n,s,o);break;case 31:Qn(e,n,s,o);break;case 13:Qn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,s,o):Qo(e,n):f._visibility&2?Qn(e,n,s,o):(f._visibility|=2,Ta(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Uf(y,n);break;case 24:Qn(e,n,s,o),h&2048&&kf(n.alternate,n);break;default:Qn(e,n,s,o)}}function Ta(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,E=s,w=o,z=y.flags;switch(y.tag){case 0:case 11:case 15:Ta(f,y,E,w,h),Fo(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Ta(f,y,E,w,h):Qo(f,y):(G._visibility|=2,Ta(f,y,E,w,h)),h&&z&2048&&Uf(y.alternate,y);break;case 24:Ta(f,y,E,w,h),h&&z&2048&&kf(y.alternate,y);break;default:Ta(f,y,E,w,h)}n=n.sibling}}function Qo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Qo(s,o),h&2048&&Uf(o.alternate,o);break;case 24:Qo(s,o),h&2048&&kf(o.alternate,o);break;default:Qo(s,o)}n=n.sibling}}var Ko=8192;function Aa(e,n,s){if(e.subtreeFlags&Ko)for(e=e.child;e!==null;)ry(e,n,s),e=e.sibling}function ry(e,n,s){switch(e.tag){case 26:Aa(e,n,s),e.flags&Ko&&e.memoizedState!==null&&CA(s,Gn,e.memoizedState,e.memoizedProps);break;case 5:Aa(e,n,s);break;case 3:case 4:var o=Gn;Gn=sc(e.stateNode.containerInfo),Aa(e,n,s),Gn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Ko,Ko=16777216,Aa(e,n,s),Ko=o):Aa(e,n,s));break;default:Aa(e,n,s)}}function sy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Yo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,oy(o,e)}sy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ay(e),e=e.sibling}function ay(e){switch(e.tag){case 0:case 11:case 15:Yo(e),e.flags&2048&&xr(9,e,e.return);break;case 3:Yo(e);break;case 12:Yo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Qu(e)):Yo(e);break;default:Yo(e)}}function Qu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,oy(o,e)}sy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:xr(8,n,n.return),Qu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Qu(n));break;default:Qu(n)}e=e.sibling}}function oy(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:xr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Oo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ue=o;else t:for(s=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(Jp(o),o===s){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var HT={getCacheForType:function(e){var n=qe(Te),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qe(Te).controller.signal}},FT=typeof WeakMap=="function"?WeakMap:Map,Ft=0,te=null,Ct=null,Ot=0,Qt=0,wn=null,Mr=!1,Sa=!1,Lf=!1,ji=0,he=0,Vr=0,xs=0,Pf=0,Rn=0,ba=0,Xo=null,pn=null,zf=!1,Ku=0,ly=0,Yu=1/0,Xu=null,Ur=null,Ce=0,kr=null,wa=null,Bi=0,jf=0,Bf=null,uy=null,$o=0,qf=null;function In(){return(Ft&2)!==0&&Ot!==0?Ot&-Ot:F.T!==null?Yf():vi()}function cy(){if(Rn===0)if((Ot&536870912)===0||Vt){var e=Zn;Zn<<=1,(Zn&3932160)===0&&(Zn=262144),Rn=e}else Rn=536870912;return e=Sn.current,e!==null&&(e.flags|=32),Rn}function yn(e,n,s){(e===te&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Ra(e,0),Lr(e,Ot,Rn,!1)),ar(e,s),((Ft&2)===0||e!==te)&&(e===te&&((Ft&2)===0&&(xs|=s),he===4&&Lr(e,Ot,Rn,!1)),ui(e))}function hy(e,n,s){if((Ft&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||sr(e,n),h=o?KT(e,n):Ff(e,n,!0),f=o;do{if(h===0){Sa&&!o&&Lr(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!GT(s)){h=Ff(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=Xo;var w=E.current.memoizedState.isDehydrated;if(w&&(Ra(E,y).flags|=256),y=Ff(E,y,!1),y!==2){if(Lf&&!w){E.errorRecoveryDisabledLanes|=f,xs|=f,h=4;break t}f=pn,pn=h,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Ra(e,0),Lr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Lr(o,n,Rn,!Mr);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Ku+300-Pe(),10<h)){if(Lr(o,n,Rn,!Mr),Nn(o,0,!0)!==0)break t;Bi=n,o.timeoutHandle=qy(fy.bind(null,o,s,pn,Xu,zf,n,Rn,xs,ba,Mr,f,"Throttled",-0,0),h);break t}fy(o,s,pn,Xu,zf,n,Rn,xs,ba,Mr,f,null,-0,0)}}break}while(!0);ui(e)}function fy(e,n,s,o,h,f,y,E,w,z,G,$,j,B){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xe},ry(n,f,$);var rt=(f&62914560)===f?Ku-Pe():(f&4194048)===f?ly-Pe():0;if(rt=DA($,rt),rt!==null){Bi=f,e.cancelPendingCommit=rt(Ey.bind(null,e,n,f,s,o,h,y,E,w,G,$,null,j,B)),Lr(e,f,y,!z);return}}Ey(e,n,f,s,o,h,y,E,w)}function GT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Tn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Lr(e,n,s,o){n&=~Pf,n&=~xs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-rn(h),y=1<<f;o[f]=-1,h&=~y}s!==0&&uo(e,s,n)}function $u(){return(Ft&6)===0?(Jo(0),!1):!0}function Hf(){if(Ct!==null){if(Qt===0)var e=Ct.return;else e=Ct,Ni=Ss=null,sf(e),pa=null,Mo=0,e=Ct;for(;e!==null;)Hp(e.alternate,e),e=e.return;Ct=null}}function Ra(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,hA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Bi=0,Hf(),te=e,Ct=s=Ci(e.current,null),Ot=n,Qt=0,wn=null,Mr=!1,Sa=sr(e,n),Lf=!1,ba=Rn=Pf=xs=Vr=he=0,pn=Xo=null,zf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-rn(o),f=1<<h;n|=e[h],o&=~f}return ji=n,yu(),s}function dy(e,n){bt=null,F.H=Bo,n===ga||n===wu?(n=Dg(),Qt=3):n===Qh?(n=Dg(),Qt=4):Qt=n===Tf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wn=n,Ct===null&&(he=1,zu(e,Vn(n,e.current)))}function my(){var e=Sn.current;return e===null?!0:(Ot&4194048)===Ot?Pn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===Pn:!1}function gy(){var e=F.H;return F.H=Bo,e===null?Bo:e}function py(){var e=F.A;return F.A=HT,e}function Ju(){he=4,Mr||(Ot&4194048)!==Ot&&Sn.current!==null||(Sa=!0),(Vr&134217727)===0&&(xs&134217727)===0||te===null||Lr(te,Ot,Rn,!1)}function Ff(e,n,s){var o=Ft;Ft|=2;var h=gy(),f=py();(te!==e||Ot!==n)&&(Xu=null,Ra(e,n)),n=!1;var y=he;t:do try{if(Qt!==0&&Ct!==null){var E=Ct,w=wn;switch(Qt){case 8:Hf(),y=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var z=Qt;if(Qt=0,wn=null,Ia(e,E,w,z),s&&Sa){y=0;break t}break;default:z=Qt,Qt=0,wn=null,Ia(e,E,w,z)}}QT(),y=he;break}catch(G){dy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Ni=Ss=null,Ft=o,F.H=h,F.A=f,Ct===null&&(te=null,Ot=0,yu()),y}function QT(){for(;Ct!==null;)yy(Ct)}function KT(e,n){var s=Ft;Ft|=2;var o=gy(),h=py();te!==e||Ot!==n?(Xu=null,Yu=Pe()+500,Ra(e,n)):Sa=sr(e,n);t:do try{if(Qt!==0&&Ct!==null){n=Ct;var f=wn;e:switch(Qt){case 1:Qt=0,wn=null,Ia(e,n,f,1);break;case 2:case 9:if(Ig(f)){Qt=0,wn=null,_y(n);break}n=function(){Qt!==2&&Qt!==9||te!==e||(Qt=7),ui(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Ig(f)?(Qt=0,wn=null,_y(n)):(Qt=0,wn=null,Ia(e,n,f,7));break;case 5:var y=null;switch(Ct.tag){case 26:y=Ct.memoizedState;case 5:case 27:var E=Ct;if(y?i_(y):E.stateNode.complete){Qt=0,wn=null;var w=E.sibling;if(w!==null)Ct=w;else{var z=E.return;z!==null?(Ct=z,Zu(z)):Ct=null}break e}}Qt=0,wn=null,Ia(e,n,f,5);break;case 6:Qt=0,wn=null,Ia(e,n,f,6);break;case 8:Hf(),he=6;break t;default:throw Error(a(462))}}YT();break}catch(G){dy(e,G)}while(!0);return Ni=Ss=null,F.H=o,F.A=h,Ft=s,Ct!==null?0:(te=null,Ot=0,yu(),he)}function YT(){for(;Ct!==null&&!gh();)yy(Ct)}function yy(e){var n=Bp(e.alternate,e,ji);e.memoizedProps=e.pendingProps,n===null?Zu(e):Ct=n}function _y(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Up(s,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Up(s,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:sf(n);default:Hp(s,n),n=Ct=pg(n,ji),n=Bp(s,n,ji)}e.memoizedProps=e.pendingProps,n===null?Zu(e):Ct=n}function Ia(e,n,s,o){Ni=Ss=null,sf(n),pa=null,Mo=0;var h=n.return;try{if(kT(e,h,n,s,Ot)){he=1,zu(e,Vn(s,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;he=1,zu(e,Vn(s,e.current)),Ct=null;return}n.flags&32768?(Vt||o===1?e=!0:Sa||(Ot&536870912)!==0?e=!1:(Mr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Sn.current,o!==null&&o.tag===13&&(o.flags|=16384))),vy(n,e)):Zu(n)}function Zu(e){var n=e;do{if((n.flags&32768)!==0){vy(n,Mr);return}e=n.return;var s=zT(n.alternate,n,ji);if(s!==null){Ct=s;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);he===0&&(he=5)}function vy(e,n){do{var s=jT(e.alternate,e);if(s!==null){s.flags&=32767,Ct=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=s}while(e!==null);he=6,Ct=null}function Ey(e,n,s,o,h,f,y,E,w){e.cancelPendingCommit=null;do Wu();while(Ce!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Oh,ze(e,s,f,y,E,w),e===te&&(Ct=te=null,Ot=0),wa=n,kr=e,Bi=s,jf=f,Bf=h,uy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ZT(yi,function(){return wy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=it.p,it.p=2,y=Ft,Ft|=4;try{BT(e,n,s)}finally{Ft=y,it.p=h,F.T=o}}Ce=1,Ty(),Ay(),Sy()}}function Ty(){if(Ce===1){Ce=0;var e=kr,n=wa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=it.p;it.p=2;var h=Ft;Ft|=4;try{ey(n,e);var f=nd,y=og(e.containerInfo),E=f.focusedElem,w=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&ag(E.ownerDocument.documentElement,E)){if(w!==null&&Rh(E)){var z=w.start,G=w.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var $=E.ownerDocument||document,j=$&&$.defaultView||window;if(j.getSelection){var B=j.getSelection(),rt=E.textContent.length,gt=Math.min(w.start,rt),Zt=w.end===void 0?gt:Math.min(w.end,rt);!B.extend&&gt>Zt&&(y=Zt,Zt=gt,gt=y);var V=sg(E,gt),D=sg(E,Zt);if(V&&D&&(B.rangeCount!==1||B.anchorNode!==V.node||B.anchorOffset!==V.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var P=$.createRange();P.setStart(V.node,V.offset),B.removeAllRanges(),gt>Zt?(B.addRange(P),B.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),B.addRange(P))}}}}for($=[],B=E;B=B.parentNode;)B.nodeType===1&&$.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var X=$[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}hc=!!ed,nd=ed=null}finally{Ft=h,it.p=o,F.T=s}}e.current=n,Ce=2}}function Ay(){if(Ce===2){Ce=0;var e=kr,n=wa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=it.p;it.p=2;var h=Ft;Ft|=4;try{$p(e,n.alternate,n)}finally{Ft=h,it.p=o,F.T=s}}Ce=3}}function Sy(){if(Ce===4||Ce===3){Ce=0,so();var e=kr,n=wa,s=Bi,o=uy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ce=5:(Ce=0,wa=kr=null,by(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ur=null),ho(s),n=n.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(ir,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=it.p,it.p=2,F.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{F.T=n,it.p=h}}(Bi&3)!==0&&Wu(),ui(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===qf?$o++:($o=0,qf=e):$o=0,Jo(0)}}function by(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Oo(n)))}function Wu(){return Ty(),Ay(),Sy(),wy()}function wy(){if(Ce!==5)return!1;var e=kr,n=jf;jf=0;var s=ho(Bi),o=F.T,h=it.p;try{it.p=32>s?32:s,F.T=null,s=Bf,Bf=null;var f=kr,y=Bi;if(Ce=0,wa=kr=null,Bi=0,(Ft&6)!==0)throw Error(a(331));var E=Ft;if(Ft|=4,ay(f.current),iy(f,f.current,y,s),Ft=E,Jo(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(ir,f)}catch{}return!0}finally{it.p=h,F.T=o,by(e,n)}}function Ry(e,n,s){n=Vn(s,n),n=Ef(e.stateNode,n,2),e=Dr(e,n,2),e!==null&&(ar(e,2),ui(e))}function Kt(e,n,s){if(e.tag===3)Ry(e,e,s);else for(;n!==null;){if(n.tag===3){Ry(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ur===null||!Ur.has(o))){e=Vn(s,e),s=Ip(2),o=Dr(n,s,2),o!==null&&(Cp(s,o,n,e),ar(o,2),ui(o));break}}n=n.return}}function Gf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new FT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Lf=!0,h.add(s),e=XT.bind(null,e,n,s),n.then(e,e))}function XT(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,te===e&&(Ot&s)===s&&(he===4||he===3&&(Ot&62914560)===Ot&&300>Pe()-Ku?(Ft&2)===0&&Ra(e,0):Pf|=s,ba===Ot&&(ba=0)),ui(e)}function Iy(e,n){n===0&&(n=lo()),e=Es(e,n),e!==null&&(ar(e,n),ui(e))}function $T(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Iy(e,s)}function JT(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Iy(e,s)}function ZT(e,n){return ss(e,n)}var tc=null,Ca=null,Qf=!1,ec=!1,Kf=!1,Pr=0;function ui(e){e!==Ca&&e.next===null&&(Ca===null?tc=Ca=e:Ca=Ca.next=e),ec=!0,Qf||(Qf=!0,tA())}function Jo(e,n){if(!Kf&&ec){Kf=!0;do for(var s=!1,o=tc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-rn(42|e)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Oy(o,f))}else f=Ot,f=Nn(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||sr(o,f)||(s=!0,Oy(o,f));o=o.next}while(s);Kf=!1}}function WT(){Cy()}function Cy(){ec=Qf=!1;var e=0;Pr!==0&&cA()&&(e=Pr);for(var n=Pe(),s=null,o=tc;o!==null;){var h=o.next,f=Dy(o,n);f===0?(o.next=null,s===null?tc=h:s.next=h,h===null&&(Ca=s)):(s=o,(e!==0||(f&3)!==0)&&(ec=!0)),o=h}Ce!==0&&Ce!==5||Jo(e),Pr!==0&&(Pr=0)}function Dy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-rn(f),E=1<<y,w=h[y];w===-1?((E&s)===0||(E&o)!==0)&&(h[y]=Ys(E,n)):w<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,s=Ot,s=Nn(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ks(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||sr(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&Ks(o),ho(s)){case 2:case 8:s=Oe;break;case 32:s=yi;break;case 268435456:s=ao;break;default:s=yi}return o=Ny.bind(null,e),s=ss(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&Ks(o),e.callbackPriority=2,e.callbackNode=null,2}function Ny(e,n){if(Ce!==0&&Ce!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Wu()&&e.callbackNode!==s)return null;var o=Ot;return o=Nn(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(hy(e,o,n),Dy(e,Pe()),e.callbackNode!=null&&e.callbackNode===s?Ny.bind(null,e):null)}function Oy(e,n){if(Wu())return null;hy(e,n,!0)}function tA(){fA(function(){(Ft&6)!==0?ss(Ie,WT):Cy()})}function Yf(){if(Pr===0){var e=da;e===0&&(e=os,os<<=1,(os&261888)===0&&(os=256)),Pr=e}return Pr}function xy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ii(""+e)}function My(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function eA(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=xy((h[je]||null).action),y=o.submitter;y&&(n=(n=y[je]||null)?xy(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new ds("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Pr!==0){var w=y?My(h,y):new FormData(h);mf(s,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=y?My(h,y):new FormData(h),mf(s,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var Xf=0;Xf<Nh.length;Xf++){var $f=Nh[Xf],nA=$f.toLowerCase(),iA=$f[0].toUpperCase()+$f.slice(1);Fn(nA,"on"+iA)}Fn(cg,"onAnimationEnd"),Fn(hg,"onAnimationIteration"),Fn(fg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(vT,"onTransitionRun"),Fn(ET,"onTransitionStart"),Fn(TT,"onTransitionCancel"),Fn(dg,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zo));function Vy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],w=E.instance,z=E.currentTarget;if(E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){pu(G)}h.currentTarget=null,f=w}else for(y=0;y<o.length;y++){if(E=o[y],w=E.instance,z=E.currentTarget,E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){pu(G)}h.currentTarget=null,f=w}}}}function Dt(e,n){var s=n[ur];s===void 0&&(s=n[ur]=new Set);var o=e+"__bubble";s.has(o)||(Uy(n,e,2,!1),s.add(o))}function Jf(e,n,s){var o=0;n&&(o|=4),Uy(s,e,o,n)}var nc="_reactListening"+Math.random().toString(36).slice(2);function Zf(e){if(!e[nc]){e[nc]=!0,Xs.forEach(function(s){s!=="selectionchange"&&(rA.has(s)||Jf(s,!1,e),Jf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[nc]||(n[nc]=!0,Jf("selectionchange",!1,n))}}function Uy(e,n,s,o){switch(c_(n)){case 2:var h=xA;break;case 8:h=MA;break;default:h=dd}s=h.bind(null,n,s,e),h=void 0,!Eo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Wf(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var w=y.tag;if((w===3||w===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=Ti(E),y===null)return;if(w=y.tag,w===5||w===6||w===26||w===27){o=f=y;continue t}E=E.parentNode}}o=o.return}tu(function(){var z=f,G=ta(s),$=[];t:{var j=mg.get(e);if(j!==void 0){var B=ds,rt=e;switch(e){case"keypress":if(fs(s)===0)break t;case"keydown":case"keyup":B=uu;break;case"focusin":rt="focus",B=vr;break;case"focusout":rt="blur",B=vr;break;case"beforeblur":case"afterblur":B=vr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=hu;break;case cg:case hg:case fg:B=ia;break;case dg:B=ra;break;case"scroll":case"scrollend":B=eu;break;case"wheel":B=du;break;case"copy":case"cut":case"paste":B=su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=wo;break;case"toggle":case"beforetoggle":B=Tr}var gt=(n&4)!==0,Zt=!gt&&(e==="scroll"||e==="scrollend"),V=gt?j!==null?j+"Capture":null:j;gt=[];for(var D=z,P;D!==null;){var X=D;if(P=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||P===null||V===null||(X=hn(D,V),X!=null&&gt.push(Wo(D,X,P))),Zt)break;D=D.return}0<gt.length&&(j=new B(j,rt,null,s,G),$.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",j&&s!==Ws&&(rt=s.relatedTarget||s.fromElement)&&(Ti(rt)||rt[ti]))break t;if((B||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,B?(rt=s.relatedTarget||s.toElement,B=z,rt=rt?Ti(rt):null,rt!==null&&(Zt=u(rt),gt=rt.tag,rt!==Zt||gt!==5&&gt!==27&&gt!==6)&&(rt=null)):(B=null,rt=z),B!==rt)){if(gt=nu,X="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(gt=wo,X="onPointerLeave",V="onPointerEnter",D="pointer"),Zt=B==null?j:us(B),P=rt==null?j:us(rt),j=new gt(X,D+"leave",B,s,G),j.target=Zt,j.relatedTarget=P,X=null,Ti(G)===z&&(gt=new gt(V,D+"enter",rt,s,G),gt.target=P,gt.relatedTarget=Zt,X=gt),Zt=X,B&&rt)e:{for(gt=sA,V=B,D=rt,P=0,X=V;X;X=gt(X))P++;X=0;for(var ft=D;ft;ft=gt(ft))X++;for(;0<P-X;)V=gt(V),P--;for(;0<X-P;)D=gt(D),X--;for(;P--;){if(V===D||D!==null&&V===D.alternate){gt=V;break e}V=gt(V),D=gt(D)}gt=null}else gt=null;B!==null&&ky($,j,B,gt,!1),rt!==null&&Zt!==null&&ky($,Zt,rt,gt,!0)}}t:{if(j=z?us(z):window,B=j.nodeName&&j.nodeName.toLowerCase(),B==="select"||B==="input"&&j.type==="file")var Bt=Wm;else if(fn(j))if(tg)Bt=pT;else{Bt=mT;var ct=dT}else B=j.nodeName,!B||B.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&_o(z.elementType)&&(Bt=Wm):Bt=gT;if(Bt&&(Bt=Bt(e,z))){ys($,Bt,s,G);break t}ct&&ct(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Zs(j,"number",j.value)}switch(ct=z?us(z):window,e){case"focusin":(fn(ct)||ct.contentEditable==="true")&&(sa=ct,Ih=z,Co=null);break;case"focusout":Co=Ih=sa=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,lg($,s,G);break;case"selectionchange":if(_T)break;case"keydown":case"keyup":lg($,s,G)}var wt;if(m)t:{switch(e){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else Rt?Gt(e,s)&&(xt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(xt="onCompositionStart");xt&&(L&&s.locale!=="ko"&&(Rt||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&Rt&&(wt=gr()):(En=G,ea="value"in En?En.value:En.textContent,Rt=!0)),ct=ic(z,xt),0<ct.length&&(xt=new Ao(xt,e,null,s,G),$.push({event:xt,listeners:ct}),wt?xt.data=wt:(wt=Ee(s),wt!==null&&(xt.data=wt)))),(wt=T?Me(e,s):Ve(e,s))&&(xt=ic(z,"onBeforeInput"),0<xt.length&&(ct=new Ao("onBeforeInput","beforeinput",null,s,G),$.push({event:ct,listeners:xt}),ct.data=wt)),eA($,e,z,s,G)}Vy($,n)})}function Wo(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ic(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=hn(e,s),h!=null&&o.unshift(Wo(e,h,f)),h=hn(e,n),h!=null&&o.push(Wo(e,h,f))),e.tag===3)return o;e=e.return}return[]}function sA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ky(e,n,s,o,h){for(var f=n._reactName,y=[];s!==null&&s!==o;){var E=s,w=E.alternate,z=E.stateNode;if(E=E.tag,w!==null&&w===o)break;E!==5&&E!==26&&E!==27||z===null||(w=z,h?(z=hn(s,f),z!=null&&y.unshift(Wo(s,z,w))):h||(z=hn(s,f),z!=null&&y.push(Wo(s,z,w)))),s=s.return}y.length!==0&&e.push({event:n,listeners:y})}var aA=/\r\n?/g,oA=/\u0000|\uFFFD/g;function Ly(e){return(typeof e=="string"?e:""+e).replace(aA,`
`).replace(oA,"")}function Py(e,n){return n=Ly(n),Ly(e)===n}function Jt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||xn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&xn(e,""+o);break;case"className":fr(e,"class",o);break;case"tabIndex":fr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fr(e,s,o);break;case"style":Zl(e,o,f);break;case"data":if(n!=="object"){fr(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ii(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ii(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=xe);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ii(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),hr(e,"popover",o);break;case"xlinkActuate":On(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":On(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":On(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":On(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":On(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":On(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":On(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":On(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":On(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":hr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Th.get(s)||s,hr(e,s,o))}}function td(e,n,s,o,h,f){switch(s){case"style":Zl(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?xn(e,o):(typeof o=="number"||typeof o=="bigint")&&xn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=xe);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[je]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):hr(e,s,o)}}}function Fe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,f,y,s,null)}}h&&Jt(e,n,"srcSet",s.srcSet,s,null),o&&Jt(e,n,"src",s.src,s,null);return;case"input":Dt("invalid",e);var E=f=y=h=null,w=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":y=G;break;case"checked":w=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Jt(e,n,o,G,s,null)}}cs(e,f,E,w,z,y,h,!1);return;case"select":Dt("invalid",e),o=y=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Jt(e,n,h,E,s,null)}n=f,s=y,e.multiple=!!o,n!=null?jt(e,!!o,n,!1):s!=null&&jt(e,!!o,s,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(y in s)if(s.hasOwnProperty(y)&&(E=s[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Jt(e,n,y,E,s,null)}mr(e,o,h,f);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(o=s[w],o!=null))switch(w){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Jt(e,n,w,o,s,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<Zo.length;o++)Dt(Zo[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,z,o,s,null)}return;default:if(_o(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&td(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Jt(e,n,E,o,s,null))}function lA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,w=null,z=null,G=null;for(B in s){var $=s[B];if(s.hasOwnProperty(B)&&$!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":w=$;default:o.hasOwnProperty(B)||Jt(e,n,B,null,o,$)}}for(var j in o){var B=o[j];if($=s[j],o.hasOwnProperty(j)&&(B!=null||$!=null))switch(j){case"type":f=B;break;case"name":h=B;break;case"checked":z=B;break;case"defaultChecked":G=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==$&&Jt(e,n,j,B,o,$)}}dr(e,y,E,w,z,G,f,h);return;case"select":B=y=E=j=null;for(f in s)if(w=s[f],s.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":B=w;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,w)}for(h in o)if(f=o[h],w=s[h],o.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==w&&Jt(e,n,h,f,o,w)}n=E,s=y,o=B,j!=null?jt(e,!!s,j,!1):!!o!=!!s&&(n!=null?jt(e,!!s,n,!0):jt(e,!!s,s?[]:"",!1));return;case"textarea":B=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,h)}for(y in o)if(h=o[y],f=s[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":j=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Jt(e,n,y,h,o,f)}hs(e,j,B);return;case"option":for(var rt in s)if(j=s[rt],s.hasOwnProperty(rt)&&j!=null&&!o.hasOwnProperty(rt))switch(rt){case"selected":e.selected=!1;break;default:Jt(e,n,rt,null,o,j)}for(w in o)if(j=o[w],B=s[w],o.hasOwnProperty(w)&&j!==B&&(j!=null||B!=null))switch(w){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Jt(e,n,w,j,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)j=s[gt],s.hasOwnProperty(gt)&&j!=null&&!o.hasOwnProperty(gt)&&Jt(e,n,gt,null,o,j);for(z in o)if(j=o[z],B=s[z],o.hasOwnProperty(z)&&j!==B&&(j!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Jt(e,n,z,j,o,B)}return;default:if(_o(n)){for(var Zt in s)j=s[Zt],s.hasOwnProperty(Zt)&&j!==void 0&&!o.hasOwnProperty(Zt)&&td(e,n,Zt,void 0,o,j);for(G in o)j=o[G],B=s[G],!o.hasOwnProperty(G)||j===B||j===void 0&&B===void 0||td(e,n,G,j,o,B);return}}for(var V in s)j=s[V],s.hasOwnProperty(V)&&j!=null&&!o.hasOwnProperty(V)&&Jt(e,n,V,null,o,j);for($ in o)j=o[$],B=s[$],!o.hasOwnProperty($)||j===B||j==null&&B==null||Jt(e,n,$,j,o,B)}function zy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&zy(y)){for(y=0,E=h.responseEnd,o+=1;o<s.length;o++){var w=s[o],z=w.startTime;if(z>E)break;var G=w.transferSize,$=w.initiatorType;G&&zy($)&&(w=w.responseEnd,y+=G*(w<E?1:(E-z)/(w-z)))}if(--o,n+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ed=null,nd=null;function rc(e){return e.nodeType===9?e:e.ownerDocument}function jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function By(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function id(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var rd=null;function cA(){var e=window.event;return e&&e.type==="popstate"?e===rd?!1:(rd=e,!0):(rd=null,!1)}var qy=typeof setTimeout=="function"?setTimeout:void 0,hA=typeof clearTimeout=="function"?clearTimeout:void 0,Hy=typeof Promise=="function"?Promise:void 0,fA=typeof queueMicrotask=="function"?queueMicrotask:typeof Hy<"u"?function(e){return Hy.resolve(null).then(e).catch(dA)}:qy;function dA(e){setTimeout(function(){throw e})}function zr(e){return e==="head"}function Fy(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),xa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")tl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,tl(s);for(var f=s.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[Ei]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=y}}else s==="body"&&tl(e.ownerDocument.body);s=h}while(s);xa(n)}function Gy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function sd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":sd(s),ls(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function mA(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ei])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function gA(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=zn(e.nextSibling),e===null))return null;return e}function Qy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=zn(e.nextSibling),e===null))return null;return e}function ad(e){return e.data==="$?"||e.data==="$~"}function od(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function pA(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function zn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ld=null;function Ky(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return zn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Yy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Xy(e,n,s){switch(n=rc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function tl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ls(e)}var jn=new Map,$y=new Set;function sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qi=it.d;it.d={f:yA,r:_A,D:vA,C:EA,L:TA,m:AA,X:bA,S:SA,M:wA};function yA(){var e=qi.f(),n=$u();return e||n}function _A(e){var n=Ai(e);n!==null&&n.tag===5&&n.type==="form"?dp(n):qi.r(e)}var Da=typeof document>"u"?null:document;function Jy(e,n,s){var o=Da;if(o&&typeof n=="string"&&n){var h=ue(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),$y.has(h)||($y.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),me(n),o.head.appendChild(n)))}}function vA(e){qi.D(e),Jy("dns-prefetch",e,null)}function EA(e,n){qi.C(e,n),Jy("preconnect",e,n)}function TA(e,n,s){qi.L(e,n,s);var o=Da;if(o&&e&&n){var h='link[rel="preload"][as="'+ue(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+ue(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+ue(s.imageSizes)+'"]')):h+='[href="'+ue(e)+'"]';var f=h;switch(n){case"style":f=Na(e);break;case"script":f=Oa(e)}jn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),jn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(el(f))||n==="script"&&o.querySelector(nl(f))||(n=o.createElement("link"),Fe(n,"link",e),me(n),o.head.appendChild(n)))}}function AA(e,n){qi.m(e,n);var s=Da;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ue(o)+'"][href="'+ue(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Oa(e)}if(!jn.has(f)&&(e=b({rel:"modulepreload",href:e},n),jn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(nl(f)))return}o=s.createElement("link"),Fe(o,"link",e),me(o),s.head.appendChild(o)}}}function SA(e,n,s){qi.S(e,n,s);var o=Da;if(o&&e){var h=qn(o).hoistableStyles,f=Na(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(el(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=jn.get(f))&&ud(e,s);var w=y=o.createElement("link");me(w),Fe(w,"link",e),w._p=new Promise(function(z,G){w.onload=z,w.onerror=G}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ac(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function bA(e,n){qi.X(e,n);var s=Da;if(s&&e){var o=qn(s).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=s.querySelector(nl(h)),f||(e=b({src:e,async:!0},n),(n=jn.get(h))&&cd(e,n),f=s.createElement("script"),me(f),Fe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function wA(e,n){qi.M(e,n);var s=Da;if(s&&e){var o=qn(s).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=s.querySelector(nl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=jn.get(h))&&cd(e,n),f=s.createElement("script"),me(f),Fe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Zy(e,n,s,o){var h=(h=ut.current)?sc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Na(s.href),s=qn(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Na(s.href);var f=qn(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(el(e)))&&!f._p&&(y.instance=f,y.state.loading=5),jn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},jn.set(e,s),f||RA(h,e,s,y.state))),n&&o===null)throw Error(a(528,""));return y}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Oa(s),s=qn(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Na(e){return'href="'+ue(e)+'"'}function el(e){return'link[rel="stylesheet"]['+e+"]"}function Wy(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function RA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",s),me(n),e.head.appendChild(n))}function Oa(e){return'[src="'+ue(e)+'"]'}function nl(e){return"script[async]"+e}function t_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ue(s.href)+'"]');if(o)return n.instance=o,me(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),me(o),Fe(o,"style",h),ac(o,s.precedence,e),n.instance=o;case"stylesheet":h=Na(s.href);var f=e.querySelector(el(h));if(f)return n.state.loading|=4,n.instance=f,me(f),f;o=Wy(s),(h=jn.get(h))&&ud(o,h),f=(e.ownerDocument||e).createElement("link"),me(f);var y=f;return y._p=new Promise(function(E,w){y.onload=E,y.onerror=w}),Fe(f,"link",o),n.state.loading|=4,ac(f,s.precedence,e),n.instance=f;case"script":return f=Oa(s.src),(h=e.querySelector(nl(f)))?(n.instance=h,me(h),h):(o=s,(h=jn.get(f))&&(o=b({},s),cd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),me(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ac(o,s.precedence,e));return n.instance}function ac(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var oc=null;function e_(e,n,s){if(oc===null){var o=new Map,h=oc=new Map;h.set(s,o)}else h=oc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[Ei]||f[le]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function n_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function IA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function i_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function CA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Na(o.href),f=n.querySelector(el(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=lc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,me(f);return}f=n.ownerDocument||n,o=Wy(o),(h=jn.get(h))&&ud(o,h),f=f.createElement("link"),me(f);var y=f;y._p=new Promise(function(E,w){y.onload=E,y.onerror=w}),Fe(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=lc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var hd=0;function DA(e,n){return e.stylesheets&&e.count===0&&cc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&cc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&hd===0&&(hd=62500*uA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&cc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>hd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uc=null;function cc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,uc=new Map,n.forEach(NA,e),uc=null,lc.call(e))}function NA(e,n){if(!(n.state.loading&4)){var s=uc.get(e);if(s)var o=s.get(null);else{s=new Map,uc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),o=y)}o&&s.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=s.get(y)||o,f===o&&s.set(null,h),s.set(y,h),this.count++,o=lc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var il={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function OA(e,n,s,o,h,f,y,E,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function r_(e,n,s,o,h,f,y,E,w,z,G,$){return e=new OA(e,n,s,y,w,z,G,$,E),n=1,f===!0&&(n|=24),f=An(3,null,null,n),e.current=f,f.stateNode=e,n=Hh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Kh(f),e}function s_(e){return e?(e=la,e):la}function a_(e,n,s,o,h,f){h=s_(h),o.context===null?o.context=h:o.pendingContext=h,o=Cr(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Dr(e,o,n),s!==null&&(yn(s,e,n),Uo(s,e,n))}function o_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function fd(e,n){o_(e,n),(e=e.alternate)&&o_(e,n)}function l_(e){if(e.tag===13||e.tag===31){var n=Es(e,67108864);n!==null&&yn(n,e,67108864),fd(e,67108864)}}function u_(e){if(e.tag===13||e.tag===31){var n=In();n=co(n);var s=Es(e,n);s!==null&&yn(s,e,n),fd(e,n)}}var hc=!0;function xA(e,n,s,o){var h=F.T;F.T=null;var f=it.p;try{it.p=2,dd(e,n,s,o)}finally{it.p=f,F.T=h}}function MA(e,n,s,o){var h=F.T;F.T=null;var f=it.p;try{it.p=8,dd(e,n,s,o)}finally{it.p=f,F.T=h}}function dd(e,n,s,o){if(hc){var h=md(o);if(h===null)Wf(e,n,o,fc,s),h_(e,o);else if(UA(h,e,n,s,o))o.stopPropagation();else if(h_(e,o),n&4&&-1<VA.indexOf(e)){for(;h!==null;){var f=Ai(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Bn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var w=1<<31-rn(y);E.entanglements[1]|=w,y&=~w}ui(f),(Ft&6)===0&&(Yu=Pe()+500,Jo(0))}}break;case 31:case 13:E=Es(f,2),E!==null&&yn(E,f,2),$u(),fd(f,2)}if(f=md(o),f===null&&Wf(e,n,o,fc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Wf(e,n,o,null,s)}}function md(e){return e=ta(e),gd(e)}var fc=null;function gd(e){if(fc=null,e=Ti(e),e!==null){var n=u(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return fc=e,null}function c_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gl()){case Ie:return 2;case Oe:return 8;case yi:case Ql:return 32;case ao:return 268435456;default:return 32}default:return 32}}var pd=!1,jr=null,Br=null,qr=null,rl=new Map,sl=new Map,Hr=[],VA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(e,n){switch(e){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(n.pointerId)}}function al(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ai(n),n!==null&&l_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function UA(e,n,s,o,h){switch(n){case"focusin":return jr=al(jr,e,n,s,o,h),!0;case"dragenter":return Br=al(Br,e,n,s,o,h),!0;case"mouseover":return qr=al(qr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return rl.set(f,al(rl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,sl.set(f,al(sl.get(f)||null,e,n,s,o,h)),!0}return!1}function f_(e){var n=Ti(e.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Yl(e.priority,function(){u_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Yl(e.priority,function(){u_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=md(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Ws=o,s.target.dispatchEvent(o),Ws=null}else return n=Ai(s),n!==null&&l_(n),e.blockedOn=s,!1;n.shift()}return!0}function d_(e,n,s){dc(e)&&s.delete(n)}function kA(){pd=!1,jr!==null&&dc(jr)&&(jr=null),Br!==null&&dc(Br)&&(Br=null),qr!==null&&dc(qr)&&(qr=null),rl.forEach(d_),sl.forEach(d_)}function mc(e,n){e.blockedOn===n&&(e.blockedOn=null,pd||(pd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kA)))}var gc=null;function m_(e){gc!==e&&(gc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){gc===e&&(gc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(gd(o||s)===null)continue;break}var f=Ai(s);f!==null&&(e.splice(n,3),n-=3,mf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function xa(e){function n(w){return mc(w,e)}jr!==null&&mc(jr,e),Br!==null&&mc(Br,e),qr!==null&&mc(qr,e),rl.forEach(n),sl.forEach(n);for(var s=0;s<Hr.length;s++){var o=Hr[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Hr.length&&(s=Hr[0],s.blockedOn===null);)f_(s),s.blockedOn===null&&Hr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],y=h[je]||null;if(typeof f=="function")y||m_(s);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[je]||null)E=y.formAction;else if(gd(h)!==null)continue}else E=y.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),m_(s)}}}function g_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function yd(e){this._internalRoot=e}pc.prototype.render=yd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=In();a_(s,o,e,n,null,null)},pc.prototype.unmount=yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;a_(e.current,2,null,e,null,null),$u(),n[ti]=null}};function pc(e){this._internalRoot=e}pc.prototype.unstable_scheduleHydration=function(e){if(e){var n=vi();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Hr.length&&n!==0&&n<Hr[s].priority;s++);Hr.splice(s,0,e),s===0&&f_(e)}};var p_=t.version;if(p_!=="19.2.0")throw Error(a(527,p_,"19.2.0"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var LA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{ir=yc.inject(LA),$e=yc}catch{}}return ll.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Sp,f=bp,y=wp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=r_(e,1,!1,null,null,s,o,null,h,f,y,g_),e[ti]=n.current,Zf(e),new yd(n)},ll.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Sp,y=bp,E=wp,w=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(w=s.formState)),n=r_(e,1,!0,n,s??null,o,h,w,f,y,E,g_),n.context=s_(null),s=n.current,o=In(),o=co(o),h=Cr(o),h.callback=null,Dr(s,h,o),s=o,n.current.lanes=s,ar(n,s),ui(n),e[ti]=n.current,Zf(e),new pc(n)},ll.version="19.2.0",ll}var R_;function KA(){if(R_)return vd.exports;R_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),vd.exports=QA(),vd.exports}var YA=KA(),It=lm(),I_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},XA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[i++];t[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[i++],d=r[i++],g=r[i++],p=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},Xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,v=p?r[l+2]:0,A=u>>2,b=(u&3)<<4|g>>4;let x=(g&15)<<2|v>>6,H=v&63;p||(H=64,d||(x=64)),a.push(i[A],i[b],i[x],i[H])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Yv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):XA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const u=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const v=l<r.length?i[r.charAt(l)]:64;++l;const b=l<r.length?i[r.charAt(l)]:64;if(++l,u==null||g==null||v==null||b==null)throw new $A;const x=u<<2|g>>4;if(a.push(x),v!==64){const H=g<<4&240|v>>2;if(a.push(H),b!==64){const Z=v<<6&192|b;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class $A extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JA=function(r){const t=Yv(r);return Xv.encodeByteArray(t,!0)},xc=function(r){return JA(r).replace(/\./g,"")},$v=function(r){try{return Xv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=()=>ZA().__FIREBASE_DEFAULTS__,tS=()=>{if(typeof process>"u"||typeof I_>"u")return;const r=I_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},eS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&$v(r[1]);return t&&JSON.parse(t)},Xc=()=>{try{return WA()||tS()||eS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Jv=r=>{var t,i;return(i=(t=Xc())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},nS=r=>{const t=Jv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Zv=()=>{var r;return(r=Xc())===null||r===void 0?void 0:r.config},Wv=r=>{var t;return(t=Xc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[xc(JSON.stringify(i)),xc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function aS(){var r;const t=(r=Xc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function uS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cS(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function hS(){return!aS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fS(){try{return typeof indexedDB=="object"}catch{return!1}}function dS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;t(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="FirebaseError";class Wi extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=mS,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?gS(u,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Wi(l,g,a)}}function gS(r,t){return r.replace(pS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const pS=/\{\$([^}]+)}/g;function yS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Al(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const u=r[l],d=t[l];if(C_(u)&&C_(d)){if(!Al(u,d))return!1}else if(u!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function C_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function cl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,u]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(u)}}),t}function hl(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}function _S(r,t){const i=new vS(r,t);return i.subscribe.bind(i)}class vS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");ES(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=bd),l.error===void 0&&(l.error=bd),l.complete===void 0&&(l.complete=bd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ES(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function bd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(r){return r&&r._delegate?r._delegate:r}class Ls{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new iS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(SS(t))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(t=Ms){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ms){return this.instances.has(t)}getOptions(t=Ms){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);a===g&&d.resolve(l)}return l}onInit(t,i){var a;const l=this.normalizeInstanceIdentifier(i),u=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;u.add(t),this.onInitCallbacks.set(l,u);const d=this.instances.get(l);return d&&t(d,l),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:AS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ms){return this.component?this.component.multipleInstances?t:Ms:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AS(r){return r===Ms?void 0:r}function SS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new TS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const wS={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},RS=Ut.INFO,IS={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},CS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=IS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class um{constructor(t){this.name=t,this._logLevel=RS,this._logHandler=CS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?wS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const DS=(r,t)=>t.some(i=>r instanceof i);let D_,N_;function NS(){return D_||(D_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OS(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t0=new WeakMap,kd=new WeakMap,e0=new WeakMap,wd=new WeakMap,cm=new WeakMap;function xS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{i(Jr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&t0.set(i,r)}).catch(()=>{}),cm.set(t,r),t}function MS(r){if(kd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});kd.set(r,t)}let Ld={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return kd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||e0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Jr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function VS(r){Ld=r(Ld)}function US(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Rd(this),t,...i);return e0.set(a,t.sort?t.sort():[t]),Jr(a)}:OS().includes(r)?function(...t){return r.apply(Rd(this),t),Jr(t0.get(this))}:function(...t){return Jr(r.apply(Rd(this),t))}}function kS(r){return typeof r=="function"?US(r):(r instanceof IDBTransaction&&MS(r),DS(r,NS())?new Proxy(r,Ld):r)}function Jr(r){if(r instanceof IDBRequest)return xS(r);if(wd.has(r))return wd.get(r);const t=kS(r);return t!==r&&(wd.set(r,t),cm.set(t,r)),t}const Rd=r=>cm.get(r);function LS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:u}={}){const d=indexedDB.open(r,t),g=Jr(d);return a&&d.addEventListener("upgradeneeded",p=>{a(Jr(d.result),p.oldVersion,p.newVersion,Jr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const PS=["get","getKey","getAll","getAllKeys","count"],zS=["put","add","delete","clear"],Id=new Map;function O_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Id.get(t))return Id.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=zS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||PS.includes(i)))return;const u=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let v=p.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&p.done]))[0]};return Id.set(t,u),u}VS(r=>({...r,get:(t,i,a)=>O_(t,i)||r.get(t,i,a),has:(t,i)=>!!O_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(BS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function BS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Pd="@firebase/app",x_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new um("@firebase/app"),qS="@firebase/app-compat",HS="@firebase/analytics-compat",FS="@firebase/analytics",GS="@firebase/app-check-compat",QS="@firebase/app-check",KS="@firebase/auth",YS="@firebase/auth-compat",XS="@firebase/database",$S="@firebase/data-connect",JS="@firebase/database-compat",ZS="@firebase/functions",WS="@firebase/functions-compat",tb="@firebase/installations",eb="@firebase/installations-compat",nb="@firebase/messaging",ib="@firebase/messaging-compat",rb="@firebase/performance",sb="@firebase/performance-compat",ab="@firebase/remote-config",ob="@firebase/remote-config-compat",lb="@firebase/storage",ub="@firebase/storage-compat",cb="@firebase/firestore",hb="@firebase/vertexai-preview",fb="@firebase/firestore-compat",db="firebase",mb="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="[DEFAULT]",gb={[Pd]:"fire-core",[qS]:"fire-core-compat",[FS]:"fire-analytics",[HS]:"fire-analytics-compat",[QS]:"fire-app-check",[GS]:"fire-app-check-compat",[KS]:"fire-auth",[YS]:"fire-auth-compat",[XS]:"fire-rtdb",[$S]:"fire-data-connect",[JS]:"fire-rtdb-compat",[ZS]:"fire-fn",[WS]:"fire-fn-compat",[tb]:"fire-iid",[eb]:"fire-iid-compat",[nb]:"fire-fcm",[ib]:"fire-fcm-compat",[rb]:"fire-perf",[sb]:"fire-perf-compat",[ab]:"fire-rc",[ob]:"fire-rc-compat",[lb]:"fire-gcs",[ub]:"fire-gcs-compat",[cb]:"fire-fst",[fb]:"fire-fst-compat",[hb]:"fire-vertex","fire-js":"fire-js",[db]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Map,pb=new Map,jd=new Map;function M_(r,t){try{r.container.addComponent(t)}catch(i){Xi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ba(r){const t=r.name;if(jd.has(t))return Xi.debug(`There were multiple attempts to register component ${t}.`),!1;jd.set(t,r);for(const i of Mc.values())M_(i,r);for(const i of pb.values())M_(i,r);return!0}function hm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ci(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new Ol("app","Firebase",yb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=mb;function n0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:zd,automaticDataCollectionEnabled:!1},t),l=a.name;if(typeof l!="string"||!l)throw Zr.create("bad-app-name",{appName:String(l)});if(i||(i=Zv()),!i)throw Zr.create("no-options");const u=Mc.get(l);if(u){if(Al(i,u.options)&&Al(a,u.config))return u;throw Zr.create("duplicate-app",{appName:l})}const d=new bS(l);for(const p of jd.values())d.addComponent(p);const g=new _b(i,a,d);return Mc.set(l,g),g}function i0(r=zd){const t=Mc.get(r);if(!t&&r===zd&&Zv())return n0();if(!t)throw Zr.create("no-app",{appName:r});return t}function Wr(r,t,i){var a;let l=(a=gb[r])!==null&&a!==void 0?a:r;i&&(l+=`-${i}`);const u=l.match(/\s|\//),d=t.match(/\s|\//);if(u||d){const g=[`Unable to register library "${l}" with version "${t}":`];u&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xi.warn(g.join(" "));return}Ba(new Ls(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="firebase-heartbeat-database",Eb=1,Sl="firebase-heartbeat-store";let Cd=null;function r0(){return Cd||(Cd=LS(vb,Eb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Sl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Zr.create("idb-open",{originalErrorMessage:r.message})})),Cd}async function Tb(r){try{const i=(await r0()).transaction(Sl),a=await i.objectStore(Sl).get(s0(r));return await i.done,a}catch(t){if(t instanceof Wi)Xi.warn(t.message);else{const i=Zr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Xi.warn(i.message)}}}async function V_(r,t){try{const a=(await r0()).transaction(Sl,"readwrite");await a.objectStore(Sl).put(t,s0(r)),await a.done}catch(i){if(i instanceof Wi)Xi.warn(i.message);else{const a=Zr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Xi.warn(a.message)}}}function s0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=1024,Sb=720*60*60*1e3;class bb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Rb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=U_();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const g=new Date(d.date).valueOf();return Date.now()-g<=Sb}),this._storage.overwrite(this._heartbeatsCache))}catch(a){Xi.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=U_(),{heartbeatsToSend:a,unsentEntries:l}=wb(this._heartbeatsCache.heartbeats),u=xc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return Xi.warn(i),""}}}function U_(){return new Date().toISOString().substring(0,10)}function wb(r,t=Ab){const i=[];let a=r.slice();for(const l of r){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),k_(i)>t){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),k_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Rb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fS()?dS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Tb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return V_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return V_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function k_(r){return xc(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(r){Ba(new Ls("platform-logger",t=>new jS(t),"PRIVATE")),Ba(new Ls("heartbeat",t=>new bb(t),"PRIVATE")),Wr(Pd,x_,r),Wr(Pd,x_,"esm2017"),Wr("fire-js","")}Ib("");var Cb="firebase",Db="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr(Cb,Db,"app");function fm(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(i[a[l]]=r[a[l]]);return i}function a0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Nb=a0,o0=new Ol("auth","Firebase",a0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=new um("@firebase/auth");function Ob(r,...t){Vc.logLevel<=Ut.WARN&&Vc.warn(`Auth (${Ja}): ${r}`,...t)}function Sc(r,...t){Vc.logLevel<=Ut.ERROR&&Vc.error(`Auth (${Ja}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(r,...t){throw dm(r,...t)}function hi(r,...t){return dm(r,...t)}function l0(r,t,i){const a=Object.assign(Object.assign({},Nb()),{[t]:i});return new Ol("auth","Firebase",a).create(t,{appName:r.name})}function Ki(r){return l0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return o0.create(r,...t)}function pt(r,t,...i){if(!r)throw dm(t,...i)}function Fi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Sc(t),new Error(t)}function $i(r,t){r||Fi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function xb(){return L_()==="http:"||L_()==="https:"}function L_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xb()||lS()||"connection"in navigator)?navigator.onLine:!0}function Vb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(t,i){this.shortDelay=t,this.longDelay=i,$i(i>t,"Short delay should be less than long delay!"),this.isMobile=sS()||uS()}get(){return Mb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(r,t){$i(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=new Ml(3e4,6e4);function tr(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function er(r,t,i,a,l={}){return c0(r,l,async()=>{let u={},d={};a&&(t==="GET"?d=a:u={body:JSON.stringify(a)});const g=xl(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:t,headers:p},u);return oS()||(v.referrerPolicy="no-referrer"),u0.fetch()(h0(r,r.config.apiHost,i,g),v)})}async function c0(r,t,i){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},Ub),t);try{const l=new Pb(r),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw _c(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[p,v]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw _c(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw _c(r,"user-disabled",d);const A=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw l0(r,A,v);Xn(r,A)}}catch(l){if(l instanceof Wi)throw l;Xn(r,"network-request-failed",{message:String(l)})}}async function Vl(r,t,i,a,l={}){const u=await er(r,t,i,a,l);return"mfaPendingCredential"in u&&Xn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function h0(r,t,i,a){const l=`${t}${i}?${a}`;return r.config.emulator?mm(r.config,l):`${r.config.apiScheme}://${l}`}function Lb(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Pb{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(hi(this.auth,"network-request-failed")),kb.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _c(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=hi(r,t,a);return l.customData._tokenResponse=i,l}function P_(r){return r!==void 0&&r.enterprise!==void 0}class zb{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return Lb(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function jb(r,t){return er(r,"GET","/v2/recaptchaConfig",tr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bb(r,t){return er(r,"POST","/v1/accounts:delete",t)}async function f0(r,t){return er(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function qb(r,t=!1){const i=Ne(r),a=await i.getIdToken(t),l=gm(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:l,token:a,authTime:pl(Dd(l.auth_time)),issuedAtTime:pl(Dd(l.iat)),expirationTime:pl(Dd(l.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Dd(r){return Number(r)*1e3}function gm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Sc("JWT malformed, contained fewer than 3 sections"),null;try{const l=$v(i);return l?JSON.parse(l):(Sc("Failed to decode base64 JWT payload"),null)}catch(l){return Sc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function z_(r){const t=gm(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Wi&&Hb(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function Hb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(r){var t;const i=r.auth,a=await r.getIdToken(),l=await bl(r,f0(i,{idToken:a}));pt(l==null?void 0:l.users.length,i,"internal-error");const u=l.users[0];r._notifyReloadListener(u);const d=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?d0(u.providerUserInfo):[],g=Qb(r.providerData,d),p=r.isAnonymous,v=!(r.email&&u.passwordHash)&&!(g!=null&&g.length),A=p?v:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:g,metadata:new qd(u.createdAt,u.lastLoginAt),isAnonymous:A};Object.assign(r,b)}async function Gb(r){const t=Ne(r);await Uc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Qb(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function d0(r){return r.map(t=>{var{providerId:i}=t,a=fm(t,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kb(r,t){const i=await c0(r,{},async()=>{const a=xl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=h0(r,l,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",u0.fetch()(d,{method:"POST",headers:g,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Yb(r,t){return er(r,"POST","/v2/accounts:revokeToken",tr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):z_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=z_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:u}=await Kb(t,i);this.updateTokensAndExpiration(a,l,Number(u))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:u}=i,d=new La;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),u&&(pt(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new La,this.toJSON())}_performRefresh(){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Gi{constructor(t){var{uid:i,auth:a,stsTokenManager:l}=t,u=fm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new qd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const i=await bl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return qb(this,t)}reload(){return Gb(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Gi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Uc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(Ki(this.auth));const t=await this.getIdToken();return await bl(this,Bb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var a,l,u,d,g,p,v,A;const b=(a=i.displayName)!==null&&a!==void 0?a:void 0,x=(l=i.email)!==null&&l!==void 0?l:void 0,H=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,Z=(d=i.photoURL)!==null&&d!==void 0?d:void 0,et=(g=i.tenantId)!==null&&g!==void 0?g:void 0,Y=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,ot=(v=i.createdAt)!==null&&v!==void 0?v:void 0,yt=(A=i.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:dt,emailVerified:Nt,isAnonymous:Wt,providerData:Et,stsTokenManager:C}=i;pt(dt&&C,t,"internal-error");const S=La.fromJSON(this.name,C);pt(typeof dt=="string",t,"internal-error"),Gr(b,t.name),Gr(x,t.name),pt(typeof Nt=="boolean",t,"internal-error"),pt(typeof Wt=="boolean",t,"internal-error"),Gr(H,t.name),Gr(Z,t.name),Gr(et,t.name),Gr(Y,t.name),Gr(ot,t.name),Gr(yt,t.name);const R=new Gi({uid:dt,auth:t,email:x,emailVerified:Nt,displayName:b,isAnonymous:Wt,photoURL:Z,phoneNumber:H,tenantId:et,stsTokenManager:S,createdAt:ot,lastLoginAt:yt});return Et&&Array.isArray(Et)&&(R.providerData=Et.map(O=>Object.assign({},O))),Y&&(R._redirectEventId=Y),R}static async _fromIdTokenResponse(t,i,a=!1){const l=new La;l.updateFromServerResponse(i);const u=new Gi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Uc(u),u}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?d0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),g=new La;g.updateFromIdToken(a);const p=new Gi({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new qd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=new Map;function Qi(r){$i(r instanceof Function,"Expected a class definition");let t=j_.get(r);return t?($i(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,j_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}m0.type="NONE";const B_=m0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(r,t,i){return`firebase:${r}:${t}:${i}`}class Pa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:u}=this.auth;this.fullUserKey=bc(this.userKey,l.apiKey,u),this.fullPersistenceKey=bc("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Gi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Pa(Qi(B_),t,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=l[0]||Qi(B_);const d=bc(a,t.config.apiKey,t.name);let g=null;for(const v of i)try{const A=await v._get(d);if(A){const b=Gi._fromJSON(t,A);v!==u&&(g=b),u=v;break}}catch{}const p=l.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Pa(u,t,a):(u=p[0],g&&await u._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==u)try{await v._remove(d)}catch{}})),new Pa(u,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(g0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(E0(t))return"Blackberry";if(T0(t))return"Webos";if(p0(t))return"Safari";if((t.includes("chrome/")||y0(t))&&!t.includes("edge/"))return"Chrome";if(v0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function g0(r=nn()){return/firefox\//i.test(r)}function p0(r=nn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function y0(r=nn()){return/crios\//i.test(r)}function _0(r=nn()){return/iemobile/i.test(r)}function v0(r=nn()){return/android/i.test(r)}function E0(r=nn()){return/blackberry/i.test(r)}function T0(r=nn()){return/webos/i.test(r)}function pm(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Xb(r=nn()){var t;return pm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function $b(){return cS()&&document.documentMode===10}function A0(r=nn()){return pm(r)||v0(r)||T0(r)||E0(r)||/windows phone/i.test(r)||_0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(r,t=[]){let i;switch(r){case"Browser":i=q_(nn());break;case"Worker":i=`${q_(nn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ja}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=u=>new Promise((d,g)=>{try{const p=t(u);d(p)}catch(p){g(p)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(r,t={}){return er(r,"GET","/v2/passwordPolicy",tr(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=6;class tw{constructor(t){var i,a,l,u;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:Wb,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,a,l,u,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H_(this),this.idTokenSubscription=new H_(this),this.beforeStateQueue=new Jb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=o0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Qi(i)),this._initializationPromise=this.queue(async()=>{var a,l;if(!this._deleted&&(this.persistenceManager=await Pa.create(this,t),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await f0(this,{idToken:t}),a=await Gi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(ci(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Uc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Vb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ci(this.app))return Promise.reject(Ki(this));const i=t?Ne(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(Ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ci(this.app)?Promise.reject(Ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Zb(this),i=new tw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ol("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Yb(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Qi(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[Qi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,a,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=S0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&Ob(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Hs(r){return Ne(r)}class H_{constructor(t){this.auth=t,this.observer=null,this.addObserver=_S(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nw(r){$c=r}function b0(r){return $c.loadJS(r)}function iw(){return $c.recaptchaEnterpriseScript}function rw(){return $c.gapiScript}function sw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const aw="recaptcha-enterprise",ow="NO_RECAPTCHA";class lw{constructor(t){this.type=aw,this.auth=Hs(t)}async verify(t="verify",i=!1){async function a(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{jb(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const v=new zb(p);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,d(v.siteKey)}}).catch(p=>{g(p)})})}function l(u,d,g){const p=window.grecaptcha;P_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(v=>{d(v)}).catch(()=>{d(ow)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((u,d)=>{a(this.auth).then(g=>{if(!i&&P_(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=iw();p.length!==0&&(p+=g),b0(p).then(()=>{l(g,u,d)}).catch(v=>{d(v)})}}).catch(g=>{d(g)})})}}async function F_(r,t,i,a=!1){const l=new lw(r);let u;try{u=await l.verify(i)}catch{u=await l.verify(i,!0)}const d=Object.assign({},t);return a?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Hd(r,t,i,a){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await F_(r,t,i,i==="getOobCode");return a(r,u)}else return a(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await F_(r,t,i,i==="getOobCode");return a(r,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(r,t){const i=hm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(Al(u,t??{}))return l;Xn(l,"already-initialized")}return i.initialize({options:t})}function cw(r,t){const i=(t==null?void 0:t.persistence)||[],a=(Array.isArray(i)?i:[i]).map(Qi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function hw(r,t,i){const a=Hs(r);pt(a._canInitEmulator,a,"emulator-config-failed"),pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,u=w0(t),{host:d,port:g}=fw(t),p=g===null?"":`:${g}`;a.config.emulator={url:`${u}//${d}${p}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})}),dw()}function w0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function fw(r){const t=w0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const u=l[1];return{host:u,port:G_(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:G_(d)}}}function G_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function dw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Fi("not implemented")}_getIdTokenResponse(t){return Fi("not implemented")}_linkToIdToken(t,i){return Fi("not implemented")}_getReauthenticationResolver(t){return Fi("not implemented")}}async function mw(r,t){return er(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(r,t){return Vl(r,"POST","/v1/accounts:signInWithPassword",tr(r,t))}async function pw(r,t){return er(r,"POST","/v1/accounts:sendOobCode",tr(r,t))}async function yw(r,t){return pw(r,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _w(r,t){return Vl(r,"POST","/v1/accounts:signInWithEmailLink",tr(r,t))}async function vw(r,t){return Vl(r,"POST","/v1/accounts:signInWithEmailLink",tr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends ym{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new wl(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new wl(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hd(t,i,"signInWithPassword",gw);case"emailLink":return _w(t,{email:this._email,oobCode:this._password});default:Xn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hd(t,a,"signUpPassword",mw);case"emailLink":return vw(t,{idToken:i,email:this._email,oobCode:this._password});default:Xn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(r,t){return Vl(r,"POST","/v1/accounts:signInWithIdp",tr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="http://localhost";class Ps extends ym{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ps(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Xn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l}=i,u=fm(i,["providerId","signInMethod"]);if(!a||!l)return null;const d=new Ps(a,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return za(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,za(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,za(t,i)}buildRequest(){const t={requestUri:Ew,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=xl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Aw(r){const t=cl(hl(r)).link,i=t?cl(hl(t)).deep_link_id:null,a=cl(hl(r)).deep_link_id;return(a?cl(hl(a)).link:null)||a||i||t||r}class _m{constructor(t){var i,a,l,u,d,g;const p=cl(hl(t)),v=(i=p.apiKey)!==null&&i!==void 0?i:null,A=(a=p.oobCode)!==null&&a!==void 0?a:null,b=Tw((l=p.mode)!==null&&l!==void 0?l:null);pt(v&&A&&b,"argument-error"),this.apiKey=v,this.operation=b,this.code=A,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(t){const i=Aw(t);try{return new _m(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.providerId=Za.PROVIDER_ID}static credential(t,i){return wl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=_m.parseLink(i);return pt(a,"argument-error"),wl._fromEmailAndCode(t,a.code,a.tenantId)}}Za.PROVIDER_ID="password";Za.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends R0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Ul{constructor(){super("facebook.com")}static credential(t){return Ps._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qr.credential(t.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ps._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Kr.credential(i,a)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Ul{constructor(){super("github.com")}static credential(t){return Ps._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Yr.credential(t.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Ul{constructor(){super("twitter.com")}static credential(t,i){return Ps._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Xr.credentialFromTaggedObject(t)}static credentialFromError(t){return Xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Xr.credential(i,a)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sw(r,t){return Vl(r,"POST","/v1/accounts:signUp",tr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const u=await Gi._fromIdTokenResponse(t,a,l),d=Q_(a);return new zs({user:u,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=Q_(a);return new zs({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function Q_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Wi{constructor(t,i,a,l){var u;super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,kc.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new kc(t,i,a,l)}}function I0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?kc._fromErrorAndOperation(r,u,t,a):u})}async function bw(r,t,i=!1){const a=await bl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return zs._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ww(r,t,i=!1){const{auth:a}=r;if(ci(a.app))return Promise.reject(Ki(a));const l="reauthenticate";try{const u=await bl(r,I0(a,l,t,r),i);pt(u.idToken,a,"internal-error");const d=gm(u.idToken);pt(d,a,"internal-error");const{sub:g}=d;return pt(r.uid===g,a,"user-mismatch"),zs._forOperation(r,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Xn(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C0(r,t,i=!1){if(ci(r.app))return Promise.reject(Ki(r));const a="signIn",l=await I0(r,a,t),u=await zs._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(u.user),u}async function Rw(r,t){return C0(Hs(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D0(r){const t=Hs(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Iw(r,t,i){if(ci(r.app))return Promise.reject(Ki(r));const a=Hs(r),d=await Hd(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Sw).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&D0(r),p}),g=await zs._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(g.user),g}function Cw(r,t,i){return ci(r.app)?Promise.reject(Ki(r)):Rw(Ne(r),Za.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&D0(r),a})}async function Dw(r,t){const i=Ne(r),l={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:u}=await yw(i.auth,l);u!==r.email&&await r.reload()}function Nw(r,t,i,a){return Ne(r).onIdTokenChanged(t,i,a)}function Ow(r,t,i){return Ne(r).beforeAuthStateChanged(t,i)}function xw(r,t,i,a){return Ne(r).onAuthStateChanged(t,i,a)}const Lc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Lc,"1"),this.storage.removeItem(Lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=1e3,Vw=10;class O0 extends N0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);$b()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Vw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Mw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}O0.type="LOCAL";const Uw=O0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0 extends N0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}x0.type="SESSION";const M0=x0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Jc(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,u)),p=await kw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,p)=>{const v=vm("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const x=b;if(x.data.eventId===v)switch(x.data.status){case"ack":clearTimeout(A),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(x.data.response);break;default:clearTimeout(A),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return window}function Pw(r){fi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function zw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Bw(){return V0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="firebaseLocalStorageDb",qw=1,Pc="firebaseLocalStorage",k0="fbase_key";class kl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Zc(r,t){return r.transaction([Pc],t?"readwrite":"readonly").objectStore(Pc)}function Hw(){const r=indexedDB.deleteDatabase(U0);return new kl(r).toPromise()}function Fd(){const r=indexedDB.open(U0,qw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Pc,{keyPath:k0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Pc)?t(a):(a.close(),await Hw(),t(await Fd()))})})}async function K_(r,t,i){const a=Zc(r,!0).put({[k0]:t,value:i});return new kl(a).toPromise()}async function Fw(r,t){const i=Zc(r,!1).get(t),a=await new kl(i).toPromise();return a===void 0?null:a.value}function Y_(r,t){const i=Zc(r,!0).delete(t);return new kl(i).toPromise()}const Gw=800,Qw=3;class L0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Qw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return V0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jc._getInstance(Bw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await zw(),!this.activeServiceWorker)return;this.sender=new Lw(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||jw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Fd();return await K_(t,Lc,"1"),await Y_(t,Lc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>K_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Fw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Y_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=Zc(l,!1).getAll();return new kl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Gw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L0.type="LOCAL";const Kw=L0;new Ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(r,t){return t?Qi(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em extends ym{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Xw(r){return C0(r.auth,new Em(r),r.bypassAuthState)}function $w(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),ww(i,new Em(r),r.bypassAuthState)}async function Jw(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),bw(i,new Em(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(t,i,a,l,u=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:u,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Xw;case"linkViaPopup":case"linkViaRedirect":return Jw;case"reauthViaPopup":case"reauthViaRedirect":return $w;default:Xn(this.auth,"internal-error")}}resolve(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=new Ml(2e3,1e4);class ka extends P0{constructor(t,i,a,l,u){super(t,i,l,u),this.provider=a,this.authWindow=null,this.pollId=null,ka.currentPopupAction&&ka.currentPopupAction.cancel(),ka.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const t=vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ka.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Zw.get())};t()}}ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="pendingRedirect",wc=new Map;class tR extends P0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=wc.get(this.auth._key());if(!t){try{const a=await eR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}wc.set(this.auth._key(),t)}return this.bypassAuthState||wc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eR(r,t){const i=rR(t),a=iR(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function nR(r,t){wc.set(r._key(),t)}function iR(r){return Qi(r._redirectPersistence)}function rR(r){return bc(Ww,r.config.apiKey,r.name)}async function sR(r,t,i=!1){if(ci(r.app))return Promise.reject(Ki(r));const a=Hs(r),l=Yw(a,t),d=await new tR(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=600*1e3;class oR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!lR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var a;if(t.error&&!z0(t)){const l=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(hi(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=aR&&this.cachedEventUids.clear(),this.cachedEventUids.has(X_(t))}saveEventToCache(t){this.cachedEventUids.add(X_(t)),this.lastProcessedEventTime=Date.now()}}function X_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function z0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function lR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(r,t={}){return er(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hR=/^https?/;async function fR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await uR(r);for(const i of t)try{if(dR(i))return}catch{}Xn(r,"unauthorized-domain")}function dR(r){const t=Bd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!hR.test(i))return!1;if(cR.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=new Ml(3e4,6e4);function $_(){const r=fi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function gR(r){return new Promise((t,i)=>{var a,l,u;function d(){$_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$_(),i(hi(r,"network-request-failed"))},timeout:mR.get()})}if(!((l=(a=fi().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((u=fi().gapi)===null||u===void 0)&&u.load)d();else{const g=sw("iframefcb");return fi()[g]=()=>{gapi.load?d():i(hi(r,"network-request-failed"))},b0(`${rw()}?onload=${g}`).catch(p=>i(p))}}).catch(t=>{throw Rc=null,t})}let Rc=null;function pR(r){return Rc=Rc||gR(r),Rc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=new Ml(5e3,15e3),_R="__/auth/iframe",vR="emulator/auth/iframe",ER={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AR(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?mm(t,vR):`https://${r.config.authDomain}/${_R}`,a={apiKey:t.apiKey,appName:r.name,v:Ja},l=TR.get(r.config.apiHost);l&&(a.eid=l);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${i}?${xl(a).slice(1)}`}async function SR(r){const t=await pR(r),i=fi().gapi;return pt(i,r,"internal-error"),t.open({where:document.body,url:AR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ER,dontclear:!0},a=>new Promise(async(l,u)=>{await a.restyle({setHideOnLeave:!1});const d=hi(r,"network-request-failed"),g=fi().setTimeout(()=>{u(d)},yR.get());function p(){fi().clearTimeout(g),l(a)}a.ping(p).then(p,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wR=500,RR=600,IR="_blank",CR="http://localhost";class J_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DR(r,t,i,a=wR,l=RR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const p=Object.assign(Object.assign({},bR),{width:a.toString(),height:l.toString(),top:u,left:d}),v=nn().toLowerCase();i&&(g=y0(v)?IR:i),g0(v)&&(t=t||CR,p.scrollbars="yes");const A=Object.entries(p).reduce((x,[H,Z])=>`${x}${H}=${Z},`,"");if(Xb(v)&&g!=="_self")return NR(t||"",g),new J_(null);const b=window.open(t||"",g,A);pt(b,r,"popup-blocked");try{b.focus()}catch{}return new J_(b)}function NR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="__/auth/handler",xR="emulator/auth/handler",MR=encodeURIComponent("fac");async function Z_(r,t,i,a,l,u){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Ja,eventId:l};if(t instanceof R0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",yS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof Ul){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await r._getAppCheckToken(),v=p?`#${MR}=${encodeURIComponent(p)}`:"";return`${VR(r)}?${xl(g).slice(1)}${v}`}function VR({config:r}){return r.emulator?mm(r,xR):`https://${r.authDomain}/${OR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="webStorageSupport";class UR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M0,this._completeRedirectFn=sR,this._overrideRedirectResult=nR}async _openPopup(t,i,a,l){var u;$i((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await Z_(t,i,a,Bd(),l);return DR(t,d,vm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const u=await Z_(t,i,a,Bd(),l);return Pw(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):($i(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await SR(t),a=new oR(t);return i.register("authEvent",l=>(pt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Nd,{type:Nd},l=>{var u;const d=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[Nd];d!==void 0&&i(!!d),Xn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=fR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return A0()||p0()||pm()}}const kR=UR;var W_="@firebase/auth",tv="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zR(r){Ba(new Ls("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:S0(r)},v=new ew(a,l,u,p);return cw(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ba(new Ls("auth-internal",t=>{const i=Hs(t.getProvider("auth").getImmediate());return(a=>new LR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(W_,tv,PR(r)),Wr(W_,tv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=300,BR=Wv("authIdTokenMaxAge")||jR;let ev=null;const qR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>BR)return;const l=i==null?void 0:i.token;ev!==l&&(ev=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function HR(r=i0()){const t=hm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=uw(r,{popupRedirectResolver:kR,persistence:[Kw,Uw,M0]}),a=Wv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=qR(u.toString());Ow(i,d,()=>d(i.currentUser)),Nw(i,g=>d(g))}}const l=Jv("auth");return l&&hw(i,`http://${l}`),i}function FR(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}nw({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const u=hi("internal-error");u.customData=l,i(u)},a.type="text/javascript",a.charset="UTF-8",FR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zR("Browser");var nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Us,j0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,S){function R(){}R.prototype=S.prototype,C.D=S.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(O,M,k){for(var I=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)I[fe-2]=arguments[fe];return S.prototype[M].apply(O,I)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)O[M]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(M=0;16>M;++M)O[M]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=C.g[0],R=C.g[1],M=C.g[2];var k=C.g[3],I=S+(k^R&(M^k))+O[0]+3614090360&4294967295;S=R+(I<<7&4294967295|I>>>25),I=k+(M^S&(R^M))+O[1]+3905402710&4294967295,k=S+(I<<12&4294967295|I>>>20),I=M+(R^k&(S^R))+O[2]+606105819&4294967295,M=k+(I<<17&4294967295|I>>>15),I=R+(S^M&(k^S))+O[3]+3250441966&4294967295,R=M+(I<<22&4294967295|I>>>10),I=S+(k^R&(M^k))+O[4]+4118548399&4294967295,S=R+(I<<7&4294967295|I>>>25),I=k+(M^S&(R^M))+O[5]+1200080426&4294967295,k=S+(I<<12&4294967295|I>>>20),I=M+(R^k&(S^R))+O[6]+2821735955&4294967295,M=k+(I<<17&4294967295|I>>>15),I=R+(S^M&(k^S))+O[7]+4249261313&4294967295,R=M+(I<<22&4294967295|I>>>10),I=S+(k^R&(M^k))+O[8]+1770035416&4294967295,S=R+(I<<7&4294967295|I>>>25),I=k+(M^S&(R^M))+O[9]+2336552879&4294967295,k=S+(I<<12&4294967295|I>>>20),I=M+(R^k&(S^R))+O[10]+4294925233&4294967295,M=k+(I<<17&4294967295|I>>>15),I=R+(S^M&(k^S))+O[11]+2304563134&4294967295,R=M+(I<<22&4294967295|I>>>10),I=S+(k^R&(M^k))+O[12]+1804603682&4294967295,S=R+(I<<7&4294967295|I>>>25),I=k+(M^S&(R^M))+O[13]+4254626195&4294967295,k=S+(I<<12&4294967295|I>>>20),I=M+(R^k&(S^R))+O[14]+2792965006&4294967295,M=k+(I<<17&4294967295|I>>>15),I=R+(S^M&(k^S))+O[15]+1236535329&4294967295,R=M+(I<<22&4294967295|I>>>10),I=S+(M^k&(R^M))+O[1]+4129170786&4294967295,S=R+(I<<5&4294967295|I>>>27),I=k+(R^M&(S^R))+O[6]+3225465664&4294967295,k=S+(I<<9&4294967295|I>>>23),I=M+(S^R&(k^S))+O[11]+643717713&4294967295,M=k+(I<<14&4294967295|I>>>18),I=R+(k^S&(M^k))+O[0]+3921069994&4294967295,R=M+(I<<20&4294967295|I>>>12),I=S+(M^k&(R^M))+O[5]+3593408605&4294967295,S=R+(I<<5&4294967295|I>>>27),I=k+(R^M&(S^R))+O[10]+38016083&4294967295,k=S+(I<<9&4294967295|I>>>23),I=M+(S^R&(k^S))+O[15]+3634488961&4294967295,M=k+(I<<14&4294967295|I>>>18),I=R+(k^S&(M^k))+O[4]+3889429448&4294967295,R=M+(I<<20&4294967295|I>>>12),I=S+(M^k&(R^M))+O[9]+568446438&4294967295,S=R+(I<<5&4294967295|I>>>27),I=k+(R^M&(S^R))+O[14]+3275163606&4294967295,k=S+(I<<9&4294967295|I>>>23),I=M+(S^R&(k^S))+O[3]+4107603335&4294967295,M=k+(I<<14&4294967295|I>>>18),I=R+(k^S&(M^k))+O[8]+1163531501&4294967295,R=M+(I<<20&4294967295|I>>>12),I=S+(M^k&(R^M))+O[13]+2850285829&4294967295,S=R+(I<<5&4294967295|I>>>27),I=k+(R^M&(S^R))+O[2]+4243563512&4294967295,k=S+(I<<9&4294967295|I>>>23),I=M+(S^R&(k^S))+O[7]+1735328473&4294967295,M=k+(I<<14&4294967295|I>>>18),I=R+(k^S&(M^k))+O[12]+2368359562&4294967295,R=M+(I<<20&4294967295|I>>>12),I=S+(R^M^k)+O[5]+4294588738&4294967295,S=R+(I<<4&4294967295|I>>>28),I=k+(S^R^M)+O[8]+2272392833&4294967295,k=S+(I<<11&4294967295|I>>>21),I=M+(k^S^R)+O[11]+1839030562&4294967295,M=k+(I<<16&4294967295|I>>>16),I=R+(M^k^S)+O[14]+4259657740&4294967295,R=M+(I<<23&4294967295|I>>>9),I=S+(R^M^k)+O[1]+2763975236&4294967295,S=R+(I<<4&4294967295|I>>>28),I=k+(S^R^M)+O[4]+1272893353&4294967295,k=S+(I<<11&4294967295|I>>>21),I=M+(k^S^R)+O[7]+4139469664&4294967295,M=k+(I<<16&4294967295|I>>>16),I=R+(M^k^S)+O[10]+3200236656&4294967295,R=M+(I<<23&4294967295|I>>>9),I=S+(R^M^k)+O[13]+681279174&4294967295,S=R+(I<<4&4294967295|I>>>28),I=k+(S^R^M)+O[0]+3936430074&4294967295,k=S+(I<<11&4294967295|I>>>21),I=M+(k^S^R)+O[3]+3572445317&4294967295,M=k+(I<<16&4294967295|I>>>16),I=R+(M^k^S)+O[6]+76029189&4294967295,R=M+(I<<23&4294967295|I>>>9),I=S+(R^M^k)+O[9]+3654602809&4294967295,S=R+(I<<4&4294967295|I>>>28),I=k+(S^R^M)+O[12]+3873151461&4294967295,k=S+(I<<11&4294967295|I>>>21),I=M+(k^S^R)+O[15]+530742520&4294967295,M=k+(I<<16&4294967295|I>>>16),I=R+(M^k^S)+O[2]+3299628645&4294967295,R=M+(I<<23&4294967295|I>>>9),I=S+(M^(R|~k))+O[0]+4096336452&4294967295,S=R+(I<<6&4294967295|I>>>26),I=k+(R^(S|~M))+O[7]+1126891415&4294967295,k=S+(I<<10&4294967295|I>>>22),I=M+(S^(k|~R))+O[14]+2878612391&4294967295,M=k+(I<<15&4294967295|I>>>17),I=R+(k^(M|~S))+O[5]+4237533241&4294967295,R=M+(I<<21&4294967295|I>>>11),I=S+(M^(R|~k))+O[12]+1700485571&4294967295,S=R+(I<<6&4294967295|I>>>26),I=k+(R^(S|~M))+O[3]+2399980690&4294967295,k=S+(I<<10&4294967295|I>>>22),I=M+(S^(k|~R))+O[10]+4293915773&4294967295,M=k+(I<<15&4294967295|I>>>17),I=R+(k^(M|~S))+O[1]+2240044497&4294967295,R=M+(I<<21&4294967295|I>>>11),I=S+(M^(R|~k))+O[8]+1873313359&4294967295,S=R+(I<<6&4294967295|I>>>26),I=k+(R^(S|~M))+O[15]+4264355552&4294967295,k=S+(I<<10&4294967295|I>>>22),I=M+(S^(k|~R))+O[6]+2734768916&4294967295,M=k+(I<<15&4294967295|I>>>17),I=R+(k^(M|~S))+O[13]+1309151649&4294967295,R=M+(I<<21&4294967295|I>>>11),I=S+(M^(R|~k))+O[4]+4149444226&4294967295,S=R+(I<<6&4294967295|I>>>26),I=k+(R^(S|~M))+O[11]+3174756917&4294967295,k=S+(I<<10&4294967295|I>>>22),I=M+(S^(k|~R))+O[2]+718787259&4294967295,M=k+(I<<15&4294967295|I>>>17),I=R+(k^(M|~S))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var R=S-this.blockSize,O=this.B,M=this.h,k=0;k<S;){if(M==0)for(;k<=R;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<S;)if(O[M++]=C.charCodeAt(k++),M==this.blockSize){l(this,O),M=0;break}}else for(;k<S;)if(O[M++]=C[k++],M==this.blockSize){l(this,O),M=0;break}}this.h=M,this.o+=S},a.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var R=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=R&255,R/=256;for(this.u(C),C=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)C[R++]=this.g[S]>>>O&255;return C};function u(C,S){var R=g;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=S(C)}function d(C,S){this.h=S;for(var R=[],O=!0,M=C.length-1;0<=M;M--){var k=C[M]|0;O&&k==S||(R[M]=k,O=!1)}this.g=R}var g={};function p(C){return-128<=C&&128>C?u(C,function(S){return new d([S|0],0>S?-1:0)}):new d([C|0],0>C?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return b;if(0>C)return Y(v(-C));for(var S=[],R=1,O=0;C>=R;O++)S[O]=C/R|0,R*=4294967296;return new d(S,0)}function A(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return Y(A(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(S,8)),O=b,M=0;M<C.length;M+=8){var k=Math.min(8,C.length-M),I=parseInt(C.substring(M,M+k),S);8>k?(k=v(Math.pow(S,k)),O=O.j(k).add(v(I))):(O=O.j(R),O=O.add(v(I)))}return O}var b=p(0),x=p(1),H=p(16777216);r=d.prototype,r.m=function(){if(et(this))return-Y(this).m();for(var C=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);C+=(0<=O?O:4294967296+O)*S,S*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(et(this))return"-"+Y(this).toString(C);for(var S=v(Math.pow(C,6)),R=this,O="";;){var M=Nt(R,S).g;R=ot(R,M.j(S));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=M,Z(R))return k+O;for(;6>k.length;)k="0"+k;O=k+O}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function et(C){return C.h==-1}r.l=function(C){return C=ot(this,C),et(C)?-1:Z(C)?0:1};function Y(C){for(var S=C.g.length,R=[],O=0;O<S;O++)R[O]=~C.g[O];return new d(R,~C.h).add(x)}r.abs=function(){return et(this)?Y(this):this},r.add=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],O=0,M=0;M<=S;M++){var k=O+(this.i(M)&65535)+(C.i(M)&65535),I=(k>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);O=I>>>16,k&=65535,I&=65535,R[M]=I<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ot(C,S){return C.add(Y(S))}r.j=function(C){if(Z(this)||Z(C))return b;if(et(this))return et(C)?Y(this).j(Y(C)):Y(Y(this).j(C));if(et(C))return Y(this.j(Y(C)));if(0>this.l(H)&&0>C.l(H))return v(this.m()*C.m());for(var S=this.g.length+C.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<C.g.length;M++){var k=this.i(O)>>>16,I=this.i(O)&65535,fe=C.i(M)>>>16,_e=C.i(M)&65535;R[2*O+2*M]+=I*_e,yt(R,2*O+2*M),R[2*O+2*M+1]+=k*_e,yt(R,2*O+2*M+1),R[2*O+2*M+1]+=I*fe,yt(R,2*O+2*M+1),R[2*O+2*M+2]+=k*fe,yt(R,2*O+2*M+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new d(R,0)};function yt(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function dt(C,S){this.g=C,this.h=S}function Nt(C,S){if(Z(S))throw Error("division by zero");if(Z(C))return new dt(b,b);if(et(C))return S=Nt(Y(C),S),new dt(Y(S.g),Y(S.h));if(et(S))return S=Nt(C,Y(S)),new dt(Y(S.g),S.h);if(30<C.g.length){if(et(C)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var R=x,O=S;0>=O.l(C);)R=Wt(R),O=Wt(O);var M=Et(R,1),k=Et(O,1);for(O=Et(O,2),R=Et(R,2);!Z(O);){var I=k.add(O);0>=I.l(C)&&(M=M.add(R),k=I),O=Et(O,1),R=Et(R,1)}return S=ot(C,M.j(S)),new dt(M,S)}for(M=b;0<=C.l(S);){for(R=Math.max(1,Math.floor(C.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),k=v(R),I=k.j(S);et(I)||0<I.l(C);)R-=O,k=v(R),I=k.j(S);Z(k)&&(k=x),M=M.add(k),C=ot(C,I)}return new dt(M,C)}r.A=function(C){return Nt(this,C).h},r.and=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&C.i(O);return new d(R,this.h&C.h)},r.or=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|C.i(O);return new d(R,this.h|C.h)},r.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^C.i(O);return new d(R,this.h^C.h)};function Wt(C){for(var S=C.g.length+1,R=[],O=0;O<S;O++)R[O]=C.i(O)<<1|C.i(O-1)>>>31;return new d(R,C.h)}function Et(C,S){var R=S>>5;S%=32;for(var O=C.g.length-R,M=[],k=0;k<O;k++)M[k]=0<S?C.i(k+R)>>>S|C.i(k+R+1)<<32-S:C.i(k+R);return new d(M,C.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,j0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Us=d}).apply(typeof nv<"u"?nv:typeof self<"u"?self:typeof window<"u"?window:{});var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var B0,fl,q0,Ic,Gd,H0,F0,G0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,_){return c==Array.prototype||c==Object.prototype||(c[m]=_.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vc=="object"&&vc];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(c,m){if(m)t:{var _=a;c=c.split(".");for(var T=0;T<c.length-1;T++){var L=c[T];if(!(L in _))break t;_=_[L]}c=c[c.length-1],T=_[c],m=m(T),m!=T&&m!=null&&t(_,c,{configurable:!0,writable:!0,value:m})}}function u(c,m){c instanceof String&&(c+="");var _=0,T=!1,L={next:function(){if(!T&&_<c.length){var q=_++;return{value:m(q,c[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}l("Array.prototype.values",function(c){return c||function(){return u(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function v(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function A(c,m,_){return c.call.apply(c.bind,arguments)}function b(c,m,_){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),c.apply(m,L)}}return function(){return c.apply(m,arguments)}}function x(c,m,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:b,x.apply(null,arguments)}function H(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function Z(c,m){function _(){}_.prototype=m.prototype,c.aa=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(T,L,q){for(var nt=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)nt[Gt-2]=arguments[Gt];return m.prototype[L].apply(T,nt)}}function et(c){const m=c.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=c[T];return _}return[]}function Y(c,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(p(T)){const L=c.length||0,q=T.length||0;c.length=L+q;for(let nt=0;nt<q;nt++)c[L+nt]=T[nt]}else c.push(T)}}class ot{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function yt(c){return/^[\s\xa0]*$/.test(c)}function dt(){var c=g.navigator;return c&&(c=c.userAgent)?c:""}function Nt(c){return Nt[" "](c),c}Nt[" "]=function(){};var Wt=dt().indexOf("Gecko")!=-1&&!(dt().toLowerCase().indexOf("webkit")!=-1&&dt().indexOf("Edge")==-1)&&!(dt().indexOf("Trident")!=-1||dt().indexOf("MSIE")!=-1)&&dt().indexOf("Edge")==-1;function Et(c,m,_){for(const T in c)m.call(_,c[T],T,c)}function C(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function S(c){const m={};for(const _ in c)m[_]=c[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)c[_]=T[_];for(let q=0;q<R.length;q++)_=R[q],Object.prototype.hasOwnProperty.call(T,_)&&(c[_]=T[_])}}function M(c){var m=1;c=c.split(":");const _=[];for(;0<m&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function k(c){g.setTimeout(()=>{throw c},0)}function I(){var c=kt;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class fe{constructor(){this.h=this.g=null}add(m,_){const T=_e.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var _e=new ot(()=>new F,c=>c.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ht=!1,kt=new fe,Pt=()=>{const c=g.Promise.resolve(void 0);it=()=>{c.then(N)}};var N=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){k(_)}var m=_e;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}ht=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var tt=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return c})();function st(c,m){if(Q.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(Wt){t:{try{Nt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else _=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ut[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&st.aa.h.call(this)}}Z(st,Q);var ut={2:"touch",3:"pen",4:"mouse"};st.prototype.h=function(){st.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),Xt=0;function zt(c,m,_,T,L){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++Xt,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Le(c){this.src=c,this.g={},this.h=0}Le.prototype.add=function(c,m,_,T,L){var q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);var nt=se(c,m,T,L);return-1<nt?(m=c[nt],_||(m.fa=!1)):(m=new zt(m,this.src,q,!!T,L),m.fa=_,c.push(m)),m};function ve(c,m){var _=m.type;if(_ in c.g){var T=c.g[_],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(de(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function se(c,m,_,T){for(var L=0;L<c.length;++L){var q=c[L];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==T)return L}return-1}var Xe="closure_lm_"+(1e6*Math.random()|0),pi={};function nr(c,m,_,T,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)nr(c,m[q],_,T,L);return null}return _=Gl(_),c&&c[vt]?c.K(m,_,v(T)?!!T.capture:!1,L):ro(c,m,_,!1,T,L)}function ro(c,m,_,T,L,q){if(!m)throw Error("Invalid event type");var nt=v(L)?!!L.capture:!!L,Gt=so(c);if(Gt||(c[Xe]=Gt=new Le(c)),_=Gt.add(m,_,T,nt,q),_.proxy)return _;if(T=Fl(),_.proxy=T,T.src=c,T.listener=_,c.addEventListener)tt||(L=nt),L===void 0&&(L=!1),c.addEventListener(m.toString(),T,L);else if(c.attachEvent)c.attachEvent(Ks(m.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Fl(){function c(_){return m.call(c.src,c.listener,_)}const m=gh;return c}function Qs(c,m,_,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Qs(c,m[q],_,T,L);else T=v(T)?!!T.capture:!!T,_=Gl(_),c&&c[vt]?(c=c.i,m=String(m).toString(),m in c.g&&(q=c.g[m],_=se(q,_,T,L),-1<_&&(de(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete c.g[m],c.h--)))):c&&(c=so(c))&&(m=c.g[m.toString()],c=-1,m&&(c=se(m,_,T,L)),(_=-1<c?m[c]:null)&&ss(_))}function ss(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[vt])ve(m.i,c);else{var _=c.type,T=c.proxy;m.removeEventListener?m.removeEventListener(_,T,c.capture):m.detachEvent?m.detachEvent(Ks(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=so(m))?(ve(_,c),_.h==0&&(_.src=null,m[Xe]=null)):de(c)}}}function Ks(c){return c in pi?pi[c]:pi[c]="on"+c}function gh(c,m){if(c.da)c=!0;else{m=new st(m,this);var _=c.listener,T=c.ha||c.src;c.fa&&ss(c),c=_.call(T,m)}return c}function so(c){return c=c[Xe],c instanceof Le?c:null}var Pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gl(c){return typeof c=="function"?c:(c[Pe]||(c[Pe]=function(m){return c.handleEvent(m)}),c[Pe])}function Ie(){K.call(this),this.i=new Le(this),this.M=this,this.F=null}Z(Ie,K),Ie.prototype[vt]=!0,Ie.prototype.removeEventListener=function(c,m,_,T){Qs(this,c,m,_,T)};function Oe(c,m){var _,T=c.F;if(T)for(_=[];T;T=T.F)_.push(T);if(c=c.M,T=m.type||m,typeof m=="string")m=new Q(m,c);else if(m instanceof Q)m.target=m.target||c;else{var L=m;m=new Q(T,c),O(m,L)}if(L=!0,_)for(var q=_.length-1;0<=q;q--){var nt=m.g=_[q];L=yi(nt,T,!0,m)&&L}if(nt=m.g=c,L=yi(nt,T,!0,m)&&L,L=yi(nt,T,!1,m)&&L,_)for(q=0;q<_.length;q++)nt=m.g=_[q],L=yi(nt,T,!1,m)&&L}Ie.prototype.N=function(){if(Ie.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var _=c.g[m],T=0;T<_.length;T++)de(_[T]);delete c.g[m],c.h--}}this.F=null},Ie.prototype.K=function(c,m,_,T){return this.i.add(String(c),m,!1,_,T)},Ie.prototype.L=function(c,m,_,T){return this.i.add(String(c),m,!0,_,T)};function yi(c,m,_,T){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var nt=m[q];if(nt&&!nt.da&&nt.capture==_){var Gt=nt.listener,Ee=nt.ha||nt.src;nt.fa&&ve(c.i,nt),L=Gt.call(Ee,T)!==!1&&L}}return L&&!T.defaultPrevented}function Ql(c,m,_){if(typeof c=="function")_&&(c=x(c,_));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(c,m||0)}function ao(c){c.g=Ql(()=>{c.g=null,c.i&&(c.i=!1,ao(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class ph extends K{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ao(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(c){K.call(this),this.h=c,this.g={}}Z(as,K);var ir=[];function $e(c){Et(c.g,function(m,_){this.g.hasOwnProperty(_)&&ss(m)},c),c.g={}}as.prototype.N=function(){as.aa.N.call(this),$e(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=g.JSON.stringify,rn=g.JSON.parse,yh=class{stringify(c){return g.JSON.stringify(c,void 0)}parse(c){return g.JSON.parse(c,void 0)}};function oo(){}oo.prototype.h=null;function Kl(c){return c.h||(c.h=c.i())}function os(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rr(){Q.call(this,"d")}Z(rr,Q);function Bn(){Q.call(this,"c")}Z(Bn,Q);var Nn={},sr=null;function Ys(){return sr=sr||new Ie}Nn.La="serverreachability";function lo(c){Q.call(this,Nn.La,c)}Z(lo,Q);function _i(c){const m=Ys();Oe(m,new lo(m))}Nn.STAT_EVENT="statevent";function ar(c,m){Q.call(this,Nn.STAT_EVENT,c),this.stat=m}Z(ar,Q);function ze(c){const m=Ys();Oe(m,new ar(m,c))}Nn.Ma="timingevent";function uo(c,m){Q.call(this,Nn.Ma,c),this.size=m}Z(uo,Q);function or(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){c()},m)}function lr(){this.g=!0}lr.prototype.xa=function(){this.g=!1};function co(c,m,_,T,L,q){c.info(function(){if(c.g)if(q)for(var nt="",Gt=q.split("&"),Ee=0;Ee<Gt.length;Ee++){var Rt=Gt[Ee].split("=");if(1<Rt.length){var Me=Rt[0];Rt=Rt[1];var Ve=Me.split("_");nt=2<=Ve.length&&Ve[1]=="type"?nt+(Me+"="+Rt+"&"):nt+(Me+"=redacted&")}}else nt=null;else nt=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+nt})}function ho(c,m,_,T,L,q,nt){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+q+" "+nt})}function vi(c,m,_,T){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Wn(c,_)+(T?" "+T:"")})}function Yl(c,m){c.info(function(){return"TIMEOUT: "+m})}lr.prototype.info=function(){};function Wn(c,m){if(!c.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var T=_[c];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var nt=1;nt<L.length;nt++)L[nt]=""}}}}return Dn(_)}catch{return m}}var le={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},je={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ti;function ur(){}Z(ur,oo),ur.prototype.g=function(){return new XMLHttpRequest},ur.prototype.i=function(){return{}},ti=new ur;function ei(c,m,_,T){this.j=c,this.i=m,this.l=_,this.R=T||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xl}function Xl(){this.i=null,this.g="",this.h=!1}var fo={},Ei={};function ls(c,m,_){c.L=1,c.v=hs(ue(m)),c.m=_,c.P=!0,Ti(c,null)}function Ti(c,m){c.F=Date.now(),qn(c),c.A=ue(c.v);var _=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),bi(_.i,"t",T),c.C=0,_=c.j.J,c.h=new Xl,c.g=hu(c.j,_?m:null,!c.m),0<c.O&&(c.M=new ph(x(c.Y,c,c.g),c.O)),m=c.U,_=c.g,T=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(ir[0]=L.toString()),L=ir);for(var q=0;q<L.length;q++){var nt=nr(_,L[q],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),_i(),co(c.i,c.u,c.A,c.l,c.R,c.m)}ei.prototype.ca=function(c){c=c.target;const m=this.M;m&&on(c)==3?m.j():this.Y(c)},ei.prototype.Y=function(c){try{if(c==this.g)t:{const Ve=on(this.g);var m=this.g.Ba();const Ar=this.g.Z();if(!(3>Ve)&&(Ve!=3||this.g&&(this.h.h||this.g.oa()||ms(this.g)))){this.J||Ve!=4||m==7||(m==8||0>=Ar?_i(3):_i(2)),Xs(this);var _=this.g.Z();this.X=_;e:if(Ai(this)){var T=ms(this.g);c="";var L=T.length,q=on(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),cr(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,c+=this.h.i.decode(T[m],{stream:!(q&&m==L-1)});T.length=0,this.h.g+=c,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=_==200,ho(this.i,this.u,this.A,this.l,this.R,Ve,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Gt,Ee=this.g;if((Gt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yt(Gt)){var Rt=Gt;break e}}Rt=null}if(_=Rt)vi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ni(this,_);else{this.o=!1,this.s=3,ze(12),sn(this),cr(this);break t}}if(this.P){_=!0;let fn;for(;!this.J&&this.C<nt.length;)if(fn=us(this,nt),fn==Ei){Ve==4&&(this.s=4,ze(14),_=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==fo){this.s=4,ze(15),vi(this.i,this.l,nt,"[Invalid Chunk]"),_=!1;break}else vi(this.i,this.l,fn,null),ni(this,fn);if(Ai(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||nt.length!=0||this.h.h||(this.s=1,ze(16),_=!1),this.o=this.o&&_,!_)vi(this.i,this.l,nt,"[Invalid Chunked Response]"),sn(this),cr(this);else if(0<nt.length&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.ba&&!Me.M&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),bo(Me),Me.M=!0,ze(11))}}else vi(this.i,this.l,nt,null),ni(this,nt);Ve==4&&sn(this),this.o&&!this.J&&(Ve==4?lu(this.j,this):(this.o=!1,qn(this)))}else nu(this.g),_==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ze(12)):(this.s=0,ze(13)),sn(this),cr(this)}}}catch{}finally{}};function Ai(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function us(c,m){var _=c.C,T=m.indexOf(`
`,_);return T==-1?Ei:(_=Number(m.substring(_,T)),isNaN(_)?fo:(T+=1,T+_>m.length?Ei:(m=m.slice(T,T+_),c.C=T+_,m)))}ei.prototype.cancel=function(){this.J=!0,sn(this)};function qn(c){c.S=Date.now()+c.I,me(c,c.I)}function me(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=or(x(c.ba,c),m)}function Xs(c){c.B&&(g.clearTimeout(c.B),c.B=null)}ei.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Yl(this.i,this.A),this.L!=2&&(_i(),ze(17)),sn(this),this.s=2,cr(this)):me(this,this.S-c)};function cr(c){c.j.G==0||c.J||lu(c.j,c)}function sn(c){Xs(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,$e(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function ni(c,m){try{var _=c.j;if(_.G!=0&&(_.g==c||hr(_.h,c))){if(!c.K&&hr(_.h,c)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Er(_),vr(_);else break t;So(_),ze(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=or(x(_.Za,_),6e3));if(1>=$l(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ri(_,11)}else if((c.K||_.g==c)&&Er(_),!yt(m))for(L=_.Da.g.parse(m),m=0;m<L.length;m++){let Rt=L[m];if(_.T=Rt[0],Rt=Rt[1],_.G==2)if(Rt[0]=="c"){_.K=Rt[1],_.ia=Rt[2];const Me=Rt[3];Me!=null&&(_.la=Me,_.j.info("VER="+_.la));const Ve=Rt[4];Ve!=null&&(_.Aa=Ve,_.j.info("SVER="+_.Aa));const Ar=Rt[5];Ar!=null&&typeof Ar=="number"&&0<Ar&&(T=1.5*Ar,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const fn=c.g;if(fn){const ys=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ys){var q=T.h;q.g||ys.indexOf("spdy")==-1&&ys.indexOf("quic")==-1&&ys.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(fr(q,q.h),q.h=null))}if(T.D){const Ii=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ii&&(T.ya=Ii,jt(T.I,T.D,Ii))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var nt=c;if(T.qa=cu(T,T.J?T.ia:null,T.W),nt.K){On(T.h,nt);var Gt=nt,Ee=T.L;Ee&&(Gt.I=Ee),Gt.B&&(Xs(Gt),qn(Gt)),T.g=nt}else au(T);0<_.i.length&&ia(_)}else Rt[0]!="stop"&&Rt[0]!="close"||Ri(_,7);else _.G==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?Ri(_,7):To(_):Rt[0]!="noop"&&_.l&&_.l.ta(Rt),_.v=0)}}_i(4)}catch{}}var _h=class{constructor(c,m){this.g=c,this.map=m}};function mo(c){this.l=c||10,g.PerformanceNavigationTiming?(c=g.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function go(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function $l(c){return c.h?1:c.g?c.g.size:0}function hr(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function fr(c,m){c.g?c.g.add(m):c.h=m}function On(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}mo.prototype.cancel=function(){if(this.i=an(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function an(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.D);return m}return et(c.i)}function Jl(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var m=[],_=c.length,T=0;T<_;T++)m.push(c[T]);return m}m=[],_=0;for(T in c)m[_++]=c[T];return m}function vh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var m=[];c=c.length;for(var _=0;_<c;_++)m.push(_);return m}m=[],_=0;for(const T in c)m[_++]=T;return m}}}function $s(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var _=vh(c),T=Jl(c),L=T.length,q=0;q<L;q++)m.call(void 0,T[q],_&&_[q],c)}var po=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Js(c,m){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var T=c[_].indexOf("="),L=null;if(0<=T){var q=c[_].substring(0,T);L=c[_].substring(T+1)}else q=c[_];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Si(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Si){this.h=c.h,dr(this,c.j),this.o=c.o,this.g=c.g,cs(this,c.s),this.l=c.l;var m=c.i,_=new ii;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Zs(this,_),this.m=c.m}else c&&(m=String(c).match(po))?(this.h=!1,dr(this,m[1]||"",!0),this.o=mr(m[2]||""),this.g=mr(m[3]||"",!0),cs(this,m[4]),this.l=mr(m[5]||"",!0),Zs(this,m[6]||"",!0),this.m=mr(m[7]||"")):(this.h=!1,this.i=new ii(null,this.h))}Si.prototype.toString=function(){var c=[],m=this.j;m&&c.push(xn(m,yo,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(xn(m,yo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(xn(_,_.charAt(0)=="/"?_o:Zl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",xn(_,Ah)),c.join("")};function ue(c){return new Si(c)}function dr(c,m,_){c.j=_?mr(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function cs(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Zs(c,m,_){m instanceof ii?(c.i=m,Wl(c.i,c.h)):(_||(m=xn(m,Th)),c.i=new ii(m,c.h))}function jt(c,m,_){c.i.set(m,_)}function hs(c){return jt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function mr(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xn(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,Eh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Eh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var yo=/[#\/\?@]/g,Zl=/[#\?:]/g,_o=/[#\?]/g,Th=/[#\?@]/g,Ah=/#/g;function ii(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function xe(c){c.g||(c.g=new Map,c.h=0,c.i&&Js(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=ii.prototype,r.add=function(c,m){xe(this),this.i=null,c=vn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function Ws(c,m){xe(c),m=vn(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function ta(c,m){return xe(c),m=vn(c,m),c.g.has(m)}r.forEach=function(c,m){xe(this),this.g.forEach(function(_,T){_.forEach(function(L){c.call(m,L,T,this)},this)},this)},r.na=function(){xe(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const L=c[T];for(let q=0;q<L.length;q++)_.push(m[T])}return _},r.V=function(c){xe(this);let m=[];if(typeof c=="string")ta(this,c)&&(m=m.concat(this.g.get(vn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)m=m.concat(c[_])}return m},r.set=function(c,m){return xe(this),this.i=null,c=vn(this,c),ta(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function bi(c,m,_){Ws(c,m),0<_.length&&(c.i=null,c.g.set(vn(c,m),et(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const q=encodeURIComponent(String(T)),nt=this.V(T);for(T=0;T<nt.length;T++){var L=q;nt[T]!==""&&(L+="="+encodeURIComponent(String(nt[T]))),c.push(L)}}return this.i=c.join("&")};function vn(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Wl(c,m){m&&!c.j&&(xe(c),c.i=null,c.g.forEach(function(_,T){var L=T.toLowerCase();T!=L&&(Ws(this,T),bi(this,L,_))},c)),c.j=m}function vo(c,m){const _=new lr;if(g.Image){const T=new Image;T.onload=H(hn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=H(hn,_,"TestLoadImage: error",!1,m,T),T.onabort=H(hn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=H(hn,_,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else m(!1)}function tu(c,m){const _=new lr,T=new AbortController,L=setTimeout(()=>{T.abort(),hn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?hn(_,"TestPingServer: ok",!0,m):hn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),hn(_,"TestPingServer: error",!1,m)})}function hn(c,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function Hn(){this.g=new yh}function Eo(c,m,_){const T=_||"";try{$s(c,function(L,q){let nt=L;v(L)&&(nt=Dn(L)),m.push(T+q+"="+encodeURIComponent(nt))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function ri(c){this.l=c.Ub||null,this.j=c.eb||!1}Z(ri,oo),ri.prototype.g=function(){return new En(this.l,this.j)},ri.prototype.i=(function(c){return function(){return c}})({});function En(c,m){Ie.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(En,Ie),r=En.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,gr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,gr(this)),this.g&&(this.readyState=3,gr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ea(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ea(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?si(this):gr(this),this.readyState==3&&ea(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,si(this))},r.Qa=function(c){this.g&&(this.response=c,si(this))},r.ga=function(){this.g&&si(this)};function si(c){c.readyState=4,c.l=null,c.j=null,c.v=null,gr(c)}r.setRequestHeader=function(c,m){this.u.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function gr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(En.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function fs(c){let m="";return Et(c,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function pr(c,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=fs(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):jt(c,m,_))}function ee(c){Ie.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(ee,Ie);var Je=/^https?$/i,wi=["POST","PUT"];r=ee.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ti.g(),this.v=this.o?Kl(this.o):Kl(ti),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){ds(this,q);return}if(c=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())_.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&c instanceof g.FormData,!(0<=Array.prototype.indexOf.call(wi,m,void 0))||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of _)this.g.setRequestHeader(q,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{na(this),this.u=!0,this.g.send(c),this.u=!1}catch(q){ds(this,q)}};function ds(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,yr(c),_r(c)}function yr(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Oe(this,"complete"),Oe(this,"abort"),_r(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_r(this,!0)),ee.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?eu(this):this.bb())},r.bb=function(){eu(this)};function eu(c){if(c.h&&typeof d<"u"&&(!c.v[1]||on(c)!=4||c.Z()!=2)){if(c.u&&on(c)==4)Ql(c.Ea,0,c);else if(Oe(c,"readystatechange"),on(c)==4){c.h=!1;try{const nt=c.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=nt===0){var L=String(c.D).match(po)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Je.test(L?L.toLowerCase():"")}_=T}if(_)Oe(c,"complete"),Oe(c,"success");else{c.m=6;try{var q=2<on(c)?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.Z()+"]",yr(c)}}finally{_r(c)}}}}function _r(c,m){if(c.g){na(c);const _=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Oe(c,"ready");try{_.onreadystatechange=T}catch{}}}function na(c){c.I&&(g.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function on(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<on(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),rn(m)}};function ms(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function nu(c){const m={};c=(c.g&&2<=on(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(yt(c[T]))continue;var _=M(c[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[L]||[];m[L]=q,q.push(_)}C(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function iu(c){this.Aa=0,this.i=[],this.j=new lr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gs("baseRetryDelayMs",5e3,c),this.cb=gs("retryDelaySeedMs",1e4,c),this.Wa=gs("forwardChannelMaxRetries",2,c),this.wa=gs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new mo(c&&c.concurrentRequestLimit),this.Da=new Hn,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=iu.prototype,r.la=8,r.G=1,r.connect=function(c,m,_,T){ze(0),this.W=c,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=cu(this,null,this.W),ia(this)};function To(c){if(ru(c),c.G==3){var m=c.U++,_=ue(c.I);if(jt(_,"SID",c.K),jt(_,"RID",m),jt(_,"TYPE","terminate"),ps(c,_),m=new ei(c,c.j,m),m.L=2,m.v=hs(ue(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=hu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),qn(m)}wo(c)}function vr(c){c.g&&(bo(c),c.g.cancel(),c.g=null)}function ru(c){vr(c),c.u&&(g.clearTimeout(c.u),c.u=null),Er(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&g.clearTimeout(c.s),c.s=null)}function ia(c){if(!go(c.h)&&!c.s){c.s=!0;var m=c.Ga;it||Pt(),ht||(it(),ht=!0),kt.add(m,c),c.B=0}}function Sh(c,m){return $l(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=or(x(c.Ga,c,m),uu(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new ei(this,this.j,c);let q=this.o;if(this.S&&(q?(q=S(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Ao(this,L,m),_=ue(this.I),jt(_,"RID",c),jt(_,"CVER",22),this.D&&jt(_,"X-HTTP-Session-Id",this.D),ps(this,_),q&&(this.O?m="headers="+encodeURIComponent(String(fs(q)))+"&"+m:this.m&&pr(_,this.m,q)),fr(this.h,L),this.Ua&&jt(_,"TYPE","init"),this.P?(jt(_,"$req",m),jt(_,"SID","null"),L.T=!0,ls(L,_,null)):ls(L,_,m),this.G=2}}else this.G==3&&(c?su(this,c):this.i.length==0||go(this.h)||su(this))};function su(c,m){var _;m?_=m.l:_=c.U++;const T=ue(c.I);jt(T,"SID",c.K),jt(T,"RID",_),jt(T,"AID",c.T),ps(c,T),c.m&&c.o&&pr(T,c.m,c.o),_=new ei(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Ao(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),fr(c.h,_),ls(_,T,m)}function ps(c,m){c.H&&Et(c.H,function(_,T){jt(m,T,_)}),c.l&&$s({},function(_,T){jt(m,T,_)})}function Ao(c,m,_){_=Math.min(c.i.length,_);var T=c.l?x(c.l.Na,c.l,c):null;t:{var L=c.i;let q=-1;for(;;){const nt=["count="+_];q==-1?0<_?(q=L[0].g,nt.push("ofs="+q)):q=0:nt.push("ofs="+q);let Gt=!0;for(let Ee=0;Ee<_;Ee++){let Rt=L[Ee].g;const Me=L[Ee].map;if(Rt-=q,0>Rt)q=Math.max(0,L[Ee].g-100),Gt=!1;else try{Eo(Me,nt,"req"+Rt+"_")}catch{T&&T(Me)}}if(Gt){T=nt.join("&");break t}}}return c=c.i.splice(0,_),m.D=c,T}function au(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;it||Pt(),ht||(it(),ht=!0),kt.add(m,c),c.v=0}}function So(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=or(x(c.Fa,c),uu(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=or(x(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ze(10),vr(this),ou(this))};function bo(c){c.A!=null&&(g.clearTimeout(c.A),c.A=null)}function ou(c){c.g=new ei(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=ue(c.qa);jt(m,"RID","rpc"),jt(m,"SID",c.K),jt(m,"AID",c.T),jt(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&jt(m,"TO",c.ja),jt(m,"TYPE","xmlhttp"),ps(c,m),c.m&&c.o&&pr(m,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=hs(ue(m)),_.m=null,_.P=!0,Ti(_,c)}r.Za=function(){this.C!=null&&(this.C=null,vr(this),So(this),ze(19))};function Er(c){c.C!=null&&(g.clearTimeout(c.C),c.C=null)}function lu(c,m){var _=null;if(c.g==m){Er(c),bo(c),c.g=null;var T=2}else if(hr(c.h,m))_=m.D,On(c.h,m),T=1;else return;if(c.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var L=c.B;T=Ys(),Oe(T,new uo(T,_)),ia(c)}else au(c);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Sh(c,m)||T==2&&So(c)))switch(_&&0<_.length&&(m=c.h,m.i=m.i.concat(_)),L){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function uu(c,m){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*m}function Ri(c,m){if(c.j.info("Error code "+m),m==2){var _=x(c.fb,c),T=c.Xa;const L=!T;T=new Si(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||dr(T,"https"),hs(T),L?vo(T.toString(),_):tu(T.toString(),_)}else ze(2);c.G=0,c.l&&c.l.sa(m),wo(c),ru(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ze(2)):(this.j.info("Failed to ping google.com"),ze(1))};function wo(c){if(c.G=0,c.ka=[],c.l){const m=an(c.h);(m.length!=0||c.i.length!=0)&&(Y(c.ka,m),Y(c.ka,c.i),c.h.i.length=0,et(c.i),c.i.length=0),c.l.ra()}}function cu(c,m,_){var T=_ instanceof Si?ue(_):new Si(_);if(T.g!="")m&&(T.g=m+"."+T.g),cs(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new Si(null);T&&dr(q,T),m&&(q.g=m),L&&cs(q,L),_&&(q.l=_),T=q}return _=c.D,m=c.ya,_&&m&&jt(T,_,m),jt(T,"VER",c.la),ps(c,T),T}function hu(c,m,_){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new ee(new ri({eb:_})):new ee(c.pa),m.Ha(c.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function fu(){}r=fu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ra(){}ra.prototype.g=function(c,m){return new ln(c,m)};function ln(c,m){Ie.call(this),this.g=new iu(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!yt(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!yt(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Tr(this)}Z(ln,Ie),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){To(this.g)},ln.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Dn(c),c=_);m.i.push(new _h(m.Ya++,c)),m.G==3&&ia(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,ln.aa.N.call(this)};function du(c){rr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const _ in m){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}Z(du,rr);function mu(){Bn.call(this),this.status=1}Z(mu,Bn);function Tr(c){this.g=c}Z(Tr,fu),Tr.prototype.ua=function(){Oe(this.g,"a")},Tr.prototype.ta=function(c){Oe(this.g,new du(c))},Tr.prototype.sa=function(c){Oe(this.g,new mu)},Tr.prototype.ra=function(){Oe(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,G0=function(){return new ra},F0=function(){return Ys()},H0=Nn,Gd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},le.NO_ERROR=0,le.TIMEOUT=8,le.HTTP_ERROR=6,Ic=le,je.COMPLETE="complete",q0=je,os.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",Ie.prototype.listen=Ie.prototype.K,fl=os,ee.prototype.listenOnce=ee.prototype.L,ee.prototype.getLastError=ee.prototype.Ka,ee.prototype.getLastErrorCode=ee.prototype.Ba,ee.prototype.getStatus=ee.prototype.Z,ee.prototype.getResponseJson=ee.prototype.Oa,ee.prototype.getResponseText=ee.prototype.oa,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Ha,B0=ee}).apply(typeof vc<"u"?vc:typeof self<"u"?self:typeof window<"u"?window:{});const iv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new um("@firebase/firestore");function ul(){return js.logLevel}function lt(r,...t){if(js.logLevel<=Ut.DEBUG){const i=t.map(Tm);js.debug(`Firestore (${Wa}): ${r}`,...i)}}function Ji(r,...t){if(js.logLevel<=Ut.ERROR){const i=t.map(Tm);js.error(`Firestore (${Wa}): ${r}`,...i)}}function qa(r,...t){if(js.logLevel<=Ut.WARN){const i=t.map(Tm);js.warn(`Firestore (${Wa}): ${r}`,...i)}}function Tm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r="Unexpected state"){const t=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: `+r;throw Ji(t),new Error(t)}function Yt(r,t){r||_t()}function St(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Wi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class GR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(tn.UNAUTHENTICATED)))}shutdown(){}}class QR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class KR{constructor(t){this.t=t,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0);let a=this.i;const l=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let u=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ks,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ks)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string"),new Q0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string"),new tn(t)}}class YR{constructor(t,i,a){this.l=t,this.h=i,this.P=a,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class XR{constructor(t,i,a){this.l=t,this.h=i,this.P=a}getToken(){return Promise.resolve(new YR(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable((()=>i(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $R{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JR{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){Yt(this.o===void 0);const a=u=>{u.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.R;return this.R=u.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>a(u)))};const l=u=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string"),this.R=i.token,new $R(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length;let a="";for(;a.length<20;){const l=ZR(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<i&&(a+=t.charAt(l[u]%t.length))}return a}}function Ht(r,t){return r<t?-1:r>t?1:0}function Ha(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new at(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return De.fromMillis(Date.now())}static fromDate(t){return De.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor(1e6*(t-1e3*i));return new De(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ht(this.nanoseconds,t.nanoseconds):Ht(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(t){this.timestamp=t}static fromTimestamp(t){return new At(t)}static min(){return new At(new De(0,0))}static max(){return new At(new De(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t,i,a){i===void 0?i=0:i>t.length&&_t(),a===void 0?a=t.length-i:a>t.length-i&&_t(),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Rl.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Rl?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const u=t.get(l),d=i.get(l);if(u<d)return-1;if(u>d)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class re extends Rl{construct(t,i,a){return new re(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new at(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new re(i)}static emptyPath(){return new re([])}}const WR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Rl{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return WR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qe(["__name__"])}static fromServerFormat(t){const i=[];let a="",l=0;const u=()=>{if(a.length===0)throw new at(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new at(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new at(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(u(),l++)}if(u(),d)throw new at(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(re.fromString(t))}static fromName(t){return new mt(re.fromString(t).popFirst(5))}static empty(){return new mt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return re.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new re(t.slice()))}}function t1(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=At.fromTimestamp(a===1e9?new De(i+1,0):new De(i,a));return new es(l,mt.empty(),t)}function e1(r){return new es(r.readTime,r.key,-1)}class es{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new es(At.min(),mt.empty(),-1)}static max(){return new es(At.max(),mt.empty(),-1)}}function n1(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,t.documentKey),i!==0?i:Ht(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==i1)throw r;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new W(((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):W.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):W.reject(i)}static resolve(t){return new W(((i,a)=>{i(t)}))}static reject(t){return new W(((i,a)=>{a(t)}))}static waitFor(t){return new W(((i,a)=>{let l=0,u=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&i()}),(p=>a(p)))})),d=!0,u===l&&i()}))}static or(t){let i=W.resolve(!1);for(const a of t)i=i.next((l=>l?W.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,u)=>{a.push(i.call(this,l,u))})),this.waitFor(a)}static mapArray(t,i){return new W(((a,l)=>{const u=t.length,d=new Array(u);let g=0;for(let p=0;p<u;p++){const v=p;i(t[v]).next((A=>{d[v]=A,++g,g===u&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new W(((a,l)=>{const u=()=>{t()===!0?i().next((()=>{u()}),l):a()};u()}))}}function s1(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Pl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ie(a),this.se=a=>i.writeSequenceNumber(a))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Am.oe=-1;function Wc(r){return r==null}function zc(r){return r===0&&1/r==-1/0}function a1(r){return typeof r=="number"&&Number.isInteger(r)&&!zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Fs(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function Y0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ec(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ec(this.root,t,this.comparator,!0)}}class Ec{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?a(t.key,i):1,i&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,l,u){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=l??Ge.EMPTY,this.right=u??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,u){return new Ge(t??this.key,i??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const u=a(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,i,a),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const t=this.left.check();if(t!==this.right.check())throw _t();return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(t,i,a,l,u){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new sv(this.data.getIterator())}getIteratorFrom(t){return new sv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ke)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ke(this.comparator);return i.data=t,i}}class sv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Cn([])}unionWith(t){let i=new Ke(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Cn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ha(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new X0("Invalid base64 string: "+u):u}})(t);return new Ye(i)}static fromUint8Array(t){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(t);return new Ye(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ht(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const o1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(r){if(Yt(!!r),typeof r=="string"){let t=0;const i=o1.exec(r);if(Yt(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Bs(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function bm(r){const t=r.mapValue.fields.__previous_value__;return Sm(t)?bm(t):t}function Il(r){const t=ns(r.mapValue.fields.__local_write_time__.timestampValue);return new De(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t,i,a,l,u,d,g,p,v){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=v}}class Cl{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Cl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc={mapValue:{}};function qs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sm(r)?4:c1(r)?9007199254740991:u1(r)?10:11:_t()}function gi(r,t){if(r===t)return!0;const i=qs(r);if(i!==qs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Il(r).isEqual(Il(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=ns(l.timestampValue),g=ns(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,u){return Bs(l.bytesValue).isEqual(Bs(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,u){return ye(l.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(u.geoPointValue.longitude)})(r,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return ye(l.integerValue)===ye(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=ye(l.doubleValue),g=ye(u.doubleValue);return d===g?zc(d)===zc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Ha(r.arrayValue.values||[],t.arrayValue.values||[],gi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(rv(d)!==rv(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!gi(d[p],g[p])))return!1;return!0})(r,t);default:return _t()}}function Dl(r,t){return(r.values||[]).find((i=>gi(i,t)))!==void 0}function Fa(r,t){if(r===t)return 0;const i=qs(r),a=qs(t);if(i!==a)return Ht(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ht(r.booleanValue,t.booleanValue);case 2:return(function(u,d){const g=ye(u.integerValue||u.doubleValue),p=ye(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(r,t);case 3:return av(r.timestampValue,t.timestampValue);case 4:return av(Il(r),Il(t));case 5:return Ht(r.stringValue,t.stringValue);case 6:return(function(u,d){const g=Bs(u),p=Bs(d);return g.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,d){const g=u.split("/"),p=d.split("/");for(let v=0;v<g.length&&v<p.length;v++){const A=Ht(g[v],p[v]);if(A!==0)return A}return Ht(g.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,d){const g=Ht(ye(u.latitude),ye(d.latitude));return g!==0?g:Ht(ye(u.longitude),ye(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return ov(r.arrayValue,t.arrayValue);case 10:return(function(u,d){var g,p,v,A;const b=u.fields||{},x=d.fields||{},H=(g=b.value)===null||g===void 0?void 0:g.arrayValue,Z=(p=x.value)===null||p===void 0?void 0:p.arrayValue,et=Ht(((v=H==null?void 0:H.values)===null||v===void 0?void 0:v.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return et!==0?et:ov(H,Z)})(r.mapValue,t.mapValue);case 11:return(function(u,d){if(u===Tc.mapValue&&d===Tc.mapValue)return 0;if(u===Tc.mapValue)return 1;if(d===Tc.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),v=d.fields||{},A=Object.keys(v);p.sort(),A.sort();for(let b=0;b<p.length&&b<A.length;++b){const x=Ht(p[b],A[b]);if(x!==0)return x;const H=Fa(g[p[b]],v[A[b]]);if(H!==0)return H}return Ht(p.length,A.length)})(r.mapValue,t.mapValue);default:throw _t()}}function av(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ht(r,t);const i=ns(r),a=ns(t),l=Ht(i.seconds,a.seconds);return l!==0?l:Ht(i.nanos,a.nanos)}function ov(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const u=Fa(i[l],a[l]);if(u)return u}return Ht(i.length,a.length)}function Ga(r){return Qd(r)}function Qd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=ns(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Bs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const u of i.values||[])l?l=!1:a+=",",a+=Qd(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of a)u?u=!1:l+=",",l+=`${d}:${Qd(i.fields[d])}`;return l+"}"})(r.mapValue):_t()}function lv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Kd(r){return!!r&&"integerValue"in r}function wm(r){return!!r&&"arrayValue"in r}function uv(r){return!!r&&"nullValue"in r}function cv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Cc(r){return!!r&&"mapValue"in r}function u1(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function yl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Fs(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=yl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=yl(r.arrayValue.values[i]);return t}return Object.assign({},r)}function c1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.value=t}static empty(){return new _n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Cc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=yl(i)}setAll(t){let i=Qe.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=yl(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,a,l)}delete(t){const i=this.field(t.popLast());Cc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return gi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Cc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Fs(i,((l,u)=>t[l]=u));for(const l of a)delete t[l]}clone(){return new _n(yl(this.value))}}function $0(r){const t=[];return Fs(r.fields,((i,a)=>{const l=new Qe([i]);if(Cc(a)){const u=$0(a.mapValue).fields;if(u.length===0)t.push(l);else for(const d of u)t.push(l.child(d))}else t.push(l)})),new Cn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t,i,a,l,u,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(t){return new en(t,0,At.min(),At.min(),At.min(),_n.empty(),0)}static newFoundDocument(t,i,a,l){return new en(t,1,i,At.min(),a,l,0)}static newNoDocument(t,i){return new en(t,2,i,At.min(),At.min(),_n.empty(),0)}static newUnknownDocument(t,i){return new en(t,3,i,At.min(),At.min(),_n.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof en&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,i){this.position=t,this.inclusive=i}}function hv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const u=t[l],d=r.position[l];if(u.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=Fa(d,i.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function fv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!gi(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,i="asc"){this.field=t,this.dir=i}}function h1(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{}class Re extends J0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new d1(t,i,a):i==="array-contains"?new p1(t,a):i==="in"?new y1(t,a):i==="not-in"?new _1(t,a):i==="array-contains-any"?new v1(t,a):new Re(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new m1(t,a):new g1(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Fa(i,this.value)):i!==null&&qs(this.value)===qs(i)&&this.matchesComparison(Fa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends J0{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new $n(t,i)}matches(t){return Z0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Z0(r){return r.op==="and"}function W0(r){return f1(r)&&Z0(r)}function f1(r){for(const t of r.filters)if(t instanceof $n)return!1;return!0}function Yd(r){if(r instanceof Re)return r.field.canonicalString()+r.op.toString()+Ga(r.value);if(W0(r))return r.filters.map((t=>Yd(t))).join(",");{const t=r.filters.map((i=>Yd(i))).join(",");return`${r.op}(${t})`}}function tE(r,t){return r instanceof Re?(function(a,l){return l instanceof Re&&a.op===l.op&&a.field.isEqual(l.field)&&gi(a.value,l.value)})(r,t):r instanceof $n?(function(a,l){return l instanceof $n&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((u,d,g)=>u&&tE(d,l.filters[g])),!0):!1})(r,t):void _t()}function eE(r){return r instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ga(i.value)}`})(r):r instanceof $n?(function(i){return i.op.toString()+" {"+i.getFilters().map(eE).join(" ,")+"}"})(r):"Filter"}class d1 extends Re{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class m1 extends Re{constructor(t,i){super(t,"in",i),this.keys=nE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class g1 extends Re{constructor(t,i){super(t,"not-in",i),this.keys=nE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function nE(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((a=>mt.fromName(a.referenceValue)))}class p1 extends Re{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return wm(i)&&Dl(i.arrayValue,this.value)}}class y1 extends Re{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Dl(this.value.arrayValue,i)}}class _1 extends Re{constructor(t,i){super(t,"not-in",i)}matches(t){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!Dl(this.value.arrayValue,i)}}class v1 extends Re{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!wm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Dl(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(t,i=null,a=[],l=[],u=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.ue=null}}function dv(r,t=null,i=[],a=[],l=null,u=null,d=null){return new E1(r,t,i,a,l,u,d)}function Rm(r){const t=St(r);if(t.ue===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Yd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Wc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ga(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ga(a))).join(",")),t.ue=i}return t.ue}function Im(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!h1(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!tE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!fv(r.startAt,t.startAt)&&fv(r.endAt,t.endAt)}function Xd(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(t,i=null,a=[],l=[],u=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function T1(r,t,i,a,l,u,d,g){return new zl(r,t,i,a,l,u,d,g)}function Cm(r){return new zl(r)}function mv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function iE(r){return r.collectionGroup!==null}function _l(r){const t=St(r);if(t.ce===null){t.ce=[];const i=new Set;for(const u of t.explicitOrderBy)t.ce.push(u),i.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ke(Qe.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.ce.push(new Bc(u,a))})),i.has(Qe.keyField().canonicalString())||t.ce.push(new Bc(Qe.keyField(),a))}return t.ce}function di(r){const t=St(r);return t.le||(t.le=A1(t,_l(r))),t.le}function A1(r,t){if(r.limitType==="F")return dv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Bc(l.field,u)}));const i=r.endAt?new jc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new jc(r.startAt.position,r.startAt.inclusive):null;return dv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function $d(r,t){const i=r.filters.concat([t]);return new zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Jd(r,t,i){return new zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function th(r,t){return Im(di(r),di(t))&&r.limitType===t.limitType}function rE(r){return`${Rm(di(r))}|lt:${r.limitType}`}function Ma(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>eE(l))).join(", ")}]`),Wc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ga(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ga(l))).join(",")),`Target(${a})`})(di(r))}; limitType=${r.limitType})`}function eh(r,t){return t.isFoundDocument()&&(function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):mt.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,t)&&(function(a,l){for(const u of _l(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,p){const v=hv(d,g,p);return d.inclusive?v<=0:v<0})(a.startAt,_l(a),l)||a.endAt&&!(function(d,g,p){const v=hv(d,g,p);return d.inclusive?v>=0:v>0})(a.endAt,_l(a),l))})(r,t)}function S1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function sE(r){return(t,i)=>{let a=!1;for(const l of _l(r)){const u=b1(l,t,i);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function b1(r,t,i){const a=r.field.isKeyField()?mt.comparator(t.key,i.key):(function(u,d,g){const p=d.data.field(u),v=g.data.field(u);return p!==null&&v!==null?Fa(p,v):_t()})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Fs(this.inner,((i,a)=>{for(const[l,u]of a)t(l,u)}))}isEmpty(){return Y0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new oe(mt.comparator);function Zi(){return w1}const aE=new oe(mt.comparator);function dl(...r){let t=aE;for(const i of r)t=t.insert(i.key,i);return t}function oE(r){let t=aE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Vs(){return vl()}function lE(){return vl()}function vl(){return new to((r=>r.toString()),((r,t)=>r.isEqual(t)))}const R1=new oe(mt.comparator),I1=new Ke(mt.comparator);function Mt(...r){let t=I1;for(const i of r)t=t.add(i);return t}const C1=new Ke(Ht);function D1(){return C1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zc(t)?"-0":t}}function uE(r){return{integerValue:""+r}}function N1(r,t){return a1(t)?uE(t):Dm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this._=void 0}}function O1(r,t,i){return r instanceof qc?(function(l,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Sm(u)&&(u=bm(u)),u&&(d.fields.__previous_value__=u),{mapValue:d}})(i,t):r instanceof Qa?hE(r,t):r instanceof Nl?fE(r,t):(function(l,u){const d=cE(l,u),g=gv(d)+gv(l.Pe);return Kd(d)&&Kd(l.Pe)?uE(g):Dm(l.serializer,g)})(r,t)}function x1(r,t,i){return r instanceof Qa?hE(r,t):r instanceof Nl?fE(r,t):i}function cE(r,t){return r instanceof Hc?(function(a){return Kd(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(t)?t:{integerValue:0}:null}class qc extends nh{}class Qa extends nh{constructor(t){super(),this.elements=t}}function hE(r,t){const i=dE(t);for(const a of r.elements)i.some((l=>gi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Nl extends nh{constructor(t){super(),this.elements=t}}function fE(r,t){let i=dE(t);for(const a of r.elements)i=i.filter((l=>!gi(l,a)));return{arrayValue:{values:i}}}class Hc extends nh{constructor(t,i){super(),this.serializer=t,this.Pe=i}}function gv(r){return ye(r.integerValue||r.doubleValue)}function dE(r){return wm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(t,i){this.field=t,this.transform=i}}function V1(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Qa&&l instanceof Qa||a instanceof Nl&&l instanceof Nl?Ha(a.elements,l.elements,gi):a instanceof Hc&&l instanceof Hc?gi(a.Pe,l.Pe):a instanceof qc&&l instanceof qc})(r.transform,t.transform)}class U1{constructor(t,i){this.version=t,this.transformResults=i}}class Yn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Yn}static exists(t){return new Yn(void 0,t)}static updateTime(t){return new Yn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Dc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class ih{}function mE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new pE(r.key,Yn.none()):new jl(r.key,r.data,Yn.none());{const i=r.data,a=_n.empty();let l=new Ke(Qe.comparator);for(let u of t.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?a.delete(u):a.set(u,d),l=l.add(u)}return new rs(r.key,a,new Cn(l.toArray()),Yn.none())}}function k1(r,t,i){r instanceof jl?(function(l,u,d){const g=l.value.clone(),p=yv(l.fieldTransforms,u,d.transformResults);g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof rs?(function(l,u,d){if(!Dc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=yv(l.fieldTransforms,u,d.transformResults),p=u.data;p.setAll(gE(l)),p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function El(r,t,i,a){return r instanceof jl?(function(u,d,g,p){if(!Dc(u.precondition,d))return g;const v=u.value.clone(),A=_v(u.fieldTransforms,p,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,t,i,a):r instanceof rs?(function(u,d,g,p){if(!Dc(u.precondition,d))return g;const v=_v(u.fieldTransforms,p,d),A=d.data;return A.setAll(gE(u)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(u,d,g){return Dc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function L1(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),u=cE(a.transform,l||null);u!=null&&(i===null&&(i=_n.empty()),i.set(a.field,u))}return i||null}function pv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ha(a,l,((u,d)=>V1(u,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class jl extends ih{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class rs extends ih{constructor(t,i,a,l,u=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function gE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function yv(r,t,i){const a=new Map;Yt(r.length===i.length);for(let l=0;l<i.length;l++){const u=r[l],d=u.transform,g=t.data.field(u.field);a.set(u.field,x1(d,g,i[l]))}return a}function _v(r,t,i){const a=new Map;for(const l of r){const u=l.transform,d=i.data.field(l.field);a.set(l.field,O1(u,d,t))}return a}class pE extends ih{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P1 extends ih{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&k1(u,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=El(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=El(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=lE();return this.mutations.forEach((l=>{const u=t.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=i.has(l.key)?null:g;const p=mE(d,g);p!==null&&a.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(At.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&Ha(this.mutations,t.mutations,((i,a)=>pv(i,a)))&&Ha(this.baseMutations,t.baseMutations,((i,a)=>pv(i,a)))}}class Nm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Yt(t.mutations.length===a.length);let l=(function(){return R1})();const u=t.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,a[d].version);return new Nm(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,Lt;function q1(r){switch(r){default:return _t();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function yE(r){if(r===void 0)return Ji("GRPC error has no .code"),J.UNKNOWN;switch(r){case we.OK:return J.OK;case we.CANCELLED:return J.CANCELLED;case we.UNKNOWN:return J.UNKNOWN;case we.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case we.INTERNAL:return J.INTERNAL;case we.UNAVAILABLE:return J.UNAVAILABLE;case we.UNAUTHENTICATED:return J.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case we.NOT_FOUND:return J.NOT_FOUND;case we.ALREADY_EXISTS:return J.ALREADY_EXISTS;case we.PERMISSION_DENIED:return J.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case we.ABORTED:return J.ABORTED;case we.OUT_OF_RANGE:return J.OUT_OF_RANGE;case we.UNIMPLEMENTED:return J.UNIMPLEMENTED;case we.DATA_LOSS:return J.DATA_LOSS;default:return _t()}}(Lt=we||(we={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=new Us([4294967295,4294967295],0);function vv(r){const t=H1().encode(r),i=new j0;return i.update(t),new Uint8Array(i.digest())}function Ev(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Us([i,a],0),new Us([l,u],0)]}class Om{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new ml(`Invalid padding: ${i}`);if(a<0)throw new ml(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new ml(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=Us.fromNumber(this.Ie)}Ee(t,i,a){let l=t.add(i.multiply(Us.fromNumber(a)));return l.compare(F1)===1&&(l=new Us([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const i=vv(t),[a,l]=Ev(i);for(let u=0;u<this.hashCount;u++){const d=this.Ee(a,l,u);if(!this.de(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new Om(u,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.Ie===0)return;const i=vv(t),[a,l]=Ev(i);for(let u=0;u<this.hashCount;u++){const d=this.Ee(a,l,u);this.Ae(d)}}Ae(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,i,a,l,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Bl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new rh(At.min(),l,new oe(Ht),Zi(),Mt())}}class Bl{constructor(t,i,a,l,u){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Bl(a,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,i,a,l){this.Re=t,this.removedTargetIds=i,this.key=a,this.Ve=l}}class _E{constructor(t,i){this.targetId=t,this.me=i}}class vE{constructor(t,i,a=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Tv{constructor(){this.fe=0,this.ge=Sv(),this.pe=Ye.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Mt(),i=Mt(),a=Mt();return this.ge.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:_t()}})),new Bl(this.pe,this.ye,t,i,a)}Ce(){this.we=!1,this.ge=Sv()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Yt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class G1{constructor(t){this.Le=t,this.Be=new Map,this.ke=Zi(),this.qe=Av(),this.Qe=new oe(Ht)}Ke(t){for(const i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(const i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,(i=>{const a=this.Ge(i);switch(t.state){case 0:this.ze(i)&&a.De(t.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(t.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(a.Ne(),a.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),a.De(t.resumeToken));break;default:_t()}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach(((a,l)=>{this.ze(l)&&i(l)}))}He(t){const i=t.targetId,a=t.me.count,l=this.Je(i);if(l){const u=l.target;if(Xd(u))if(a===0){const d=new mt(u.path);this.Ue(i,d,en.newNoDocument(d,At.min()))}else Yt(a===1);else{const d=this.Ye(i);if(d!==a){const g=this.Ze(t),p=g?this.Xe(g,t,d):1;if(p!==0){this.je(i);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,v)}}}}}Ze(t){const i=t.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=i;let d,g;try{d=Bs(a).toUint8Array()}catch(p){if(p instanceof X0)return qa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Om(d,l,u)}catch(p){return qa(p instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ie===0?null:g}Xe(t,i,a){return i.me.count===a-this.nt(t,i.targetId)?0:2}nt(t,i){const a=this.Le.getRemoteKeysForTarget(i);let l=0;return a.forEach((u=>{const d=this.Le.tt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.Ue(i,u,null),l++)})),l}rt(t){const i=new Map;this.Be.forEach(((u,d)=>{const g=this.Je(d);if(g){if(u.current&&Xd(g.target)){const p=new mt(g.target.path);this.ke.get(p)!==null||this.it(d,p)||this.Ue(d,p,en.newNoDocument(p,t))}u.be&&(i.set(d,u.ve()),u.Ce())}}));let a=Mt();this.qe.forEach(((u,d)=>{let g=!0;d.forEachWhile((p=>{const v=this.Je(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(u))})),this.ke.forEach(((u,d)=>d.setReadTime(t)));const l=new rh(t,i,this.Qe,this.ke,a);return this.ke=Zi(),this.qe=Av(),this.Qe=new oe(Ht),l}$e(t,i){if(!this.ze(t))return;const a=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,a),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,a){if(!this.ze(t))return;const l=this.Ge(t);this.it(t,i)?l.Fe(i,1):l.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),a&&(this.ke=this.ke.insert(i,a))}removeTarget(t){this.Be.delete(t)}Ye(t){const i=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new Tv,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new Ke(Ht),this.qe=this.qe.insert(t,i)),i}ze(t){const i=this.Je(t)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",t),i}Je(t){const i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Tv),this.Le.getRemoteKeysForTarget(t).forEach((i=>{this.Ue(t,i,null)}))}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}}function Av(){return new oe(mt.comparator)}function Sv(){return new oe(mt.comparator)}const Q1={asc:"ASCENDING",desc:"DESCENDING"},K1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y1={and:"AND",or:"OR"};class X1{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Zd(r,t){return r.useProto3Json||Wc(t)?t:{value:t}}function Fc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function EE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function $1(r,t){return Fc(r,t.toTimestamp())}function mi(r){return Yt(!!r),At.fromTimestamp((function(i){const a=ns(i);return new De(a.seconds,a.nanos)})(r))}function xm(r,t){return Wd(r,t).canonicalString()}function Wd(r,t){const i=(function(l){return new re(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function TE(r){const t=re.fromString(r);return Yt(RE(t)),t}function tm(r,t){return xm(r.databaseId,t.path)}function Od(r,t){const i=TE(t);if(i.get(1)!==r.databaseId.projectId)throw new at(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new at(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(SE(i))}function AE(r,t){return xm(r.databaseId,t)}function J1(r){const t=TE(r);return t.length===4?re.emptyPath():SE(t)}function em(r){return new re(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function SE(r){return Yt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function bv(r,t,i){return{name:tm(r,t),fields:i.value.mapValue.fields}}function Z1(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:_t()})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(v,A){return v.useProto3Json?(Yt(A===void 0||typeof A=="string"),Ye.fromBase64String(A||"")):(Yt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),Ye.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(v){const A=v.code===void 0?J.UNKNOWN:yE(v.code);return new at(A,v.message||"")})(d);i=new vE(a,l,u,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Od(r,a.document.name),u=mi(a.document.updateTime),d=a.document.createTime?mi(a.document.createTime):At.min(),g=new _n({mapValue:{fields:a.document.fields}}),p=en.newFoundDocument(l,u,d,g),v=a.targetIds||[],A=a.removedTargetIds||[];i=new Nc(v,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Od(r,a.document),u=a.readTime?mi(a.readTime):At.min(),d=en.newNoDocument(l,u),g=a.removedTargetIds||[];i=new Nc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Od(r,a.document),u=a.removedTargetIds||[];i=new Nc([],u,l,null)}else{if(!("filter"in t))return _t();{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,d=new B1(l,u),g=a.targetId;i=new _E(g,d)}}return i}function W1(r,t){let i;if(t instanceof jl)i={update:bv(r,t.key,t.value)};else if(t instanceof pE)i={delete:tm(r,t.key)};else if(t instanceof rs)i={update:bv(r,t.key,t.data),updateMask:lI(t.fieldMask)};else{if(!(t instanceof P1))return _t();i={verify:tm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(u,d){const g=d.transform;if(g instanceof qc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Qa)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Nl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Hc)return{fieldPath:d.field.canonicalString(),increment:g.Pe};throw _t()})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:$1(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t()})(r,t.precondition)),i}function tI(r,t){return r&&r.length>0?(Yt(t!==void 0),r.map((i=>(function(l,u){let d=l.updateTime?mi(l.updateTime):mi(u);return d.isEqual(At.min())&&(d=mi(u)),new U1(d,l.transformResults||[])})(i,t)))):[]}function eI(r,t){return{documents:[AE(r,t.path)]}}function nI(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=AE(r,l);const u=(function(v){if(v.length!==0)return wE($n.create(v,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const d=(function(v){if(v.length!==0)return v.map((A=>(function(x){return{field:Va(x.field),direction:sI(x.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Zd(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{_t:i,parent:l}}function iI(r){let t=J1(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Yt(a===1);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let u=[];i.where&&(u=(function(b){const x=bE(b);return x instanceof $n&&W0(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((x=>(function(Z){return new Bc(Ua(Z.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(x)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let x;return x=typeof b=="object"?b.value:b,Wc(x)?null:x})(i.limit));let p=null;i.startAt&&(p=(function(b){const x=!!b.before,H=b.values||[];return new jc(H,x)})(i.startAt));let v=null;return i.endAt&&(v=(function(b){const x=!b.before,H=b.values||[];return new jc(H,x)})(i.endAt)),T1(t,l,d,u,g,"F",p,v)}function rI(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function bE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ua(i.unaryFilter.field);return Re.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ua(i.unaryFilter.field);return Re.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ua(i.unaryFilter.field);return Re.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ua(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});default:return _t()}})(r):r.fieldFilter!==void 0?(function(i){return Re.create(Ua(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return $n.create(i.compositeFilter.filters.map((a=>bE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t()}})(i.compositeFilter.op))})(r):_t()}function sI(r){return Q1[r]}function aI(r){return K1[r]}function oI(r){return Y1[r]}function Va(r){return{fieldPath:r.canonicalString()}}function Ua(r){return Qe.fromServerFormat(r.fieldPath)}function wE(r){return r instanceof Re?(function(i){if(i.op==="=="){if(cv(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NAN"}};if(uv(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(cv(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NOT_NAN"}};if(uv(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(i.field),op:aI(i.op),value:i.value}}})(r):r instanceof $n?(function(i){const a=i.getFilters().map((l=>wE(l)));return a.length===1?a[0]:{compositeFilter:{op:oI(i.op),filters:a}}})(r):_t()}function lI(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function RE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(t,i,a,l,u=At.min(),d=At.min(),g=Ye.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new $r(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t){this.ct=t}}function cI(r){const t=iI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Jd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.un=new fI}addToCollectionParentIndex(t,i){return this.un.add(i),W.resolve()}getCollectionParents(t,i){return W.resolve(this.un.getEntries(i))}addFieldIndex(t,i){return W.resolve()}deleteFieldIndex(t,i){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,i){return W.resolve()}getDocumentsMatchingTarget(t,i){return W.resolve(null)}getIndexType(t,i){return W.resolve(0)}getFieldIndexes(t,i){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,i){return W.resolve(es.min())}getMinOffsetFromCollectionGroup(t,i){return W.resolve(es.min())}updateCollectionGroup(t,i,a){return W.resolve()}updateIndexEntries(t,i){return W.resolve()}}class fI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ke(re.comparator),u=!l.has(a);return this.index[i]=l.add(a),u}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ke(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ka(0)}static kn(){return new Ka(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.changes=new to((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,en.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?W.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&El(a.mutation,l,Cn.empty(),De.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Mt()){const l=Vs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((u=>{let d=dl();return u.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Vs();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Mt())))}populateOverlays(t,i,a){const l=[];return a.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let u=Zi();const d=vl(),g=(function(){return vl()})();return i.forEach(((p,v)=>{const A=a.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof rs)?u=u.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),El(A.mutation,v,A.mutation.getFieldMask(),De.now())):d.set(v.key,Cn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>{var b;return g.set(v,new mI(A,(b=d.get(v))!==null&&b!==void 0?b:null))})),g)))}recalculateAndSaveOverlays(t,i){const a=vl();let l=new oe(((d,g)=>d-g)),u=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((p=>{const v=i.get(p);if(v===null)return;let A=a.get(p)||Cn.empty();A=g.applyToLocalView(v,A),a.set(p,A);const b=(l.get(g.batchId)||Mt()).add(p);l=l.insert(g.batchId,b)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),v=p.key,A=p.value,b=lE();A.forEach((x=>{if(!u.has(x)){const H=mE(i.get(x),a.get(x));H!==null&&b.set(x,H),u=u.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,b))}return W.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):iE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-u.size):W.resolve(Vs());let g=-1,p=u;return d.next((v=>W.forEach(v,((A,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),u.get(A)?W.resolve():this.remoteDocumentCache.getEntry(t,A).next((x=>{p=p.insert(A,x)}))))).next((()=>this.populateOverlays(t,v,u))).next((()=>this.computeViews(t,p,v,Mt()))).next((A=>({batchId:g,changes:oE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((a=>{let l=dl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const u=i.collectionGroup;let d=dl();return this.indexManager.getCollectionParents(t,u).next((g=>W.forEach(g,(p=>{const v=(function(b,x){return new zl(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,v,a,l).next((A=>{A.forEach(((b,x)=>{d=d.insert(b,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,u,l)))).next((d=>{u.forEach(((p,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,en.newInvalidDocument(A)))}));let g=dl();return d.forEach(((p,v)=>{const A=u.get(p);A!==void 0&&El(A.mutation,v,Cn.empty(),De.now()),eh(i,v)&&(g=g.insert(p,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,i){return W.resolve(this.hr.get(i))}saveBundleMetadata(t,i){return this.hr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:mi(l.createTime)}})(i)),W.resolve()}getNamedQuery(t,i){return W.resolve(this.Pr.get(i))}saveNamedQuery(t,i){return this.Pr.set(i.name,(function(l){return{name:l.name,query:cI(l.bundledQuery),readTime:mi(l.readTime)}})(i)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.overlays=new oe(mt.comparator),this.Ir=new Map}getOverlay(t,i){return W.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Vs();return W.forEach(i,(l=>this.getOverlay(t,l).next((u=>{u!==null&&a.set(l,u)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,u)=>{this.ht(t,i,u)})),W.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Ir.get(a);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Ir.delete(a)),W.resolve()}getOverlaysForCollection(t,i,a){const l=Vs(),u=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,v=p.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===u&&p.largestBatchId>a&&l.set(p.getKey(),p)}return W.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let u=new oe(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=u.get(v.largestBatchId);A===null&&(A=Vs(),u=u.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=Vs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((v,A)=>g.set(v,A))),!(g.size()>=l)););return W.resolve(g)}ht(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Ir.get(l.largestBatchId).delete(a.key);this.Ir.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new j1(i,a));let u=this.Ir.get(i);u===void 0&&(u=Mt(),this.Ir.set(i,u)),this.Ir.set(i,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(){this.Tr=new Ke(ke.Er),this.dr=new Ke(ke.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,i){const a=new ke(t,i);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Vr(new ke(t,i))}mr(t,i){t.forEach((a=>this.removeReference(a,i)))}gr(t){const i=new mt(new re([])),a=new ke(i,t),l=new ke(i,t+1),u=[];return this.dr.forEachInRange([a,l],(d=>{this.Vr(d),u.push(d.key)})),u}pr(){this.Tr.forEach((t=>this.Vr(t)))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const i=new mt(new re([])),a=new ke(i,t),l=new ke(i,t+1);let u=Mt();return this.dr.forEachInRange([a,l],(d=>{u=u.add(d.key)})),u}containsKey(t){const i=new ke(t,0),a=this.Tr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class ke{constructor(t,i){this.key=t,this.wr=i}static Er(t,i){return mt.comparator(t.key,i.key)||Ht(t.wr,i.wr)}static Ar(t,i){return Ht(t.wr,i.wr)||mt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new Ke(ke.Er)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new z1(u,i,a,l);this.mutationQueue.push(d);for(const g of l)this.br=this.br.add(new ke(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(t,i){return W.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.vr(a),u=l<0?0:l;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new ke(i,0),l=new ke(i,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([a,l],(d=>{const g=this.Dr(d.wr);u.push(g)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ke(Ht);return i.forEach((l=>{const u=new ke(l,0),d=new ke(l,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,d],(g=>{a=a.add(g.wr)}))})),W.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let u=a;mt.isDocumentKey(u)||(u=u.child(""));const d=new ke(new mt(u),0);let g=new Ke(Ht);return this.br.forEachWhile((p=>{const v=p.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(g=g.add(p.wr)),!0)}),d),W.resolve(this.Cr(g))}Cr(t){const i=[];return t.forEach((a=>{const l=this.Dr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Yt(this.Fr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.br;return W.forEach(i.mutations,(l=>{const u=new ke(l.key,i.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.br=a}))}On(t){}containsKey(t,i){const a=new ke(i,0),l=this.br.firstAfterOrEqual(a);return W.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}Fr(t,i){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const i=this.vr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t){this.Mr=t,this.docs=(function(){return new oe(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),u=l?l.size:0,d=this.Mr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return W.resolve(a?a.document.mutableCopy():en.newInvalidDocument(i))}getEntries(t,i){let a=Zi();return i.forEach((l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():en.newInvalidDocument(l))})),W.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let u=Zi();const d=i.path,g=new mt(d.child("")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:v,value:{document:A}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||n1(e1(A),a)<=0||(l.has(A.key)||eh(i,A))&&(u=u.insert(A.key,A.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,i,a,l){_t()}Or(t,i){return W.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new TI(this)}getSize(t){return W.resolve(this.size)}}class TI extends dI{constructor(t){super(),this.cr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.cr.addEntry(t,l)):this.cr.removeEntry(a)})),W.waitFor(i)}getFromCache(t,i){return this.cr.getEntry(t,i)}getAllFromCache(t,i){return this.cr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t){this.persistence=t,this.Nr=new to((i=>Rm(i)),Im),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Mm,this.targetCount=0,this.kr=Ka.Bn()}forEachTarget(t,i){return this.Nr.forEach(((a,l)=>i(l))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Lr&&(this.Lr=i),W.resolve()}Kn(t){this.Nr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.kr=new Ka(i),this.highestTargetId=i),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,i){return this.Kn(i),this.targetCount+=1,W.resolve()}updateTargetData(t,i){return this.Kn(i),W.resolve()}removeTargetData(t,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,i,a){let l=0;const u=[];return this.Nr.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Nr.delete(d),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),W.waitFor(u).next((()=>l))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,i){const a=this.Nr.get(i)||null;return W.resolve(a)}addMatchingKeys(t,i,a){return this.Br.Rr(i,a),W.resolve()}removeMatchingKeys(t,i,a){this.Br.mr(i,a);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(t,d))})),W.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.Br.gr(i),W.resolve()}getMatchingKeysForTargetId(t,i){const a=this.Br.yr(i);return W.resolve(a)}containsKey(t,i){return W.resolve(this.Br.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t,i){this.qr={},this.overlays={},this.Qr=new Am(0),this.Kr=!1,this.Kr=!0,this.$r=new _I,this.referenceDelegate=t(this),this.Ur=new AI(this),this.indexManager=new hI,this.remoteDocumentCache=(function(l){return new EI(l)})((a=>this.referenceDelegate.Wr(a))),this.serializer=new uI(i),this.Gr=new pI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new yI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.qr[t.toKey()];return a||(a=new vI(i,this.referenceDelegate),this.qr[t.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,i,a){lt("MemoryPersistence","Starting transaction:",t);const l=new bI(this.Qr.next());return this.referenceDelegate.zr(),a(l).next((u=>this.referenceDelegate.jr(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Hr(t,i){return W.or(Object.values(this.qr).map((a=>()=>a.containsKey(t,i))))}}class bI extends r1{constructor(t){super(),this.currentSequenceNumber=t}}class Vm{constructor(t){this.persistence=t,this.Jr=new Mm,this.Yr=null}static Zr(t){return new Vm(t)}get Xr(){if(this.Yr)return this.Yr;throw _t()}addReference(t,i,a){return this.Jr.addReference(a,i),this.Xr.delete(a.toString()),W.resolve()}removeReference(t,i,a){return this.Jr.removeReference(a,i),this.Xr.add(a.toString()),W.resolve()}markPotentiallyOrphaned(t,i){return this.Xr.add(i.toString()),W.resolve()}removeTarget(t,i){this.Jr.gr(i.targetId).forEach((l=>this.Xr.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((u=>this.Xr.add(u.toString())))})).next((()=>a.removeTargetData(t,i)))}zr(){this.Yr=new Set}jr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Xr,(a=>{const l=mt.fromPath(a);return this.ei(t,l).next((u=>{u||i.removeEntry(l,At.min())}))})).next((()=>(this.Yr=null,i.apply(t))))}updateLimboDocument(t,i){return this.ei(t,i).next((a=>{a?this.Xr.delete(i.toString()):this.Xr.add(i.toString())}))}Wr(t){return 0}ei(t,i){return W.or([()=>W.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Hr(t,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.$i=a,this.Ui=l}static Wi(t,i){let a=Mt(),l=Mt();for(const u of i.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Um(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return hS()?8:s1(nn())>0?6:4})()}initialize(t,i){this.Ji=t,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(t,i,a,l){const u={result:null};return this.Yi(t,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.Zi(t,i,l,a).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new wI;return this.Xi(t,i,d).next((g=>{if(u.result=g,this.zi)return this.es(t,i,d,g.size)}))})).next((()=>u.result))}es(t,i,a,l){return a.documentReadCount<this.ji?(ul()<=Ut.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Ma(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),W.resolve()):(ul()<=Ut.DEBUG&&lt("QueryEngine","Query:",Ma(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.Hi*l?(ul()<=Ut.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Ma(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,di(i))):W.resolve())}Yi(t,i){if(mv(i))return W.resolve(null);let a=di(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Jd(i,null,"F"),a=di(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((u=>{const d=Mt(...u);return this.Ji.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((p=>{const v=this.ts(i,g);return this.ns(i,v,d,p.readTime)?this.Yi(t,Jd(i,null,"F")):this.rs(t,v,i,p)}))))})))))}Zi(t,i,a,l){return mv(i)||l.isEqual(At.min())?W.resolve(null):this.Ji.getDocuments(t,a).next((u=>{const d=this.ts(i,u);return this.ns(i,d,a,l)?W.resolve(null):(ul()<=Ut.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ma(i)),this.rs(t,d,i,t1(l,-1)).next((g=>g)))}))}ts(t,i){let a=new Ke(sE(t));return i.forEach(((l,u)=>{eh(t,u)&&(a=a.add(u))})),a}ns(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Xi(t,i,a){return ul()<=Ut.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Ma(i)),this.Ji.getDocumentsMatchingQuery(t,i,es.min(),a)}rs(t,i,a,l){return this.Ji.getDocumentsMatchingQuery(t,a,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t,i,a,l){this.persistence=t,this.ss=i,this.serializer=l,this.os=new oe(Ht),this._s=new to((u=>Rm(u)),Im),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(a)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new gI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.os)))}}function CI(r,t,i,a){return new II(r,t,i,a)}async function IE(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((u=>(l=u,i.ls(t),i.mutationQueue.getAllMutationBatches(a)))).next((u=>{const d=[],g=[];let p=Mt();for(const v of l){d.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}for(const v of u){g.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}return i.localDocuments.getDocuments(a,p).next((v=>({hs:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function DI(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),u=i.cs.newChangeBuffer({trackRemovals:!0});return(function(g,p,v,A){const b=v.batch,x=b.keys();let H=W.resolve();return x.forEach((Z=>{H=H.next((()=>A.getEntry(p,Z))).next((et=>{const Y=v.docVersions.get(Z);Yt(Y!==null),et.version.compareTo(Y)<0&&(b.applyToRemoteDocument(et,v),et.isValidDocument()&&(et.setReadTime(v.commitVersion),A.addEntry(et)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(p,b)))})(i,a,t,u).next((()=>u.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let p=Mt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(p=p.add(g.batch.mutations[v].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function CE(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Ur.getLastRemoteSnapshotVersion(i)))}function NI(r,t){const i=St(r),a=t.snapshotVersion;let l=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.cs.newChangeBuffer({trackRemovals:!0});l=i.os;const g=[];t.targetChanges.forEach(((A,b)=>{const x=l.get(b);if(!x)return;g.push(i.Ur.removeMatchingKeys(u,A.removedDocuments,b).next((()=>i.Ur.addMatchingKeys(u,A.addedDocuments,b))));let H=x.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?H=H.withResumeToken(Ye.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,a)),l=l.insert(b,H),(function(et,Y,ot){return et.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=3e8?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(x,H,A)&&g.push(i.Ur.updateTargetData(u,H))}));let p=Zi(),v=Mt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(u,A))})),g.push(OI(u,d,t.documentUpdates).next((A=>{p=A.Ps,v=A.Is}))),!a.isEqual(At.min())){const A=i.Ur.getLastRemoteSnapshotVersion(u).next((b=>i.Ur.setTargetsMetadata(u,u.currentSequenceNumber,a)));g.push(A)}return W.waitFor(g).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,p,v))).next((()=>p))})).then((u=>(i.os=l,u)))}function OI(r,t,i){let a=Mt(),l=Mt();return i.forEach((u=>a=a.add(u))),t.getEntries(r,a).next((u=>{let d=Zi();return i.forEach(((g,p)=>{const v=u.get(g);p.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):lt("LocalStore","Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",p.version)})),{Ps:d,Is:l}}))}function xI(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function MI(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Ur.getTargetData(a,t).next((u=>u?(l=u,W.resolve(l)):i.Ur.allocateTargetId(a).next((d=>(l=new $r(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Ur.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.os.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.os=i.os.insert(a.targetId,a),i._s.set(t,a.targetId)),a}))}async function nm(r,t,i){const a=St(r),l=a.os.get(t),u=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",u,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Pl(d))throw d;lt("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}a.os=a.os.remove(t),a._s.delete(l.target)}function wv(r,t,i){const a=St(r);let l=At.min(),u=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,v,A){const b=St(p),x=b._s.get(A);return x!==void 0?W.resolve(b.os.get(x)):b.Ur.getTargetData(v,A)})(a,d,di(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(d,g.targetId).next((p=>{u=p}))})).next((()=>a.ss.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?u:Mt()))).next((g=>(VI(a,S1(t),g),{documents:g,Ts:u})))))}function VI(r,t,i){let a=r.us.get(t)||At.min();i.forEach(((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.us.set(t,a)}class Rv{constructor(){this.activeTargetIds=D1()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class UI{constructor(){this.so=new Rv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,i,a){this.oo[t]=i}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Rv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function xd(){return Ac===null?Ac=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We="WebChannelConnection";class zI extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const a=i.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+i.host,this.vo=`projects/${l}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${l}`:`project_id=${l}&database_id=${u}`}get Fo(){return!1}Mo(i,a,l,u,d){const g=xd(),p=this.xo(i,a.toUriEncodedString());lt("RestConnection",`Sending RPC '${i}' ${g}:`,p,l);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,u,d),this.No(i,p,v,l).then((A=>(lt("RestConnection",`Received RPC '${i}' ${g}: `,A),A)),(A=>{throw qa("RestConnection",`RPC '${i}' ${g} failed with error: `,A,"url: ",p,"request:",l),A}))}Lo(i,a,l,u,d,g){return this.Mo(i,a,l,u,d)}Oo(i,a,l){i["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wa})(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((u,d)=>i[d]=u)),l&&l.headers.forEach(((u,d)=>i[d]=u))}xo(i,a){const l=LI[i];return`${this.Do}/v1/${a}:${l}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,i,a,l){const u=xd();return new Promise(((d,g)=>{const p=new B0;p.setWithCredentials(!0),p.listenOnce(q0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Ic.NO_ERROR:const A=p.getResponseJson();lt(We,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(A)),d(A);break;case Ic.TIMEOUT:lt(We,`RPC '${t}' ${u} timed out`),g(new at(J.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const b=p.getStatus();if(lt(We,`RPC '${t}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const H=x==null?void 0:x.error;if(H&&H.status&&H.message){const Z=(function(Y){const ot=Y.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ot)>=0?ot:J.UNKNOWN})(H.status);g(new at(Z,H.message))}else g(new at(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new at(J.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{lt(We,`RPC '${t}' ${u} completed.`)}}));const v=JSON.stringify(l);lt(We,`RPC '${t}' ${u} sending request:`,l),p.send(i,"POST",v,a,15)}))}Bo(t,i,a){const l=xd(),u=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=G0(),g=F0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const A=u.join("");lt(We,`Creating RPC '${t}' stream ${l}: ${A}`,p);const b=d.createWebChannel(A,p);let x=!1,H=!1;const Z=new PI({Io:Y=>{H?lt(We,`Not sending because RPC '${t}' stream ${l} is closed:`,Y):(x||(lt(We,`Opening RPC '${t}' stream ${l} transport.`),b.open(),x=!0),lt(We,`RPC '${t}' stream ${l} sending:`,Y),b.send(Y))},To:()=>b.close()}),et=(Y,ot,yt)=>{Y.listen(ot,(dt=>{try{yt(dt)}catch(Nt){setTimeout((()=>{throw Nt}),0)}}))};return et(b,fl.EventType.OPEN,(()=>{H||(lt(We,`RPC '${t}' stream ${l} transport opened.`),Z.yo())})),et(b,fl.EventType.CLOSE,(()=>{H||(H=!0,lt(We,`RPC '${t}' stream ${l} transport closed`),Z.So())})),et(b,fl.EventType.ERROR,(Y=>{H||(H=!0,qa(We,`RPC '${t}' stream ${l} transport errored:`,Y),Z.So(new at(J.UNAVAILABLE,"The operation could not be completed")))})),et(b,fl.EventType.MESSAGE,(Y=>{var ot;if(!H){const yt=Y.data[0];Yt(!!yt);const dt=yt,Nt=dt.error||((ot=dt[0])===null||ot===void 0?void 0:ot.error);if(Nt){lt(We,`RPC '${t}' stream ${l} received error:`,Nt);const Wt=Nt.status;let Et=(function(R){const O=we[R];if(O!==void 0)return yE(O)})(Wt),C=Nt.message;Et===void 0&&(Et=J.INTERNAL,C="Unknown error status: "+Wt+" with message "+Nt.message),H=!0,Z.So(new at(Et,C)),b.close()}else lt(We,`RPC '${t}' stream ${l} received:`,yt),Z.bo(yt)}})),et(g,H0.STAT_EVENT,(Y=>{Y.stat===Gd.PROXY?lt(We,`RPC '${t}' stream ${l} detected buffering proxy`):Y.stat===Gd.NOPROXY&&lt(We,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.wo()}),0),Z}}function Md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(r){return new X1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t,i,a=1e3,l=1.5,u=6e4){this.ui=t,this.timerId=i,this.ko=a,this.qo=l,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const i=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),l=Math.max(0,i-a);l>0&&lt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,l,(()=>(this.Uo=Date.now(),t()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(t,i,a,l,u,d,g,p){this.ui=t,this.Ho=a,this.Jo=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new DE(t,i)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,i){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Ji(i.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(i)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.Yo===i&&this.P_(a,l)}),(a=>{t((()=>{const l=new at(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(l)}))}))}P_(t,i){const a=this.h_(this.Yo);this.stream=this.T_(t,i),this.stream.Eo((()=>{a((()=>this.listener.Eo()))})),this.stream.Ro((()=>{a((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((l=>{a((()=>this.I_(l)))})),this.stream.onMessage((l=>{a((()=>++this.e_==1?this.E_(l):this.onNext(l)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(t){return lt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return i=>{this.ui.enqueueAndForget((()=>this.Yo===t?i():(lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jI extends NE{constructor(t,i,a,l,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=u}T_(t,i){return this.connection.Bo("Listen",t,i)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const i=Z1(this.serializer,t),a=(function(u){if(!("targetChange"in u))return At.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?mi(d.readTime):At.min()})(t);return this.listener.d_(i,a)}A_(t){const i={};i.database=em(this.serializer),i.addTarget=(function(u,d){let g;const p=d.target;if(g=Xd(p)?{documents:eI(u,p)}:{query:nI(u,p)._t},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=EE(u,d.resumeToken);const v=Zd(u,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=Fc(u,d.snapshotVersion.toTimestamp());const v=Zd(u,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,t);const a=rI(this.serializer,t);a&&(i.labels=a),this.a_(i)}R_(t){const i={};i.database=em(this.serializer),i.removeTarget=t,this.a_(i)}}class BI extends NE{constructor(t,i,a,l,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,i){return this.connection.Bo("Write",t,i)}E_(t){return Yt(!!t.streamToken),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Yt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const i=tI(t.writeResults,t.commitTime),a=mi(t.commitTime);return this.listener.g_(a,i)}p_(){const t={};t.database=em(this.serializer),this.a_(t)}m_(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>W1(this.serializer,a)))};this.a_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI extends class{}{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.y_=!1}w_(){if(this.y_)throw new at(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,i,a,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Mo(t,Wd(i,a),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new at(J.UNKNOWN,u.toString())}))}Lo(t,i,a,l,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Lo(t,Wd(i,a),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(J.UNKNOWN,d.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class HI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ji(i),this.D_=!1):lt("OnlineStateTracker",i)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t,i,a,l,u){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o((d=>{a.enqueueAndForget((async()=>{Gs(this)&&(lt("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const v=St(p);v.L_.add(4),await ql(v),v.q_.set("Unknown"),v.L_.delete(4),await ah(v)})(this))}))})),this.q_=new HI(a,l)}}async function ah(r){if(Gs(r))for(const t of r.B_)await t(!0)}async function ql(r){for(const t of r.B_)await t(!1)}function OE(r,t){const i=St(r);i.N_.has(t.targetId)||(i.N_.set(t.targetId,t),zm(i)?Pm(i):eo(i).r_()&&Lm(i,t))}function km(r,t){const i=St(r),a=eo(i);i.N_.delete(t),a.r_()&&xE(i,t),i.N_.size===0&&(a.r_()?a.o_():Gs(i)&&i.q_.set("Unknown"))}function Lm(r,t){if(r.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}eo(r).A_(t)}function xE(r,t){r.Q_.xe(t),eo(r).R_(t)}function Pm(r){r.Q_=new G1({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>r.N_.get(t)||null,tt:()=>r.datastore.serializer.databaseId}),eo(r).start(),r.q_.v_()}function zm(r){return Gs(r)&&!eo(r).n_()&&r.N_.size>0}function Gs(r){return St(r).L_.size===0}function ME(r){r.Q_=void 0}async function GI(r){r.q_.set("Online")}async function QI(r){r.N_.forEach(((t,i)=>{Lm(r,t)}))}async function KI(r,t){ME(r),zm(r)?(r.q_.M_(t),Pm(r)):r.q_.set("Unknown")}async function YI(r,t,i){if(r.q_.set("Online"),t instanceof vE&&t.state===2&&t.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.N_.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.N_.delete(g),l.Q_.removeTarget(g))})(r,t)}catch(a){lt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Gc(r,a)}else if(t instanceof Nc?r.Q_.Ke(t):t instanceof _E?r.Q_.He(t):r.Q_.We(t),!i.isEqual(At.min()))try{const a=await CE(r.localStore);i.compareTo(a)>=0&&await(function(u,d){const g=u.Q_.rt(d);return g.targetChanges.forEach(((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const A=u.N_.get(v);A&&u.N_.set(v,A.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,v)=>{const A=u.N_.get(p);if(!A)return;u.N_.set(p,A.withResumeToken(Ye.EMPTY_BYTE_STRING,A.snapshotVersion)),xE(u,p);const b=new $r(A.target,p,v,A.sequenceNumber);Lm(u,b)})),u.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){lt("RemoteStore","Failed to raise snapshot:",a),await Gc(r,a)}}async function Gc(r,t,i){if(!Pl(t))throw t;r.L_.add(1),await ql(r),r.q_.set("Offline"),i||(i=()=>CE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt("RemoteStore","Retrying IndexedDB access"),await i(),r.L_.delete(1),await ah(r)}))}function VE(r,t){return t().catch((i=>Gc(r,i,t)))}async function oh(r){const t=St(r),i=is(t);let a=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;XI(t);)try{const l=await xI(t.localStore,a);if(l===null){t.O_.length===0&&i.o_();break}a=l.batchId,$I(t,l)}catch(l){await Gc(t,l)}UE(t)&&kE(t)}function XI(r){return Gs(r)&&r.O_.length<10}function $I(r,t){r.O_.push(t);const i=is(r);i.r_()&&i.V_&&i.m_(t.mutations)}function UE(r){return Gs(r)&&!is(r).n_()&&r.O_.length>0}function kE(r){is(r).start()}async function JI(r){is(r).p_()}async function ZI(r){const t=is(r);for(const i of r.O_)t.m_(i.mutations)}async function WI(r,t,i){const a=r.O_.shift(),l=Nm.from(a,t,i);await VE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await oh(r)}async function tC(r,t){t&&is(r).V_&&await(async function(a,l){if((function(d){return q1(d)&&d!==J.ABORTED})(l.code)){const u=a.O_.shift();is(a).s_(),await VE(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l))),await oh(a)}})(r,t),UE(r)&&kE(r)}async function Cv(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),lt("RemoteStore","RemoteStore received new credentials");const a=Gs(i);i.L_.add(3),await ql(i),a&&i.q_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.L_.delete(3),await ah(i)}async function eC(r,t){const i=St(r);t?(i.L_.delete(2),await ah(i)):t||(i.L_.add(2),await ql(i),i.q_.set("Unknown"))}function eo(r){return r.K_||(r.K_=(function(i,a,l){const u=St(i);return u.w_(),new jI(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Eo:GI.bind(null,r),Ro:QI.bind(null,r),mo:KI.bind(null,r),d_:YI.bind(null,r)}),r.B_.push((async t=>{t?(r.K_.s_(),zm(r)?Pm(r):r.q_.set("Unknown")):(await r.K_.stop(),ME(r))}))),r.K_}function is(r){return r.U_||(r.U_=(function(i,a,l){const u=St(i);return u.w_(),new BI(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:JI.bind(null,r),mo:tC.bind(null,r),f_:ZI.bind(null,r),g_:WI.bind(null,r)}),r.B_.push((async t=>{t?(r.U_.s_(),await oh(r)):(await r.U_.stop(),r.O_.length>0&&(lt("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(t,i,a,l,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,u){const d=Date.now()+a,g=new jm(t,i,d,l,u);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bm(r,t){if(Ji("AsyncQueue",`${t}: ${r}`),Pl(r))return new at(J.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=dl(),this.sortedSet=new oe(this.comparator)}static emptySet(t){return new ja(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ja)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new ja;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(){this.W_=new oe(mt.comparator)}track(t){const i=t.doc.key,a=this.W_.get(i);a?t.type!==0&&a.type===3?this.W_=this.W_.insert(i,t):t.type===3&&a.type!==1?this.W_=this.W_.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.W_=this.W_.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.W_=this.W_.remove(i):t.type===1&&a.type===2?this.W_=this.W_.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):_t():this.W_=this.W_.insert(i,t)}G_(){const t=[];return this.W_.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Ya{constructor(t,i,a,l,u,d,g,p,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,l,u){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ya(t,i,ja.emptySet(i),d,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&th(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((t=>t.J_()))}}class iC{constructor(){this.queries=Nv(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(i,a){const l=St(i),u=l.queries;l.queries=Nv(),u.forEach(((d,g)=>{for(const p of g.j_)p.onError(a)}))})(this,new at(J.ABORTED,"Firestore shutting down"))}}function Nv(){return new to((r=>rE(r)),th)}async function rC(r,t){const i=St(r);let a=3;const l=t.query;let u=i.queries.get(l);u?!u.H_()&&t.J_()&&(a=2):(u=new nC,a=t.J_()?0:1);try{switch(a){case 0:u.z_=await i.onListen(l,!0);break;case 1:u.z_=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Bm(d,`Initialization of query '${Ma(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,u),u.j_.push(t),t.Z_(i.onlineState),u.z_&&t.X_(u.z_)&&qm(i)}async function sC(r,t){const i=St(r),a=t.query;let l=3;const u=i.queries.get(a);if(u){const d=u.j_.indexOf(t);d>=0&&(u.j_.splice(d,1),u.j_.length===0?l=t.J_()?0:1:!u.H_()&&t.J_()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function aC(r,t){const i=St(r);let a=!1;for(const l of t){const u=l.query,d=i.queries.get(u);if(d){for(const g of d.j_)g.X_(l)&&(a=!0);d.z_=l}}a&&qm(i)}function oC(r,t,i){const a=St(r),l=a.queries.get(t);if(l)for(const u of l.j_)u.onError(i);a.queries.delete(t)}function qm(r){r.Y_.forEach((t=>{t.next()}))}var im,Ov;(Ov=im||(im={})).ea="default",Ov.Cache="cache";class lC{constructor(t,i,a){this.query=t,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Ya(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.na?this.ia(t)&&(this.ta.next(t),i=!0):this.sa(t,this.onlineState)&&(this.oa(t),i=!0),this.ra=t,i}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),i=!0),i}sa(t,i){if(!t.fromCache||!this.J_())return!0;const a=i!=="Offline";return(!this.options._a||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const i=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}oa(t){t=Ya.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==im.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t){this.key=t}}class PE{constructor(t){this.key=t}}class uC{constructor(t,i){this.query=t,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Mt(),this.mutatedKeys=Mt(),this.Aa=sE(t),this.Ra=new ja(this.Aa)}get Va(){return this.Ta}ma(t,i){const a=i?i.fa:new Dv,l=i?i.Ra:this.Ra;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const x=l.get(A),H=eh(this.query,b)?b:null,Z=!!x&&this.mutatedKeys.has(x.key),et=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Y=!1;x&&H?x.data.isEqual(H.data)?Z!==et&&(a.track({type:3,doc:H}),Y=!0):this.ga(x,H)||(a.track({type:2,doc:H}),Y=!0,(p&&this.Aa(H,p)>0||v&&this.Aa(H,v)<0)&&(g=!0)):!x&&H?(a.track({type:0,doc:H}),Y=!0):x&&!H&&(a.track({type:1,doc:x}),Y=!0,(p||v)&&(g=!0)),Y&&(H?(d=d.add(H),u=et?u.add(A):u.delete(A)):(d=d.delete(A),u=u.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),u=u.delete(A.key),a.track({type:1,doc:A})}return{Ra:d,fa:a,ns:g,mutatedKeys:u}}ga(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const u=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const d=t.fa.G_();d.sort(((A,b)=>(function(H,Z){const et=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return et(H)-et(Z)})(A.type,b.type)||this.Aa(A.doc,b.doc))),this.pa(a),l=l!=null&&l;const g=i&&!l?this.ya():[],p=this.da.size===0&&this.current&&!l?1:0,v=p!==this.Ea;return this.Ea=p,d.length!==0||v?{snapshot:new Ya(this.query,t.Ra,u,d,t.mutatedKeys,p===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:g}:{wa:g}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Dv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach((i=>this.Ta=this.Ta.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ta=this.Ta.delete(i))),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Mt(),this.Ra.forEach((a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))}));const i=[];return t.forEach((a=>{this.da.has(a)||i.push(new PE(a))})),this.da.forEach((a=>{t.has(a)||i.push(new LE(a))})),i}ba(t){this.Ta=t.Ts,this.da=Mt();const i=this.ma(t.documents);return this.applyChanges(i,!0)}Da(){return Ya.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class cC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class hC{constructor(t){this.key=t,this.va=!1}}class fC{constructor(t,i,a,l,u,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new to((g=>rE(g)),th),this.Ma=new Map,this.xa=new Set,this.Oa=new oe(mt.comparator),this.Na=new Map,this.La=new Mm,this.Ba={},this.ka=new Map,this.qa=Ka.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function dC(r,t,i=!0){const a=FE(r);let l;const u=a.Fa.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Da()):l=await zE(a,t,i,!0),l}async function mC(r,t){const i=FE(r);await zE(i,t,!0,!1)}async function zE(r,t,i,a){const l=await MI(r.localStore,di(t)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,i);let g;return a&&(g=await gC(r,t,u,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&OE(r.remoteStore,l),g}async function gC(r,t,i,a,l){r.Ka=(b,x,H)=>(async function(et,Y,ot,yt){let dt=Y.view.ma(ot);dt.ns&&(dt=await wv(et.localStore,Y.query,!1).then((({documents:C})=>Y.view.ma(C,dt))));const Nt=yt&&yt.targetChanges.get(Y.targetId),Wt=yt&&yt.targetMismatches.get(Y.targetId)!=null,Et=Y.view.applyChanges(dt,et.isPrimaryClient,Nt,Wt);return Mv(et,Y.targetId,Et.wa),Et.snapshot})(r,b,x,H);const u=await wv(r.localStore,t,!0),d=new uC(t,u.Ts),g=d.ma(u.documents),p=Bl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),v=d.applyChanges(g,r.isPrimaryClient,p);Mv(r,i,v.wa);const A=new cC(t,i,d);return r.Fa.set(t,A),r.Ma.has(i)?r.Ma.get(i).push(t):r.Ma.set(i,[t]),v.snapshot}async function pC(r,t,i){const a=St(r),l=a.Fa.get(t),u=a.Ma.get(l.targetId);if(u.length>1)return a.Ma.set(l.targetId,u.filter((d=>!th(d,t)))),void a.Fa.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await nm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&km(a.remoteStore,l.targetId),rm(a,l.targetId)})).catch(Ll)):(rm(a,l.targetId),await nm(a.localStore,l.targetId,!0))}async function yC(r,t){const i=St(r),a=i.Fa.get(t),l=i.Ma.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),km(i.remoteStore,a.targetId))}async function _C(r,t,i){const a=wC(r);try{const l=await(function(d,g){const p=St(d),v=De.now(),A=g.reduce(((H,Z)=>H.add(Z.key)),Mt());let b,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let Z=Zi(),et=Mt();return p.cs.getEntries(H,A).next((Y=>{Z=Y,Z.forEach(((ot,yt)=>{yt.isValidDocument()||(et=et.add(ot))}))})).next((()=>p.localDocuments.getOverlayedDocuments(H,Z))).next((Y=>{b=Y;const ot=[];for(const yt of g){const dt=L1(yt,b.get(yt.key).overlayedDocument);dt!=null&&ot.push(new rs(yt.key,dt,$0(dt.value.mapValue),Yn.exists(!0)))}return p.mutationQueue.addMutationBatch(H,v,ot,g)})).next((Y=>{x=Y;const ot=Y.applyToLocalDocumentSet(b,et);return p.documentOverlayCache.saveOverlays(H,Y.batchId,ot)}))})).then((()=>({batchId:x.batchId,changes:oE(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,p){let v=d.Ba[d.currentUser.toKey()];v||(v=new oe(Ht)),v=v.insert(g,p),d.Ba[d.currentUser.toKey()]=v})(a,l.batchId,i),await Hl(a,l.changes),await oh(a.remoteStore)}catch(l){const u=Bm(l,"Failed to persist write");i.reject(u)}}async function jE(r,t){const i=St(r);try{const a=await NI(i.localStore,t);t.targetChanges.forEach(((l,u)=>{const d=i.Na.get(u);d&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.va=!0:l.modifiedDocuments.size>0?Yt(d.va):l.removedDocuments.size>0&&(Yt(d.va),d.va=!1))})),await Hl(i,a,t)}catch(a){await Ll(a)}}function xv(r,t,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Fa.forEach(((u,d)=>{const g=d.view.Z_(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const p=St(d);p.onlineState=g;let v=!1;p.queries.forEach(((A,b)=>{for(const x of b.j_)x.Z_(g)&&(v=!0)})),v&&qm(p)})(a.eventManager,t),l.length&&a.Ca.d_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function vC(r,t,i){const a=St(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Na.get(t),u=l&&l.key;if(u){let d=new oe(mt.comparator);d=d.insert(u,en.newNoDocument(u,At.min()));const g=Mt().add(u),p=new rh(At.min(),new Map,new oe(Ht),d,g);await jE(a,p),a.Oa=a.Oa.remove(u),a.Na.delete(t),Hm(a)}else await nm(a.localStore,t,!1).then((()=>rm(a,t,i))).catch(Ll)}async function EC(r,t){const i=St(r),a=t.batch.batchId;try{const l=await DI(i.localStore,t);qE(i,a,null),BE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Hl(i,l)}catch(l){await Ll(l)}}async function TC(r,t,i){const a=St(r);try{const l=await(function(d,g){const p=St(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return p.mutationQueue.lookupMutationBatch(v,g).next((b=>(Yt(b!==null),A=b.keys(),p.mutationQueue.removeMutationBatch(v,b)))).next((()=>p.mutationQueue.performConsistencyCheck(v))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(v,A,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>p.localDocuments.getDocuments(v,A)))}))})(a.localStore,t);qE(a,t,i),BE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Hl(a,l)}catch(l){await Ll(l)}}function BE(r,t){(r.ka.get(t)||[]).forEach((i=>{i.resolve()})),r.ka.delete(t)}function qE(r,t,i){const a=St(r);let l=a.Ba[a.currentUser.toKey()];if(l){const u=l.get(t);u&&(i?u.reject(i):u.resolve(),l=l.remove(t)),a.Ba[a.currentUser.toKey()]=l}}function rm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Ma.get(t))r.Fa.delete(a),i&&r.Ca.$a(a,i);r.Ma.delete(t),r.isPrimaryClient&&r.La.gr(t).forEach((a=>{r.La.containsKey(a)||HE(r,a)}))}function HE(r,t){r.xa.delete(t.path.canonicalString());const i=r.Oa.get(t);i!==null&&(km(r.remoteStore,i),r.Oa=r.Oa.remove(t),r.Na.delete(i),Hm(r))}function Mv(r,t,i){for(const a of i)a instanceof LE?(r.La.addReference(a.key,t),AC(r,a)):a instanceof PE?(lt("SyncEngine","Document no longer in limbo: "+a.key),r.La.removeReference(a.key,t),r.La.containsKey(a.key)||HE(r,a.key)):_t()}function AC(r,t){const i=t.key,a=i.path.canonicalString();r.Oa.get(i)||r.xa.has(a)||(lt("SyncEngine","New document in limbo: "+i),r.xa.add(a),Hm(r))}function Hm(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const t=r.xa.values().next().value;r.xa.delete(t);const i=new mt(re.fromString(t)),a=r.qa.next();r.Na.set(a,new hC(i)),r.Oa=r.Oa.insert(i,a),OE(r.remoteStore,new $r(di(Cm(i.path)),a,"TargetPurposeLimboResolution",Am.oe))}}async function Hl(r,t,i){const a=St(r),l=[],u=[],d=[];a.Fa.isEmpty()||(a.Fa.forEach(((g,p)=>{d.push(a.Ka(p,t,i).then((v=>{var A;if((v||i)&&a.isPrimaryClient){const b=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(v){l.push(v);const b=Um.Wi(p.targetId,v);u.push(b)}})))})),await Promise.all(d),a.Ca.d_(l),await(async function(p,v){const A=St(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>W.forEach(v,(x=>W.forEach(x.$i,(H=>A.persistence.referenceDelegate.addReference(b,x.targetId,H))).next((()=>W.forEach(x.Ui,(H=>A.persistence.referenceDelegate.removeReference(b,x.targetId,H)))))))))}catch(b){if(!Pl(b))throw b;lt("LocalStore","Failed to update sequence numbers: "+b)}for(const b of v){const x=b.targetId;if(!b.fromCache){const H=A.os.get(x),Z=H.snapshotVersion,et=H.withLastLimboFreeSnapshotVersion(Z);A.os=A.os.insert(x,et)}}})(a.localStore,u))}async function SC(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){lt("SyncEngine","User change. New user:",t.toKey());const a=await IE(i.localStore,t);i.currentUser=t,(function(u,d){u.ka.forEach((g=>{g.forEach((p=>{p.reject(new at(J.CANCELLED,d))}))})),u.ka.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Hl(i,a.hs)}}function bC(r,t){const i=St(r),a=i.Na.get(t);if(a&&a.va)return Mt().add(a.key);{let l=Mt();const u=i.Ma.get(t);if(!u)return l;for(const d of u){const g=i.Fa.get(d);l=l.unionWith(g.view.Va)}return l}}function FE(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=jE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vC.bind(null,t),t.Ca.d_=aC.bind(null,t.eventManager),t.Ca.$a=oC.bind(null,t.eventManager),t}function wC(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=EC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TC.bind(null,t),t}class Qc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=sh(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,i){return null}Ha(t,i){return null}za(t){return CI(this.persistence,new RI,t.initialUser,this.serializer)}Ga(t){return new SI(Vm.Zr,this.serializer)}Wa(t){return new UI}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qc.provider={build:()=>new Qc};class sm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>xv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=SC.bind(null,this.syncEngine),await eC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new iC})()}createDatastore(t){const i=sh(t.databaseInfo.databaseId),a=(function(u){return new zI(u)})(t.databaseInfo);return(function(u,d,g,p){return new qI(u,d,g,p)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,u,d,g){return new FI(a,l,u,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>xv(this.syncEngine,i,0)),(function(){return Iv.D()?new Iv:new kI})())}createSyncEngine(t,i){return(function(l,u,d,g,p,v,A){const b=new fC(l,u,d,g,p,v);return A&&(b.Qa=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(l){const u=St(l);lt("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await ql(u),u.k_.shutdown(),u.q_.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}sm.provider={build:()=>new sm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Ji("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(t,i,a,l,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=tn.UNAUTHENTICATED,this.clientId=K0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async d=>{lt("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(lt("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Bm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Vd(r,t){r.asyncQueue.verifyOperationInProgress(),lt("FirestoreClient","Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await IE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Vv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await CC(r);lt("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Cv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Cv(t.remoteStore,l))),r._onlineComponents=t}async function CC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;qa("Error using user provided cache. Falling back to memory cache: "+i),await Vd(r,new Qc)}}else lt("FirestoreClient","Using default OfflineComponentProvider"),await Vd(r,new Qc);return r._offlineComponents}async function GE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt("FirestoreClient","Using user provided OnlineComponentProvider"),await Vv(r,r._uninitializedComponentsProvider._online)):(lt("FirestoreClient","Using default OnlineComponentProvider"),await Vv(r,new sm))),r._onlineComponents}function DC(r){return GE(r).then((t=>t.syncEngine))}async function Uv(r){const t=await GE(r),i=t.eventManager;return i.onListen=dC.bind(null,t.syncEngine),i.onUnlisten=pC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=mC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=yC.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(r,t,i){if(!i)throw new at(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function NC(r,t,i,a){if(t===!0&&a===!0)throw new at(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Lv(r){if(!mt.isDocumentKey(r))throw new at(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Pv(r){if(mt.isDocumentKey(r))throw new at(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function lh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t()}function Yi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new at(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=lh(r);throw new at(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new at(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(i=t.ssl)===null||i===void 0||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new at(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}NC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QE((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new at(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new at(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new at(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class uh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zv(t),t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new GR;switch(a.type){case"firstParty":return new XR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=kv.get(i);a&&(lt("ComponentProvider","Removing Datastore"),kv.delete(i),a.terminate())})(this),Promise.resolve()}}function OC(r,t,i,a={}){var l;const u=(r=Yi(r,uh))._getSettings(),d=`${t}:${i}`;if(u.host!=="firestore.googleapis.com"&&u.host!==d&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:d,ssl:!1})),a.mockUserToken){let g,p;if(typeof a.mockUserToken=="string")g=a.mockUserToken,p=tn.MOCK_USER;else{g=rS(a.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const v=a.mockUserToken.sub||a.mockUserToken.user_id;if(!v)throw new at(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new tn(v)}r._authCredentials=new QR(new Q0(g,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new no(this.firestore,t,this._query)}}class cn{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new cn(this.firestore,t,this._key)}}class ts extends no{constructor(t,i,a){super(t,i,Cm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new cn(this.firestore,null,new mt(t))}withConverter(t){return new ts(this.firestore,t,this._path)}}function YE(r,t,...i){if(r=Ne(r),KE("collection","path",t),r instanceof uh){const a=re.fromString(t,...i);return Pv(a),new ts(r,null,a)}{if(!(r instanceof cn||r instanceof ts))throw new at(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(re.fromString(t,...i));return Pv(a),new ts(r.firestore,null,a)}}function Hi(r,t,...i){if(r=Ne(r),arguments.length===1&&(t=K0.newId()),KE("doc","path",t),r instanceof uh){const a=re.fromString(t,...i);return Lv(a),new cn(r,null,new mt(a))}{if(!(r instanceof cn||r instanceof ts))throw new at(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(re.fromString(t,...i));return Lv(a),new cn(r.firestore,r instanceof ts?r.converter:null,new mt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new DE(this,"async_queue_retry"),this.Vu=()=>{const a=Md();a&&lt("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=t;const i=Md();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const i=Md();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise((()=>{}));const i=new ks;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Pu.push(t),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!Pl(t))throw t;lt("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(t){const i=this.mu.then((()=>(this.du=!0,t().catch((a=>{this.Eu=a,this.du=!1;const l=(function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g})(a);throw Ji("INTERNAL UNHANDLED ERROR: ",l),a})).then((a=>(this.du=!1,a))))));return this.mu=i,i}enqueueAfterDelay(t,i,a){this.fu(),this.Ru.indexOf(t)>-1&&(i=0);const l=jm.createAndSchedule(this,t,i,a,(u=>this.yu(u)));return this.Tu.push(l),l}fu(){this.Eu&&_t()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const i of this.Tu)if(i.timerId===t)return!0;return!1}bu(t){return this.wu().then((()=>{this.Tu.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.Tu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.wu()}))}Du(t){this.Ru.push(t)}yu(t){const i=this.Tu.indexOf(t);this.Tu.splice(i,1)}}function Bv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of a)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Xa extends uh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new jv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new jv(t),this._firestoreClient=void 0,await t}}}function xC(r,t){const i=typeof r=="object"?r:i0(),a=typeof r=="string"?r:"(default)",l=hm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=nS("firestore");u&&OC(l,...u)}return l}function XE(r){if(r._terminated)throw new at(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||MC(r),r._firestoreClient}function MC(r){var t,i,a;const l=r._freezeSettings(),u=(function(g,p,v,A){return new l1(g,p,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,QE(A.experimentalLongPollingOptions),A.useFetchStreams)})(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new IC(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $a(Ye.fromBase64String(t))}catch(i){throw new at(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new $a(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ht(this._lat,t._lat)||Ht(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0})(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=/^__.*__$/;class UC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new rs(t,this.data,this.fieldMask,i,this.fieldTransforms):new jl(t,this.data,i,this.fieldTransforms)}}class $E{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new rs(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function JE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class fh{constructor(t,i,a,l,u,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new fh(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Fu({path:a,xu:!1});return l.Ou(t),l}Nu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Fu({path:a,xu:!1});return l.vu(),l}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Kc(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(JE(this.Cu)&&VC.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class kC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||sh(t)}Qu(t,i,a,l=!1){return new fh({Cu:t,methodName:i,qu:a,path:Qe.emptyPath(),xu:!1,ku:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dh(r){const t=r._freezeSettings(),i=sh(r._databaseId);return new kC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function ZE(r,t,i,a,l,u={}){const d=r.Qu(u.merge||u.mergeFields?2:0,t,i,l);Km("Data must be an object, but it was:",d,a);const g=WE(a,d);let p,v;if(u.merge)p=new Cn(d.fieldMask),v=d.fieldTransforms;else if(u.mergeFields){const A=[];for(const b of u.mergeFields){const x=am(t,b,i);if(!d.contains(x))throw new at(J.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);eT(A,x)||A.push(x)}p=new Cn(A),v=d.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,v=d.fieldTransforms;return new UC(new _n(g),p,v)}class mh extends hh{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof mh}}function LC(r,t,i){return new fh({Cu:3,qu:t.settings.qu,methodName:r._methodName,xu:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Qm extends hh{constructor(t,i){super(t),this.Ku=i}_toFieldTransform(t){const i=LC(this,t,!0),a=this.Ku.map((u=>io(u,i))),l=new Qa(a);return new M1(t.path,l)}isEqual(t){return t instanceof Qm&&Al(this.Ku,t.Ku)}}function PC(r,t,i,a){const l=r.Qu(1,t,i);Km("Data must be an object, but it was:",l,a);const u=[],d=_n.empty();Fs(a,((p,v)=>{const A=Ym(t,p,i);v=Ne(v);const b=l.Nu(A);if(v instanceof mh)u.push(A);else{const x=io(v,b);x!=null&&(u.push(A),d.set(A,x))}}));const g=new Cn(u);return new $E(d,g,l.fieldTransforms)}function zC(r,t,i,a,l,u){const d=r.Qu(1,t,i),g=[am(t,a,i)],p=[l];if(u.length%2!=0)throw new at(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)g.push(am(t,u[x])),p.push(u[x+1]);const v=[],A=_n.empty();for(let x=g.length-1;x>=0;--x)if(!eT(v,g[x])){const H=g[x];let Z=p[x];Z=Ne(Z);const et=d.Nu(H);if(Z instanceof mh)v.push(H);else{const Y=io(Z,et);Y!=null&&(v.push(H),A.set(H,Y))}}const b=new Cn(v);return new $E(A,b,d.fieldTransforms)}function jC(r,t,i,a=!1){return io(i,r.Qu(a?4:3,t))}function io(r,t){if(tT(r=Ne(r)))return Km("Unsupported field value:",t,r),WE(r,t);if(r instanceof hh)return(function(a,l){if(!JE(l.Cu))throw l.Bu(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Bu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return(function(a,l){const u=[];let d=0;for(const g of a){let p=io(g,l.Lu(d));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),d++}return{arrayValue:{values:u}}})(r,t)}return(function(a,l){if((a=Ne(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return N1(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=De.fromDate(a);return{timestampValue:Fc(l.serializer,u)}}if(a instanceof De){const u=new De(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Fc(l.serializer,u)}}if(a instanceof Fm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof $a)return{bytesValue:EE(l.serializer,a._byteString)};if(a instanceof cn){const u=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw l.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:xm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Gm)return(function(d,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Bu("VectorValues must only contain numeric values.");return Dm(g.serializer,p)}))}}}}}})(a,l);throw l.Bu(`Unsupported field value: ${lh(a)}`)})(r,t)}function WE(r,t){const i={};return Y0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fs(r,((a,l)=>{const u=io(l,t.Mu(a));u!=null&&(i[a]=u)})),{mapValue:{fields:i}}}function tT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof De||r instanceof Fm||r instanceof $a||r instanceof cn||r instanceof hh||r instanceof Gm)}function Km(r,t,i){if(!tT(i)||!(function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)})(i)){const a=lh(i);throw a==="an object"?t.Bu(r+" a custom object"):t.Bu(r+" "+a)}}function am(r,t,i){if((t=Ne(t))instanceof ch)return t._internalPath;if(typeof t=="string")return Ym(r,t);throw Kc("Field path arguments must be of type string or ",r,!1,void 0,i)}const BC=new RegExp("[~\\*/\\[\\]]");function Ym(r,t,i){if(t.search(BC)>=0)throw Kc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new ch(...t.split("."))._internalPath}catch{throw Kc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Kc(r,t,i,a,l){const u=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||d)&&(p+=" (found",u&&(p+=` in field ${a}`),d&&(p+=` in document ${l}`),p+=")"),new at(J.INVALID_ARGUMENT,g+r+p)}function eT(r,t){return r.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t,i,a,l,u){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new qC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(iT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class qC extends nT{data(){return super.data()}}function iT(r,t){return typeof t=="string"?Ym(r,t):t instanceof ch?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xm{}class FC extends Xm{}function GC(r,t,...i){let a=[];t instanceof Xm&&a.push(t),a=a.concat(i),(function(u){const d=u.filter((p=>p instanceof Jm)).length,g=u.filter((p=>p instanceof $m)).length;if(d>1||d>0&&g>0)throw new at(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class $m extends FC{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new $m(t,i,a)}_apply(t){const i=this._parse(t);return rT(t._query,i),new no(t.firestore,t.converter,$d(t._query,i))}_parse(t){const i=dh(t.firestore);return(function(u,d,g,p,v,A,b){let x;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Hv(b,A);const H=[];for(const Z of b)H.push(qv(p,u,Z));x={arrayValue:{values:H}}}else x=qv(p,u,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Hv(b,A),x=jC(g,d,b,A==="in"||A==="not-in");return Re.create(v,A,x)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Jm extends Xm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Jm(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:$n.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const p of g)rT(d,p),d=$d(d,p)})(t._query,i),new no(t.firestore,t.converter,$d(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function qv(r,t,i){if(typeof(i=Ne(i))=="string"){if(i==="")throw new at(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iE(t)&&i.indexOf("/")!==-1)throw new at(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(re.fromString(i));if(!mt.isDocumentKey(a))throw new at(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return lv(r,new mt(a))}if(i instanceof cn)return lv(r,i._key);throw new at(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(i)}.`)}function Hv(r,t){if(!Array.isArray(r)||r.length===0)throw new at(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function rT(r,t){const i=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new at(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class QC{convertValue(t,i="none"){switch(qs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Bs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Fs(t,((l,u)=>{a[l]=this.convertValue(u,i)})),a}convertVectorValue(t){var i,a,l;const u=(l=(a=(i=t.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map((d=>ye(d.doubleValue)));return new Gm(u)}convertGeoPoint(t){return new Fm(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=bm(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Il(t));default:return null}}convertTimestamp(t){const i=ns(t);return new De(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=re.fromString(t);Yt(RE(a));const l=new Cl(a.get(1),a.get(3)),u=new mt(a.popFirst(5));return l.isEqual(i)||Ji(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class aT extends nT{constructor(t,i,a,l,u,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(iT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Oc extends aT{data(t={}){return super.data(t)}}class KC{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new gl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Oc(this._firestore,this._userDataWriter,a.key,a,new gl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const p=new Oc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new gl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new Oc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new gl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:YC(g.type),doc:p,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function YC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}class oT extends QC{constructor(t){super(),this.firestore=t}convertBytes(t){return new $a(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new cn(this.firestore,null,i)}}function Tl(r,t,i){r=Yi(r,cn);const a=Yi(r.firestore,Xa),l=sT(r.converter,t,i);return Zm(a,[ZE(dh(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Yn.none())])}function Yc(r,t,i,...a){r=Yi(r,cn);const l=Yi(r.firestore,Xa),u=dh(l);let d;return d=typeof(t=Ne(t))=="string"||t instanceof ch?zC(u,"updateDoc",r._key,t,i,a):PC(u,"updateDoc",r._key,t),Zm(l,[d.toMutation(r._key,Yn.exists(!0))])}function XC(r,t){const i=Yi(r.firestore,Xa),a=Hi(r),l=sT(r.converter,t);return Zm(i,[ZE(dh(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Yn.exists(!1))]).then((()=>a))}function Ud(r,...t){var i,a,l;r=Ne(r);let u={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||Bv(t[d])||(u=t[d],d++);const g={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Bv(t[d])){const b=t[d];t[d]=(i=b.next)===null||i===void 0?void 0:i.bind(b),t[d+1]=(a=b.error)===null||a===void 0?void 0:a.bind(b),t[d+2]=(l=b.complete)===null||l===void 0?void 0:l.bind(b)}let p,v,A;if(r instanceof cn)v=Yi(r.firestore,Xa),A=Cm(r._key.path),p={next:b=>{t[d]&&t[d]($C(v,r,b))},error:t[d+1],complete:t[d+2]};else{const b=Yi(r,no);v=Yi(b.firestore,Xa),A=b._query;const x=new oT(v);p={next:H=>{t[d]&&t[d](new KC(v,x,b,H))},error:t[d+1],complete:t[d+2]},HC(r._query)}return(function(x,H,Z,et){const Y=new RC(et),ot=new lC(H,Y,Z);return x.asyncQueue.enqueueAndForget((async()=>rC(await Uv(x),ot))),()=>{Y.Za(),x.asyncQueue.enqueueAndForget((async()=>sC(await Uv(x),ot)))}})(XE(v),A,g,p)}function Zm(r,t){return(function(a,l){const u=new ks;return a.asyncQueue.enqueueAndForget((async()=>_C(await DC(a),l,u))),u.promise})(XE(r),t)}function $C(r,t,i){const a=i.docs.get(t._key),l=new oT(r);return new aT(r,l,t._key,a,new gl(i.hasPendingWrites,i.fromCache),t.converter)}function Fv(...r){return new Qm("arrayUnion",r)}(function(t,i=!0){(function(l){Wa=l})(Ja),Ba(new Ls("firestore",((a,{instanceIdentifier:l,options:u})=>{const d=a.getProvider("app").getImmediate(),g=new Xa(new KR(a.getProvider("auth-internal")),new JR(a.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new at(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(v.options.projectId,A)})(d,l),d);return u=Object.assign({useFetchStreams:i},u),g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Wr(iv,"4.7.3",t),Wr(iv,"4.7.3","esm2017")})();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=It.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:u,iconNode:d,...g},p)=>It.createElement("svg",{ref:p,...ZC,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:lT("lucide",l),...g},[...d.map(([v,A])=>It.createElement(v,A)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=(r,t)=>{const i=It.forwardRef(({className:a,...l},u)=>It.createElement(WC,{ref:u,iconNode:t,className:lT(`lucide-${JC(r)}`,a),...l}));return i.displayName=`${r}`,i};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=Jn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=Jn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=Jn("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=Jn("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=Jn("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=Jn("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=Jn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=Jn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=Jn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=Jn("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=Jn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),o2=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{},Kn=typeof __app_id<"u"?__app_id:"default-doof-crew";function l2(){const r=typeof __shared_mode<"u"?!!__shared_mode:!0,[t,i]=It.useState(null),[a,l]=It.useState(null),[u,d]=It.useState(null),[g,p]=It.useState(!1),[v,A]=It.useState([]),[b,x]=It.useState(null),[H,Z]=It.useState(null),[et,Y]=It.useState(!1),[ot,yt]=It.useState(!1),[dt,Nt]=It.useState(null),[Wt,Et]=It.useState(!1),[C,S]=It.useState(null),[R,O]=It.useState(!1),[M,k]=It.useState(0);It.useEffect(()=>{try{const Q=n0(o2),tt=HR(Q),st=xC(Q);i(st),l(tt);const ut=xw(tt,async vt=>{if(vt){d(vt.uid),Nt(vt.email||null),p(!0);return}d(null),p(!0)});return()=>ut()}catch(Q){console.error("Error initializing Firebase:",Q),S("Failed to initialize application. Invalid configuration.")}},[]),It.useEffect(()=>{if(!g||!t||!u)return;const Q=r?`apps/${Kn}`:`users/${u}/apps/${Kn}`,tt=`${Q}/djs`,st=GC(YE(t,tt)),ut=Ud(st,ve=>{const se=[];ve.forEach(Xe=>{se.push({id:Xe.id,...Xe.data()})}),A(se)},ve=>{console.error("Error listening to DJs:",ve),S("Failed to load DJ list.")}),vt=`${Q}/schedule/mainStage`,Xt=Hi(t,vt),zt=Ud(Xt,async ve=>{if(ve.exists())x(ve.data()),O(!1);else try{const se=Qv();await Tl(Xt,se),x(se),O(!1)}catch(se){console.error("Error creating base schedule:",se),S("Failed to initialize schedule."),O(!0)}},ve=>{console.error("Error listening to schedule:",ve),S("Failed to load schedule."),O(!0)}),de=Hi(t,`${Q}/meta/app`);Tl(de,{ownerUid:u,appId:Kn,createdAt:new Date().toISOString(),allowedAdminEmails:[],allowedAdminUids:[]},{merge:!0}).catch(ve=>{console.warn("Could not ensure crew meta doc",ve)});const Le=Ud(de,ve=>{const se=ve.data(),Xe=se==null?void 0:se.ownerUid,pi=(se==null?void 0:se.allowedAdminEmails)||[],nr=(se==null?void 0:se.allowedAdminUids)||[],ro=Xe===u||!!dt&&pi.includes(dt)||nr.includes(u);yt(ro)});return()=>{ut(),zt(),Le&&Le()}},[g,t,u,dt]);const I=Q=>{Z(Q),Y(!0)},fe=()=>{Y(!1),Z(null)},_e=(Q,tt)=>{Q.dataTransfer.setData("application/json",JSON.stringify(tt)),Q.dataTransfer.effectAllowed="move"},F=Q=>{Q.preventDefault(),Q.dataTransfer.dropEffect="move"},it=Q=>{Q.preventDefault(),k(tt=>tt+1)},ht=Q=>{Q.preventDefault(),k(tt=>tt-1)},kt=async(Q,tt)=>{Q.preventDefault(),k(0),Et(!0);try{const st=JSON.parse(Q.dataTransfer.getData("application/json")),ut=[...b.timeSlots],vt=Hi(t,`${r?`apps/${Kn}`:`users/${u}/apps/${Kn}`}/schedule/mainStage`);if(st.from==="pool"){const Xt=st.dj.id,zt=st.dj.djName,de=ut.findIndex(Le=>Le.djId===Xt);if(de>-1){const Le={...ut[tt]};ut[tt]={...ut[tt],djId:Xt,djName:zt},ut[de]={...ut[de],djId:Le.djId,djName:Le.djName}}else ut[tt]={...ut[tt],djId:Xt,djName:zt}}else if(st.from==="slot"){const Xt=st.slotIndex;if(Xt===tt)return;const zt={...ut[Xt]},de={...ut[tt]};ut[tt]={...de,djId:zt.djId,djName:zt.djName},ut[Xt]={...zt,djId:de.djId,djName:de.djName}}await Yc(vt,{timeSlots:ut})}catch(st){console.error("Error handling drop on slot:",st),S("Failed to update schedule.")}finally{Et(!1)}},Pt=async Q=>{Q.preventDefault(),k(0),Et(!0);try{const tt=JSON.parse(Q.dataTransfer.getData("application/json"));if(tt.from==="slot"){const st=tt.slotIndex,ut=[...b.timeSlots];ut[st]={...ut[st],djId:null,djName:null};const vt=Hi(t,`${r?`apps/${Kn}`:`users/${u}/apps/${Kn}`}/schedule/mainStage`);await Yc(vt,{timeSlots:ut})}}catch(tt){console.error("Error unassigning DJ:",tt),S("Failed to update schedule.")}finally{Et(!1)}},N=new Set(((b==null?void 0:b.timeSlots)||[]).map(Q=>Q.djId).filter(Boolean)),K=v.filter(Q=>!N.has(Q.id));return g?g&&!u?U.jsx(c2,{auth:a,db:t,appId:Kn}):b?U.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 font-sans p-4 md:p-8",children:[U.jsxs("header",{className:"mb-6",children:[U.jsx("h1",{className:"text-4xl font-bold text-center text-blue-400",children:"Doof Crew Admin"}),u&&U.jsxs("div",{className:"text-center text-sm text-gray-400 mt-2 flex flex-col items-center gap-1",children:[U.jsxs("p",{children:["Share this User ID with your crew: ",U.jsx("code",{className:"bg-gray-700 p-1 rounded-md",children:u})]}),ot&&U.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-green-800 text-green-200 text-xs uppercase tracking-wide",children:"Admin"}),U.jsx("div",{className:"mt-2",children:U.jsx("a",{href:"/hub.html",className:"inline-block py-1.5 px-3 bg-indigo-600 hover:bg-indigo-700 rounded-md text-white",children:"Enter the Portal"})})]})]}),C&&U.jsxs("div",{className:"bg-red-800 border border-red-600 text-white p-4 rounded-lg mb-6 flex items-center",children:[U.jsx(om,{className:"w-5 h-5 mr-3"}),U.jsx("p",{children:C}),U.jsx("button",{onClick:()=>S(null),className:"ml-auto text-red-200 hover:text-white",children:U.jsx(cT,{className:"w-5 h-5"})})]}),U.jsxs("main",{className:"flex flex-col lg:flex-row gap-8",children:[U.jsxs("aside",{className:"w-full lg:w-1/3 flex flex-col gap-6",children:[U.jsx(u2,{db:t,userId:u,appId:Kn,setIsLoading:Et,setError:S,disabled:Wt}),U.jsx(p2,{djs:K,onDjClick:I,onDragStart:_e,onDragOver:F,onDragEnter:it,onDragLeave:ht,onDrop:Pt,isDropZoneActive:M>0,disabled:Wt})]}),U.jsx("section",{className:"w-full lg:w-2/3",children:U.jsx(y2,{schedule:b,djs:v,onDjClick:I,onDragStart:_e,onDragOver:F,onDragEnter:it,onDragLeave:ht,onDrop:kt,isDropZoneActive:M>0,disabled:Wt})})]}),ot&&!r&&U.jsxs("div",{className:"mb-6 mx-auto max-w-2xl bg-gray-800 p-4 rounded-lg",children:[U.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Admin Settings"}),U.jsx(g2,{db:t,userId:u,appId:Kn})]}),et&&H&&U.jsx(v2,{dj:H,onClose:fe})]}):U.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white font-sans p-4",children:[U.jsxs("div",{className:"flex items-center",children:[U.jsx(Gv,{className:"animate-pulse w-16 h-16"}),U.jsx("span",{className:"ml-4 text-2xl",children:"Loading Crew Data..."})]}),C&&U.jsxs("div",{className:"mt-6 max-w-xl w-full bg-red-800 border border-red-600 text-white p-4 rounded-lg",children:[U.jsxs("div",{className:"flex items-center",children:[U.jsx(om,{className:"w-5 h-5 mr-3"}),U.jsx("p",{className:"font-semibold",children:C})]}),U.jsx("p",{className:"text-sm text-red-200 mt-2",children:"If this persists, you may not have permission to read or write your schedule. Please sign out and back in, or contact support."}),R&&U.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[U.jsx("button",{onClick:async()=>{if(!(!t||!u)){Et(!0),S(null);try{const Q=Hi(t,`users/${u}/apps/${Kn}/schedule/mainStage`),tt=Qv();await Tl(Q,tt),x(tt)}catch(Q){console.error(Q),S("Could not create base schedule.")}finally{Et(!1)}}},className:"py-2 px-3 bg-blue-600 hover:bg-blue-700 rounded-md text-white",children:"Create Base Schedule (Temple  31 Jan 2025)"}),U.jsx("a",{href:"/hub.html",className:"py-2 px-3 bg-gray-700 hover:bg-gray-600 rounded-md text-white",children:"Enter the Portal"})]})]})]}):U.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white font-sans",children:[U.jsx(Gv,{className:"animate-pulse w-16 h-16"}),U.jsx("span",{className:"ml-4 text-2xl",children:"Checking session"})]})}function Qv(){const r="Temple - 31 Jan 2025",a=[];for(let l=720;l<1440;l+=15){const u=Kv(l),d=Kv(l+15);a.push({time:`${u} - ${d}`,djId:null,djName:null})}return{name:r,timeSlots:a}}function Kv(r){const t=(r%1440+1440)%1440,i=Math.floor(t/60),a=t%60,l=i.toString().padStart(2,"0"),u=a.toString().padStart(2,"0");return`${l}:${u}`}function u2({db:r,userId:t,appId:i,setIsLoading:a,setError:l,disabled:u}){const d=typeof __shared_mode<"u"?!!__shared_mode:!0,[g,p]=It.useState({djName:"",realName:"",info:"",photoUrl:"",visualUrl:""}),v=b=>{const{name:x,value:H}=b.target;p(Z=>({...Z,[x]:H}))},A=async b=>{if(b.preventDefault(),!g.djName||!g.realName){l("DJ Name and Real Name are required.");return}a(!0),l(null);try{const x=`${d?`apps/${i}`:`users/${t}/apps/${i}`}/djs`;await XC(YE(r,x),{...g,createdAt:new Date().toISOString()}),p({djName:"",realName:"",info:"",photoUrl:"",visualUrl:""})}catch(x){console.error("Error registering DJ:",x),l("Failed to register DJ. Please try again.")}finally{a(!1)}};return U.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[U.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center",children:[U.jsx(s2,{className:"w-6 h-6 mr-3 text-blue-400"}),"Register DJ"]}),U.jsxs("form",{onSubmit:A,className:"space-y-4",children:[U.jsxs("div",{children:[U.jsx("label",{htmlFor:"djName",className:"block text-sm font-medium text-gray-300",children:"DJ Name"}),U.jsx("input",{type:"text",id:"djName",name:"djName",value:g.djName,onChange:v,required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),U.jsxs("div",{children:[U.jsx("label",{htmlFor:"realName",className:"block text-sm font-medium text-gray-300",children:"Real Name"}),U.jsx("input",{type:"text",id:"realName",name:"realName",value:g.realName,onChange:v,required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),U.jsxs("div",{children:[U.jsx("label",{htmlFor:"info",className:"block text-sm font-medium text-gray-300",children:"Promo Info / Bio"}),U.jsx("textarea",{id:"info",name:"info",rows:3,value:g.info,onChange:v,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),U.jsxs("div",{children:[U.jsx("label",{htmlFor:"photoUrl",className:"block text-sm font-medium text-gray-300",children:"Promo Photo (URL)"}),U.jsx("input",{type:"url",id:"photoUrl",name:"photoUrl",value:g.photoUrl,onChange:v,placeholder:"https://example.com/photo.jpg",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),U.jsxs("div",{children:[U.jsx("label",{htmlFor:"visualUrl",className:"block text-sm font-medium text-gray-300",children:"Visuals / Content (URL)"}),U.jsx("input",{type:"url",id:"visualUrl",name:"visualUrl",value:g.visualUrl,onChange:v,placeholder:"https://youtube.com/watch?v=...",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),U.jsx("button",{type:"submit",disabled:u,className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Registering...":"Register DJ"})]})]})}function c2({auth:r,db:t,appId:i}){const[a,l]=It.useState("login");return U.jsx("div",{className:"min-h-screen bg-gray-900 text-gray-100 font-sans p-6 flex items-center justify-center",children:U.jsxs("div",{className:"max-w-2xl w-full bg-gray-800 rounded-xl shadow-lg p-6",children:[U.jsx("h1",{className:"text-3xl font-bold text-blue-400 mb-2 text-center",children:"Temple DJ Spot"}),U.jsx("p",{className:"text-center text-gray-300 mb-6",children:"Sign in to manage your crew and set times."}),U.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[U.jsx("button",{onClick:()=>l("login"),className:`py-2 px-4 rounded-md ${a==="login"?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,children:"Login"}),U.jsx("button",{onClick:()=>l("register"),className:`py-2 px-4 rounded-md ${a==="register"?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,children:"Register"})]}),a==="login"?U.jsx(d2,{auth:r}):U.jsx(m2,{auth:r,db:t,appId:i}),U.jsxs("div",{className:"mt-6",children:[U.jsx(h2,{}),U.jsx(f2,{})]})]})})}function h2(){return U.jsx("div",{className:"text-sm text-gray-300 space-y-2",children:U.jsx("p",{children:"Your Portal UI account is shared across sites. Register once on the main site, then return here to manage your crew. When you first sign in, well set up your crew space automatically."})})}function f2(){return U.jsxs("div",{className:"mt-6 text-xs text-gray-400 border-t border-gray-700 pt-4 leading-relaxed",children:[U.jsx("p",{className:"font-semibold text-gray-300 mb-1",children:"Terms & Conditions (Summary)"}),U.jsxs("ul",{className:"list-disc ml-5 space-y-1",children:[U.jsx("li",{children:"Use this service responsibly and in compliance with applicable laws."}),U.jsx("li",{children:"You own the content you upload; you grant us a license to host and display it to provide the service."}),U.jsx("li",{children:"Dont upload content that is illegal, infringing, or harmful."}),U.jsx("li",{children:"We may update features and policies; continued use constitutes acceptance of changes."}),U.jsx("li",{children:"This service is provided as is without warranties; were not liable for indirect or consequential damages."}),U.jsx("li",{children:"If youre under your regional age of digital consent, use only with a guardians permission."}),U.jsx("li",{children:"We may suspend accounts that violate these terms or abuse resources."}),U.jsx("li",{children:"For data requests or takedowns, contact support via the main Portal UI site."})]})]})}function d2({auth:r}){const[t,i]=It.useState(""),[a,l]=It.useState(""),[u,d]=It.useState(!1),[g,p]=It.useState(null),v=async A=>{if(A.preventDefault(),!!r){d(!0),p(null);try{await Cw(r,t,a),p("Logged in successfully.")}catch(b){console.error(b);const x=(b==null?void 0:b.code)||"";let H="Login failed. Check your credentials.";x.includes("auth/user-not-found")&&(H="No account with that email."),x.includes("auth/wrong-password")&&(H="Incorrect password."),p(H)}finally{d(!1)}}};return U.jsxs("form",{onSubmit:v,className:"space-y-3",children:[U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm text-gray-300",children:"Email"}),U.jsx("input",{value:t,onChange:A=>i(A.target.value),type:"email",required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm text-gray-300",children:"Password"}),U.jsx("input",{value:a,onChange:A=>l(A.target.value),type:"password",required:!0,minLength:6,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),g&&U.jsx("div",{className:"text-sm text-yellow-300",children:g}),U.jsxs("div",{className:"flex items-center gap-3",children:[U.jsx("button",{disabled:u,type:"submit",className:"py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-md",children:u?"Signing in":"Sign in"}),U.jsx("a",{href:"/login.html",className:"text-sm text-gray-400",children:"I prefer the full login page"})]})]})}function m2({auth:r,db:t,appId:i}){const[a,l]=It.useState(""),[u,d]=It.useState(""),[g,p]=It.useState(""),[v,A]=It.useState(""),[b,x]=It.useState(!1),[H,Z]=It.useState(null),et=async Y=>{if(Y.preventDefault(),!(!r||!t)){if(g!==v){Z("Passwords do not match");return}x(!0),Z(null);try{const ot=await Iw(r,u,g);await Tl(Hi(t,"users",ot.user.uid),{uid:ot.user.uid,fullName:a,email:u,createdAt:new Date().toISOString()}),await Tl(Hi(t,`users/${ot.user.uid}/apps/${i}`,"meta"),{ownerUid:ot.user.uid,appId:i,createdAt:new Date().toISOString()});try{await Dw(ot.user)}catch{}Z("Registered and signed in. Verification email sent (if supported).")}catch(ot){console.error(ot);let yt="Registration failed.";const dt=(ot==null?void 0:ot.code)||"";dt.includes("auth/email-already-in-use")&&(yt="This email is already registered."),dt.includes("auth/weak-password")&&(yt="Password is too weak."),Z(yt)}finally{x(!1)}}};return U.jsxs("form",{onSubmit:et,className:"space-y-3",children:[U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm text-gray-300",children:"Full name"}),U.jsx("input",{value:a,onChange:Y=>l(Y.target.value),type:"text",required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm text-gray-300",children:"Email"}),U.jsx("input",{value:u,onChange:Y=>d(Y.target.value),type:"email",required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),U.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm text-gray-300",children:"Password"}),U.jsx("input",{value:g,onChange:Y=>p(Y.target.value),type:"password",required:!0,minLength:6,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm text-gray-300",children:"Confirm"}),U.jsx("input",{value:v,onChange:Y=>A(Y.target.value),type:"password",required:!0,minLength:6,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]})]}),H&&U.jsx("div",{className:"text-sm text-yellow-300",children:H}),U.jsx("div",{children:U.jsx("button",{disabled:b,type:"submit",className:"py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-md",children:b?"Registering":"Create account"})})]})}function g2({db:r,userId:t,appId:i}){const[a,l]=It.useState(""),[u,d]=It.useState(""),[g,p]=It.useState(!1),[v,A]=It.useState(null),b=`users/${t}/apps/${i}`,x=Hi(r,`${b}/meta/app`),H=async et=>{if(et.preventDefault(),!!a){p(!0),A(null);try{await Yc(x,{allowedAdminEmails:Fv(a.trim().toLowerCase())}),A("Admin email added."),l("")}catch(Y){console.error(Y),A("Failed to add email.")}finally{p(!1)}}},Z=async et=>{if(et.preventDefault(),!!u){p(!0),A(null);try{await Yc(x,{allowedAdminUids:Fv(u.trim())}),A("Admin UID added."),d("")}catch(Y){console.error(Y),A("Failed to add UID.")}finally{p(!1)}}};return U.jsxs("div",{className:"space-y-3",children:[U.jsxs("form",{onSubmit:H,className:"flex items-end gap-2",children:[U.jsxs("div",{className:"flex-1",children:[U.jsx("label",{className:"block text-sm text-gray-300",children:"Add admin by email"}),U.jsx("input",{value:a,onChange:et=>l(et.target.value),type:"email",placeholder:"crew@example.com",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),U.jsx("button",{disabled:g||!a,className:"py-2 px-3 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Add"})]}),U.jsxs("form",{onSubmit:Z,className:"flex items-end gap-2",children:[U.jsxs("div",{className:"flex-1",children:[U.jsx("label",{className:"block text-sm text-gray-300",children:"Add admin by UID"}),U.jsx("input",{value:u,onChange:et=>d(et.target.value),type:"text",placeholder:"Paste Firebase UID",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),U.jsx("button",{disabled:g||!u,className:"py-2 px-3 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Add"})]}),v&&U.jsx("div",{className:"text-sm text-gray-300",children:v}),U.jsx("div",{className:"text-xs text-gray-400",children:"Tip: Ask the user to copy their UID from the header or provide their account email."})]})}function p2({djs:r,onDjClick:t,onDragStart:i,onDragOver:a,onDragEnter:l,onDragLeave:u,onDrop:d,isDropZoneActive:g,disabled:p}){return U.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg flex-grow",children:[U.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center",children:[U.jsx(uT,{className:"w-6 h-6 mr-3 text-blue-400"}),"Unassigned DJs"]}),U.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:r.length===0?U.jsx("p",{className:"text-gray-400",children:"No unassigned DJs. Register one!"}):r.map(v=>U.jsx("div",{children:U.jsx(hT,{dj:v,onClick:()=>t(v),isDraggable:!p,onDragStart:A=>i(A,{from:"pool",dj:v})})},v.id))}),U.jsx("div",{onDragOver:a,onDragEnter:l,onDragLeave:u,onDrop:d,className:`mt-6 p-4 border-2 border-dashed rounded-lg text-center transition-all duration-200 ${g?"border-red-500 bg-red-900/50":"border-gray-600"}`,children:U.jsxs("div",{className:"flex flex-col items-center justify-center pointer-events-none",children:[U.jsx(i2,{className:`w-8 h-8 ${g?"text-red-400":"text-gray-500"}`}),U.jsx("p",{className:`mt-2 text-sm ${g?"text-red-300":"text-gray-400"}`,children:"Drag a DJ here to unassign"})]})})]})}function y2({schedule:r,djs:t,onDjClick:i,onDragStart:a,onDragOver:l,onDragEnter:u,onDragLeave:d,onDrop:g,isDropZoneActive:p,disabled:v}){return U.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[U.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[U.jsx(t2,{className:"w-6 h-6 mr-3 text-blue-400"}),r.name," Set Times"]}),U.jsx("div",{className:"space-y-4",children:r.timeSlots.map((A,b)=>U.jsx("div",{children:U.jsx(_2,{slot:A,slotIndex:b,allDjs:t,onDjClick:i,onDragStart:a,onDragOver:l,onDragEnter:u,onDragLeave:d,onDrop:g,disabled:v})},b))})]})}function _2({slot:r,slotIndex:t,allDjs:i,onDjClick:a,onDragStart:l,onDragOver:u,onDragEnter:d,onDragLeave:g,onDrop:p,disabled:v}){const[A,b]=It.useState(!1),x=r.djId&&i.find(Y=>Y.id===r.djId)||null,H=Y=>{Y.preventDefault(),Y.stopPropagation(),b(!0),d(Y)},Z=Y=>{Y.preventDefault(),Y.stopPropagation(),b(!1),g(Y)},et=Y=>{Y.preventDefault(),Y.stopPropagation(),b(!1),p(Y,t)};return U.jsxs("div",{className:`flex items-center bg-gray-700 rounded-lg p-3 transition-all duration-200 ${A?"ring-2 ring-blue-500 bg-gray-600":""}`,onDragOver:u,onDragEnter:H,onDragLeave:Z,onDrop:et,children:[U.jsxs("div",{className:"w-32 flex-shrink-0 text-blue-300 font-mono flex items-center",children:[U.jsx(e2,{className:"w-4 h-4 mr-2"}),r.time]}),U.jsx("div",{className:"flex-grow",children:x?U.jsx(hT,{dj:x,onClick:()=>a(x),isDraggable:!v,onDragStart:Y=>l(Y,{from:"slot",slotIndex:t,djId:x.id,djName:x.djName})}):U.jsx("div",{className:"text-center text-gray-500 p-3 border border-dashed border-gray-600 rounded-md",children:"Empty Slot"})})]})}function hT({dj:r,onClick:t,isDraggable:i,onDragStart:a}){var u;const l=`https://placehold.co/40x40/374151/9CA3AF?text=${encodeURIComponent(((u=r.djName)==null?void 0:u.charAt(0))||"D")}`;return U.jsxs("div",{draggable:i,onDragStart:a,className:`flex items-center bg-gray-900 p-2 rounded-md shadow-sm ${i?"cursor-move":"cursor-pointer"} border border-gray-700 hover:bg-gray-800 transition-colors`,children:[U.jsx(n2,{className:"w-5 h-5 mr-2 text-gray-500 flex-shrink-0"}),U.jsx("img",{src:r.photoUrl||l,alt:r.djName,onError:d=>{d.currentTarget.src=l},className:"w-10 h-10 rounded-full object-cover mr-3 flex-shrink-0"}),U.jsxs("div",{className:"flex-grow min-w-0",onClick:t,children:[U.jsx("p",{className:"text-md font-semibold text-white truncate",children:r.djName}),U.jsx("p",{className:"text-sm text-gray-400 truncate",children:r.realName})]})]})}function v2({dj:r,onClose:t}){const i="https://placehold.co/600x400/374151/9CA3AF?text=No+Photo";return U.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-75 backdrop-blur-sm",onClick:t,children:U.jsxs("div",{className:"bg-gray-800 w-full max-w-lg rounded-xl shadow-2xl overflow-hidden",onClick:a=>a.stopPropagation(),children:[U.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[U.jsxs("h2",{className:"text-2xl font-bold text-blue-400 flex items-center",children:[U.jsx(uT,{className:"w-6 h-6 mr-3"}),r.djName]}),U.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white rounded-full p-1 transition-colors",children:U.jsx(cT,{className:"w-6 h-6"})})]}),U.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[U.jsx("img",{src:r.photoUrl||i,alt:r.djName,onError:a=>{a.currentTarget.src=i},className:"w-full h-64 object-cover rounded-lg bg-gray-700"}),U.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[U.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[U.jsx(r2,{className:"w-4 h-4 mr-2"}),"Real Name"]}),U.jsx("p",{className:"text-lg text-white",children:r.realName})]}),r.info&&U.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[U.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[U.jsx(om,{className:"w-4 h-4 mr-2"}),"Bio / Info"]}),U.jsx("p",{className:"text-white whitespace-pre-wrap",children:r.info})]}),r.visualUrl&&U.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[U.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[U.jsx(a2,{className:"w-4 h-4 mr-2"}),"Visuals / Content"]}),U.jsx("a",{href:r.visualUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline truncate block",children:r.visualUrl})]})]})]})})}const E2=document.getElementById("root"),T2=YA.createRoot(E2);T2.render(U.jsx(l2,{}));
