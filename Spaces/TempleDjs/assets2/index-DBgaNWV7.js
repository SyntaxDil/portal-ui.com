(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var Sd={exports:{}},pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function YS(){if(A_)return pl;A_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:u}}return pl.Fragment=e,pl.jsx=i,pl.jsxs=i,pl}var w_;function XS(){return w_||(w_=1,Sd.exports=YS()),Sd.exports}var w=XS(),bd={exports:{}},yl={},Ad={exports:{}},wd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function $S(){return R_||(R_=1,(function(r){function e(F,Z){var fe=F.length;F.push(Z);e:for(;0<fe;){var we=fe-1>>>1,$e=F[we];if(0<l($e,Z))F[we]=Z,F[fe]=$e,fe=we;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var Z=F[0],fe=F.pop();if(fe!==Z){F[0]=fe;e:for(var we=0,$e=F.length,M=$e>>>1;we<M;){var K=2*(we+1)-1,ee=F[K],ae=K+1,pe=F[ae];if(0>l(ee,fe))ae<$e&&0>l(pe,ee)?(F[we]=pe,F[ae]=fe,we=ae):(F[we]=ee,F[K]=fe,we=K);else if(ae<$e&&0>l(pe,fe))F[we]=pe,F[ae]=fe,we=ae;else break e}}return Z}function l(F,Z){var fe=F.sortIndex-Z.sortIndex;return fe!==0?fe:F.id-Z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],_=[],T=1,b=null,O=3,P=!1,Q=!1,W=!1,$=!1,oe=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function Ve(F){for(var Z=i(_);Z!==null;){if(Z.callback===null)a(_);else if(Z.startTime<=F)a(_),Z.sortIndex=Z.expirationTime,e(p,Z);else break;Z=i(_)}}function Ze(F){if(W=!1,Ve(F),!Q)if(i(p)!==null)Q=!0,be||(be=!0,U());else{var Z=i(_);Z!==null&&vt(Ze,Z.startTime-F)}}var be=!1,N=-1,A=5,R=-1;function x(){return $?!0:!(r.unstable_now()-R<A)}function D(){if($=!1,be){var F=r.unstable_now();R=F;var Z=!0;try{e:{Q=!1,W&&(W=!1,ge(N),N=-1),P=!0;var fe=O;try{t:{for(Ve(F),b=i(p);b!==null&&!(b.expirationTime>F&&x());){var we=b.callback;if(typeof we=="function"){b.callback=null,O=b.priorityLevel;var $e=we(b.expirationTime<=F);if(F=r.unstable_now(),typeof $e=="function"){b.callback=$e,Ve(F),Z=!0;break t}b===i(p)&&a(p),Ve(F)}else a(p);b=i(p)}if(b!==null)Z=!0;else{var M=i(_);M!==null&&vt(Ze,M.startTime-F),Z=!1}}break e}finally{b=null,O=fe,P=!1}Z=void 0}}finally{Z?U():be=!1}}}var U;if(typeof se=="function")U=function(){se(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,lt=I.port2;I.port1.onmessage=D,U=function(){lt.postMessage(null)}}else U=function(){oe(D,0)};function vt(F,Z){N=oe(function(){F(r.unstable_now())},Z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(F){switch(O){case 1:case 2:case 3:var Z=3;break;default:Z=O}var fe=O;O=Z;try{return F()}finally{O=fe}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(F,Z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var fe=O;O=F;try{return Z()}finally{O=fe}},r.unstable_scheduleCallback=function(F,Z,fe){var we=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?we+fe:we):fe=we,F){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=fe+$e,F={id:T++,callback:Z,priorityLevel:F,startTime:fe,expirationTime:$e,sortIndex:-1},fe>we?(F.sortIndex=fe,e(_,F),i(p)===null&&F===i(_)&&(W?(ge(N),N=-1):W=!0,vt(Ze,fe-we))):(F.sortIndex=$e,e(p,F),Q||P||(Q=!0,be||(be=!0,U()))),F},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(F){var Z=O;return function(){var fe=O;O=Z;try{return F.apply(this,arguments)}finally{O=fe}}}})(wd)),wd}var I_;function JS(){return I_||(I_=1,Ad.exports=$S()),Ad.exports}var Rd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function ZS(){if(C_)return Re;C_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),O=Symbol.iterator;function P(M){return M===null||typeof M!="object"?null:(M=O&&M[O]||M["@@iterator"],typeof M=="function"?M:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,$={};function oe(M,K,ee){this.props=M,this.context=K,this.refs=$,this.updater=ee||Q}oe.prototype.isReactComponent={},oe.prototype.setState=function(M,K){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,K,"setState")},oe.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ge(){}ge.prototype=oe.prototype;function se(M,K,ee){this.props=M,this.context=K,this.refs=$,this.updater=ee||Q}var Ve=se.prototype=new ge;Ve.constructor=se,W(Ve,oe.prototype),Ve.isPureReactComponent=!0;var Ze=Array.isArray;function be(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(M,K,ee){var ae=ee.ref;return{$$typeof:r,type:M,key:K,ref:ae!==void 0?ae:null,props:ee}}function x(M,K){return R(M.type,K,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function U(M){var K={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ee){return K[ee]})}var I=/\/+/g;function lt(M,K){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):K.toString(36)}function vt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(be,be):(M.status="pending",M.then(function(K){M.status==="pending"&&(M.status="fulfilled",M.value=K)},function(K){M.status==="pending"&&(M.status="rejected",M.reason=K)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,K,ee,ae,pe){var De=typeof M;(De==="undefined"||De==="boolean")&&(M=null);var xe=!1;if(M===null)xe=!0;else switch(De){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(M.$$typeof){case r:case e:xe=!0;break;case T:return xe=M._init,F(xe(M._payload),K,ee,ae,pe)}}if(xe)return pe=pe(M),xe=ae===""?"."+lt(M,0):ae,Ze(pe)?(ee="",xe!=null&&(ee=xe.replace(I,"$&/")+"/"),F(pe,K,ee,"",function(pn){return pn})):pe!=null&&(D(pe)&&(pe=x(pe,ee+(pe.key==null||M&&M.key===pe.key?"":(""+pe.key).replace(I,"$&/")+"/")+xe)),K.push(pe)),1;xe=0;var Mt=ae===""?".":ae+":";if(Ze(M))for(var je=0;je<M.length;je++)ae=M[je],De=Mt+lt(ae,je),xe+=F(ae,K,ee,De,pe);else if(je=P(M),typeof je=="function")for(M=je.call(M),je=0;!(ae=M.next()).done;)ae=ae.value,De=Mt+lt(ae,je++),xe+=F(ae,K,ee,De,pe);else if(De==="object"){if(typeof M.then=="function")return F(vt(M),K,ee,ae,pe);throw K=String(M),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return xe}function Z(M,K,ee){if(M==null)return M;var ae=[],pe=0;return F(M,ae,"","",function(De){return K.call(ee,De,pe++)}),ae}function fe(M){if(M._status===-1){var K=M._result;K=K(),K.then(function(ee){(M._status===0||M._status===-1)&&(M._status=1,M._result=ee)},function(ee){(M._status===0||M._status===-1)&&(M._status=2,M._result=ee)}),M._status===-1&&(M._status=0,M._result=K)}if(M._status===1)return M._result.default;throw M._result}var we=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},$e={map:Z,forEach:function(M,K,ee){Z(M,function(){K.apply(this,arguments)},ee)},count:function(M){var K=0;return Z(M,function(){K++}),K},toArray:function(M){return Z(M,function(K){return K})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Re.Activity=b,Re.Children=$e,Re.Component=oe,Re.Fragment=i,Re.Profiler=l,Re.PureComponent=se,Re.StrictMode=a,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Re.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Re.cache=function(M){return function(){return M.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(M,K,ee){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=W({},M.props),pe=M.key;if(K!=null)for(De in K.key!==void 0&&(pe=""+K.key),K)!A.call(K,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&K.ref===void 0||(ae[De]=K[De]);var De=arguments.length-2;if(De===1)ae.children=ee;else if(1<De){for(var xe=Array(De),Mt=0;Mt<De;Mt++)xe[Mt]=arguments[Mt+2];ae.children=xe}return R(M.type,pe,ae)},Re.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Re.createElement=function(M,K,ee){var ae,pe={},De=null;if(K!=null)for(ae in K.key!==void 0&&(De=""+K.key),K)A.call(K,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(pe[ae]=K[ae]);var xe=arguments.length-2;if(xe===1)pe.children=ee;else if(1<xe){for(var Mt=Array(xe),je=0;je<xe;je++)Mt[je]=arguments[je+2];pe.children=Mt}if(M&&M.defaultProps)for(ae in xe=M.defaultProps,xe)pe[ae]===void 0&&(pe[ae]=xe[ae]);return R(M,De,pe)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(M){return{$$typeof:g,render:M}},Re.isValidElement=D,Re.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:fe}},Re.memo=function(M,K){return{$$typeof:_,type:M,compare:K===void 0?null:K}},Re.startTransition=function(M){var K=N.T,ee={};N.T=ee;try{var ae=M(),pe=N.S;pe!==null&&pe(ee,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(be,we)}catch(De){we(De)}finally{K!==null&&ee.types!==null&&(K.types=ee.types),N.T=K}},Re.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Re.use=function(M){return N.H.use(M)},Re.useActionState=function(M,K,ee){return N.H.useActionState(M,K,ee)},Re.useCallback=function(M,K){return N.H.useCallback(M,K)},Re.useContext=function(M){return N.H.useContext(M)},Re.useDebugValue=function(){},Re.useDeferredValue=function(M,K){return N.H.useDeferredValue(M,K)},Re.useEffect=function(M,K){return N.H.useEffect(M,K)},Re.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Re.useId=function(){return N.H.useId()},Re.useImperativeHandle=function(M,K,ee){return N.H.useImperativeHandle(M,K,ee)},Re.useInsertionEffect=function(M,K){return N.H.useInsertionEffect(M,K)},Re.useLayoutEffect=function(M,K){return N.H.useLayoutEffect(M,K)},Re.useMemo=function(M,K){return N.H.useMemo(M,K)},Re.useOptimistic=function(M,K){return N.H.useOptimistic(M,K)},Re.useReducer=function(M,K,ee){return N.H.useReducer(M,K,ee)},Re.useRef=function(M){return N.H.useRef(M)},Re.useState=function(M){return N.H.useState(M)},Re.useSyncExternalStore=function(M,K,ee){return N.H.useSyncExternalStore(M,K,ee)},Re.useTransition=function(){return N.H.useTransition()},Re.version="19.2.0",Re}var N_;function cm(){return N_||(N_=1,Rd.exports=ZS()),Rd.exports}var Id={exports:{}},hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function WS(){if(D_)return hn;D_=1;var r=cm();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,_,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:p,containerInfo:_,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,hn.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(p,_,null,T)},hn.flushSync=function(p){var _=d.T,T=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=_,a.p=T,a.d.f()}},hn.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(p,_))},hn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},hn.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,b=g(T,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,P=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?a.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:O,fetchPriority:P}):T==="script"&&a.d.X(p,{crossOrigin:b,integrity:O,fetchPriority:P,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},hn.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);a.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(p)},hn.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,b=g(T,_.crossOrigin);a.d.L(p,T,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},hn.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);a.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(p)},hn.requestFormReset=function(p){a.d.r(p)},hn.unstable_batchedUpdates=function(p,_){return p(_)},hn.useFormState=function(p,_,T){return d.H.useFormState(p,_,T)},hn.useFormStatus=function(){return d.H.useHostTransitionStatus()},hn.version="19.2.0",hn}var x_;function eb(){if(x_)return Id.exports;x_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Id.exports=WS(),Id.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function tb(){if(O_)return yl;O_=1;var r=JS(),e=cm(),i=eb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return p(h),t;if(f===o)return p(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===s){y=!0,s=h,o=f;break}if(E===o){y=!0,o=h,s=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===s){y=!0,s=f,o=h;break}if(E===o){y=!0,o=f,s=h;break}E=E.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,O=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),ge=Symbol.for("react.consumer"),se=Symbol.for("react.context"),Ve=Symbol.for("react.forward_ref"),Ze=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case oe:return"Profiler";case $:return"StrictMode";case Ze:return"Suspense";case be:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case se:return t.displayName||"Context";case ge:return(t._context.displayName||"Context")+".Consumer";case Ve:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:lt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return lt(t(n))}catch{}}return null}var vt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},we=[],$e=-1;function M(t){return{current:t}}function K(t){0>$e||(t.current=we[$e],we[$e]=null,$e--)}function ee(t,n){$e++,we[$e]=t.current,t.current=n}var ae=M(null),pe=M(null),De=M(null),xe=M(null);function Mt(t,n){switch(ee(De,n),ee(pe,t),ee(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Qy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Qy(n),t=Yy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ae),ee(ae,t)}function je(){K(ae),K(pe),K(De)}function pn(t){t.memoizedState!==null&&ee(xe,t);var n=ae.current,s=Yy(n,t.type);n!==s&&(ee(pe,t),ee(ae,s))}function yn(t){pe.current===t&&(K(ae),K(pe)),xe.current===t&&(K(xe),fl._currentValue=fe)}var Vi,Hn;function Wt(t){if(Vi===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Vi=n&&n[1]||"",Hn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vi+t+Hn}var On=!1;function ri(t,n){if(!t||On)return"";On=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var B=q}Reflect.construct(t,[],X)}else{try{X.call()}catch(q){B=q}t.call(X.prototype)}}else{try{throw Error()}catch(q){B=q}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var C=y.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var G=`
`+C[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{On=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Wt(s):""}function Ui(t,n){switch(t.tag){case 26:case 27:case 5:return Wt(t.type);case 16:return Wt("Lazy");case 13:return t.child!==n&&n!==null?Wt("Suspense Fallback"):Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 15:return ri(t.type,!1);case 11:return ri(t.type.render,!1);case 1:return ri(t.type,!0);case 31:return Wt("Activity");default:return""}}function ki(t){try{var n="",s=null;do n+=Ui(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Er=Object.prototype.hasOwnProperty,Fn=r.unstable_scheduleCallback,si=r.unstable_cancelCallback,Tr=r.unstable_shouldYield,pi=r.unstable_requestPaint,St=r.unstable_now,Sr=r.unstable_getCurrentPriorityLevel,bt=r.unstable_ImmediatePriority,Et=r.unstable_UserBlockingPriority,ai=r.unstable_NormalPriority,la=r.unstable_LowPriority,re=r.unstable_IdlePriority,ne=r.log,de=r.unstable_setDisableYieldValue,Ee=null,Ne=null;function Vt(t){if(typeof ne=="function"&&de(t),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(Ee,t)}catch{}}var Se=Math.clz32?Math.clz32:Li,Ss=Math.log,Gn=Math.LN2;function Li(t){return t>>>=0,t===0?32:31-(Ss(t)/Gn|0)|0}var yt=256,Oe=262144,Pe=4194304;function Ue(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ze(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Ue(o):(y&=E,y!==0?h=Ue(y):s||(s=E&~t,s!==0&&(h=Ue(s))))):(E=o&~f,E!==0?h=Ue(E):y!==0?h=Ue(y):s||(s=o&~t,s!==0&&(h=Ue(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function ke(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Qt(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qe(){var t=Pe;return Pe<<=1,(Pe&62914560)===0&&(Pe=4194304),t}function qt(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Kn(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ht(t,n,s,o,h,f){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(s=y&~s;0<s;){var G=31-Se(s),X=1<<G;E[G]=0,C[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var q=B[G];q!==null&&(q.lane&=-536870913)}s&=~X}o!==0&&vo(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function vo(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Se(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function br(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-Se(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function Ar(t,n){var s=n&-n;return s=(s&42)!==0?1:Eo(s),(s&(t.suspendedLanes|n))!==0?0:s}function Eo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function To(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pi(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:y_(t.type))}function tu(t,n){var s=Z.p;try{return Z.p=t,n()}finally{Z.p=s}}var yi=Math.random().toString(36).slice(2),At="__reactFiber$"+yi,en="__reactProps$"+yi,_i="__reactContainer$"+yi,wr="__reactEvents$"+yi,vi="__reactListeners$"+yi,nu="__reactHandles$"+yi,So="__reactResources$"+yi,ji="__reactMarker$"+yi;function bs(t){delete t[At],delete t[en],delete t[wr],delete t[vi],delete t[nu]}function zi(t){var n=t[At];if(n)return n;for(var s=t.parentNode;s;){if(n=s[_i]||s[At]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=t_(t);t!==null;){if(s=t[At])return s;t=t_(t)}return n}t=s,s=t.parentNode}return null}function Bi(t){if(t=t[At]||t[_i]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function As(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function oi(t){var n=t[So];return n||(n=t[So]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ct(t){t[ji]=!0}var ua=new Set,Rr={};function _n(t,n){Ei(t,n),Ei(t+"Capture",n)}function Ei(t,n){for(Rr[t]=n,t=0;t<n.length;t++)ua.add(n[t])}var Sh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},Ao={};function iu(t){return Er.call(Ao,t)?!0:Er.call(bo,t)?!1:Sh.test(t)?Ao[t]=!0:(bo[t]=!0,!1)}function Ir(t,n,s){if(iu(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Cr(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Qn(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function vn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ru(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bh(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ca(t){if(!t._valueTracker){var n=ru(t)?"checked":"value";t._valueTracker=bh(t,n,""+t[n])}}function wo(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=ru(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function ha(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var qi=/[\n"\\]/g;function wt(t){return t.replace(qi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Nr(t,n,s,o,h,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+vn(n)):t.value!==""+vn(n)&&(t.value=""+vn(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?fa(t,y,vn(n)):s!=null?fa(t,y,vn(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+vn(E):t.removeAttribute("name")}function ws(t,n,s,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ca(t);return}s=s!=null?""+vn(s):"",n=n!=null?""+vn(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),ca(t)}function fa(t,n,s){n==="number"&&ha(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function We(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+vn(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Rs(t,n,s){if(n!=null&&(n=""+vn(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+vn(s):""}function Dr(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(vt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=vn(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),ca(t)}function Yn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Ah=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||Ah.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function su(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Ro(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ro(t,f,n[f])}function Io(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ti(t){return Rh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yt(){}var da=null;function ma(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hi=null,Mn=null;function au(t){var n=Bi(t);if(n&&(t=n.stateNode)){var s=t[en]||null;e:switch(t=n.stateNode,n.type){case"input":if(Nr(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+wt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[en]||null;if(!h)throw Error(a(90));Nr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&wo(o)}break e;case"textarea":Rs(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&We(t,!!s.multiple,n,!1)}}}var Co=!1;function ou(t,n,s){if(Co)return t(n,s);Co=!0;try{var o=t(n);return o}finally{if(Co=!1,(Hi!==null||Mn!==null)&&(ic(),Hi&&(n=Hi,t=Mn,Mn=Hi=null,au(n),t)))for(n=0;n<t.length;n++)au(t[n])}}function An(t,n){var s=t.stateNode;if(s===null)return null;var o=s[en]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),No=!1;if(li)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){No=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{No=!1}var Vn=null,ga=null,bi=null;function xr(){if(bi)return bi;var t,n=ga,s=n.length,o,h="value"in Vn?Vn.value:Vn.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var y=s-t;for(o=1;o<=y&&n[s-o]===h[f-o];o++);return bi=h.slice(t,1<o?1-o:void 0)}function Is(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Or(){return!0}function dt(){return!1}function cn(t){function n(s,o,h,f,y){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Or:dt,this.isPropagationStopped=dt,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),n}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cs=cn(Fi),Mr=b({},Fi,{view:0,detail:0}),lu=cn(Mr),Vr,pa,En,Ns=b({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==En&&(En&&t.type==="mousemove"?(Vr=t.screenX-En.screenX,pa=t.screenY-En.screenY):pa=Vr=0,En=t),Vr)},movementY:function(t){return"movementY"in t?t.movementY:pa}}),uu=cn(Ns),Ds=b({},Ns,{dataTransfer:0}),cu=cn(Ds),Do=b({},Mr,{relatedTarget:0}),Ur=cn(Do),hu=b({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),ya=cn(hu),Ih=b({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fu=cn(Ih),xs=b({},Fi,{data:0}),xo=cn(xs),du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Mo[t])?!!n[t]:!1}function kr(){return mu}var gu=b({},Mr,{key:function(t){if(t.key){var n=du[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Oo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(t){return t.type==="keypress"?Is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pu=cn(gu),Gi=b({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vo=cn(Gi),yu=b({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),_u=cn(yu),vu=b({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),_a=cn(vu),Tn=b({},Ns,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Eu=cn(Tn),Tu=b({},Fi,{newState:0,oldState:0}),Lr=cn(Tu),c=[9,13,27,32],m=li&&"CompositionEvent"in window,v=null;li&&"documentMode"in document&&(v=document.documentMode);var S=li&&"TextEvent"in window&&!v,L=li&&(!m||v&&8<v&&11>=v),H=" ",ie=!1;function rt(t,n){switch(t){case"keyup":return c.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ut(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Be=!1;function Xt(t,n){switch(t){case"compositionend":return Ut(n);case"keypress":return n.which!==32?null:(ie=!0,H);case"textInput":return t=n.data,t===H&&ie?null:t;default:return null}}function $t(t,n){if(Be)return t==="compositionend"||!m&&rt(t,n)?(t=xr(),bi=ga=Vn=null,Be=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return L&&n.locale!=="ko"?null:n.data;default:return null}}var Pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wn(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Pr[t.type]:n==="textarea"}function Os(t,n,s,o){Hi?Mn?Mn.push(o):Mn=[o]:Hi=o,n=cc(n,"onChange"),0<n.length&&(s=new Cs("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var Ki=null,Uo=null;function TT(t){By(t,0)}function Su(t){var n=As(t);if(wo(n))return t}function ag(t,n){if(t==="change")return n}var og=!1;if(li){var Ch;if(li){var Nh="oninput"in document;if(!Nh){var lg=document.createElement("div");lg.setAttribute("oninput","return;"),Nh=typeof lg.oninput=="function"}Ch=Nh}else Ch=!1;og=Ch&&(!document.documentMode||9<document.documentMode)}function ug(){Ki&&(Ki.detachEvent("onpropertychange",cg),Uo=Ki=null)}function cg(t){if(t.propertyName==="value"&&Su(Uo)){var n=[];Os(n,Uo,t,ma(t)),ou(TT,n)}}function ST(t,n,s){t==="focusin"?(ug(),Ki=n,Uo=s,Ki.attachEvent("onpropertychange",cg)):t==="focusout"&&ug()}function bT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(Uo)}function AT(t,n){if(t==="click")return Su(n)}function wT(t,n){if(t==="input"||t==="change")return Su(n)}function RT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Un=typeof Object.is=="function"?Object.is:RT;function ko(t,n){if(Un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Er.call(n,h)||!Un(t[h],n[h]))return!1}return!0}function hg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fg(t,n){var s=hg(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=hg(s)}}function dg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?dg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function mg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ha(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=ha(t.document)}return n}function Dh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var IT=li&&"documentMode"in document&&11>=document.documentMode,va=null,xh=null,Lo=null,Oh=!1;function gg(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Oh||va==null||va!==ha(o)||(o=va,"selectionStart"in o&&Dh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Lo&&ko(Lo,o)||(Lo=o,o=cc(xh,"onSelect"),0<o.length&&(n=new Cs("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=va)))}function Ms(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Ea={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},Mh={},pg={};li&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Vs(t){if(Mh[t])return Mh[t];if(!Ea[t])return t;var n=Ea[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in pg)return Mh[t]=n[s];return t}var yg=Vs("animationend"),_g=Vs("animationiteration"),vg=Vs("animationstart"),CT=Vs("transitionrun"),NT=Vs("transitionstart"),DT=Vs("transitioncancel"),Eg=Vs("transitionend"),Tg=new Map,Vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vh.push("scrollEnd");function ui(t,n){Tg.set(t,n),_n(n,[t])}var bu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Xn=[],Ta=0,Uh=0;function Au(){for(var t=Ta,n=Uh=Ta=0;n<t;){var s=Xn[n];Xn[n++]=null;var o=Xn[n];Xn[n++]=null;var h=Xn[n];Xn[n++]=null;var f=Xn[n];if(Xn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Sg(s,h,f)}}function wu(t,n,s,o){Xn[Ta++]=t,Xn[Ta++]=n,Xn[Ta++]=s,Xn[Ta++]=o,Uh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function kh(t,n,s,o){return wu(t,n,s,o),Ru(t)}function Us(t,n){return wu(t,null,null,n),Ru(t)}function Sg(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Se(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Ru(t){if(50<sl)throw sl=0,Kf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Sa={};function xT(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,n,s,o){return new xT(t,n,s,o)}function Lh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qi(t,n){var s=t.alternate;return s===null?(s=kn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function bg(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Iu(t,n,s,o,h,f){var y=0;if(o=t,typeof t=="function")Lh(t)&&(y=1);else if(typeof t=="string")y=kS(t,s,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=kn(31,s,n,h),t.elementType=R,t.lanes=f,t;case W:return ks(s.children,h,f,n);case $:y=8,h|=24;break;case oe:return t=kn(12,s,n,h|2),t.elementType=oe,t.lanes=f,t;case Ze:return t=kn(13,s,n,h),t.elementType=Ze,t.lanes=f,t;case be:return t=kn(19,s,n,h),t.elementType=be,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:y=10;break e;case ge:y=9;break e;case Ve:y=11;break e;case N:y=14;break e;case A:y=16,o=null;break e}y=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=kn(y,s,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function ks(t,n,s,o){return t=kn(7,t,o,n),t.lanes=s,t}function Ph(t,n,s){return t=kn(6,t,null,n),t.lanes=s,t}function Ag(t){var n=kn(18,null,null,0);return n.stateNode=t,n}function jh(t,n,s){return n=kn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var wg=new WeakMap;function $n(t,n){if(typeof t=="object"&&t!==null){var s=wg.get(t);return s!==void 0?s:(n={value:t,source:n,stack:ki(n)},wg.set(t,n),n)}return{value:t,source:n,stack:ki(n)}}var ba=[],Aa=0,Cu=null,Po=0,Jn=[],Zn=0,jr=null,Ai=1,wi="";function Yi(t,n){ba[Aa++]=Po,ba[Aa++]=Cu,Cu=t,Po=n}function Rg(t,n,s){Jn[Zn++]=Ai,Jn[Zn++]=wi,Jn[Zn++]=jr,jr=t;var o=Ai;t=wi;var h=32-Se(o)-1;o&=~(1<<h),s+=1;var f=32-Se(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Ai=1<<32-Se(n)+h|s<<h|o,wi=f+t}else Ai=1<<f|s<<h|o,wi=t}function zh(t){t.return!==null&&(Yi(t,1),Rg(t,1,0))}function Bh(t){for(;t===Cu;)Cu=ba[--Aa],ba[Aa]=null,Po=ba[--Aa],ba[Aa]=null;for(;t===jr;)jr=Jn[--Zn],Jn[Zn]=null,wi=Jn[--Zn],Jn[Zn]=null,Ai=Jn[--Zn],Jn[Zn]=null}function Ig(t,n){Jn[Zn++]=Ai,Jn[Zn++]=wi,Jn[Zn++]=jr,Ai=n.id,wi=n.overflow,jr=t}var tn=null,mt=null,Ye=!1,zr=null,Wn=!1,qh=Error(a(519));function Br(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jo($n(n,t)),qh}function Cg(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[At]=t,n[en]=o,s){case"dialog":Fe("cancel",n),Fe("close",n);break;case"iframe":case"object":case"embed":Fe("load",n);break;case"video":case"audio":for(s=0;s<ol.length;s++)Fe(ol[s],n);break;case"source":Fe("error",n);break;case"img":case"image":case"link":Fe("error",n),Fe("load",n);break;case"details":Fe("toggle",n);break;case"input":Fe("invalid",n),ws(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Fe("invalid",n);break;case"textarea":Fe("invalid",n),Dr(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Gy(n.textContent,s)?(o.popover!=null&&(Fe("beforetoggle",n),Fe("toggle",n)),o.onScroll!=null&&Fe("scroll",n),o.onScrollEnd!=null&&Fe("scrollend",n),o.onClick!=null&&(n.onclick=Yt),n=!0):n=!1,n||Br(t,!0)}function Ng(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:tn=tn.return}}function wa(t){if(t!==tn)return!1;if(!Ye)return Ng(t),Ye=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||od(t.type,t.memoizedProps)),s=!s),s&&mt&&Br(t),Ng(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));mt=e_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));mt=e_(t)}else n===27?(n=mt,ts(t.type)?(t=fd,fd=null,mt=t):mt=n):mt=tn?ti(t.stateNode.nextSibling):null;return!0}function Ls(){mt=tn=null,Ye=!1}function Hh(){var t=zr;return t!==null&&(Nn===null?Nn=t:Nn.push.apply(Nn,t),zr=null),t}function jo(t){zr===null?zr=[t]:zr.push(t)}var Fh=M(null),Ps=null,Xi=null;function qr(t,n,s){ee(Fh,n._currentValue),n._currentValue=s}function $i(t){t._currentValue=Fh.current,K(Fh)}function Gh(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function Kh(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Gh(f.return,s,t),o||(y=null);break e}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),Gh(y,s,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Ra(t,n,s,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=h.type;Un(h.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(h===xe.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(fl):t=[fl])}h=h.return}t!==null&&Kh(n,t,s,o),n.flags|=262144}function Nu(t){for(t=t.firstContext;t!==null;){if(!Un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function js(t){Ps=t,Xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return Dg(Ps,t)}function Du(t,n){return Ps===null&&js(t),Dg(t,n)}function Dg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Xi===null){if(t===null)throw Error(a(308));Xi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Xi=Xi.next=n;return s}var OT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},MT=r.unstable_scheduleCallback,VT=r.unstable_NormalPriority,kt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qh(){return{controller:new OT,data:new Map,refCount:0}}function zo(t){t.refCount--,t.refCount===0&&MT(VT,function(){t.controller.abort()})}var Bo=null,Yh=0,Ia=0,Ca=null;function UT(t,n){if(Bo===null){var s=Bo=[];Yh=0,Ia=Zf(),Ca={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Yh++,n.then(xg,xg),n}function xg(){if(--Yh===0&&Bo!==null){Ca!==null&&(Ca.status="fulfilled");var t=Bo;Bo=null,Ia=0,Ca=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function kT(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Og=F.S;F.S=function(t,n){gy=St(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&UT(t,n),Og!==null&&Og(t,n)};var zs=M(null);function Xh(){var t=zs.current;return t!==null?t:ft.pooledCache}function xu(t,n){n===null?ee(zs,zs.current):ee(zs,n.pool)}function Mg(){var t=Xh();return t===null?null:{parent:kt._currentValue,pool:t}}var Na=Error(a(460)),$h=Error(a(474)),Ou=Error(a(542)),Mu={then:function(){}};function Vg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ug(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Yt,Yt),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Lg(t),t;default:if(typeof n.status=="string")n.then(Yt,Yt);else{if(t=ft,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Lg(t),t}throw qs=n,Na}}function Bs(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(qs=s,Na):s}}var qs=null;function kg(){if(qs===null)throw Error(a(459));var t=qs;return qs=null,t}function Lg(t){if(t===Na||t===Ou)throw Error(a(483))}var Da=null,qo=0;function Vu(t){var n=qo;return qo+=1,Da===null&&(Da=[]),Ug(Da,t,n)}function Ho(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Uu(t,n){throw n.$$typeof===O?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Pg(t){function n(k,V){if(t){var j=k.deletions;j===null?(k.deletions=[V],k.flags|=16):j.push(V)}}function s(k,V){if(!t)return null;for(;V!==null;)n(k,V),V=V.sibling;return null}function o(k){for(var V=new Map;k!==null;)k.key!==null?V.set(k.key,k):V.set(k.index,k),k=k.sibling;return V}function h(k,V){return k=Qi(k,V),k.index=0,k.sibling=null,k}function f(k,V,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<V?(k.flags|=67108866,V):j):(k.flags|=67108866,V)):(k.flags|=1048576,V)}function y(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,V,j,Y){return V===null||V.tag!==6?(V=Ph(j,k.mode,Y),V.return=k,V):(V=h(V,j),V.return=k,V)}function C(k,V,j,Y){var me=j.type;return me===W?G(k,V,j.props.children,Y,j.key):V!==null&&(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Bs(me)===V.type)?(V=h(V,j.props),Ho(V,j),V.return=k,V):(V=Iu(j.type,j.key,j.props,null,k.mode,Y),Ho(V,j),V.return=k,V)}function z(k,V,j,Y){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=jh(j,k.mode,Y),V.return=k,V):(V=h(V,j.children||[]),V.return=k,V)}function G(k,V,j,Y,me){return V===null||V.tag!==7?(V=ks(j,k.mode,Y,me),V.return=k,V):(V=h(V,j),V.return=k,V)}function X(k,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Ph(""+V,k.mode,j),V.return=k,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case P:return j=Iu(V.type,V.key,V.props,null,k.mode,j),Ho(j,V),j.return=k,j;case Q:return V=jh(V,k.mode,j),V.return=k,V;case A:return V=Bs(V),X(k,V,j)}if(vt(V)||U(V))return V=ks(V,k.mode,j,null),V.return=k,V;if(typeof V.then=="function")return X(k,Vu(V),j);if(V.$$typeof===se)return X(k,Du(k,V),j);Uu(k,V)}return null}function B(k,V,j,Y){var me=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return me!==null?null:E(k,V,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case P:return j.key===me?C(k,V,j,Y):null;case Q:return j.key===me?z(k,V,j,Y):null;case A:return j=Bs(j),B(k,V,j,Y)}if(vt(j)||U(j))return me!==null?null:G(k,V,j,Y,null);if(typeof j.then=="function")return B(k,V,Vu(j),Y);if(j.$$typeof===se)return B(k,V,Du(k,j),Y);Uu(k,j)}return null}function q(k,V,j,Y,me){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(j)||null,E(V,k,""+Y,me);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case P:return k=k.get(Y.key===null?j:Y.key)||null,C(V,k,Y,me);case Q:return k=k.get(Y.key===null?j:Y.key)||null,z(V,k,Y,me);case A:return Y=Bs(Y),q(k,V,j,Y,me)}if(vt(Y)||U(Y))return k=k.get(j)||null,G(V,k,Y,me,null);if(typeof Y.then=="function")return q(k,V,j,Vu(Y),me);if(Y.$$typeof===se)return q(k,V,j,Du(V,Y),me);Uu(V,Y)}return null}function le(k,V,j,Y){for(var me=null,et=null,he=V,Le=V=0,Ke=null;he!==null&&Le<j.length;Le++){he.index>Le?(Ke=he,he=null):Ke=he.sibling;var tt=B(k,he,j[Le],Y);if(tt===null){he===null&&(he=Ke);break}t&&he&&tt.alternate===null&&n(k,he),V=f(tt,V,Le),et===null?me=tt:et.sibling=tt,et=tt,he=Ke}if(Le===j.length)return s(k,he),Ye&&Yi(k,Le),me;if(he===null){for(;Le<j.length;Le++)he=X(k,j[Le],Y),he!==null&&(V=f(he,V,Le),et===null?me=he:et.sibling=he,et=he);return Ye&&Yi(k,Le),me}for(he=o(he);Le<j.length;Le++)Ke=q(he,k,Le,j[Le],Y),Ke!==null&&(t&&Ke.alternate!==null&&he.delete(Ke.key===null?Le:Ke.key),V=f(Ke,V,Le),et===null?me=Ke:et.sibling=Ke,et=Ke);return t&&he.forEach(function(as){return n(k,as)}),Ye&&Yi(k,Le),me}function ve(k,V,j,Y){if(j==null)throw Error(a(151));for(var me=null,et=null,he=V,Le=V=0,Ke=null,tt=j.next();he!==null&&!tt.done;Le++,tt=j.next()){he.index>Le?(Ke=he,he=null):Ke=he.sibling;var as=B(k,he,tt.value,Y);if(as===null){he===null&&(he=Ke);break}t&&he&&as.alternate===null&&n(k,he),V=f(as,V,Le),et===null?me=as:et.sibling=as,et=as,he=Ke}if(tt.done)return s(k,he),Ye&&Yi(k,Le),me;if(he===null){for(;!tt.done;Le++,tt=j.next())tt=X(k,tt.value,Y),tt!==null&&(V=f(tt,V,Le),et===null?me=tt:et.sibling=tt,et=tt);return Ye&&Yi(k,Le),me}for(he=o(he);!tt.done;Le++,tt=j.next())tt=q(he,k,Le,tt.value,Y),tt!==null&&(t&&tt.alternate!==null&&he.delete(tt.key===null?Le:tt.key),V=f(tt,V,Le),et===null?me=tt:et.sibling=tt,et=tt);return t&&he.forEach(function(QS){return n(k,QS)}),Ye&&Yi(k,Le),me}function ht(k,V,j,Y){if(typeof j=="object"&&j!==null&&j.type===W&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case P:e:{for(var me=j.key;V!==null;){if(V.key===me){if(me=j.type,me===W){if(V.tag===7){s(k,V.sibling),Y=h(V,j.props.children),Y.return=k,k=Y;break e}}else if(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Bs(me)===V.type){s(k,V.sibling),Y=h(V,j.props),Ho(Y,j),Y.return=k,k=Y;break e}s(k,V);break}else n(k,V);V=V.sibling}j.type===W?(Y=ks(j.props.children,k.mode,Y,j.key),Y.return=k,k=Y):(Y=Iu(j.type,j.key,j.props,null,k.mode,Y),Ho(Y,j),Y.return=k,k=Y)}return y(k);case Q:e:{for(me=j.key;V!==null;){if(V.key===me)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){s(k,V.sibling),Y=h(V,j.children||[]),Y.return=k,k=Y;break e}else{s(k,V);break}else n(k,V);V=V.sibling}Y=jh(j,k.mode,Y),Y.return=k,k=Y}return y(k);case A:return j=Bs(j),ht(k,V,j,Y)}if(vt(j))return le(k,V,j,Y);if(U(j)){if(me=U(j),typeof me!="function")throw Error(a(150));return j=me.call(j),ve(k,V,j,Y)}if(typeof j.then=="function")return ht(k,V,Vu(j),Y);if(j.$$typeof===se)return ht(k,V,Du(k,j),Y);Uu(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(s(k,V.sibling),Y=h(V,j),Y.return=k,k=Y):(s(k,V),Y=Ph(j,k.mode,Y),Y.return=k,k=Y),y(k)):s(k,V)}return function(k,V,j,Y){try{qo=0;var me=ht(k,V,j,Y);return Da=null,me}catch(he){if(he===Na||he===Ou)throw he;var et=kn(29,he,null,k.mode);return et.lanes=Y,et.return=k,et}finally{}}}var Hs=Pg(!0),jg=Pg(!1),Hr=!1;function Jh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gr(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(it&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(t),Sg(t,null,s),n}return wu(t,o,n,s),Ru(t)}function Fo(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,br(t,s)}}function Wh(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var ef=!1;function Go(){if(ef){var t=Ca;if(t!==null)throw t}}function Ko(t,n,s,o){ef=!1;var h=t.updateQueue;Hr=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,y===null?f=z:y.next=z,y=C;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;y=0,G=z=C=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Ge&B)===B:(o&B)===B){B!==0&&B===Ia&&(ef=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,ve=E;B=n;var ht=s;switch(ve.tag){case 1:if(le=ve.payload,typeof le=="function"){X=le.call(ht,X,B);break e}X=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ve.payload,B=typeof le=="function"?le.call(ht,X,B):le,B==null)break e;X=b({},X,B);break e;case 2:Hr=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,C=X):G=G.next=q,y|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(C=X),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),$r|=y,t.lanes=y,t.memoizedState=X}}function zg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Bg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)zg(s[t],n)}var xa=M(null),ku=M(0);function qg(t,n){t=sr,ee(ku,t),ee(xa,n),sr=t|n.baseLanes}function tf(){ee(ku,sr),ee(xa,xa.current)}function nf(){sr=ku.current,K(xa),K(ku)}var Ln=M(null),ei=null;function Kr(t){var n=t.alternate;ee(Nt,Nt.current&1),ee(Ln,t),ei===null&&(n===null||xa.current!==null||n.memoizedState!==null)&&(ei=t)}function rf(t){ee(Nt,Nt.current),ee(Ln,t),ei===null&&(ei=t)}function Hg(t){t.tag===22?(ee(Nt,Nt.current),ee(Ln,t),ei===null&&(ei=t)):Qr()}function Qr(){ee(Nt,Nt.current),ee(Ln,Ln.current)}function Pn(t){K(Ln),ei===t&&(ei=null),K(Nt)}var Nt=M(0);function Lu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||cd(s)||hd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ji=0,Me=null,ut=null,Lt=null,Pu=!1,Oa=!1,Fs=!1,ju=0,Qo=0,Ma=null,LT=0;function Rt(){throw Error(a(321))}function sf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Un(t[s],n[s]))return!1;return!0}function af(t,n,s,o,h,f){return Ji=f,Me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Rp:Tf,Fs=!1,f=s(o,h),Fs=!1,Oa&&(f=Gg(n,s,o,h)),Fg(t),f}function Fg(t){F.H=$o;var n=ut!==null&&ut.next!==null;if(Ji=0,Lt=ut=Me=null,Pu=!1,Qo=0,Ma=null,n)throw Error(a(300));t===null||Pt||(t=t.dependencies,t!==null&&Nu(t)&&(Pt=!0))}function Gg(t,n,s,o){Me=t;var h=0;do{if(Oa&&(Ma=null),Qo=0,Oa=!1,25<=h)throw Error(a(301));if(h+=1,Lt=ut=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Ip,f=n(s,o)}while(Oa);return f}function PT(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?Yo(n):n,t=t.useState()[0],(ut!==null?ut.memoizedState:null)!==t&&(Me.flags|=1024),n}function of(){var t=ju!==0;return ju=0,t}function lf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function uf(t){if(Pu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Pu=!1}Ji=0,Lt=ut=Me=null,Oa=!1,Qo=ju=0,Ma=null}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Me.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function Dt(){if(ut===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var n=Lt===null?Me.memoizedState:Lt.next;if(n!==null)Lt=n,ut=t;else{if(t===null)throw Me.alternate===null?Error(a(467)):Error(a(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Lt===null?Me.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(t){var n=Qo;return Qo+=1,Ma===null&&(Ma=[]),t=Ug(Ma,t,n),n=Me,(Lt===null?n.memoizedState:Lt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Rp:Tf),t}function Bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Yo(t);if(t.$$typeof===se)return nn(t)}throw Error(a(438,String(t)))}function cf(t){var n=null,s=Me.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Me.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=zu(),Me.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=x;return n.index++,s}function Zi(t,n){return typeof n=="function"?n(t):n}function qu(t){var n=Dt();return hf(n,ut,t)}function hf(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=y=null,C=null,z=n,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Ge&X)===X:(Ji&X)===X){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ia&&(G=!0);else if((Ji&B)===B){z=z.next,B===Ia&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=X,y=f):C=C.next=X,Me.lanes|=B,$r|=B;X=z.action,Fs&&s(f,X),f=z.hasEagerState?z.eagerState:s(f,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=B,y=f):C=C.next=B,Me.lanes|=X,$r|=X;z=z.next}while(z!==null&&z!==n);if(C===null?y=f:C.next=E,!Un(f,t.memoizedState)&&(Pt=!0,G&&(s=Ca,s!==null)))throw s;t.memoizedState=f,t.baseState=y,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function ff(t){var n=Dt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);Un(f,n.memoizedState)||(Pt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Kg(t,n,s){var o=Me,h=Dt(),f=Ye;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var y=!Un((ut||h).memoizedState,s);if(y&&(h.memoizedState=s,Pt=!0),h=h.queue,gf(Xg.bind(null,o,h,t),[t]),h.getSnapshot!==n||y||Lt!==null&&Lt.memoizedState.tag&1){if(o.flags|=2048,Va(9,{destroy:void 0},Yg.bind(null,o,h,s,n),null),ft===null)throw Error(a(349));f||(Ji&127)!==0||Qg(o,n,s)}return s}function Qg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Me.updateQueue,n===null?(n=zu(),Me.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Yg(t,n,s,o){n.value=s,n.getSnapshot=o,$g(n)&&Jg(t)}function Xg(t,n,s){return s(function(){$g(n)&&Jg(t)})}function $g(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Un(t,s)}catch{return!0}}function Jg(t){var n=Us(t,2);n!==null&&Dn(n,t,2)}function df(t){var n=Sn();if(typeof t=="function"){var s=t;if(t=s(),Fs){Vt(!0);try{s()}finally{Vt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},n}function Zg(t,n,s,o){return t.baseState=s,hf(t,ut,typeof o=="function"?o:Zi)}function jT(t,n,s,o,h){if(Gu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Wg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Wg(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=F.T,y={};F.T=y;try{var E=s(h,o),C=F.S;C!==null&&C(y,E),ep(t,n,E)}catch(z){mf(t,n,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),F.T=f}}else try{f=s(h,o),ep(t,n,f)}catch(z){mf(t,n,z)}}function ep(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){tp(t,n,o)},function(o){return mf(t,n,o)}):tp(t,n,s)}function tp(t,n,s){n.status="fulfilled",n.value=s,np(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Wg(t,s)))}function mf(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,np(n),n=n.next;while(n!==o)}t.action=null}function np(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ip(t,n){return n}function rp(t,n){if(Ye){var s=ft.formState;if(s!==null){e:{var o=Me;if(Ye){if(mt){t:{for(var h=mt,f=Wn;h.nodeType!==8;){if(!f){h=null;break t}if(h=ti(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){mt=ti(h.nextSibling),o=h.data==="F!";break e}}Br(o)}o=!1}o&&(n=s[0])}}return s=Sn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ip,lastRenderedState:n},s.queue=o,s=bp.bind(null,Me,o),o.dispatch=s,o=df(!1),f=Ef.bind(null,Me,!1,o.queue),o=Sn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=jT.bind(null,Me,h,f,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function sp(t){var n=Dt();return ap(n,ut,t)}function ap(t,n,s){if(n=hf(t,n,ip)[0],t=qu(Zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Yo(n)}catch(y){throw y===Na?Ou:y}else o=n;n=Dt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Me.flags|=2048,Va(9,{destroy:void 0},zT.bind(null,h,s),null)),[o,f,t]}function zT(t,n){t.action=n}function op(t){var n=Dt(),s=ut;if(s!==null)return ap(n,s,t);Dt(),n=n.memoizedState,s=Dt();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function Va(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Me.updateQueue,n===null&&(n=zu(),Me.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function lp(){return Dt().memoizedState}function Hu(t,n,s,o){var h=Sn();Me.flags|=t,h.memoizedState=Va(1|n,{destroy:void 0},s,o===void 0?null:o)}function Fu(t,n,s,o){var h=Dt();o=o===void 0?null:o;var f=h.memoizedState.inst;ut!==null&&o!==null&&sf(o,ut.memoizedState.deps)?h.memoizedState=Va(n,f,s,o):(Me.flags|=t,h.memoizedState=Va(1|n,f,s,o))}function up(t,n){Hu(8390656,8,t,n)}function gf(t,n){Fu(2048,8,t,n)}function BT(t){Me.flags|=4;var n=Me.updateQueue;if(n===null)n=zu(),Me.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function cp(t){var n=Dt().memoizedState;return BT({ref:n,nextImpl:t}),function(){if((it&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function hp(t,n){return Fu(4,2,t,n)}function fp(t,n){return Fu(4,4,t,n)}function dp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function mp(t,n,s){s=s!=null?s.concat([t]):null,Fu(4,4,dp.bind(null,n,t),s)}function pf(){}function gp(t,n){var s=Dt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&sf(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function pp(t,n){var s=Dt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&sf(n,o[1]))return o[0];if(o=t(),Fs){Vt(!0);try{t()}finally{Vt(!1)}}return s.memoizedState=[o,n],o}function yf(t,n,s){return s===void 0||(Ji&1073741824)!==0&&(Ge&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=yy(),Me.lanes|=t,$r|=t,s)}function yp(t,n,s,o){return Un(s,n)?s:xa.current!==null?(t=yf(t,s,o),Un(t,n)||(Pt=!0),t):(Ji&42)===0||(Ji&1073741824)!==0&&(Ge&261930)===0?(Pt=!0,t.memoizedState=s):(t=yy(),Me.lanes|=t,$r|=t,n)}function _p(t,n,s,o,h){var f=Z.p;Z.p=f!==0&&8>f?f:8;var y=F.T,E={};F.T=E,Ef(t,!1,n,s);try{var C=h(),z=F.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=kT(C,o);Xo(t,n,G,Bn(t))}else Xo(t,n,o,Bn(t))}catch(X){Xo(t,n,{then:function(){},status:"rejected",reason:X},Bn())}finally{Z.p=f,y!==null&&E.types!==null&&(y.types=E.types),F.T=y}}function qT(){}function _f(t,n,s,o){if(t.tag!==5)throw Error(a(476));var h=vp(t).queue;_p(t,h,n,fe,s===null?qT:function(){return Ep(t),s(o)})}function vp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:fe},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ep(t){var n=vp(t);n.next===null&&(n=t.alternate.memoizedState),Xo(t,n.next.queue,{},Bn())}function vf(){return nn(fl)}function Tp(){return Dt().memoizedState}function Sp(){return Dt().memoizedState}function HT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Bn();t=Fr(s);var o=Gr(n,t,s);o!==null&&(Dn(o,n,s),Fo(o,n,s)),n={cache:Qh()},t.payload=n;return}n=n.return}}function FT(t,n,s){var o=Bn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Gu(t)?Ap(n,s):(s=kh(t,n,s,o),s!==null&&(Dn(s,t,o),wp(s,n,o)))}function bp(t,n,s){var o=Bn();Xo(t,n,s,o)}function Xo(t,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gu(t))Ap(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,s);if(h.hasEagerState=!0,h.eagerState=E,Un(E,y))return wu(t,n,h,0),ft===null&&Au(),!1}catch{}finally{}if(s=kh(t,n,h,o),s!==null)return Dn(s,t,o),wp(s,n,o),!0}return!1}function Ef(t,n,s,o){if(o={lane:2,revertLane:Zf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(t)){if(n)throw Error(a(479))}else n=kh(t,s,o,2),n!==null&&Dn(n,t,2)}function Gu(t){var n=t.alternate;return t===Me||n!==null&&n===Me}function Ap(t,n){Oa=Pu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function wp(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,br(t,s)}}var $o={readContext:nn,use:Bu,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};$o.useEffectEvent=Rt;var Rp={readContext:nn,use:Bu,useCallback:function(t,n){return Sn().memoizedState=[t,n===void 0?null:n],t},useContext:nn,useEffect:up,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Hu(4194308,4,dp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Hu(4194308,4,t,n)},useInsertionEffect:function(t,n){Hu(4,2,t,n)},useMemo:function(t,n){var s=Sn();n=n===void 0?null:n;var o=t();if(Fs){Vt(!0);try{t()}finally{Vt(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=Sn();if(s!==void 0){var h=s(n);if(Fs){Vt(!0);try{s(n)}finally{Vt(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=FT.bind(null,Me,t),[o.memoizedState,t]},useRef:function(t){var n=Sn();return t={current:t},n.memoizedState=t},useState:function(t){t=df(t);var n=t.queue,s=bp.bind(null,Me,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:pf,useDeferredValue:function(t,n){var s=Sn();return yf(s,t,n)},useTransition:function(){var t=df(!1);return t=_p.bind(null,Me,t.queue,!0,!1),Sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Me,h=Sn();if(Ye){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ft===null)throw Error(a(349));(Ge&127)!==0||Qg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,up(Xg.bind(null,o,f,t),[t]),o.flags|=2048,Va(9,{destroy:void 0},Yg.bind(null,o,f,s,n),null),s},useId:function(){var t=Sn(),n=ft.identifierPrefix;if(Ye){var s=wi,o=Ai;s=(o&~(1<<32-Se(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=ju++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=LT++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:vf,useFormState:rp,useActionState:rp,useOptimistic:function(t){var n=Sn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Ef.bind(null,Me,!0,s),s.dispatch=n,[t,n]},useMemoCache:cf,useCacheRefresh:function(){return Sn().memoizedState=HT.bind(null,Me)},useEffectEvent:function(t){var n=Sn(),s={impl:t};return n.memoizedState=s,function(){if((it&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Tf={readContext:nn,use:Bu,useCallback:gp,useContext:nn,useEffect:gf,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:pp,useReducer:qu,useRef:lp,useState:function(){return qu(Zi)},useDebugValue:pf,useDeferredValue:function(t,n){var s=Dt();return yp(s,ut.memoizedState,t,n)},useTransition:function(){var t=qu(Zi)[0],n=Dt().memoizedState;return[typeof t=="boolean"?t:Yo(t),n]},useSyncExternalStore:Kg,useId:Tp,useHostTransitionStatus:vf,useFormState:sp,useActionState:sp,useOptimistic:function(t,n){var s=Dt();return Zg(s,ut,t,n)},useMemoCache:cf,useCacheRefresh:Sp};Tf.useEffectEvent=cp;var Ip={readContext:nn,use:Bu,useCallback:gp,useContext:nn,useEffect:gf,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:pp,useReducer:ff,useRef:lp,useState:function(){return ff(Zi)},useDebugValue:pf,useDeferredValue:function(t,n){var s=Dt();return ut===null?yf(s,t,n):yp(s,ut.memoizedState,t,n)},useTransition:function(){var t=ff(Zi)[0],n=Dt().memoizedState;return[typeof t=="boolean"?t:Yo(t),n]},useSyncExternalStore:Kg,useId:Tp,useHostTransitionStatus:vf,useFormState:op,useActionState:op,useOptimistic:function(t,n){var s=Dt();return ut!==null?Zg(s,ut,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:cf,useCacheRefresh:Sp};Ip.useEffectEvent=cp;function Sf(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var bf={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=Bn(),h=Fr(o);h.payload=n,s!=null&&(h.callback=s),n=Gr(t,h,o),n!==null&&(Dn(n,t,o),Fo(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=Bn(),h=Fr(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Gr(t,h,o),n!==null&&(Dn(n,t,o),Fo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Bn(),o=Fr(s);o.tag=2,n!=null&&(o.callback=n),n=Gr(t,o,s),n!==null&&(Dn(n,t,s),Fo(n,t,s))}};function Cp(t,n,s,o,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!ko(s,o)||!ko(h,f):!0}function Np(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&bf.enqueueReplaceState(n,n.state,null)}function Gs(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=b({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Dp(t){bu(t)}function xp(t){console.error(t)}function Op(t){bu(t)}function Ku(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Mp(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Af(t,n,s){return s=Fr(s),s.tag=3,s.payload={element:null},s.callback=function(){Ku(t,n)},s}function Vp(t){return t=Fr(t),t.tag=3,t}function Up(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Mp(n,s,o)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Mp(n,s,o),typeof h!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function GT(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ra(n,s,h,!0),s=Ln.current,s!==null){switch(s.tag){case 31:case 13:return ei===null?rc():s.alternate===null&&It===0&&(It=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Mu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Xf(t,o,h)),!1;case 22:return s.flags|=65536,o===Mu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Xf(t,o,h)),!1}throw Error(a(435,s.tag))}return Xf(t,o,h),rc(),!1}if(Ye)return n=Ln.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==qh&&(t=Error(a(422),{cause:o}),jo($n(t,s)))):(o!==qh&&(n=Error(a(423),{cause:o}),jo($n(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=$n(o,s),h=Af(t.stateNode,o,h),Wh(t,h),It!==4&&(It=2)),!1;var f=Error(a(520),{cause:o});if(f=$n(f,s),rl===null?rl=[f]:rl.push(f),It!==4&&(It=2),n===null)return!0;o=$n(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Af(s.stateNode,o,t),Wh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Jr===null||!Jr.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Vp(h),Up(h,t,s,o),Wh(s,h),!1}s=s.return}while(s!==null);return!1}var wf=Error(a(461)),Pt=!1;function rn(t,n,s,o){n.child=t===null?jg(n,null,s,o):Hs(n,t.child,s,o)}function kp(t,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return js(n),o=af(t,n,s,y,f,h),E=of(),t!==null&&!Pt?(lf(t,n,h),Wi(t,n,h)):(Ye&&E&&zh(n),n.flags|=1,rn(t,n,o,h),n.child)}function Lp(t,n,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!Lh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Pp(t,n,f,o,h)):(t=Iu(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Mf(t,h)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:ko,s(y,o)&&t.ref===n.ref)return Wi(t,n,h)}return n.flags|=1,t=Qi(f,o),t.ref=n.ref,t.return=n,n.child=t}function Pp(t,n,s,o,h){if(t!==null){var f=t.memoizedProps;if(ko(f,o)&&t.ref===n.ref)if(Pt=!1,n.pendingProps=o=f,Mf(t,h))(t.flags&131072)!==0&&(Pt=!0);else return n.lanes=t.lanes,Wi(t,n,h)}return Rf(t,n,s,o,h)}function jp(t,n,s,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return zp(t,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&xu(n,f!==null?f.cachePool:null),f!==null?qg(n,f):tf(),Hg(n);else return o=n.lanes=536870912,zp(t,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(xu(n,f.cachePool),qg(n,f),Qr(),n.memoizedState=null):(t!==null&&xu(n,null),tf(),Qr());return rn(t,n,h,s),n.child}function Jo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function zp(t,n,s,o,h){var f=Xh();return f=f===null?null:{parent:kt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&xu(n,null),tf(),Hg(n),t!==null&&Ra(t,n,o,!0),n.childLanes=h,null}function Qu(t,n){return n=Xu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Bp(t,n,s){return Hs(n,t.child,null,s),t=Qu(n,n.pendingProps),t.flags|=2,Pn(n),n.memoizedState=null,t}function KT(t,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ye){if(o.mode==="hidden")return t=Qu(n,o),n.lanes=536870912,Jo(null,t);if(rf(n),(t=mt)?(t=Wy(t,Wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:jr!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},s=Ag(t),s.return=n,n.child=s,tn=n,mt=null)):t=null,t===null)throw Br(n);return n.lanes=536870912,null}return Qu(n,o)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(rf(n),h)if(n.flags&256)n.flags&=-257,n=Bp(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Pt||Ra(t,n,s,!1),h=(s&t.childLanes)!==0,Pt||h){if(o=ft,o!==null&&(y=Ar(o,s),y!==0&&y!==f.retryLane))throw f.retryLane=y,Us(t,y),Dn(o,t,y),wf;rc(),n=Bp(t,n,s)}else t=f.treeContext,mt=ti(y.nextSibling),tn=n,Ye=!0,zr=null,Wn=!1,t!==null&&Ig(n,t),n=Qu(n,o),n.flags|=4096;return n}return t=Qi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Yu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Rf(t,n,s,o,h){return js(n),s=af(t,n,s,o,void 0,h),o=of(),t!==null&&!Pt?(lf(t,n,h),Wi(t,n,h)):(Ye&&o&&zh(n),n.flags|=1,rn(t,n,s,h),n.child)}function qp(t,n,s,o,h,f){return js(n),n.updateQueue=null,s=Gg(n,o,s,h),Fg(t),o=of(),t!==null&&!Pt?(lf(t,n,f),Wi(t,n,f)):(Ye&&o&&zh(n),n.flags|=1,rn(t,n,s,f),n.child)}function Hp(t,n,s,o,h){if(js(n),n.stateNode===null){var f=Sa,y=s.contextType;typeof y=="object"&&y!==null&&(f=nn(y)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Jh(n),y=s.contextType,f.context=typeof y=="object"&&y!==null?nn(y):Sa,f.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Sf(n,s,y,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&bf.enqueueReplaceState(f,f.state,null),Ko(n,o,f,h),Go(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Gs(s,E);f.props=C;var z=f.context,G=s.contextType;y=Sa,typeof G=="object"&&G!==null&&(y=nn(G));var X=s.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&Np(n,f,o,y),Hr=!1;var B=n.memoizedState;f.state=B,Ko(n,o,f,h),Go(),z=n.memoizedState,E||B!==z||Hr?(typeof X=="function"&&(Sf(n,s,X,o),z=n.memoizedState),(C=Hr||Cp(n,s,C,o,B,z,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=y,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Zh(t,n),y=n.memoizedProps,G=Gs(s,y),f.props=G,X=n.pendingProps,B=f.context,z=s.contextType,C=Sa,typeof z=="object"&&z!==null&&(C=nn(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||B!==C)&&Np(n,f,o,C),Hr=!1,B=n.memoizedState,f.state=B,Ko(n,o,f,h),Go();var q=n.memoizedState;y!==X||B!==q||Hr||t!==null&&t.dependencies!==null&&Nu(t.dependencies)?(typeof E=="function"&&(Sf(n,s,E,o),q=n.memoizedState),(G=Hr||Cp(n,s,G,o,B,q,C)||t!==null&&t.dependencies!==null&&Nu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Yu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Hs(n,t.child,null,h),n.child=Hs(n,null,s,h)):rn(t,n,s,h),n.memoizedState=f.state,t=n.child):t=Wi(t,n,h),t}function Fp(t,n,s,o){return Ls(),n.flags|=256,rn(t,n,s,o),n.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cf(t){return{baseLanes:t,cachePool:Mg()}}function Nf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=zn),t}function Gp(t,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ye){if(h?Kr(n):Qr(),(t=mt)?(t=Wy(t,Wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:jr!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},s=Ag(t),s.return=n,n.child=s,tn=n,mt=null)):t=null,t===null)throw Br(n);return hd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Qr(),h=n.mode,E=Xu({mode:"hidden",children:E},h),o=ks(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Cf(s),o.childLanes=Nf(t,y,s),n.memoizedState=If,Jo(null,o)):(Kr(n),Df(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Kr(n),n.flags&=-257,n=xf(t,n,s)):n.memoizedState!==null?(Qr(),n.child=t.child,n.flags|=128,n=null):(Qr(),E=o.fallback,h=n.mode,o=Xu({mode:"visible",children:o.children},h),E=ks(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Hs(n,t.child,null,s),o=n.child,o.memoizedState=Cf(s),o.childLanes=Nf(t,y,s),n.memoizedState=If,n=Jo(null,o));else if(Kr(n),hd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,o=Error(a(419)),o.stack="",o.digest=y,jo({value:o,source:null,stack:null}),n=xf(t,n,s)}else if(Pt||Ra(t,n,s,!1),y=(s&t.childLanes)!==0,Pt||y){if(y=ft,y!==null&&(o=Ar(y,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Us(t,o),Dn(y,t,o),wf;cd(E)||rc(),n=xf(t,n,s)}else cd(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,mt=ti(E.nextSibling),tn=n,Ye=!0,zr=null,Wn=!1,t!==null&&Ig(n,t),n=Df(n,o.children),n.flags|=4096);return n}return h?(Qr(),E=o.fallback,h=n.mode,C=t.child,z=C.sibling,o=Qi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=Qi(z,E):(E=ks(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Jo(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Cf(s):(h=E.cachePool,h!==null?(C=kt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Mg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Nf(t,y,s),n.memoizedState=If,Jo(t.child,o)):(Kr(n),s=t.child,t=s.sibling,s=Qi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=s,n.memoizedState=null,s)}function Df(t,n){return n=Xu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Xu(t,n){return t=kn(22,t,null,n),t.lanes=0,t}function xf(t,n,s){return Hs(n,t.child,null,s),t=Df(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Kp(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Gh(t.return,n,s)}function Of(t,n,s,o,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=s,y.tailMode=h,y.treeForkCount=f)}function Qp(t,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=Nt.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,ee(Nt,y),rn(t,n,o,s),o=Ye?Po:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kp(t,s,n);else if(t.tag===19)Kp(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Lu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Of(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Lu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Of(n,!0,s,null,f,o);break;case"together":Of(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Wi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),$r|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Ra(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Qi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Qi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Mf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Nu(t)))}function QT(t,n,s){switch(n.tag){case 3:Mt(n,n.stateNode.containerInfo),qr(n,kt,t.memoizedState.cache),Ls();break;case 27:case 5:pn(n);break;case 4:Mt(n,n.stateNode.containerInfo);break;case 10:qr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,rf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Kr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Gp(t,n,s):(Kr(n),t=Wi(t,n,s),t!==null?t.sibling:null);Kr(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ra(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Qp(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ee(Nt,Nt.current),o)break;return null;case 22:return n.lanes=0,jp(t,n,s,n.pendingProps);case 24:qr(n,kt,t.memoizedState.cache)}return Wi(t,n,s)}function Yp(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Pt=!0;else{if(!Mf(t,s)&&(n.flags&128)===0)return Pt=!1,QT(t,n,s);Pt=(t.flags&131072)!==0}else Pt=!1,Ye&&(n.flags&1048576)!==0&&Rg(n,Po,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Bs(n.elementType),n.type=t,typeof t=="function")Lh(t)?(o=Gs(t,o),n.tag=1,n=Hp(null,n,t,o,s)):(n.tag=0,n=Rf(null,n,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===Ve){n.tag=11,n=kp(null,n,t,o,s);break e}else if(h===N){n.tag=14,n=Lp(null,n,t,o,s);break e}}throw n=lt(t)||t,Error(a(306,n,""))}}return n;case 0:return Rf(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Gs(o,n.pendingProps),Hp(t,n,o,h,s);case 3:e:{if(Mt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Zh(t,n),Ko(n,o,null,s);var y=n.memoizedState;if(o=y.cache,qr(n,kt,o),o!==f.cache&&Kh(n,[kt],s,!0),Go(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Fp(t,n,o,s);break e}else if(o!==h){h=$n(Error(a(424)),n),jo(h),n=Fp(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(mt=ti(t.firstChild),tn=n,Ye=!0,zr=null,Wn=!0,s=jg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ls(),o===h){n=Wi(t,n,s);break e}rn(t,n,o,s)}n=n.child}return n;case 26:return Yu(t,n),t===null?(s=s_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ye||(s=n.type,t=n.pendingProps,o=hc(De.current).createElement(s),o[At]=n,o[en]=t,sn(o,s,t),Ct(o),n.stateNode=o):n.memoizedState=s_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return pn(n),t===null&&Ye&&(o=n.stateNode=n_(n.type,n.pendingProps,De.current),tn=n,Wn=!0,h=mt,ts(n.type)?(fd=h,mt=ti(o.firstChild)):mt=h),rn(t,n,n.pendingProps.children,s),Yu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ye&&((h=o=mt)&&(o=bS(o,n.type,n.pendingProps,Wn),o!==null?(n.stateNode=o,tn=n,mt=ti(o.firstChild),Wn=!1,h=!0):h=!1),h||Br(n)),pn(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,o=f.children,od(h,f)?o=null:y!==null&&od(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=af(t,n,PT,null,null,s),fl._currentValue=h),Yu(t,n),rn(t,n,o,s),n.child;case 6:return t===null&&Ye&&((t=s=mt)&&(s=AS(s,n.pendingProps,Wn),s!==null?(n.stateNode=s,tn=n,mt=null,t=!0):t=!1),t||Br(n)),null;case 13:return Gp(t,n,s);case 4:return Mt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Hs(n,null,o,s):rn(t,n,o,s),n.child;case 11:return kp(t,n,n.type,n.pendingProps,s);case 7:return rn(t,n,n.pendingProps,s),n.child;case 8:return rn(t,n,n.pendingProps.children,s),n.child;case 12:return rn(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,qr(n,n.type,o.value),rn(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,js(n),h=nn(h),o=o(h),n.flags|=1,rn(t,n,o,s),n.child;case 14:return Lp(t,n,n.type,n.pendingProps,s);case 15:return Pp(t,n,n.type,n.pendingProps,s);case 19:return Qp(t,n,s);case 31:return KT(t,n,s);case 22:return jp(t,n,s,n.pendingProps);case 24:return js(n),o=nn(kt),t===null?(h=Xh(),h===null&&(h=ft,f=Qh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Jh(n),qr(n,kt,h)):((t.lanes&s)!==0&&(Zh(t,n),Ko(n,null,null,s),Go()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),qr(n,kt,o)):(o=f.cache,qr(n,kt,o),o!==h.cache&&Kh(n,[kt],s,!0))),rn(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function er(t){t.flags|=4}function Vf(t,n,s,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Ty())t.flags|=8192;else throw qs=Mu,$h}else t.flags&=-16777217}function Xp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!c_(n))if(Ty())t.flags|=8192;else throw qs=Mu,$h}function $u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?qe():536870912,t.lanes|=n,Pa|=n)}function Zo(t,n){if(!Ye)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function gt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function YT(t,n,s){var o=n.pendingProps;switch(Bh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(n),null;case 1:return gt(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),$i(kt),je(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(wa(n)?er(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Hh())),gt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(er(n),f!==null?(gt(n),Xp(n,f)):(gt(n),Vf(n,h,null,o,s))):f?f!==t.memoizedState?(er(n),gt(n),Xp(n,f)):(gt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&er(n),gt(n),Vf(n,h,t,o,s)),null;case 27:if(yn(n),s=De.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&er(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return gt(n),null}t=ae.current,wa(n)?Cg(n):(t=n_(h,o,s),n.stateNode=t,er(n))}return gt(n),null;case 5:if(yn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&er(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return gt(n),null}if(f=ae.current,wa(n))Cg(n);else{var y=hc(De.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[At]=n,f[en]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(sn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&er(n)}}return gt(n),Vf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&er(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=De.current,wa(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=tn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[At]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Gy(t.nodeValue,s)),t||Br(n,!0)}else t=hc(t).createTextNode(o),t[At]=n,n.stateNode=t}return gt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=wa(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[At]=n}else Ls(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),t=!1}else s=Hh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Pn(n),n):(Pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return gt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=wa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[At]=n}else Ls(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),h=!1}else h=Hh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Pn(n),n):(Pn(n),null)}return Pn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),$u(n,n.updateQueue),gt(n),null);case 4:return je(),t===null&&nd(n.stateNode.containerInfo),gt(n),null;case 10:return $i(n.type),gt(n),null;case 19:if(K(Nt),o=n.memoizedState,o===null)return gt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Zo(o,!1);else{if(It!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Lu(t),f!==null){for(n.flags|=128,Zo(o,!1),t=f.updateQueue,n.updateQueue=t,$u(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)bg(s,t),s=s.sibling;return ee(Nt,Nt.current&1|2),Ye&&Yi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&St()>tc&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304)}else{if(!h)if(t=Lu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,$u(n,t),Zo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ye)return gt(n),null}else 2*St()-o.renderingStartTime>tc&&s!==536870912&&(n.flags|=128,h=!0,Zo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=St(),t.sibling=null,s=Nt.current,ee(Nt,h?s&1|2:s&1),Ye&&Yi(n,o.treeForkCount),t):(gt(n),null);case 22:case 23:return Pn(n),nf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(gt(n),n.subtreeFlags&6&&(n.flags|=8192)):gt(n),s=n.updateQueue,s!==null&&$u(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&K(zs),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),$i(kt),gt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function XT(t,n){switch(Bh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return $i(kt),je(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return yn(n),null;case 31:if(n.memoizedState!==null){if(Pn(n),n.alternate===null)throw Error(a(340));Ls()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Pn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ls()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(Nt),null;case 4:return je(),null;case 10:return $i(n.type),null;case 22:case 23:return Pn(n),nf(),t!==null&&K(zs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return $i(kt),null;case 25:return null;default:return null}}function $p(t,n){switch(Bh(n),n.tag){case 3:$i(kt),je();break;case 26:case 27:case 5:yn(n);break;case 4:je();break;case 31:n.memoizedState!==null&&Pn(n);break;case 13:Pn(n);break;case 19:K(Nt);break;case 10:$i(n.type);break;case 22:case 23:Pn(n),nf(),t!==null&&K(zs);break;case 24:$i(kt)}}function Wo(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,y=s.inst;o=f(),y.destroy=o}s=s.next}while(s!==h)}}catch(E){at(n,n.return,E)}}function Yr(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var C=s,z=E;try{z()}catch(G){at(h,C,G)}}}o=o.next}while(o!==f)}}catch(G){at(n,n.return,G)}}function Jp(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Bg(n,s)}catch(o){at(t,t.return,o)}}}function Zp(t,n,s){s.props=Gs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){at(t,n,o)}}function el(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){at(t,n,h)}}function Ri(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){at(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){at(t,n,h)}else s.current=null}function Wp(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){at(t,t.return,h)}}function Uf(t,n,s){try{var o=t.stateNode;yS(o,t.type,s,n),o[en]=n}catch(h){at(t,t.return,h)}}function ey(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ts(t.type)||t.tag===4}function kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ey(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ts(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lf(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Yt));else if(o!==4&&(o===27&&ts(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Lf(t,n,s),t=t.sibling;t!==null;)Lf(t,n,s),t=t.sibling}function Ju(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&ts(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ju(t,n,s),t=t.sibling;t!==null;)Ju(t,n,s),t=t.sibling}function ty(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);sn(n,o,s),n[At]=t,n[en]=s}catch(f){at(t,t.return,f)}}var tr=!1,jt=!1,Pf=!1,ny=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function $T(t,n){if(t=t.containerInfo,sd=_c,t=mg(t),Dh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var y=0,E=-1,C=-1,z=0,G=0,X=t,B=null;t:for(;;){for(var q;X!==s||h!==0&&X.nodeType!==3||(E=y+h),X!==f||o!==0&&X.nodeType!==3||(C=y+o),X.nodeType===3&&(y+=X.nodeValue.length),(q=X.firstChild)!==null;)B=X,X=q;for(;;){if(X===t)break t;if(B===s&&++z===h&&(E=y),B===f&&++G===o&&(C=y),(q=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=q}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(ad={focusedElem:t,selectionRange:s},_c=!1,Jt=n;Jt!==null;)if(n=Jt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Jt=t;else for(;Jt!==null;){switch(n=Jt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var le=Gs(s.type,h);t=o.getSnapshotBeforeUpdate(le,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ve){at(s,s.return,ve)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)ud(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ud(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Jt=t;break}Jt=n.return}}function iy(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ir(t,s),o&4&&Wo(5,s);break;case 1:if(ir(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(y){at(s,s.return,y)}else{var h=Gs(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){at(s,s.return,y)}}o&64&&Jp(s),o&512&&el(s,s.return);break;case 3:if(ir(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Bg(t,n)}catch(y){at(s,s.return,y)}}break;case 27:n===null&&o&4&&ty(s);case 26:case 5:ir(t,s),n===null&&o&4&&Wp(s),o&512&&el(s,s.return);break;case 12:ir(t,s);break;case 31:ir(t,s),o&4&&ay(t,s);break;case 13:ir(t,s),o&4&&oy(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=sS.bind(null,s),wS(t,s))));break;case 22:if(o=s.memoizedState!==null||tr,!o){n=n!==null&&n.memoizedState!==null||jt,h=tr;var f=jt;tr=o,(jt=n)&&!f?rr(t,s,(s.subtreeFlags&8772)!==0):ir(t,s),tr=h,jt=f}break;case 30:break;default:ir(t,s)}}function ry(t){var n=t.alternate;n!==null&&(t.alternate=null,ry(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&bs(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,Rn=!1;function nr(t,n,s){for(s=s.child;s!==null;)sy(t,n,s),s=s.sibling}function sy(t,n,s){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(Ee,s)}catch{}switch(s.tag){case 26:jt||Ri(s,n),nr(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:jt||Ri(s,n);var o=_t,h=Rn;ts(s.type)&&(_t=s.stateNode,Rn=!1),nr(t,n,s),ul(s.stateNode),_t=o,Rn=h;break;case 5:jt||Ri(s,n);case 6:if(o=_t,h=Rn,_t=null,nr(t,n,s),_t=o,Rn=h,_t!==null)if(Rn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(s.stateNode)}catch(f){at(s,n,f)}else try{_t.removeChild(s.stateNode)}catch(f){at(s,n,f)}break;case 18:_t!==null&&(Rn?(t=_t,Jy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ka(t)):Jy(_t,s.stateNode));break;case 4:o=_t,h=Rn,_t=s.stateNode.containerInfo,Rn=!0,nr(t,n,s),_t=o,Rn=h;break;case 0:case 11:case 14:case 15:Yr(2,s,n),jt||Yr(4,s,n),nr(t,n,s);break;case 1:jt||(Ri(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Zp(s,n,o)),nr(t,n,s);break;case 21:nr(t,n,s);break;case 22:jt=(o=jt)||s.memoizedState!==null,nr(t,n,s),jt=o;break;default:nr(t,n,s)}}function ay(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ka(t)}catch(s){at(n,n.return,s)}}}function oy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ka(t)}catch(s){at(n,n.return,s)}}function JT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ny),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ny),n;default:throw Error(a(435,t.tag))}}function Zu(t,n){var s=JT(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=aS.bind(null,t,o);o.then(h,h)}})}function In(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,y=n,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(ts(E.type)){_t=E.stateNode,Rn=!1;break e}break;case 5:_t=E.stateNode,Rn=!1;break e;case 3:case 4:_t=E.stateNode.containerInfo,Rn=!0;break e}E=E.return}if(_t===null)throw Error(a(160));sy(f,y,h),_t=null,Rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ly(n,t),n=n.sibling}var ci=null;function ly(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:In(n,t),Cn(t),o&4&&(Yr(3,t,t.return),Wo(3,t),Yr(5,t,t.return));break;case 1:In(n,t),Cn(t),o&512&&(jt||s===null||Ri(s,s.return)),o&64&&tr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ci;if(In(n,t),Cn(t),o&512&&(jt||s===null||Ri(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ji]||f[At]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),sn(f,o,s),f[At]=t,Ct(f),o=f;break e;case"link":var y=l_("link","href",h).get(o+(s.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(E,1);break t}}f=h.createElement(o),sn(f,o,s),h.head.appendChild(f);break;case"meta":if(y=l_("meta","content",h).get(o+(s.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(E,1);break t}}f=h.createElement(o),sn(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[At]=t,Ct(f),o=f}t.stateNode=o}else u_(h,t.type,t.stateNode);else t.stateNode=o_(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?u_(h,t.type,t.stateNode):o_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Uf(t,t.memoizedProps,s.memoizedProps)}break;case 27:In(n,t),Cn(t),o&512&&(jt||s===null||Ri(s,s.return)),s!==null&&o&4&&Uf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(In(n,t),Cn(t),o&512&&(jt||s===null||Ri(s,s.return)),t.flags&32){h=t.stateNode;try{Yn(h,"")}catch(le){at(t,t.return,le)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Uf(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Pf=!0);break;case 6:if(In(n,t),Cn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(le){at(t,t.return,le)}}break;case 3:if(mc=null,h=ci,ci=fc(n.containerInfo),In(n,t),ci=h,Cn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ka(n.containerInfo)}catch(le){at(t,t.return,le)}Pf&&(Pf=!1,uy(t));break;case 4:o=ci,ci=fc(t.stateNode.containerInfo),In(n,t),Cn(t),ci=o;break;case 12:In(n,t),Cn(t);break;case 31:In(n,t),Cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Zu(t,o)));break;case 13:In(n,t),Cn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ec=St()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Zu(t,o)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=tr,G=jt;if(tr=z||h,jt=G||C,In(n,t),jt=G,tr=z,Cn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||tr||jt||Ks(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(le){at(C,C.return,le)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(le){at(C,C.return,le)}}}else if(n.tag===18){if(s===null){C=n;try{var q=C.stateNode;h?Zy(q,!0):Zy(C.stateNode,!1)}catch(le){at(C,C.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Zu(t,s))));break;case 19:In(n,t),Cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Zu(t,o)));break;case 30:break;case 21:break;default:In(n,t),Cn(t)}}function Cn(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(ey(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=kf(t);Ju(t,f,h);break;case 5:var y=s.stateNode;s.flags&32&&(Yn(y,""),s.flags&=-33);var E=kf(t);Ju(t,E,y);break;case 3:case 4:var C=s.stateNode.containerInfo,z=kf(t);Lf(t,z,C);break;default:throw Error(a(161))}}catch(G){at(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function uy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ir(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)iy(t,n.alternate,n),n=n.sibling}function Ks(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Yr(4,n,n.return),Ks(n);break;case 1:Ri(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Zp(n,n.return,s),Ks(n);break;case 27:ul(n.stateNode);case 26:case 5:Ri(n,n.return),Ks(n);break;case 22:n.memoizedState===null&&Ks(n);break;case 30:Ks(n);break;default:Ks(n)}t=t.sibling}}function rr(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:rr(h,f,s),Wo(4,f);break;case 1:if(rr(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){at(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)zg(C[h],E)}catch(z){at(o,o.return,z)}}s&&y&64&&Jp(f),el(f,f.return);break;case 27:ty(f);case 26:case 5:rr(h,f,s),s&&o===null&&y&4&&Wp(f),el(f,f.return);break;case 12:rr(h,f,s);break;case 31:rr(h,f,s),s&&y&4&&ay(h,f);break;case 13:rr(h,f,s),s&&y&4&&oy(h,f);break;case 22:f.memoizedState===null&&rr(h,f,s),el(f,f.return);break;case 30:break;default:rr(h,f,s)}n=n.sibling}}function jf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&zo(s))}function zf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&zo(t))}function hi(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)cy(t,n,s,o),n=n.sibling}function cy(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:hi(t,n,s,o),h&2048&&Wo(9,n);break;case 1:hi(t,n,s,o);break;case 3:hi(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&zo(t)));break;case 12:if(h&2048){hi(t,n,s,o),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){at(n,n.return,C)}}else hi(t,n,s,o);break;case 31:hi(t,n,s,o);break;case 13:hi(t,n,s,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?hi(t,n,s,o):tl(t,n):f._visibility&2?hi(t,n,s,o):(f._visibility|=2,Ua(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&jf(y,n);break;case 24:hi(t,n,s,o),h&2048&&zf(n.alternate,n);break;default:hi(t,n,s,o)}}function Ua(t,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,E=s,C=o,z=y.flags;switch(y.tag){case 0:case 11:case 15:Ua(f,y,E,C,h),Wo(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Ua(f,y,E,C,h):tl(f,y):(G._visibility|=2,Ua(f,y,E,C,h)),h&&z&2048&&jf(y.alternate,y);break;case 24:Ua(f,y,E,C,h),h&&z&2048&&zf(y.alternate,y);break;default:Ua(f,y,E,C,h)}n=n.sibling}}function tl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:tl(s,o),h&2048&&jf(o.alternate,o);break;case 24:tl(s,o),h&2048&&zf(o.alternate,o);break;default:tl(s,o)}n=n.sibling}}var nl=8192;function ka(t,n,s){if(t.subtreeFlags&nl)for(t=t.child;t!==null;)hy(t,n,s),t=t.sibling}function hy(t,n,s){switch(t.tag){case 26:ka(t,n,s),t.flags&nl&&t.memoizedState!==null&&LS(s,ci,t.memoizedState,t.memoizedProps);break;case 5:ka(t,n,s);break;case 3:case 4:var o=ci;ci=fc(t.stateNode.containerInfo),ka(t,n,s),ci=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=nl,nl=16777216,ka(t,n,s),nl=o):ka(t,n,s));break;default:ka(t,n,s)}}function fy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function il(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Jt=o,my(o,t)}fy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dy(t),t=t.sibling}function dy(t){switch(t.tag){case 0:case 11:case 15:il(t),t.flags&2048&&Yr(9,t,t.return);break;case 3:il(t);break;case 12:il(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Wu(t)):il(t);break;default:il(t)}}function Wu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Jt=o,my(o,t)}fy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Yr(8,n,n.return),Wu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Wu(n));break;default:Wu(n)}t=t.sibling}}function my(t,n){for(;Jt!==null;){var s=Jt;switch(s.tag){case 0:case 11:case 15:Yr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Jt=o;else e:for(s=t;Jt!==null;){o=Jt;var h=o.sibling,f=o.return;if(ry(o),o===s){Jt=null;break e}if(h!==null){h.return=f,Jt=h;break e}Jt=f}}}var ZT={getCacheForType:function(t){var n=nn(kt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return nn(kt).controller.signal}},WT=typeof WeakMap=="function"?WeakMap:Map,it=0,ft=null,He=null,Ge=0,st=0,jn=null,Xr=!1,La=!1,Bf=!1,sr=0,It=0,$r=0,Qs=0,qf=0,zn=0,Pa=0,rl=null,Nn=null,Hf=!1,ec=0,gy=0,tc=1/0,nc=null,Jr=null,Ft=0,Zr=null,ja=null,ar=0,Ff=0,Gf=null,py=null,sl=0,Kf=null;function Bn(){return(it&2)!==0&&Ge!==0?Ge&-Ge:F.T!==null?Zf():Pi()}function yy(){if(zn===0)if((Ge&536870912)===0||Ye){var t=Oe;Oe<<=1,(Oe&3932160)===0&&(Oe=262144),zn=t}else zn=536870912;return t=Ln.current,t!==null&&(t.flags|=32),zn}function Dn(t,n,s){(t===ft&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(za(t,0),Wr(t,Ge,zn,!1)),Kn(t,s),((it&2)===0||t!==ft)&&(t===ft&&((it&2)===0&&(Qs|=s),It===4&&Wr(t,Ge,zn,!1)),Ii(t))}function _y(t,n,s){if((it&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||ke(t,n),h=o?nS(t,n):Yf(t,n,!0),f=o;do{if(h===0){La&&!o&&Wr(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!eS(s)){h=Yf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var E=t;h=rl;var C=E.current.memoizedState.isDehydrated;if(C&&(za(E,y).flags|=256),y=Yf(E,y,!1),y!==2){if(Bf&&!C){E.errorRecoveryDisabledLanes|=f,Qs|=f,h=4;break e}f=Nn,Nn=h,f!==null&&(Nn===null?Nn=f:Nn.push.apply(Nn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){za(t,0),Wr(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Wr(o,n,zn,!Xr);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ec+300-St(),10<h)){if(Wr(o,n,zn,!Xr),ze(o,0,!0)!==0)break e;ar=n,o.timeoutHandle=Xy(vy.bind(null,o,s,Nn,nc,Hf,n,zn,Qs,Pa,Xr,f,"Throttled",-0,0),h);break e}vy(o,s,Nn,nc,Hf,n,zn,Qs,Pa,Xr,f,null,-0,0)}}break}while(!0);Ii(t)}function vy(t,n,s,o,h,f,y,E,C,z,G,X,B,q){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yt},hy(n,f,X);var le=(f&62914560)===f?ec-St():(f&4194048)===f?gy-St():0;if(le=PS(X,le),le!==null){ar=f,t.cancelPendingCommit=le(Iy.bind(null,t,n,f,s,o,h,y,E,C,G,X,null,B,q)),Wr(t,f,y,!z);return}}Iy(t,n,f,s,o,h,y,E,C)}function eS(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Un(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Wr(t,n,s,o){n&=~qf,n&=~Qs,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Se(h),y=1<<f;o[f]=-1,h&=~y}s!==0&&vo(t,s,n)}function ic(){return(it&6)===0?(al(0),!1):!0}function Qf(){if(He!==null){if(st===0)var t=He.return;else t=He,Xi=Ps=null,uf(t),Da=null,qo=0,t=He;for(;t!==null;)$p(t.alternate,t),t=t.return;He=null}}function za(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,ES(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ar=0,Qf(),ft=t,He=s=Qi(t.current,null),Ge=n,st=0,jn=null,Xr=!1,La=ke(t,n),Bf=!1,Pa=zn=qf=Qs=$r=It=0,Nn=rl=null,Hf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Se(o),f=1<<h;n|=t[h],o&=~f}return sr=n,Au(),s}function Ey(t,n){Me=null,F.H=$o,n===Na||n===Ou?(n=kg(),st=3):n===$h?(n=kg(),st=4):st=n===wf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,jn=n,He===null&&(It=1,Ku(t,$n(n,t.current)))}function Ty(){var t=Ln.current;return t===null?!0:(Ge&4194048)===Ge?ei===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?t===ei:!1}function Sy(){var t=F.H;return F.H=$o,t===null?$o:t}function by(){var t=F.A;return F.A=ZT,t}function rc(){It=4,Xr||(Ge&4194048)!==Ge&&Ln.current!==null||(La=!0),($r&134217727)===0&&(Qs&134217727)===0||ft===null||Wr(ft,Ge,zn,!1)}function Yf(t,n,s){var o=it;it|=2;var h=Sy(),f=by();(ft!==t||Ge!==n)&&(nc=null,za(t,n)),n=!1;var y=It;e:do try{if(st!==0&&He!==null){var E=He,C=jn;switch(st){case 8:Qf(),y=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(n=!0);var z=st;if(st=0,jn=null,Ba(t,E,C,z),s&&La){y=0;break e}break;default:z=st,st=0,jn=null,Ba(t,E,C,z)}}tS(),y=It;break}catch(G){Ey(t,G)}while(!0);return n&&t.shellSuspendCounter++,Xi=Ps=null,it=o,F.H=h,F.A=f,He===null&&(ft=null,Ge=0,Au()),y}function tS(){for(;He!==null;)Ay(He)}function nS(t,n){var s=it;it|=2;var o=Sy(),h=by();ft!==t||Ge!==n?(nc=null,tc=St()+500,za(t,n)):La=ke(t,n);e:do try{if(st!==0&&He!==null){n=He;var f=jn;t:switch(st){case 1:st=0,jn=null,Ba(t,n,f,1);break;case 2:case 9:if(Vg(f)){st=0,jn=null,wy(n);break}n=function(){st!==2&&st!==9||ft!==t||(st=7),Ii(t)},f.then(n,n);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Vg(f)?(st=0,jn=null,wy(n)):(st=0,jn=null,Ba(t,n,f,7));break;case 5:var y=null;switch(He.tag){case 26:y=He.memoizedState;case 5:case 27:var E=He;if(y?c_(y):E.stateNode.complete){st=0,jn=null;var C=E.sibling;if(C!==null)He=C;else{var z=E.return;z!==null?(He=z,sc(z)):He=null}break t}}st=0,jn=null,Ba(t,n,f,5);break;case 6:st=0,jn=null,Ba(t,n,f,6);break;case 8:Qf(),It=6;break e;default:throw Error(a(462))}}iS();break}catch(G){Ey(t,G)}while(!0);return Xi=Ps=null,F.H=o,F.A=h,it=s,He!==null?0:(ft=null,Ge=0,Au(),It)}function iS(){for(;He!==null&&!Tr();)Ay(He)}function Ay(t){var n=Yp(t.alternate,t,sr);t.memoizedProps=t.pendingProps,n===null?sc(t):He=n}function wy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=qp(s,n,n.pendingProps,n.type,void 0,Ge);break;case 11:n=qp(s,n,n.pendingProps,n.type.render,n.ref,Ge);break;case 5:uf(n);default:$p(s,n),n=He=bg(n,sr),n=Yp(s,n,sr)}t.memoizedProps=t.pendingProps,n===null?sc(t):He=n}function Ba(t,n,s,o){Xi=Ps=null,uf(n),Da=null,qo=0;var h=n.return;try{if(GT(t,h,n,s,Ge)){It=1,Ku(t,$n(s,t.current)),He=null;return}}catch(f){if(h!==null)throw He=h,f;It=1,Ku(t,$n(s,t.current)),He=null;return}n.flags&32768?(Ye||o===1?t=!0:La||(Ge&536870912)!==0?t=!1:(Xr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Ln.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ry(n,t)):sc(n)}function sc(t){var n=t;do{if((n.flags&32768)!==0){Ry(n,Xr);return}t=n.return;var s=YT(n.alternate,n,sr);if(s!==null){He=s;return}if(n=n.sibling,n!==null){He=n;return}He=n=t}while(n!==null);It===0&&(It=5)}function Ry(t,n){do{var s=XT(t.alternate,t);if(s!==null){s.flags&=32767,He=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){He=t;return}He=t=s}while(t!==null);It=6,He=null}function Iy(t,n,s,o,h,f,y,E,C){t.cancelPendingCommit=null;do ac();while(Ft!==0);if((it&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Uh,Ht(t,s,f,y,E,C),t===ft&&(He=ft=null,Ge=0),ja=n,Zr=t,ar=s,Ff=f,Gf=h,py=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,oS(ai,function(){return Oy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=Z.p,Z.p=2,y=it,it|=4;try{$T(t,n,s)}finally{it=y,Z.p=h,F.T=o}}Ft=1,Cy(),Ny(),Dy()}}function Cy(){if(Ft===1){Ft=0;var t=Zr,n=ja,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=Z.p;Z.p=2;var h=it;it|=4;try{ly(n,t);var f=ad,y=mg(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&dg(E.ownerDocument.documentElement,E)){if(C!==null&&Dh(E)){var z=C.start,G=C.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var q=B.getSelection(),le=E.textContent.length,ve=Math.min(C.start,le),ht=C.end===void 0?ve:Math.min(C.end,le);!q.extend&&ve>ht&&(y=ht,ht=ve,ve=y);var k=fg(E,ve),V=fg(E,ht);if(k&&V&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==V.node||q.focusOffset!==V.offset)){var j=X.createRange();j.setStart(k.node,k.offset),q.removeAllRanges(),ve>ht?(q.addRange(j),q.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),q.addRange(j))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}_c=!!sd,ad=sd=null}finally{it=h,Z.p=o,F.T=s}}t.current=n,Ft=2}}function Ny(){if(Ft===2){Ft=0;var t=Zr,n=ja,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=Z.p;Z.p=2;var h=it;it|=4;try{iy(t,n.alternate,n)}finally{it=h,Z.p=o,F.T=s}}Ft=3}}function Dy(){if(Ft===4||Ft===3){Ft=0,pi();var t=Zr,n=ja,s=ar,o=py;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ft=5:(Ft=0,ja=Zr=null,xy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Jr=null),To(s),n=n.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(Ee,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=Z.p,Z.p=2,F.T=null;try{for(var f=t.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{F.T=n,Z.p=h}}(ar&3)!==0&&ac(),Ii(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Kf?sl++:(sl=0,Kf=t):sl=0,al(0)}}function xy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,zo(n)))}function ac(){return Cy(),Ny(),Dy(),Oy()}function Oy(){if(Ft!==5)return!1;var t=Zr,n=Ff;Ff=0;var s=To(ar),o=F.T,h=Z.p;try{Z.p=32>s?32:s,F.T=null,s=Gf,Gf=null;var f=Zr,y=ar;if(Ft=0,ja=Zr=null,ar=0,(it&6)!==0)throw Error(a(331));var E=it;if(it|=4,dy(f.current),cy(f,f.current,y,s),it=E,al(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(Ee,f)}catch{}return!0}finally{Z.p=h,F.T=o,xy(t,n)}}function My(t,n,s){n=$n(s,n),n=Af(t.stateNode,n,2),t=Gr(t,n,2),t!==null&&(Kn(t,2),Ii(t))}function at(t,n,s){if(t.tag===3)My(t,t,s);else for(;n!==null;){if(n.tag===3){My(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Jr===null||!Jr.has(o))){t=$n(s,t),s=Vp(2),o=Gr(n,s,2),o!==null&&(Up(s,o,n,t),Kn(o,2),Ii(o));break}}n=n.return}}function Xf(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new WT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Bf=!0,h.add(s),t=rS.bind(null,t,n,s),n.then(t,t))}function rS(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ft===t&&(Ge&s)===s&&(It===4||It===3&&(Ge&62914560)===Ge&&300>St()-ec?(it&2)===0&&za(t,0):qf|=s,Pa===Ge&&(Pa=0)),Ii(t)}function Vy(t,n){n===0&&(n=qe()),t=Us(t,n),t!==null&&(Kn(t,n),Ii(t))}function sS(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Vy(t,s)}function aS(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Vy(t,s)}function oS(t,n){return Fn(t,n)}var oc=null,qa=null,$f=!1,lc=!1,Jf=!1,es=0;function Ii(t){t!==qa&&t.next===null&&(qa===null?oc=qa=t:qa=qa.next=t),lc=!0,$f||($f=!0,uS())}function al(t,n){if(!Jf&&lc){Jf=!0;do for(var s=!1,o=oc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Se(42|t)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Py(o,f))}else f=Ge,f=ze(o,o===ft?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ke(o,f)||(s=!0,Py(o,f));o=o.next}while(s);Jf=!1}}function lS(){Uy()}function Uy(){lc=$f=!1;var t=0;es!==0&&vS()&&(t=es);for(var n=St(),s=null,o=oc;o!==null;){var h=o.next,f=ky(o,n);f===0?(o.next=null,s===null?oc=h:s.next=h,h===null&&(qa=s)):(s=o,(t!==0||(f&3)!==0)&&(lc=!0)),o=h}Ft!==0&&Ft!==5||al(t),es!==0&&(es=0)}function ky(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Se(f),E=1<<y,C=h[y];C===-1?((E&s)===0||(E&o)!==0)&&(h[y]=Qt(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=ft,s=Ge,s=ze(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(st===2||st===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&si(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ke(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&si(o),To(s)){case 2:case 8:s=Et;break;case 32:s=ai;break;case 268435456:s=re;break;default:s=ai}return o=Ly.bind(null,t),s=Fn(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&si(o),t.callbackPriority=2,t.callbackNode=null,2}function Ly(t,n){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(ac()&&t.callbackNode!==s)return null;var o=Ge;return o=ze(t,t===ft?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(_y(t,o,n),ky(t,St()),t.callbackNode!=null&&t.callbackNode===s?Ly.bind(null,t):null)}function Py(t,n){if(ac())return null;_y(t,n,!0)}function uS(){TS(function(){(it&6)!==0?Fn(bt,lS):Uy()})}function Zf(){if(es===0){var t=Ia;t===0&&(t=yt,yt<<=1,(yt&261888)===0&&(yt=256)),es=t}return es}function jy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ti(""+t)}function zy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function cS(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=jy((h[en]||null).action),y=o.submitter;y&&(n=(n=y[en]||null)?jy(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Cs("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(es!==0){var C=y?zy(h,y):new FormData(h);_f(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=y?zy(h,y):new FormData(h),_f(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Wf=0;Wf<Vh.length;Wf++){var ed=Vh[Wf],hS=ed.toLowerCase(),fS=ed[0].toUpperCase()+ed.slice(1);ui(hS,"on"+fS)}ui(yg,"onAnimationEnd"),ui(_g,"onAnimationIteration"),ui(vg,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(CT,"onTransitionRun"),ui(NT,"onTransitionStart"),ui(DT,"onTransitionCancel"),ui(Eg,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function By(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(G){bu(G)}h.currentTarget=null,f=C}else for(y=0;y<o.length;y++){if(E=o[y],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(G){bu(G)}h.currentTarget=null,f=C}}}}function Fe(t,n){var s=n[wr];s===void 0&&(s=n[wr]=new Set);var o=t+"__bubble";s.has(o)||(qy(n,t,2,!1),s.add(o))}function td(t,n,s){var o=0;n&&(o|=4),qy(s,t,o,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function nd(t){if(!t[uc]){t[uc]=!0,ua.forEach(function(s){s!=="selectionchange"&&(dS.has(s)||td(s,!1,t),td(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[uc]||(n[uc]=!0,td("selectionchange",!1,n))}}function qy(t,n,s,o){switch(y_(n)){case 2:var h=BS;break;case 8:h=qS;break;default:h=yd}s=h.bind(null,n,s,t),h=void 0,!No||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function id(t,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=zi(E),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){o=f=y;continue e}E=E.parentNode}}o=o.return}ou(function(){var z=f,G=ma(s),X=[];e:{var B=Tg.get(t);if(B!==void 0){var q=Cs,le=t;switch(t){case"keypress":if(Is(s)===0)break e;case"keydown":case"keyup":q=pu;break;case"focusin":le="focus",q=Ur;break;case"focusout":le="blur",q=Ur;break;case"beforeblur":case"afterblur":q=Ur;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=uu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=_u;break;case yg:case _g:case vg:q=ya;break;case Eg:q=_a;break;case"scroll":case"scrollend":q=lu;break;case"wheel":q=Eu;break;case"copy":case"cut":case"paste":q=fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Vo;break;case"toggle":case"beforetoggle":q=Lr}var ve=(n&4)!==0,ht=!ve&&(t==="scroll"||t==="scrollend"),k=ve?B!==null?B+"Capture":null:B;ve=[];for(var V=z,j;V!==null;){var Y=V;if(j=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||j===null||k===null||(Y=An(V,k),Y!=null&&ve.push(ll(V,Y,j))),ht)break;V=V.return}0<ve.length&&(B=new q(B,le,null,s,G),X.push({event:B,listeners:ve}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&s!==da&&(le=s.relatedTarget||s.fromElement)&&(zi(le)||le[_i]))break e;if((q||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,q?(le=s.relatedTarget||s.toElement,q=z,le=le?zi(le):null,le!==null&&(ht=u(le),ve=le.tag,le!==ht||ve!==5&&ve!==27&&ve!==6)&&(le=null)):(q=null,le=z),q!==le)){if(ve=uu,Y="onMouseLeave",k="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Vo,Y="onPointerLeave",k="onPointerEnter",V="pointer"),ht=q==null?B:As(q),j=le==null?B:As(le),B=new ve(Y,V+"leave",q,s,G),B.target=ht,B.relatedTarget=j,Y=null,zi(G)===z&&(ve=new ve(k,V+"enter",le,s,G),ve.target=j,ve.relatedTarget=ht,Y=ve),ht=Y,q&&le)t:{for(ve=mS,k=q,V=le,j=0,Y=k;Y;Y=ve(Y))j++;Y=0;for(var me=V;me;me=ve(me))Y++;for(;0<j-Y;)k=ve(k),j--;for(;0<Y-j;)V=ve(V),Y--;for(;j--;){if(k===V||V!==null&&k===V.alternate){ve=k;break t}k=ve(k),V=ve(V)}ve=null}else ve=null;q!==null&&Hy(X,B,q,ve,!1),le!==null&&ht!==null&&Hy(X,ht,le,ve,!0)}}e:{if(B=z?As(z):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var et=ag;else if(wn(B))if(og)et=wT;else{et=bT;var he=ST}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Io(z.elementType)&&(et=ag):et=AT;if(et&&(et=et(t,z))){Os(X,et,s,G);break e}he&&he(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&fa(B,"number",B.value)}switch(he=z?As(z):window,t){case"focusin":(wn(he)||he.contentEditable==="true")&&(va=he,xh=z,Lo=null);break;case"focusout":Lo=xh=va=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,gg(X,s,G);break;case"selectionchange":if(IT)break;case"keydown":case"keyup":gg(X,s,G)}var Le;if(m)e:{switch(t){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Be?rt(t,s)&&(Ke="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ke="onCompositionStart");Ke&&(L&&s.locale!=="ko"&&(Be||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Be&&(Le=xr()):(Vn=G,ga="value"in Vn?Vn.value:Vn.textContent,Be=!0)),he=cc(z,Ke),0<he.length&&(Ke=new xo(Ke,t,null,s,G),X.push({event:Ke,listeners:he}),Le?Ke.data=Le:(Le=Ut(s),Le!==null&&(Ke.data=Le)))),(Le=S?Xt(t,s):$t(t,s))&&(Ke=cc(z,"onBeforeInput"),0<Ke.length&&(he=new xo("onBeforeInput","beforeinput",null,s,G),X.push({event:he,listeners:Ke}),he.data=Le)),cS(X,t,z,s,G)}By(X,n)})}function ll(t,n,s){return{instance:t,listener:n,currentTarget:s}}function cc(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=An(t,s),h!=null&&o.unshift(ll(t,h,f)),h=An(t,n),h!=null&&o.push(ll(t,h,f))),t.tag===3)return o;t=t.return}return[]}function mS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Hy(t,n,s,o,h){for(var f=n._reactName,y=[];s!==null&&s!==o;){var E=s,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=An(s,f),z!=null&&y.unshift(ll(s,z,C))):h||(z=An(s,f),z!=null&&y.push(ll(s,z,C)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var gS=/\r\n?/g,pS=/\u0000|\uFFFD/g;function Fy(t){return(typeof t=="string"?t:""+t).replace(gS,`
`).replace(pS,"")}function Gy(t,n){return n=Fy(n),Fy(t)===n}function ct(t,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Yn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Yn(t,""+o);break;case"className":Cr(t,"class",o);break;case"tabIndex":Cr(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Cr(t,s,o);break;case"style":su(t,o,f);break;case"data":if(n!=="object"){Cr(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Ti(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ct(t,n,"name",h.name,h,null),ct(t,n,"formEncType",h.formEncType,h,null),ct(t,n,"formMethod",h.formMethod,h,null),ct(t,n,"formTarget",h.formTarget,h,null)):(ct(t,n,"encType",h.encType,h,null),ct(t,n,"method",h.method,h,null),ct(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Ti(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=Yt);break;case"onScroll":o!=null&&Fe("scroll",t);break;case"onScrollEnd":o!=null&&Fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Ti(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Fe("beforetoggle",t),Fe("toggle",t),Ir(t,"popover",o);break;case"xlinkActuate":Qn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Qn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Qn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Qn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Qn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Qn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Qn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Qn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Qn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ir(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=wh.get(s)||s,Ir(t,s,o))}}function rd(t,n,s,o,h,f){switch(s){case"style":su(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?Yn(t,o):(typeof o=="number"||typeof o=="bigint")&&Yn(t,""+o);break;case"onScroll":o!=null&&Fe("scroll",t);break;case"onScrollEnd":o!=null&&Fe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Yt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[en]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):Ir(t,s,o)}}}function sn(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",t),Fe("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ct(t,n,f,y,s,null)}}h&&ct(t,n,"srcSet",s.srcSet,s,null),o&&ct(t,n,"src",s.src,s,null);return;case"input":Fe("invalid",t);var E=f=y=h=null,C=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":y=G;break;case"checked":C=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ct(t,n,o,G,s,null)}}ws(t,f,E,C,z,y,h,!1);return;case"select":Fe("invalid",t),o=y=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:ct(t,n,h,E,s,null)}n=f,s=y,t.multiple=!!o,n!=null?We(t,!!o,n,!1):s!=null&&We(t,!!o,s,!0);return;case"textarea":Fe("invalid",t),f=h=o=null;for(y in s)if(s.hasOwnProperty(y)&&(E=s[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ct(t,n,y,E,s,null)}Dr(t,o,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ct(t,n,C,o,s,null)}return;case"dialog":Fe("beforetoggle",t),Fe("toggle",t),Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":Fe("load",t);break;case"video":case"audio":for(o=0;o<ol.length;o++)Fe(ol[o],t);break;case"image":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"embed":case"source":case"link":Fe("error",t),Fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ct(t,n,z,o,s,null)}return;default:if(Io(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&rd(t,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ct(t,n,E,o,s,null))}function yS(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,C=null,z=null,G=null;for(q in s){var X=s[q];if(s.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(q)||ct(t,n,q,null,o,X)}}for(var B in o){var q=o[B];if(X=s[B],o.hasOwnProperty(B)&&(q!=null||X!=null))switch(B){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&ct(t,n,B,q,o,X)}}Nr(t,y,E,C,z,G,f,h);return;case"select":q=y=E=B=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||ct(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==C&&ct(t,n,h,f,o,C)}n=E,s=y,o=q,B!=null?We(t,!!s,B,!1):!!o!=!!s&&(n!=null?We(t,!!s,n,!0):We(t,!!s,s?[]:"",!1));return;case"textarea":q=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ct(t,n,E,null,o,h)}for(y in o)if(h=o[y],f=s[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ct(t,n,y,h,o,f)}Rs(t,B,q);return;case"option":for(var le in s)if(B=s[le],s.hasOwnProperty(le)&&B!=null&&!o.hasOwnProperty(le))switch(le){case"selected":t.selected=!1;break;default:ct(t,n,le,null,o,B)}for(C in o)if(B=o[C],q=s[C],o.hasOwnProperty(C)&&B!==q&&(B!=null||q!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ct(t,n,C,B,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in s)B=s[ve],s.hasOwnProperty(ve)&&B!=null&&!o.hasOwnProperty(ve)&&ct(t,n,ve,null,o,B);for(z in o)if(B=o[z],q=s[z],o.hasOwnProperty(z)&&B!==q&&(B!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:ct(t,n,z,B,o,q)}return;default:if(Io(n)){for(var ht in s)B=s[ht],s.hasOwnProperty(ht)&&B!==void 0&&!o.hasOwnProperty(ht)&&rd(t,n,ht,void 0,o,B);for(G in o)B=o[G],q=s[G],!o.hasOwnProperty(G)||B===q||B===void 0&&q===void 0||rd(t,n,G,B,o,q);return}}for(var k in s)B=s[k],s.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&ct(t,n,k,null,o,B);for(X in o)B=o[X],q=s[X],!o.hasOwnProperty(X)||B===q||B==null&&q==null||ct(t,n,X,B,o,q)}function Ky(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _S(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&Ky(y)){for(y=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],z=C.startTime;if(z>E)break;var G=C.transferSize,X=C.initiatorType;G&&Ky(X)&&(C=C.responseEnd,y+=G*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var sd=null,ad=null;function hc(t){return t.nodeType===9?t:t.ownerDocument}function Qy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function od(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ld=null;function vS(){var t=window.event;return t&&t.type==="popstate"?t===ld?!1:(ld=t,!0):(ld=null,!1)}var Xy=typeof setTimeout=="function"?setTimeout:void 0,ES=typeof clearTimeout=="function"?clearTimeout:void 0,$y=typeof Promise=="function"?Promise:void 0,TS=typeof queueMicrotask=="function"?queueMicrotask:typeof $y<"u"?function(t){return $y.resolve(null).then(t).catch(SS)}:Xy;function SS(t){setTimeout(function(){throw t})}function ts(t){return t==="head"}function Jy(t,n){var s=n,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),Ka(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ul(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,ul(s);for(var f=s.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[ji]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=y}}else s==="body"&&ul(t.ownerDocument.body);s=h}while(s);Ka(n)}function Zy(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function ud(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ud(s),bs(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function bS(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ji])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ti(t.nextSibling),t===null)break}return null}function AS(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ti(t.nextSibling),t===null))return null;return t}function Wy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ti(t.nextSibling),t===null))return null;return t}function cd(t){return t.data==="$?"||t.data==="$~"}function hd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function wS(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ti(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var fd=null;function e_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return ti(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function t_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function n_(t,n,s){switch(n=hc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ul(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);bs(t)}var ni=new Map,i_=new Set;function fc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var or=Z.d;Z.d={f:RS,r:IS,D:CS,C:NS,L:DS,m:xS,X:MS,S:OS,M:VS};function RS(){var t=or.f(),n=ic();return t||n}function IS(t){var n=Bi(t);n!==null&&n.tag===5&&n.type==="form"?Ep(n):or.r(t)}var Ha=typeof document>"u"?null:document;function r_(t,n,s){var o=Ha;if(o&&typeof n=="string"&&n){var h=wt(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),i_.has(h)||(i_.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),sn(n,"link",t),Ct(n),o.head.appendChild(n)))}}function CS(t){or.D(t),r_("dns-prefetch",t,null)}function NS(t,n){or.C(t,n),r_("preconnect",t,n)}function DS(t,n,s){or.L(t,n,s);var o=Ha;if(o&&t&&n){var h='link[rel="preload"][as="'+wt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+wt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+wt(s.imageSizes)+'"]')):h+='[href="'+wt(t)+'"]';var f=h;switch(n){case"style":f=Fa(t);break;case"script":f=Ga(t)}ni.has(f)||(t=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ni.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(cl(f))||n==="script"&&o.querySelector(hl(f))||(n=o.createElement("link"),sn(n,"link",t),Ct(n),o.head.appendChild(n)))}}function xS(t,n){or.m(t,n);var s=Ha;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+wt(o)+'"][href="'+wt(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ga(t)}if(!ni.has(f)&&(t=b({rel:"modulepreload",href:t},n),ni.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(hl(f)))return}o=s.createElement("link"),sn(o,"link",t),Ct(o),s.head.appendChild(o)}}}function OS(t,n,s){or.S(t,n,s);var o=Ha;if(o&&t){var h=oi(o).hoistableStyles,f=Fa(t);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(cl(f)))E.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ni.get(f))&&dd(t,s);var C=y=o.createElement("link");Ct(C),sn(C,"link",t),C._p=new Promise(function(z,G){C.onload=z,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,dc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function MS(t,n){or.X(t,n);var s=Ha;if(s&&t){var o=oi(s).hoistableScripts,h=Ga(t),f=o.get(h);f||(f=s.querySelector(hl(h)),f||(t=b({src:t,async:!0},n),(n=ni.get(h))&&md(t,n),f=s.createElement("script"),Ct(f),sn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function VS(t,n){or.M(t,n);var s=Ha;if(s&&t){var o=oi(s).hoistableScripts,h=Ga(t),f=o.get(h);f||(f=s.querySelector(hl(h)),f||(t=b({src:t,async:!0,type:"module"},n),(n=ni.get(h))&&md(t,n),f=s.createElement("script"),Ct(f),sn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function s_(t,n,s,o){var h=(h=De.current)?fc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Fa(s.href),s=oi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Fa(s.href);var f=oi(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(cl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),ni.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ni.set(t,s),f||US(h,t,s,y.state))),n&&o===null)throw Error(a(528,""));return y}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ga(s),s=oi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Fa(t){return'href="'+wt(t)+'"'}function cl(t){return'link[rel="stylesheet"]['+t+"]"}function a_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function US(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),sn(n,"link",s),Ct(n),t.head.appendChild(n))}function Ga(t){return'[src="'+wt(t)+'"]'}function hl(t){return"script[async]"+t}function o_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+wt(s.href)+'"]');if(o)return n.instance=o,Ct(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ct(o),sn(o,"style",h),dc(o,s.precedence,t),n.instance=o;case"stylesheet":h=Fa(s.href);var f=t.querySelector(cl(h));if(f)return n.state.loading|=4,n.instance=f,Ct(f),f;o=a_(s),(h=ni.get(h))&&dd(o,h),f=(t.ownerDocument||t).createElement("link"),Ct(f);var y=f;return y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),sn(f,"link",o),n.state.loading|=4,dc(f,s.precedence,t),n.instance=f;case"script":return f=Ga(s.src),(h=t.querySelector(hl(f)))?(n.instance=h,Ct(h),h):(o=s,(h=ni.get(f))&&(o=b({},s),md(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ct(h),sn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,dc(o,s.precedence,t));return n.instance}function dc(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function dd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function md(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var mc=null;function l_(t,n,s){if(mc===null){var o=new Map,h=mc=new Map;h.set(s,o)}else h=mc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[ji]||f[At]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function u_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function kS(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function c_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function LS(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Fa(o.href),f=n.querySelector(cl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=gc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Ct(f);return}f=n.ownerDocument||n,o=a_(o),(h=ni.get(h))&&dd(o,h),f=f.createElement("link"),Ct(f);var y=f;y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),sn(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=gc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var gd=0;function PS(t,n){return t.stylesheets&&t.count===0&&yc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&yc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&gd===0&&(gd=62500*_S());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&yc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>gd?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var pc=null;function yc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,pc=new Map,n.forEach(jS,t),pc=null,gc.call(t))}function jS(t,n){if(!(n.state.loading&4)){var s=pc.get(t);if(s)var o=s.get(null);else{s=new Map,pc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),o=y)}o&&s.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=s.get(y)||o,f===o&&s.set(null,h),s.set(y,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var fl={$$typeof:se,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function zS(t,n,s,o,h,f,y,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.hiddenUpdates=qt(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function h_(t,n,s,o,h,f,y,E,C,z,G,X){return t=new zS(t,n,s,y,C,z,G,X,E),n=1,f===!0&&(n|=24),f=kn(3,null,null,n),t.current=f,f.stateNode=t,n=Qh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Jh(f),t}function f_(t){return t?(t=Sa,t):Sa}function d_(t,n,s,o,h,f){h=f_(h),o.context===null?o.context=h:o.pendingContext=h,o=Fr(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Gr(t,o,n),s!==null&&(Dn(s,t,n),Fo(s,t,n))}function m_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function pd(t,n){m_(t,n),(t=t.alternate)&&m_(t,n)}function g_(t){if(t.tag===13||t.tag===31){var n=Us(t,67108864);n!==null&&Dn(n,t,67108864),pd(t,67108864)}}function p_(t){if(t.tag===13||t.tag===31){var n=Bn();n=Eo(n);var s=Us(t,n);s!==null&&Dn(s,t,n),pd(t,n)}}var _c=!0;function BS(t,n,s,o){var h=F.T;F.T=null;var f=Z.p;try{Z.p=2,yd(t,n,s,o)}finally{Z.p=f,F.T=h}}function qS(t,n,s,o){var h=F.T;F.T=null;var f=Z.p;try{Z.p=8,yd(t,n,s,o)}finally{Z.p=f,F.T=h}}function yd(t,n,s,o){if(_c){var h=_d(o);if(h===null)id(t,n,o,vc,s),__(t,o);else if(FS(h,t,n,s,o))o.stopPropagation();else if(__(t,o),n&4&&-1<HS.indexOf(t)){for(;h!==null;){var f=Bi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Ue(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var C=1<<31-Se(y);E.entanglements[1]|=C,y&=~C}Ii(f),(it&6)===0&&(tc=St()+500,al(0))}}break;case 31:case 13:E=Us(f,2),E!==null&&Dn(E,f,2),ic(),pd(f,2)}if(f=_d(o),f===null&&id(t,n,o,vc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else id(t,n,o,null,s)}}function _d(t){return t=ma(t),vd(t)}var vc=null;function vd(t){if(vc=null,t=zi(t),t!==null){var n=u(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=g(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return vc=t,null}function y_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sr()){case bt:return 2;case Et:return 8;case ai:case la:return 32;case re:return 268435456;default:return 32}default:return 32}}var Ed=!1,ns=null,is=null,rs=null,dl=new Map,ml=new Map,ss=[],HS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function __(t,n){switch(t){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(n.pointerId)}}function gl(t,n,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Bi(n),n!==null&&g_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function FS(t,n,s,o,h){switch(n){case"focusin":return ns=gl(ns,t,n,s,o,h),!0;case"dragenter":return is=gl(is,t,n,s,o,h),!0;case"mouseover":return rs=gl(rs,t,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return dl.set(f,gl(dl.get(f)||null,t,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ml.set(f,gl(ml.get(f)||null,t,n,s,o,h)),!0}return!1}function v_(t){var n=zi(t.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,tu(t.priority,function(){p_(s)});return}}else if(n===31){if(n=g(s),n!==null){t.blockedOn=n,tu(t.priority,function(){p_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ec(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=_d(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);da=o,s.target.dispatchEvent(o),da=null}else return n=Bi(s),n!==null&&g_(n),t.blockedOn=s,!1;n.shift()}return!0}function E_(t,n,s){Ec(t)&&s.delete(n)}function GS(){Ed=!1,ns!==null&&Ec(ns)&&(ns=null),is!==null&&Ec(is)&&(is=null),rs!==null&&Ec(rs)&&(rs=null),dl.forEach(E_),ml.forEach(E_)}function Tc(t,n){t.blockedOn===n&&(t.blockedOn=null,Ed||(Ed=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,GS)))}var Sc=null;function T_(t){Sc!==t&&(Sc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sc===t&&(Sc=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(vd(o||s)===null)continue;break}var f=Bi(s);f!==null&&(t.splice(n,3),n-=3,_f(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ka(t){function n(C){return Tc(C,t)}ns!==null&&Tc(ns,t),is!==null&&Tc(is,t),rs!==null&&Tc(rs,t),dl.forEach(n),ml.forEach(n);for(var s=0;s<ss.length;s++){var o=ss[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ss.length&&(s=ss[0],s.blockedOn===null);)v_(s),s.blockedOn===null&&ss.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],y=h[en]||null;if(typeof f=="function")y||T_(s);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[en]||null)E=y.formAction;else if(vd(h)!==null)continue}else E=y.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),T_(s)}}}function S_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Td(t){this._internalRoot=t}bc.prototype.render=Td.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Bn();d_(s,o,t,n,null,null)},bc.prototype.unmount=Td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;d_(t.current,2,null,t,null,null),ic(),n[_i]=null}};function bc(t){this._internalRoot=t}bc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Pi();t={blockedOn:null,target:t,priority:n};for(var s=0;s<ss.length&&n!==0&&n<ss[s].priority;s++);ss.splice(s,0,t),s===0&&v_(t)}};var b_=e.version;if(b_!=="19.2.0")throw Error(a(527,b_,"19.2.0"));Z.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var KS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{Ee=Ac.inject(KS),Ne=Ac}catch{}}return yl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",h=Dp,f=xp,y=Op;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=h_(t,1,!1,null,null,s,o,null,h,f,y,S_),t[_i]=n.current,nd(t),new Td(n)},yl.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,h="",f=Dp,y=xp,E=Op,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=h_(t,1,!0,n,s??null,o,h,C,f,y,E,S_),n.context=f_(null),s=n.current,o=Bn(),o=Eo(o),h=Fr(o),h.callback=null,Gr(s,h,o),s=o,n.current.lanes=s,Kn(n,s),Ii(n),t[_i]=n.current,nd(t),new bc(n)},yl.version="19.2.0",yl}var M_;function nb(){if(M_)return bd.exports;M_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bd.exports=tb(),bd.exports}var ib=nb(),ye=cm(),V_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},rb=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[i++];e[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[i++],d=r[i++],g=r[i++],p=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[i++],d=r[i++];e[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},n0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,T=u>>2,b=(u&3)<<4|g>>4;let O=(g&15)<<2|_>>6,P=_&63;p||(P=64,d||(O=64)),a.push(i[T],i[b],i[O],i[P])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(t0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):rb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const u=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const b=l<r.length?i[r.charAt(l)]:64;if(++l,u==null||g==null||_==null||b==null)throw new sb;const O=u<<2|g>>4;if(a.push(O),_!==64){const P=g<<4&240|_>>2;if(a.push(P),b!==64){const Q=_<<6&192|b;a.push(Q)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class sb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ab=function(r){const e=t0(r);return n0.encodeByteArray(e,!0)},Bc=function(r){return ab(r).replace(/\./g,"")},i0=function(r){try{return n0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=()=>ob().__FIREBASE_DEFAULTS__,ub=()=>{if(typeof process>"u"||typeof V_>"u")return;const r=V_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},cb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&i0(r[1]);return e&&JSON.parse(e)},ih=()=>{try{return lb()||ub()||cb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},r0=r=>{var e,i;return(i=(e=ih())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},hb=r=>{const e=r0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},s0=()=>{var r;return(r=ih())===null||r===void 0?void 0:r.config},a0=r=>{var e;return(e=ih())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Bc(JSON.stringify(i)),Bc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function gb(){var r;const e=(r=ih())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function _b(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vb(){const r=gn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Eb(){return!gb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tb(){try{return typeof indexedDB=="object"}catch{return!1}}function Sb(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="FirebaseError";class yr extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=bb,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?Ab(u,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new yr(l,g,a)}}function Ab(r,e){return r.replace(wb,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const wb=/\{\$([^}]+)}/g;function Rb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function xl(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const u=r[l],d=e[l];if(U_(u)&&U_(d)){if(!xl(u,d))return!1}else if(u!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function U_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function vl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,u]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function El(r){const e=r.indexOf("?");if(!e)return"";const i=r.indexOf("#",e);return r.substring(e,i>0?i:void 0)}function Ib(r,e){const i=new Cb(r,e);return i.subscribe.bind(i)}class Cb{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");Nb(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Cd),l.error===void 0&&(l.error=Cd),l.complete===void 0&&(l.complete=Cd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nb(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Cd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(r){return r&&r._delegate?r._delegate:r}class Ws{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new fb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ob(e))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(e=Ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ys){return this.instances.has(e)}getOptions(e=Ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);a===g&&d.resolve(l)}return l}onInit(e,i){var a;const l=this.normalizeInstanceIdentifier(i),u=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(l,u);const d=this.instances.get(l);return d&&e(d,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:xb(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ys){return this.component?this.component.multipleInstances?e:Ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xb(r){return r===Ys?void 0:r}function Ob(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Db(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Xe||(Xe={}));const Vb={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},Ub=Xe.INFO,kb={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},Lb=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=kb[e];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hm{constructor(e){this.name=e,this._logLevel=Ub,this._logHandler=Lb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const Pb=(r,e)=>e.some(i=>r instanceof i);let k_,L_;function jb(){return k_||(k_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zb(){return L_||(L_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o0=new WeakMap,jd=new WeakMap,l0=new WeakMap,Nd=new WeakMap,fm=new WeakMap;function Bb(r){const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{i(ds(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&o0.set(i,r)}).catch(()=>{}),fm.set(e,r),e}function qb(r){if(jd.has(r))return;const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});jd.set(r,e)}let zd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return jd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||l0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ds(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Hb(r){zd=r(zd)}function Fb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Dd(this),e,...i);return l0.set(a,e.sort?e.sort():[e]),ds(a)}:zb().includes(r)?function(...e){return r.apply(Dd(this),e),ds(o0.get(this))}:function(...e){return ds(r.apply(Dd(this),e))}}function Gb(r){return typeof r=="function"?Fb(r):(r instanceof IDBTransaction&&qb(r),Pb(r,jb())?new Proxy(r,zd):r)}function ds(r){if(r instanceof IDBRequest)return Bb(r);if(Nd.has(r))return Nd.get(r);const e=Gb(r);return e!==r&&(Nd.set(r,e),fm.set(e,r)),e}const Dd=r=>fm.get(r);function Kb(r,e,{blocked:i,upgrade:a,blocking:l,terminated:u}={}){const d=indexedDB.open(r,e),g=ds(d);return a&&d.addEventListener("upgradeneeded",p=>{a(ds(d.result),p.oldVersion,p.newVersion,ds(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const Qb=["get","getKey","getAll","getAllKeys","count"],Yb=["put","add","delete","clear"],xd=new Map;function P_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(xd.get(e))return xd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=Yb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||Qb.includes(i)))return;const u=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&p.done]))[0]};return xd.set(e,u),u}Hb(r=>({...r,get:(e,i,a)=>P_(e,i)||r.get(e,i,a),has:(e,i)=>!!P_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if($b(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function $b(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bd="@firebase/app",j_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new hm("@firebase/app"),Jb="@firebase/app-compat",Zb="@firebase/analytics-compat",Wb="@firebase/analytics",eA="@firebase/app-check-compat",tA="@firebase/app-check",nA="@firebase/auth",iA="@firebase/auth-compat",rA="@firebase/database",sA="@firebase/data-connect",aA="@firebase/database-compat",oA="@firebase/functions",lA="@firebase/functions-compat",uA="@firebase/installations",cA="@firebase/installations-compat",hA="@firebase/messaging",fA="@firebase/messaging-compat",dA="@firebase/performance",mA="@firebase/performance-compat",gA="@firebase/remote-config",pA="@firebase/remote-config-compat",yA="@firebase/storage",_A="@firebase/storage-compat",vA="@firebase/firestore",EA="@firebase/vertexai-preview",TA="@firebase/firestore-compat",SA="firebase",bA="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="[DEFAULT]",AA={[Bd]:"fire-core",[Jb]:"fire-core-compat",[Wb]:"fire-analytics",[Zb]:"fire-analytics-compat",[tA]:"fire-app-check",[eA]:"fire-app-check-compat",[nA]:"fire-auth",[iA]:"fire-auth-compat",[rA]:"fire-rtdb",[sA]:"fire-data-connect",[aA]:"fire-rtdb-compat",[oA]:"fire-fn",[lA]:"fire-fn-compat",[uA]:"fire-iid",[cA]:"fire-iid-compat",[hA]:"fire-fcm",[fA]:"fire-fcm-compat",[dA]:"fire-perf",[mA]:"fire-perf-compat",[gA]:"fire-rc",[pA]:"fire-rc-compat",[yA]:"fire-gcs",[_A]:"fire-gcs-compat",[vA]:"fire-fst",[TA]:"fire-fst-compat",[EA]:"fire-vertex","fire-js":"fire-js",[SA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new Map,wA=new Map,Hd=new Map;function z_(r,e){try{r.container.addComponent(e)}catch(i){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function to(r){const e=r.name;if(Hd.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;Hd.set(e,r);for(const i of qc.values())z_(i,r);for(const i of wA.values())z_(i,r);return!0}function dm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Ci(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new ql("app","Firebase",RA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=bA;function u0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:qd,automaticDataCollectionEnabled:!1},e),l=a.name;if(typeof l!="string"||!l)throw ms.create("bad-app-name",{appName:String(l)});if(i||(i=s0()),!i)throw ms.create("no-options");const u=qc.get(l);if(u){if(xl(i,u.options)&&xl(a,u.config))return u;throw ms.create("duplicate-app",{appName:l})}const d=new Mb(l);for(const p of Hd.values())d.addComponent(p);const g=new IA(i,a,d);return qc.set(l,g),g}function c0(r=qd){const e=qc.get(r);if(!e&&r===qd&&s0())return u0();if(!e)throw ms.create("no-app",{appName:r});return e}function gs(r,e,i){var a;let l=(a=AA[r])!==null&&a!==void 0?a:r;i&&(l+=`-${i}`);const u=l.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const g=[`Unable to register library "${l}" with version "${e}":`];u&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(g.join(" "));return}to(new Ws(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="firebase-heartbeat-database",NA=1,Ol="firebase-heartbeat-store";let Od=null;function h0(){return Od||(Od=Kb(CA,NA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ol)}catch(i){console.warn(i)}}}}).catch(r=>{throw ms.create("idb-open",{originalErrorMessage:r.message})})),Od}async function DA(r){try{const i=(await h0()).transaction(Ol),a=await i.objectStore(Ol).get(f0(r));return await i.done,a}catch(e){if(e instanceof yr)dr.warn(e.message);else{const i=ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dr.warn(i.message)}}}async function B_(r,e){try{const a=(await h0()).transaction(Ol,"readwrite");await a.objectStore(Ol).put(e,f0(r)),await a.done}catch(i){if(i instanceof yr)dr.warn(i.message);else{const a=ms.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});dr.warn(a.message)}}}function f0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=1024,OA=720*60*60*1e3;class MA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new UA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=q_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const g=new Date(d.date).valueOf();return Date.now()-g<=OA}),this._storage.overwrite(this._heartbeatsCache))}catch(a){dr.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=q_(),{heartbeatsToSend:a,unsentEntries:l}=VA(this._heartbeatsCache.heartbeats),u=Bc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return dr.warn(i),""}}}function q_(){return new Date().toISOString().substring(0,10)}function VA(r,e=xA){const i=[];let a=r.slice();for(const l of r){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),H_(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),H_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class UA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tb()?Sb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await DA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return B_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return B_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function H_(r){return Bc(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(r){to(new Ws("platform-logger",e=>new Xb(e),"PRIVATE")),to(new Ws("heartbeat",e=>new MA(e),"PRIVATE")),gs(Bd,j_,r),gs(Bd,j_,"esm2017"),gs("fire-js","")}kA("");var LA="firebase",PA="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gs(LA,PA,"app");function mm(r,e){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(i[a[l]]=r[a[l]]);return i}function d0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jA=d0,m0=new ql("auth","Firebase",d0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new hm("@firebase/auth");function zA(r,...e){Hc.logLevel<=Xe.WARN&&Hc.warn(`Auth (${ho}): ${r}`,...e)}function xc(r,...e){Hc.logLevel<=Xe.ERROR&&Hc.error(`Auth (${ho}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(r,...e){throw gm(r,...e)}function Ni(r,...e){return gm(r,...e)}function g0(r,e,i){const a=Object.assign(Object.assign({},jA()),{[e]:i});return new ql("auth","Firebase",a).create(e,{appName:r.name})}function hr(r){return g0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gm(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return m0.create(r,...e)}function Te(r,e,...i){if(!r)throw gm(e,...i)}function lr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw xc(e),new Error(e)}function mr(r,e){r||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function BA(){return F_()==="http:"||F_()==="https:"}function F_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BA()||yb()||"connection"in navigator)?navigator.onLine:!0}function HA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,i){this.shortDelay=e,this.longDelay=i,mr(i>e,"Short delay should be less than long delay!"),this.isMobile=mb()||_b()}get(){return qA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(r,e){mr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=new Fl(3e4,6e4);function _r(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function vr(r,e,i,a,l={}){return y0(r,l,async()=>{let u={},d={};a&&(e==="GET"?d=a:u={body:JSON.stringify(a)});const g=Hl(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:p},u);return pb()||(_.referrerPolicy="no-referrer"),p0.fetch()(_0(r,r.config.apiHost,i,g),_)})}async function y0(r,e,i){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},FA),e);try{const l=new QA(r),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw wc(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw wc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw wc(r,"user-disabled",d);const T=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw g0(r,T,_);di(r,T)}}catch(l){if(l instanceof yr)throw l;di(r,"network-request-failed",{message:String(l)})}}async function Gl(r,e,i,a,l={}){const u=await vr(r,e,i,a,l);return"mfaPendingCredential"in u&&di(r,"multi-factor-auth-required",{_serverResponse:u}),u}function _0(r,e,i,a){const l=`${e}${i}?${a}`;return r.config.emulator?pm(r.config,l):`${r.config.apiScheme}://${l}`}function KA(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ni(this.auth,"network-request-failed")),GA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ni(r,e,a);return l.customData._tokenResponse=i,l}function G_(r){return r!==void 0&&r.enterprise!==void 0}class YA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return KA(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function XA(r,e){return vr(r,"GET","/v2/recaptchaConfig",_r(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $A(r,e){return vr(r,"POST","/v1/accounts:delete",e)}async function v0(r,e){return vr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JA(r,e=!1){const i=Kt(r),a=await i.getIdToken(e),l=ym(a);Te(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:l,token:a,authTime:wl(Md(l.auth_time)),issuedAtTime:wl(Md(l.iat)),expirationTime:wl(Md(l.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Md(r){return Number(r)*1e3}function ym(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return xc("JWT malformed, contained fewer than 3 sections"),null;try{const l=i0(i);return l?JSON.parse(l):(xc("Failed to decode base64 JWT payload"),null)}catch(l){return xc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function K_(r){const e=ym(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof yr&&ZA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function ZA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(r){var e;const i=r.auth,a=await r.getIdToken(),l=await Ml(r,v0(i,{idToken:a}));Te(l==null?void 0:l.users.length,i,"internal-error");const u=l.users[0];r._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?E0(u.providerUserInfo):[],g=tw(r.providerData,d),p=r.isAnonymous,_=!(r.email&&u.passwordHash)&&!(g!=null&&g.length),T=p?_:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:g,metadata:new Gd(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,b)}async function ew(r){const e=Kt(r);await Fc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tw(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function E0(r){return r.map(e=>{var{providerId:i}=e,a=mm(e,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(r,e){const i=await y0(r,{},async()=>{const a=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=_0(r,l,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",p0.fetch()(d,{method:"POST",headers:g,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function iw(r,e){return vr(r,"POST","/v2/accounts:revokeToken",_r(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=K_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:u}=await nw(e,i);this.updateTokensAndExpiration(a,l,Number(u))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:u}=i,d=new Ja;return a&&(Te(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Te(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(Te(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ur{constructor(e){var{uid:i,auth:a,stsTokenManager:l}=e,u=mm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Gd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const i=await Ml(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return JA(this,e)}reload(){return ew(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ur(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Fc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ci(this.auth.app))return Promise.reject(hr(this.auth));const e=await this.getIdToken();return await Ml(this,$A(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var a,l,u,d,g,p,_,T;const b=(a=i.displayName)!==null&&a!==void 0?a:void 0,O=(l=i.email)!==null&&l!==void 0?l:void 0,P=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,Q=(d=i.photoURL)!==null&&d!==void 0?d:void 0,W=(g=i.tenantId)!==null&&g!==void 0?g:void 0,$=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,oe=(_=i.createdAt)!==null&&_!==void 0?_:void 0,ge=(T=i.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:se,emailVerified:Ve,isAnonymous:Ze,providerData:be,stsTokenManager:N}=i;Te(se&&N,e,"internal-error");const A=Ja.fromJSON(this.name,N);Te(typeof se=="string",e,"internal-error"),os(b,e.name),os(O,e.name),Te(typeof Ve=="boolean",e,"internal-error"),Te(typeof Ze=="boolean",e,"internal-error"),os(P,e.name),os(Q,e.name),os(W,e.name),os($,e.name),os(oe,e.name),os(ge,e.name);const R=new ur({uid:se,auth:e,email:O,emailVerified:Ve,displayName:b,isAnonymous:Ze,photoURL:Q,phoneNumber:P,tenantId:W,stsTokenManager:A,createdAt:oe,lastLoginAt:ge});return be&&Array.isArray(be)&&(R.providerData=be.map(x=>Object.assign({},x))),$&&(R._redirectEventId=$),R}static async _fromIdTokenResponse(e,i,a=!1){const l=new Ja;l.updateFromServerResponse(i);const u=new ur({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Fc(u),u}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Te(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?E0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),g=new Ja;g.updateFromIdToken(a);const p=new ur({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Gd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=new Map;function cr(r){mr(r instanceof Function,"Expected a class definition");let e=Q_.get(r);return e?(mr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Q_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}T0.type="NONE";const Y_=T0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(r,e,i){return`firebase:${r}:${e}:${i}`}class Za{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:u}=this.auth;this.fullUserKey=Oc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Oc("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ur._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Za(cr(Y_),e,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||cr(Y_);const d=Oc(a,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const T=await _._get(d);if(T){const b=ur._fromJSON(e,T);_!==u&&(g=b),u=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Za(u,e,a):(u=p[0],g&&await u._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==u)try{await _._remove(d)}catch{}})),new Za(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(S0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I0(e))return"Blackberry";if(C0(e))return"Webos";if(b0(e))return"Safari";if((e.includes("chrome/")||A0(e))&&!e.includes("edge/"))return"Chrome";if(R0(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function S0(r=gn()){return/firefox\//i.test(r)}function b0(r=gn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function A0(r=gn()){return/crios\//i.test(r)}function w0(r=gn()){return/iemobile/i.test(r)}function R0(r=gn()){return/android/i.test(r)}function I0(r=gn()){return/blackberry/i.test(r)}function C0(r=gn()){return/webos/i.test(r)}function _m(r=gn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function rw(r=gn()){var e;return _m(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sw(){return vb()&&document.documentMode===10}function N0(r=gn()){return _m(r)||R0(r)||C0(r)||I0(r)||/windows phone/i.test(r)||w0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(r,e=[]){let i;switch(r){case"Browser":i=X_(gn());break;case"Worker":i=`${X_(gn())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ho}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=u=>new Promise((d,g)=>{try{const p=e(u);d(p)}catch(p){g(p)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow(r,e={}){return vr(r,"GET","/v2/passwordPolicy",_r(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=6;class uw{constructor(e){var i,a,l,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:lw,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,a,l,u,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $_(this),this.idTokenSubscription=new $_(this),this.beforeStateQueue=new aw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=cr(i)),this._initializationPromise=this.queue(async()=>{var a,l;if(!this._deleted&&(this.persistenceManager=await Za.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await v0(this,{idToken:e}),a=await ur._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Ci(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Fc(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ci(this.app))return Promise.reject(hr(this));const i=e?Kt(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ci(this.app)?Promise.reject(hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ci(this.app)?Promise.reject(hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ow(this),i=new uw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ql("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await iw(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&cr(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[cr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,a,l);return()=>{d=!0,p()}}else{const p=e.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=D0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var e;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&zA(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function sa(r){return Kt(r)}class $_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ib(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hw(r){rh=r}function x0(r){return rh.loadJS(r)}function fw(){return rh.recaptchaEnterpriseScript}function dw(){return rh.gapiScript}function mw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const gw="recaptcha-enterprise",pw="NO_RECAPTCHA";class yw{constructor(e){this.type=gw,this.auth=sa(e)}async verify(e="verify",i=!1){async function a(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{XA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new YA(p);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,d(_.siteKey)}}).catch(p=>{g(p)})})}function l(u,d,g){const p=window.grecaptcha;G_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(_=>{d(_)}).catch(()=>{d(pw)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((u,d)=>{a(this.auth).then(g=>{if(!i&&G_(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=fw();p.length!==0&&(p+=g),x0(p).then(()=>{l(g,u,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function J_(r,e,i,a=!1){const l=new yw(r);let u;try{u=await l.verify(i)}catch{u=await l.verify(i,!0)}const d=Object.assign({},e);return a?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Kd(r,e,i,a){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await J_(r,e,i,i==="getOobCode");return a(r,u)}else return a(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await J_(r,e,i,i==="getOobCode");return a(r,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(r,e){const i=dm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(xl(u,e??{}))return l;di(l,"already-initialized")}return i.initialize({options:e})}function vw(r,e){const i=(e==null?void 0:e.persistence)||[],a=(Array.isArray(i)?i:[i]).map(cr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function Ew(r,e,i){const a=sa(r);Te(a._canInitEmulator,a,"emulator-config-failed"),Te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,u=O0(e),{host:d,port:g}=Tw(e),p=g===null?"":`:${g}`;a.config.emulator={url:`${u}//${d}${p}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})}),Sw()}function O0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Tw(r){const e=O0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const u=l[1];return{host:u,port:Z_(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:Z_(d)}}}function Z_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Sw(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,i){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function bw(r,e){return vr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aw(r,e){return Gl(r,"POST","/v1/accounts:signInWithPassword",_r(r,e))}async function ww(r,e){return vr(r,"POST","/v1/accounts:sendOobCode",_r(r,e))}async function Rw(r,e){return ww(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iw(r,e){return Gl(r,"POST","/v1/accounts:signInWithEmailLink",_r(r,e))}async function Cw(r,e){return Gl(r,"POST","/v1/accounts:signInWithEmailLink",_r(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends vm{constructor(e,i,a,l=null){super("password",a),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Vl(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new Vl(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kd(e,i,"signInWithPassword",Aw);case"emailLink":return Iw(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kd(e,a,"signUpPassword",bw);case"emailLink":return Cw(e,{idToken:i,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(r,e){return Gl(r,"POST","/v1/accounts:signInWithIdp",_r(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="http://localhost";class ea extends vm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):di("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l}=i,u=mm(i,["providerId","signInMethod"]);if(!a||!l)return null;const d=new ea(a,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Wa(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Wa(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Wa(e,i)}buildRequest(){const e={requestUri:Nw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Hl(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xw(r){const e=vl(El(r)).link,i=e?vl(El(e)).deep_link_id:null,a=vl(El(r)).deep_link_id;return(a?vl(El(a)).link:null)||a||i||e||r}class Em{constructor(e){var i,a,l,u,d,g;const p=vl(El(e)),_=(i=p.apiKey)!==null&&i!==void 0?i:null,T=(a=p.oobCode)!==null&&a!==void 0?a:null,b=Dw((l=p.mode)!==null&&l!==void 0?l:null);Te(_&&T&&b,"argument-error"),this.apiKey=_,this.operation=b,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(e){const i=xw(e);try{return new Em(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.providerId=fo.PROVIDER_ID}static credential(e,i){return Vl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=Em.parseLink(i);return Te(a,"argument-error"),Vl._fromEmailAndCode(e,a.code,a.tenantId)}}fo.PROVIDER_ID="password";fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends M0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Kl{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ea._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return us.credential(i,a)}catch{return null}}}us.GOOGLE_SIGN_IN_METHOD="google.com";us.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Kl{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Kl{constructor(){super("twitter.com")}static credential(e,i){return ea._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return hs.credential(i,a)}catch{return null}}}hs.TWITTER_SIGN_IN_METHOD="twitter.com";hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ow(r,e){return Gl(r,"POST","/v1/accounts:signUp",_r(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const u=await ur._fromIdTokenResponse(e,a,l),d=W_(a);return new ta({user:u,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=W_(a);return new ta({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function W_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends yr{constructor(e,i,a,l){var u;super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Gc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Gc(e,i,a,l)}}function V0(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Gc._fromErrorAndOperation(r,u,e,a):u})}async function Mw(r,e,i=!1){const a=await Ml(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return ta._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vw(r,e,i=!1){const{auth:a}=r;if(Ci(a.app))return Promise.reject(hr(a));const l="reauthenticate";try{const u=await Ml(r,V0(a,l,e,r),i);Te(u.idToken,a,"internal-error");const d=ym(u.idToken);Te(d,a,"internal-error");const{sub:g}=d;return Te(r.uid===g,a,"user-mismatch"),ta._forOperation(r,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&di(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U0(r,e,i=!1){if(Ci(r.app))return Promise.reject(hr(r));const a="signIn",l=await V0(r,a,e),u=await ta._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(u.user),u}async function Uw(r,e){return U0(sa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k0(r){const e=sa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kw(r,e,i){if(Ci(r.app))return Promise.reject(hr(r));const a=sa(r),d=await Kd(a,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ow).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&k0(r),p}),g=await ta._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(g.user),g}function Lw(r,e,i){return Ci(r.app)?Promise.reject(hr(r)):Uw(Kt(r),fo.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&k0(r),a})}async function Pw(r,e){const i=Kt(r),l={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:u}=await Rw(i.auth,l);u!==r.email&&await r.reload()}function jw(r,e,i,a){return Kt(r).onIdTokenChanged(e,i,a)}function zw(r,e,i){return Kt(r).beforeAuthStateChanged(e,i)}function Bw(r,e,i,a){return Kt(r).onAuthStateChanged(e,i,a)}const Kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=1e3,Hw=10;class P0 extends L0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=N0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);sw()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Hw):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},qw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}P0.type="LOCAL";const Fw=P0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0 extends L0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}j0.type="SESSION";const z0=j0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new sh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,u)),p=await Gw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,p)=>{const _=Tm("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const O=b;if(O.data.eventId===_)switch(O.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(O.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(){return window}function Qw(r){Di().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function Yw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function $w(){return B0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="firebaseLocalStorageDb",Jw=1,Qc="firebaseLocalStorage",H0="fbase_key";class Ql{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ah(r,e){return r.transaction([Qc],e?"readwrite":"readonly").objectStore(Qc)}function Zw(){const r=indexedDB.deleteDatabase(q0);return new Ql(r).toPromise()}function Qd(){const r=indexedDB.open(q0,Jw);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Qc,{keyPath:H0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Qc)?e(a):(a.close(),await Zw(),e(await Qd()))})})}async function ev(r,e,i){const a=ah(r,!0).put({[H0]:e,value:i});return new Ql(a).toPromise()}async function Ww(r,e){const i=ah(r,!1).get(e),a=await new Ql(i).toPromise();return a===void 0?null:a.value}function tv(r,e){const i=ah(r,!0).delete(e);return new Ql(i).toPromise()}const e1=800,t1=3;class F0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qd(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>t1)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance($w()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await Yw(),!this.activeServiceWorker)return;this.sender=new Kw(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qd();return await ev(e,Kc,"1"),await tv(e,Kc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>ev(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>Ww(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>tv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=ah(l,!1).getAll();return new Ql(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),e1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F0.type="LOCAL";const n1=F0;new Fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(r,e){return e?cr(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm extends vm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wa(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Wa(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function r1(r){return U0(r.auth,new Sm(r),r.bypassAuthState)}function s1(r){const{auth:e,user:i}=r;return Te(i,e,"internal-error"),Vw(i,new Sm(r),r.bypassAuthState)}async function a1(r){const{auth:e,user:i}=r;return Te(i,e,"internal-error"),Mw(i,new Sm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,i,a,l,u=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:u,error:d,type:g}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return r1;case"linkViaPopup":case"linkViaRedirect":return a1;case"reauthViaPopup":case"reauthViaRedirect":return s1;default:di(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=new Fl(2e3,1e4);class $a extends G0{constructor(e,i,a,l,u){super(e,i,l,u),this.provider=a,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=Tm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,o1.get())};e()}}$a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="pendingRedirect",Mc=new Map;class u1 extends G0{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Mc.get(this.auth._key());if(!e){try{const a=await c1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Mc.set(this.auth._key(),e)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function c1(r,e){const i=d1(e),a=f1(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function h1(r,e){Mc.set(r._key(),e)}function f1(r){return cr(r._redirectPersistence)}function d1(r){return Oc(l1,r.config.apiKey,r.name)}async function m1(r,e,i=!1){if(Ci(r.app))return Promise.reject(hr(r));const a=sa(r),l=i1(a,e),d=await new u1(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=600*1e3;class p1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!y1(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var a;if(e.error&&!K0(e)){const l=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(Ni(this.auth,l))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=g1&&this.cachedEventUids.clear(),this.cachedEventUids.has(nv(e))}saveEventToCache(e){this.cachedEventUids.add(nv(e)),this.lastProcessedEventTime=Date.now()}}function nv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function K0({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function y1(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(r,e={}){return vr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E1=/^https?/;async function T1(r){if(r.config.emulator)return;const{authorizedDomains:e}=await _1(r);for(const i of e)try{if(S1(i))return}catch{}di(r,"unauthorized-domain")}function S1(r){const e=Fd(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!E1.test(i))return!1;if(v1.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=new Fl(3e4,6e4);function iv(){const r=Di().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function A1(r){return new Promise((e,i)=>{var a,l,u;function d(){iv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iv(),i(Ni(r,"network-request-failed"))},timeout:b1.get()})}if(!((l=(a=Di().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=Di().gapi)===null||u===void 0)&&u.load)d();else{const g=mw("iframefcb");return Di()[g]=()=>{gapi.load?d():i(Ni(r,"network-request-failed"))},x0(`${dw()}?onload=${g}`).catch(p=>i(p))}}).catch(e=>{throw Vc=null,e})}let Vc=null;function w1(r){return Vc=Vc||A1(r),Vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=new Fl(5e3,15e3),I1="__/auth/iframe",C1="emulator/auth/iframe",N1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x1(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?pm(e,C1):`https://${r.config.authDomain}/${I1}`,a={apiKey:e.apiKey,appName:r.name,v:ho},l=D1.get(r.config.apiHost);l&&(a.eid=l);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${i}?${Hl(a).slice(1)}`}async function O1(r){const e=await w1(r),i=Di().gapi;return Te(i,r,"internal-error"),e.open({where:document.body,url:x1(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N1,dontclear:!0},a=>new Promise(async(l,u)=>{await a.restyle({setHideOnLeave:!1});const d=Ni(r,"network-request-failed"),g=Di().setTimeout(()=>{u(d)},R1.get());function p(){Di().clearTimeout(g),l(a)}a.ping(p).then(p,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V1=500,U1=600,k1="_blank",L1="http://localhost";class rv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P1(r,e,i,a=V1,l=U1){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const p=Object.assign(Object.assign({},M1),{width:a.toString(),height:l.toString(),top:u,left:d}),_=gn().toLowerCase();i&&(g=A0(_)?k1:i),S0(_)&&(e=e||L1,p.scrollbars="yes");const T=Object.entries(p).reduce((O,[P,Q])=>`${O}${P}=${Q},`,"");if(rw(_)&&g!=="_self")return j1(e||"",g),new rv(null);const b=window.open(e||"",g,T);Te(b,r,"popup-blocked");try{b.focus()}catch{}return new rv(b)}function j1(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="__/auth/handler",B1="emulator/auth/handler",q1=encodeURIComponent("fac");async function sv(r,e,i,a,l,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:ho,eventId:l};if(e instanceof M0){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",Rb(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))d[T]=b}if(e instanceof Kl){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),_=p?`#${q1}=${encodeURIComponent(p)}`:"";return`${H1(r)}?${Hl(g).slice(1)}${_}`}function H1({config:r}){return r.emulator?pm(r,B1):`https://${r.authDomain}/${z1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="webStorageSupport";class F1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z0,this._completeRedirectFn=m1,this._overrideRedirectResult=h1}async _openPopup(e,i,a,l){var u;mr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await sv(e,i,a,Fd(),l);return P1(e,d,Tm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const u=await sv(e,i,a,Fd(),l);return Qw(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(mr(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await O1(e),a=new p1(e);return i.register("authEvent",l=>(Te(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Vd,{type:Vd},l=>{var u;const d=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[Vd];d!==void 0&&i(!!d),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=T1(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return N0()||b0()||_m()}}const G1=F1;var av="@firebase/auth",ov="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Y1(r){to(new Ws("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D0(r)},_=new cw(a,l,u,p);return vw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),to(new Ws("auth-internal",e=>{const i=sa(e.getProvider("auth").getImmediate());return(a=>new K1(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),gs(av,ov,Q1(r)),gs(av,ov,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=300,$1=a0("authIdTokenMaxAge")||X1;let lv=null;const J1=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>$1)return;const l=i==null?void 0:i.token;lv!==l&&(lv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Z1(r=c0()){const e=dm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=_w(r,{popupRedirectResolver:G1,persistence:[n1,Fw,z0]}),a=a0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=J1(u.toString());zw(i,d,()=>d(i.currentUser)),jw(i,g=>d(g))}}const l=r0("auth");return l&&Ew(i,`http://${l}`),i}function W1(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}hw({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const u=Ni("internal-error");u.customData=l,i(u)},a.type="text/javascript",a.charset="UTF-8",W1().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Y1("Browser");var uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Js,Q0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function R(){}R.prototype=A.prototype,N.D=A.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(x,D,U){for(var I=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)I[lt-2]=arguments[lt];return A.prototype[D].apply(x,I)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,A,R){R||(R=0);var x=Array(16);if(typeof A=="string")for(var D=0;16>D;++D)x[D]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(D=0;16>D;++D)x[D]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=N.g[0],R=N.g[1],D=N.g[2];var U=N.g[3],I=A+(U^R&(D^U))+x[0]+3614090360&4294967295;A=R+(I<<7&4294967295|I>>>25),I=U+(D^A&(R^D))+x[1]+3905402710&4294967295,U=A+(I<<12&4294967295|I>>>20),I=D+(R^U&(A^R))+x[2]+606105819&4294967295,D=U+(I<<17&4294967295|I>>>15),I=R+(A^D&(U^A))+x[3]+3250441966&4294967295,R=D+(I<<22&4294967295|I>>>10),I=A+(U^R&(D^U))+x[4]+4118548399&4294967295,A=R+(I<<7&4294967295|I>>>25),I=U+(D^A&(R^D))+x[5]+1200080426&4294967295,U=A+(I<<12&4294967295|I>>>20),I=D+(R^U&(A^R))+x[6]+2821735955&4294967295,D=U+(I<<17&4294967295|I>>>15),I=R+(A^D&(U^A))+x[7]+4249261313&4294967295,R=D+(I<<22&4294967295|I>>>10),I=A+(U^R&(D^U))+x[8]+1770035416&4294967295,A=R+(I<<7&4294967295|I>>>25),I=U+(D^A&(R^D))+x[9]+2336552879&4294967295,U=A+(I<<12&4294967295|I>>>20),I=D+(R^U&(A^R))+x[10]+4294925233&4294967295,D=U+(I<<17&4294967295|I>>>15),I=R+(A^D&(U^A))+x[11]+2304563134&4294967295,R=D+(I<<22&4294967295|I>>>10),I=A+(U^R&(D^U))+x[12]+1804603682&4294967295,A=R+(I<<7&4294967295|I>>>25),I=U+(D^A&(R^D))+x[13]+4254626195&4294967295,U=A+(I<<12&4294967295|I>>>20),I=D+(R^U&(A^R))+x[14]+2792965006&4294967295,D=U+(I<<17&4294967295|I>>>15),I=R+(A^D&(U^A))+x[15]+1236535329&4294967295,R=D+(I<<22&4294967295|I>>>10),I=A+(D^U&(R^D))+x[1]+4129170786&4294967295,A=R+(I<<5&4294967295|I>>>27),I=U+(R^D&(A^R))+x[6]+3225465664&4294967295,U=A+(I<<9&4294967295|I>>>23),I=D+(A^R&(U^A))+x[11]+643717713&4294967295,D=U+(I<<14&4294967295|I>>>18),I=R+(U^A&(D^U))+x[0]+3921069994&4294967295,R=D+(I<<20&4294967295|I>>>12),I=A+(D^U&(R^D))+x[5]+3593408605&4294967295,A=R+(I<<5&4294967295|I>>>27),I=U+(R^D&(A^R))+x[10]+38016083&4294967295,U=A+(I<<9&4294967295|I>>>23),I=D+(A^R&(U^A))+x[15]+3634488961&4294967295,D=U+(I<<14&4294967295|I>>>18),I=R+(U^A&(D^U))+x[4]+3889429448&4294967295,R=D+(I<<20&4294967295|I>>>12),I=A+(D^U&(R^D))+x[9]+568446438&4294967295,A=R+(I<<5&4294967295|I>>>27),I=U+(R^D&(A^R))+x[14]+3275163606&4294967295,U=A+(I<<9&4294967295|I>>>23),I=D+(A^R&(U^A))+x[3]+4107603335&4294967295,D=U+(I<<14&4294967295|I>>>18),I=R+(U^A&(D^U))+x[8]+1163531501&4294967295,R=D+(I<<20&4294967295|I>>>12),I=A+(D^U&(R^D))+x[13]+2850285829&4294967295,A=R+(I<<5&4294967295|I>>>27),I=U+(R^D&(A^R))+x[2]+4243563512&4294967295,U=A+(I<<9&4294967295|I>>>23),I=D+(A^R&(U^A))+x[7]+1735328473&4294967295,D=U+(I<<14&4294967295|I>>>18),I=R+(U^A&(D^U))+x[12]+2368359562&4294967295,R=D+(I<<20&4294967295|I>>>12),I=A+(R^D^U)+x[5]+4294588738&4294967295,A=R+(I<<4&4294967295|I>>>28),I=U+(A^R^D)+x[8]+2272392833&4294967295,U=A+(I<<11&4294967295|I>>>21),I=D+(U^A^R)+x[11]+1839030562&4294967295,D=U+(I<<16&4294967295|I>>>16),I=R+(D^U^A)+x[14]+4259657740&4294967295,R=D+(I<<23&4294967295|I>>>9),I=A+(R^D^U)+x[1]+2763975236&4294967295,A=R+(I<<4&4294967295|I>>>28),I=U+(A^R^D)+x[4]+1272893353&4294967295,U=A+(I<<11&4294967295|I>>>21),I=D+(U^A^R)+x[7]+4139469664&4294967295,D=U+(I<<16&4294967295|I>>>16),I=R+(D^U^A)+x[10]+3200236656&4294967295,R=D+(I<<23&4294967295|I>>>9),I=A+(R^D^U)+x[13]+681279174&4294967295,A=R+(I<<4&4294967295|I>>>28),I=U+(A^R^D)+x[0]+3936430074&4294967295,U=A+(I<<11&4294967295|I>>>21),I=D+(U^A^R)+x[3]+3572445317&4294967295,D=U+(I<<16&4294967295|I>>>16),I=R+(D^U^A)+x[6]+76029189&4294967295,R=D+(I<<23&4294967295|I>>>9),I=A+(R^D^U)+x[9]+3654602809&4294967295,A=R+(I<<4&4294967295|I>>>28),I=U+(A^R^D)+x[12]+3873151461&4294967295,U=A+(I<<11&4294967295|I>>>21),I=D+(U^A^R)+x[15]+530742520&4294967295,D=U+(I<<16&4294967295|I>>>16),I=R+(D^U^A)+x[2]+3299628645&4294967295,R=D+(I<<23&4294967295|I>>>9),I=A+(D^(R|~U))+x[0]+4096336452&4294967295,A=R+(I<<6&4294967295|I>>>26),I=U+(R^(A|~D))+x[7]+1126891415&4294967295,U=A+(I<<10&4294967295|I>>>22),I=D+(A^(U|~R))+x[14]+2878612391&4294967295,D=U+(I<<15&4294967295|I>>>17),I=R+(U^(D|~A))+x[5]+4237533241&4294967295,R=D+(I<<21&4294967295|I>>>11),I=A+(D^(R|~U))+x[12]+1700485571&4294967295,A=R+(I<<6&4294967295|I>>>26),I=U+(R^(A|~D))+x[3]+2399980690&4294967295,U=A+(I<<10&4294967295|I>>>22),I=D+(A^(U|~R))+x[10]+4293915773&4294967295,D=U+(I<<15&4294967295|I>>>17),I=R+(U^(D|~A))+x[1]+2240044497&4294967295,R=D+(I<<21&4294967295|I>>>11),I=A+(D^(R|~U))+x[8]+1873313359&4294967295,A=R+(I<<6&4294967295|I>>>26),I=U+(R^(A|~D))+x[15]+4264355552&4294967295,U=A+(I<<10&4294967295|I>>>22),I=D+(A^(U|~R))+x[6]+2734768916&4294967295,D=U+(I<<15&4294967295|I>>>17),I=R+(U^(D|~A))+x[13]+1309151649&4294967295,R=D+(I<<21&4294967295|I>>>11),I=A+(D^(R|~U))+x[4]+4149444226&4294967295,A=R+(I<<6&4294967295|I>>>26),I=U+(R^(A|~D))+x[11]+3174756917&4294967295,U=A+(I<<10&4294967295|I>>>22),I=D+(A^(U|~R))+x[2]+718787259&4294967295,D=U+(I<<15&4294967295|I>>>17),I=R+(U^(D|~A))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var R=A-this.blockSize,x=this.B,D=this.h,U=0;U<A;){if(D==0)for(;U<=R;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<A;)if(x[D++]=N.charCodeAt(U++),D==this.blockSize){l(this,x),D=0;break}}else for(;U<A;)if(x[D++]=N[U++],D==this.blockSize){l(this,x),D=0;break}}this.h=D,this.o+=A},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var R=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=R&255,R/=256;for(this.u(N),N=Array(16),A=R=0;4>A;++A)for(var x=0;32>x;x+=8)N[R++]=this.g[A]>>>x&255;return N};function u(N,A){var R=g;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=A(N)}function d(N,A){this.h=A;for(var R=[],x=!0,D=N.length-1;0<=D;D--){var U=N[D]|0;x&&U==A||(R[D]=U,x=!1)}this.g=R}var g={};function p(N){return-128<=N&&128>N?u(N,function(A){return new d([A|0],0>A?-1:0)}):new d([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return b;if(0>N)return $(_(-N));for(var A=[],R=1,x=0;N>=R;x++)A[x]=N/R|0,R*=4294967296;return new d(A,0)}function T(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return $(T(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(A,8)),x=b,D=0;D<N.length;D+=8){var U=Math.min(8,N.length-D),I=parseInt(N.substring(D,D+U),A);8>U?(U=_(Math.pow(A,U)),x=x.j(U).add(_(I))):(x=x.j(R),x=x.add(_(I)))}return x}var b=p(0),O=p(1),P=p(16777216);r=d.prototype,r.m=function(){if(W(this))return-$(this).m();for(var N=0,A=1,R=0;R<this.g.length;R++){var x=this.i(R);N+=(0<=x?x:4294967296+x)*A,A*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Q(this))return"0";if(W(this))return"-"+$(this).toString(N);for(var A=_(Math.pow(N,6)),R=this,x="";;){var D=Ve(R,A).g;R=oe(R,D.j(A));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=D,Q(R))return U+x;for(;6>U.length;)U="0"+U;x=U+x}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Q(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function W(N){return N.h==-1}r.l=function(N){return N=oe(this,N),W(N)?-1:Q(N)?0:1};function $(N){for(var A=N.g.length,R=[],x=0;x<A;x++)R[x]=~N.g[x];return new d(R,~N.h).add(O)}r.abs=function(){return W(this)?$(this):this},r.add=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],x=0,D=0;D<=A;D++){var U=x+(this.i(D)&65535)+(N.i(D)&65535),I=(U>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);x=I>>>16,U&=65535,I&=65535,R[D]=I<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function oe(N,A){return N.add($(A))}r.j=function(N){if(Q(this)||Q(N))return b;if(W(this))return W(N)?$(this).j($(N)):$($(this).j(N));if(W(N))return $(this.j($(N)));if(0>this.l(P)&&0>N.l(P))return _(this.m()*N.m());for(var A=this.g.length+N.g.length,R=[],x=0;x<2*A;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var D=0;D<N.g.length;D++){var U=this.i(x)>>>16,I=this.i(x)&65535,lt=N.i(D)>>>16,vt=N.i(D)&65535;R[2*x+2*D]+=I*vt,ge(R,2*x+2*D),R[2*x+2*D+1]+=U*vt,ge(R,2*x+2*D+1),R[2*x+2*D+1]+=I*lt,ge(R,2*x+2*D+1),R[2*x+2*D+2]+=U*lt,ge(R,2*x+2*D+2)}for(x=0;x<A;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=A;x<2*A;x++)R[x]=0;return new d(R,0)};function ge(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function se(N,A){this.g=N,this.h=A}function Ve(N,A){if(Q(A))throw Error("division by zero");if(Q(N))return new se(b,b);if(W(N))return A=Ve($(N),A),new se($(A.g),$(A.h));if(W(A))return A=Ve(N,$(A)),new se($(A.g),A.h);if(30<N.g.length){if(W(N)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var R=O,x=A;0>=x.l(N);)R=Ze(R),x=Ze(x);var D=be(R,1),U=be(x,1);for(x=be(x,2),R=be(R,2);!Q(x);){var I=U.add(x);0>=I.l(N)&&(D=D.add(R),U=I),x=be(x,1),R=be(R,1)}return A=oe(N,D.j(A)),new se(D,A)}for(D=b;0<=N.l(A);){for(R=Math.max(1,Math.floor(N.m()/A.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),U=_(R),I=U.j(A);W(I)||0<I.l(N);)R-=x,U=_(R),I=U.j(A);Q(U)&&(U=O),D=D.add(U),N=oe(N,I)}return new se(D,N)}r.A=function(N){return Ve(this,N).h},r.and=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],x=0;x<A;x++)R[x]=this.i(x)&N.i(x);return new d(R,this.h&N.h)},r.or=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],x=0;x<A;x++)R[x]=this.i(x)|N.i(x);return new d(R,this.h|N.h)},r.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],x=0;x<A;x++)R[x]=this.i(x)^N.i(x);return new d(R,this.h^N.h)};function Ze(N){for(var A=N.g.length+1,R=[],x=0;x<A;x++)R[x]=N.i(x)<<1|N.i(x-1)>>>31;return new d(R,N.h)}function be(N,A){var R=A>>5;A%=32;for(var x=N.g.length-R,D=[],U=0;U<x;U++)D[U]=0<A?N.i(U+R)>>>A|N.i(U+R+1)<<32-A:N.i(U+R);return new d(D,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Q0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,Js=d}).apply(typeof uv<"u"?uv:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Y0,Tl,X0,Uc,Yd,$0,J0,Z0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,v){return c==Array.prototype||c==Object.prototype||(c[m]=v.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(c,m){if(m)e:{var v=a;c=c.split(".");for(var S=0;S<c.length-1;S++){var L=c[S];if(!(L in v))break e;v=v[L]}c=c[c.length-1],S=v[c],m=m(S),m!=S&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}function u(c,m){c instanceof String&&(c+="");var v=0,S=!1,L={next:function(){if(!S&&v<c.length){var H=v++;return{value:m(H,c[H]),done:!1}}return S=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}l("Array.prototype.values",function(c){return c||function(){return u(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function _(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function T(c,m,v){return c.call.apply(c.bind,arguments)}function b(c,m,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,S),c.apply(m,L)}}return function(){return c.apply(m,arguments)}}function O(c,m,v){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:b,O.apply(null,arguments)}function P(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function Q(c,m){function v(){}v.prototype=m.prototype,c.aa=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,L,H){for(var ie=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)ie[rt-2]=arguments[rt];return m.prototype[L].apply(S,ie)}}function W(c){const m=c.length;if(0<m){const v=Array(m);for(let S=0;S<m;S++)v[S]=c[S];return v}return[]}function $(c,m){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const L=c.length||0,H=S.length||0;c.length=L+H;for(let ie=0;ie<H;ie++)c[L+ie]=S[ie]}else c.push(S)}}class oe{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ge(c){return/^[\s\xa0]*$/.test(c)}function se(){var c=g.navigator;return c&&(c=c.userAgent)?c:""}function Ve(c){return Ve[" "](c),c}Ve[" "]=function(){};var Ze=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function be(c,m,v){for(const S in c)m.call(v,c[S],S,c)}function N(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function A(c){const m={};for(const v in c)m[v]=c[v];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,m){let v,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(v in S)c[v]=S[v];for(let H=0;H<R.length;H++)v=R[H],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function D(c){var m=1;c=c.split(":");const v=[];for(;0<m&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function U(c){g.setTimeout(()=>{throw c},0)}function I(){var c=we;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class lt{constructor(){this.h=this.g=null}add(m,v){const S=vt.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var vt=new oe(()=>new F,c=>c.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,fe=!1,we=new lt,$e=()=>{const c=g.Promise.resolve(void 0);Z=()=>{c.then(M)}};var M=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){U(v)}var m=vt;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}fe=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var ae=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};g.addEventListener("test",v,m),g.removeEventListener("test",v,m)}catch{}return c})();function pe(c,m){if(ee.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(Ze){e:{try{Ve(m.nodeName);var L=!0;break e}catch{}L=!1}L||(m=null)}}else v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:De[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&pe.aa.h.call(this)}}Q(pe,ee);var De={2:"touch",3:"pen",4:"mouse"};pe.prototype.h=function(){pe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Mt=0;function je(c,m,v,S,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=L,this.key=++Mt,this.da=this.fa=!1}function pn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function yn(c){this.src=c,this.g={},this.h=0}yn.prototype.add=function(c,m,v,S,L){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var ie=Hn(c,m,S,L);return-1<ie?(m=c[ie],v||(m.fa=!1)):(m=new je(m,this.src,H,!!S,L),m.fa=v,c.push(m)),m};function Vi(c,m){var v=m.type;if(v in c.g){var S=c.g[v],L=Array.prototype.indexOf.call(S,m,void 0),H;(H=0<=L)&&Array.prototype.splice.call(S,L,1),H&&(pn(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Hn(c,m,v,S){for(var L=0;L<c.length;++L){var H=c[L];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==S)return L}return-1}var Wt="closure_lm_"+(1e6*Math.random()|0),On={};function ri(c,m,v,S,L){if(Array.isArray(m)){for(var H=0;H<m.length;H++)ri(c,m[H],v,S,L);return null}return v=Sr(v),c&&c[xe]?c.K(m,v,_(S)?!!S.capture:!1,L):Ui(c,m,v,!1,S,L)}function Ui(c,m,v,S,L,H){if(!m)throw Error("Invalid event type");var ie=_(L)?!!L.capture:!!L,rt=pi(c);if(rt||(c[Wt]=rt=new yn(c)),v=rt.add(m,v,S,ie,H),v.proxy)return v;if(S=ki(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)ae||(L=ie),L===void 0&&(L=!1),c.addEventListener(m.toString(),S,L);else if(c.attachEvent)c.attachEvent(si(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ki(){function c(v){return m.call(c.src,c.listener,v)}const m=Tr;return c}function Er(c,m,v,S,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)Er(c,m[H],v,S,L);else S=_(S)?!!S.capture:!!S,v=Sr(v),c&&c[xe]?(c=c.i,m=String(m).toString(),m in c.g&&(H=c.g[m],v=Hn(H,v,S,L),-1<v&&(pn(H[v]),Array.prototype.splice.call(H,v,1),H.length==0&&(delete c.g[m],c.h--)))):c&&(c=pi(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Hn(m,v,S,L)),(v=-1<c?m[c]:null)&&Fn(v))}function Fn(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[xe])Vi(m.i,c);else{var v=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(v,S,c.capture):m.detachEvent?m.detachEvent(si(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=pi(m))?(Vi(v,c),v.h==0&&(v.src=null,m[Wt]=null)):pn(c)}}}function si(c){return c in On?On[c]:On[c]="on"+c}function Tr(c,m){if(c.da)c=!0;else{m=new pe(m,this);var v=c.listener,S=c.ha||c.src;c.fa&&Fn(c),c=v.call(S,m)}return c}function pi(c){return c=c[Wt],c instanceof yn?c:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sr(c){return typeof c=="function"?c:(c[St]||(c[St]=function(m){return c.handleEvent(m)}),c[St])}function bt(){K.call(this),this.i=new yn(this),this.M=this,this.F=null}Q(bt,K),bt.prototype[xe]=!0,bt.prototype.removeEventListener=function(c,m,v,S){Er(this,c,m,v,S)};function Et(c,m){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new ee(m,c);else if(m instanceof ee)m.target=m.target||c;else{var L=m;m=new ee(S,c),x(m,L)}if(L=!0,v)for(var H=v.length-1;0<=H;H--){var ie=m.g=v[H];L=ai(ie,S,!0,m)&&L}if(ie=m.g=c,L=ai(ie,S,!0,m)&&L,L=ai(ie,S,!1,m)&&L,v)for(H=0;H<v.length;H++)ie=m.g=v[H],L=ai(ie,S,!1,m)&&L}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var v=c.g[m],S=0;S<v.length;S++)pn(v[S]);delete c.g[m],c.h--}}this.F=null},bt.prototype.K=function(c,m,v,S){return this.i.add(String(c),m,!1,v,S)},bt.prototype.L=function(c,m,v,S){return this.i.add(String(c),m,!0,v,S)};function ai(c,m,v,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,H=0;H<m.length;++H){var ie=m[H];if(ie&&!ie.da&&ie.capture==v){var rt=ie.listener,Ut=ie.ha||ie.src;ie.fa&&Vi(c.i,ie),L=rt.call(Ut,S)!==!1&&L}}return L&&!S.defaultPrevented}function la(c,m,v){if(typeof c=="function")v&&(c=O(c,v));else if(c&&typeof c.handleEvent=="function")c=O(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(c,m||0)}function re(c){c.g=la(()=>{c.g=null,c.i&&(c.i=!1,re(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class ne extends K{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:re(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function de(c){K.call(this),this.h=c,this.g={}}Q(de,K);var Ee=[];function Ne(c){be(c.g,function(m,v){this.g.hasOwnProperty(v)&&Fn(m)},c),c.g={}}de.prototype.N=function(){de.aa.N.call(this),Ne(this)},de.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vt=g.JSON.stringify,Se=g.JSON.parse,Ss=class{stringify(c){return g.JSON.stringify(c,void 0)}parse(c){return g.JSON.parse(c,void 0)}};function Gn(){}Gn.prototype.h=null;function Li(c){return c.h||(c.h=c.i())}function yt(){}var Oe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pe(){ee.call(this,"d")}Q(Pe,ee);function Ue(){ee.call(this,"c")}Q(Ue,ee);var ze={},ke=null;function Qt(){return ke=ke||new bt}ze.La="serverreachability";function qe(c){ee.call(this,ze.La,c)}Q(qe,ee);function qt(c){const m=Qt();Et(m,new qe(m))}ze.STAT_EVENT="statevent";function Kn(c,m){ee.call(this,ze.STAT_EVENT,c),this.stat=m}Q(Kn,ee);function Ht(c){const m=Qt();Et(m,new Kn(m,c))}ze.Ma="timingevent";function vo(c,m){ee.call(this,ze.Ma,c),this.size=m}Q(vo,ee);function br(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){c()},m)}function Ar(){this.g=!0}Ar.prototype.xa=function(){this.g=!1};function Eo(c,m,v,S,L,H){c.info(function(){if(c.g)if(H)for(var ie="",rt=H.split("&"),Ut=0;Ut<rt.length;Ut++){var Be=rt[Ut].split("=");if(1<Be.length){var Xt=Be[0];Be=Be[1];var $t=Xt.split("_");ie=2<=$t.length&&$t[1]=="type"?ie+(Xt+"="+Be+"&"):ie+(Xt+"=redacted&")}}else ie=null;else ie=H;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+v+`
`+ie})}function To(c,m,v,S,L,H,ie){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+v+`
`+H+" "+ie})}function Pi(c,m,v,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+yi(c,v)+(S?" "+S:"")})}function tu(c,m){c.info(function(){return"TIMEOUT: "+m})}Ar.prototype.info=function(){};function yi(c,m){if(!c.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var L=S[1];if(Array.isArray(L)&&!(1>L.length)){var H=L[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ie=1;ie<L.length;ie++)L[ie]=""}}}}return Vt(v)}catch{return m}}var At={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},en={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_i;function wr(){}Q(wr,Gn),wr.prototype.g=function(){return new XMLHttpRequest},wr.prototype.i=function(){return{}},_i=new wr;function vi(c,m,v,S){this.j=c,this.i=m,this.l=v,this.R=S||1,this.U=new de(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nu}function nu(){this.i=null,this.g="",this.h=!1}var So={},ji={};function bs(c,m,v){c.L=1,c.v=Rs(wt(m)),c.m=v,c.P=!0,zi(c,null)}function zi(c,m){c.F=Date.now(),oi(c),c.A=wt(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Hi(v.i,"t",S),c.C=0,v=c.j.J,c.h=new nu,c.g=_u(c.j,v?m:null,!c.m),0<c.O&&(c.M=new ne(O(c.Y,c,c.g),c.O)),m=c.U,v=c.g,S=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(Ee[0]=L.toString()),L=Ee);for(var H=0;H<L.length;H++){var ie=ri(v,L[H],S||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),qt(),Eo(c.i,c.u,c.A,c.l,c.R,c.m)}vi.prototype.ca=function(c){c=c.target;const m=this.M;m&&En(c)==3?m.j():this.Y(c)},vi.prototype.Y=function(c){try{if(c==this.g)e:{const $t=En(this.g);var m=this.g.Ba();const Pr=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||Ns(this.g)))){this.J||$t!=4||m==7||(m==8||0>=Pr?qt(3):qt(2)),ua(this);var v=this.g.Z();this.X=v;t:if(Bi(this)){var S=Ns(this.g);c="";var L=S.length,H=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),Rr(this);var ie="";break t}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,c+=this.h.i.decode(S[m],{stream:!(H&&m==L-1)});S.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=v==200,To(this.i,this.u,this.A,this.l,this.R,$t,v),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,Ut=this.g;if((rt=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ge(rt)){var Be=rt;break t}}Be=null}if(v=Be)Pi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ei(this,v);else{this.o=!1,this.s=3,Ht(12),_n(this),Rr(this);break e}}if(this.P){v=!0;let wn;for(;!this.J&&this.C<ie.length;)if(wn=As(this,ie),wn==ji){$t==4&&(this.s=4,Ht(14),v=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==So){this.s=4,Ht(15),Pi(this.i,this.l,ie,"[Invalid Chunk]"),v=!1;break}else Pi(this.i,this.l,wn,null),Ei(this,wn);if(Bi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||ie.length!=0||this.h.h||(this.s=1,Ht(16),v=!1),this.o=this.o&&v,!v)Pi(this.i,this.l,ie,"[Invalid Chunked Response]"),_n(this),Rr(this);else if(0<ie.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Mo(Xt),Xt.M=!0,Ht(11))}}else Pi(this.i,this.l,ie,null),Ei(this,ie);$t==4&&_n(this),this.o&&!this.J&&($t==4?gu(this.j,this):(this.o=!1,oi(this)))}else uu(this.g),v==400&&0<ie.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),_n(this),Rr(this)}}}catch{}finally{}};function Bi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function As(c,m){var v=c.C,S=m.indexOf(`
`,v);return S==-1?ji:(v=Number(m.substring(v,S)),isNaN(v)?So:(S+=1,S+v>m.length?ji:(m=m.slice(S,S+v),c.C=S+v,m)))}vi.prototype.cancel=function(){this.J=!0,_n(this)};function oi(c){c.S=Date.now()+c.I,Ct(c,c.I)}function Ct(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=br(O(c.ba,c),m)}function ua(c){c.B&&(g.clearTimeout(c.B),c.B=null)}vi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(tu(this.i,this.A),this.L!=2&&(qt(),Ht(17)),_n(this),this.s=2,Rr(this)):Ct(this,this.S-c)};function Rr(c){c.j.G==0||c.J||gu(c.j,c)}function _n(c){ua(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Ne(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Ei(c,m){try{var v=c.j;if(v.G!=0&&(v.g==c||Ir(v.h,c))){if(!c.K&&Ir(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)kr(v),Ur(v);else break e;Oo(v),Ht(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=br(O(v.Za,v),6e3));if(1>=iu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Gi(v,11)}else if((c.K||v.g==c)&&kr(v),!ge(m))for(L=v.Da.g.parse(m),m=0;m<L.length;m++){let Be=L[m];if(v.T=Be[0],Be=Be[1],v.G==2)if(Be[0]=="c"){v.K=Be[1],v.ia=Be[2];const Xt=Be[3];Xt!=null&&(v.la=Xt,v.j.info("VER="+v.la));const $t=Be[4];$t!=null&&(v.Aa=$t,v.j.info("SVER="+v.Aa));const Pr=Be[5];Pr!=null&&typeof Pr=="number"&&0<Pr&&(S=1.5*Pr,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const wn=c.g;if(wn){const Os=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Os){var H=S.h;H.g||Os.indexOf("spdy")==-1&&Os.indexOf("quic")==-1&&Os.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Cr(H,H.h),H.h=null))}if(S.D){const Ki=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ki&&(S.ya=Ki,We(S.I,S.D,Ki))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ie=c;if(S.qa=yu(S,S.J?S.ia:null,S.W),ie.K){Qn(S.h,ie);var rt=ie,Ut=S.L;Ut&&(rt.I=Ut),rt.B&&(ua(rt),oi(rt)),S.g=ie}else du(S);0<v.i.length&&ya(v)}else Be[0]!="stop"&&Be[0]!="close"||Gi(v,7);else v.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Gi(v,7):Do(v):Be[0]!="noop"&&v.l&&v.l.ta(Be),v.v=0)}}qt(4)}catch{}}var Sh=class{constructor(c,m){this.g=c,this.map=m}};function bo(c){this.l=c||10,g.PerformanceNavigationTiming?(c=g.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ao(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function iu(c){return c.h?1:c.g?c.g.size:0}function Ir(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Cr(c,m){c.g?c.g.add(m):c.h=m}function Qn(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}bo.prototype.cancel=function(){if(this.i=vn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function vn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.D);return m}return W(c.i)}function ru(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var m=[],v=c.length,S=0;S<v;S++)m.push(c[S]);return m}m=[],v=0;for(S in c)m[v++]=c[S];return m}function bh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var m=[];c=c.length;for(var v=0;v<c;v++)m.push(v);return m}m=[],v=0;for(const S in c)m[v++]=S;return m}}}function ca(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var v=bh(c),S=ru(c),L=S.length,H=0;H<L;H++)m.call(void 0,S[H],v&&v[H],c)}var wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ha(c,m){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),L=null;if(0<=S){var H=c[v].substring(0,S);L=c[v].substring(S+1)}else H=c[v];m(H,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function qi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof qi){this.h=c.h,Nr(this,c.j),this.o=c.o,this.g=c.g,ws(this,c.s),this.l=c.l;var m=c.i,v=new Ti;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),fa(this,v),this.m=c.m}else c&&(m=String(c).match(wo))?(this.h=!1,Nr(this,m[1]||"",!0),this.o=Dr(m[2]||""),this.g=Dr(m[3]||"",!0),ws(this,m[4]),this.l=Dr(m[5]||"",!0),fa(this,m[6]||"",!0),this.m=Dr(m[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}qi.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Yn(m,Ro,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Yn(m,Ro,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Yn(v,v.charAt(0)=="/"?Io:su,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Yn(v,Rh)),c.join("")};function wt(c){return new qi(c)}function Nr(c,m,v){c.j=v?Dr(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function ws(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function fa(c,m,v){m instanceof Ti?(c.i=m,au(c.i,c.h)):(v||(m=Yn(m,wh)),c.i=new Ti(m,c.h))}function We(c,m,v){c.i.set(m,v)}function Rs(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Dr(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Yn(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,Ah),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ah(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ro=/[#\/\?@]/g,su=/[#\?:]/g,Io=/[#\?]/g,wh=/[#\?@]/g,Rh=/#/g;function Ti(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Yt(c){c.g||(c.g=new Map,c.h=0,c.i&&ha(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Ti.prototype,r.add=function(c,m){Yt(this),this.i=null,c=Mn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function da(c,m){Yt(c),m=Mn(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function ma(c,m){return Yt(c),m=Mn(c,m),c.g.has(m)}r.forEach=function(c,m){Yt(this),this.g.forEach(function(v,S){v.forEach(function(L){c.call(m,L,S,this)},this)},this)},r.na=function(){Yt(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let S=0;S<m.length;S++){const L=c[S];for(let H=0;H<L.length;H++)v.push(m[S])}return v},r.V=function(c){Yt(this);let m=[];if(typeof c=="string")ma(this,c)&&(m=m.concat(this.g.get(Mn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)m=m.concat(c[v])}return m},r.set=function(c,m){return Yt(this),this.i=null,c=Mn(this,c),ma(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Hi(c,m,v){da(c,m),0<v.length&&(c.i=null,c.g.set(Mn(c,m),W(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var S=m[v];const H=encodeURIComponent(String(S)),ie=this.V(S);for(S=0;S<ie.length;S++){var L=H;ie[S]!==""&&(L+="="+encodeURIComponent(String(ie[S]))),c.push(L)}}return this.i=c.join("&")};function Mn(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function au(c,m){m&&!c.j&&(Yt(c),c.i=null,c.g.forEach(function(v,S){var L=S.toLowerCase();S!=L&&(da(this,S),Hi(this,L,v))},c)),c.j=m}function Co(c,m){const v=new Ar;if(g.Image){const S=new Image;S.onload=P(An,v,"TestLoadImage: loaded",!0,m,S),S.onerror=P(An,v,"TestLoadImage: error",!1,m,S),S.onabort=P(An,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=P(An,v,"TestLoadImage: timeout",!1,m,S),g.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function ou(c,m){const v=new Ar,S=new AbortController,L=setTimeout(()=>{S.abort(),An(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(H=>{clearTimeout(L),H.ok?An(v,"TestPingServer: ok",!0,m):An(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),An(v,"TestPingServer: error",!1,m)})}function An(c,m,v,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(v)}catch{}}function li(){this.g=new Ss}function No(c,m,v){const S=v||"";try{ca(c,function(L,H){let ie=L;_(L)&&(ie=Vt(L)),m.push(S+H+"="+encodeURIComponent(ie))})}catch(L){throw m.push(S+"type="+encodeURIComponent("_badmap")),L}}function Si(c){this.l=c.Ub||null,this.j=c.eb||!1}Q(Si,Gn),Si.prototype.g=function(){return new Vn(this.l,this.j)},Si.prototype.i=(function(c){return function(){return c}})({});function Vn(c,m){bt.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Q(Vn,bt),r=Vn.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,xr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bi(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,xr(this)),this.g&&(this.readyState=3,xr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ga(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ga(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?bi(this):xr(this),this.readyState==3&&ga(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,bi(this))},r.Qa=function(c){this.g&&(this.response=c,bi(this))},r.ga=function(){this.g&&bi(this)};function bi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,xr(c)}r.setRequestHeader=function(c,m){this.u.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function xr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Is(c){let m="";return be(c,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Or(c,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Is(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):We(c,m,v))}function dt(c){bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Q(dt,bt);var cn=/^https?$/i,Fi=["POST","PUT"];r=dt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_i.g(),this.v=this.o?Li(this.o):Li(_i),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(H){Cs(this,H);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)v.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())v.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),L=g.FormData&&c instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Fi,m,void 0))||S||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of v)this.g.setRequestHeader(H,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pa(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){Cs(this,H)}};function Cs(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,Mr(c),Vr(c)}function Mr(c){c.A||(c.A=!0,Et(c,"complete"),Et(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Et(this,"complete"),Et(this,"abort"),Vr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vr(this,!0)),dt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?lu(this):this.bb())},r.bb=function(){lu(this)};function lu(c){if(c.h&&typeof d<"u"&&(!c.v[1]||En(c)!=4||c.Z()!=2)){if(c.u&&En(c)==4)la(c.Ea,0,c);else if(Et(c,"readystatechange"),En(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=ie===0){var L=String(c.D).match(wo)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),S=!cn.test(L?L.toLowerCase():"")}v=S}if(v)Et(c,"complete"),Et(c,"success");else{c.m=6;try{var H=2<En(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",Mr(c)}}finally{Vr(c)}}}}function Vr(c,m){if(c.g){pa(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Et(c,"ready");try{v.onreadystatechange=S}catch{}}}function pa(c){c.I&&(g.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function En(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Se(m)}};function Ns(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uu(c){const m={};c=(c.g&&2<=En(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ge(c[S]))continue;var v=D(c[S]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[L]||[];m[L]=H,H.push(v)}N(m,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ds(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function cu(c){this.Aa=0,this.i=[],this.j=new Ar,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ds("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ds("baseRetryDelayMs",5e3,c),this.cb=Ds("retryDelaySeedMs",1e4,c),this.Wa=Ds("forwardChannelMaxRetries",2,c),this.wa=Ds("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new bo(c&&c.concurrentRequestLimit),this.Da=new li,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=cu.prototype,r.la=8,r.G=1,r.connect=function(c,m,v,S){Ht(0),this.W=c,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=yu(this,null,this.W),ya(this)};function Do(c){if(hu(c),c.G==3){var m=c.U++,v=wt(c.I);if(We(v,"SID",c.K),We(v,"RID",m),We(v,"TYPE","terminate"),xs(c,v),m=new vi(c,c.j,m),m.L=2,m.v=Rs(wt(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=m.v,v=!0),v||(m.g=_u(m.j,null),m.g.ea(m.v)),m.F=Date.now(),oi(m)}Vo(c)}function Ur(c){c.g&&(Mo(c),c.g.cancel(),c.g=null)}function hu(c){Ur(c),c.u&&(g.clearTimeout(c.u),c.u=null),kr(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&g.clearTimeout(c.s),c.s=null)}function ya(c){if(!Ao(c.h)&&!c.s){c.s=!0;var m=c.Ga;Z||$e(),fe||(Z(),fe=!0),we.add(m,c),c.B=0}}function Ih(c,m){return iu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=br(O(c.Ga,c,m),pu(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new vi(this,this.j,c);let H=this.o;if(this.S&&(H?(H=A(H),x(H,this.S)):H=this.S),this.m!==null||this.O||(L.H=H,H=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=xo(this,L,m),v=wt(this.I),We(v,"RID",c),We(v,"CVER",22),this.D&&We(v,"X-HTTP-Session-Id",this.D),xs(this,v),H&&(this.O?m="headers="+encodeURIComponent(String(Is(H)))+"&"+m:this.m&&Or(v,this.m,H)),Cr(this.h,L),this.Ua&&We(v,"TYPE","init"),this.P?(We(v,"$req",m),We(v,"SID","null"),L.T=!0,bs(L,v,null)):bs(L,v,m),this.G=2}}else this.G==3&&(c?fu(this,c):this.i.length==0||Ao(this.h)||fu(this))};function fu(c,m){var v;m?v=m.l:v=c.U++;const S=wt(c.I);We(S,"SID",c.K),We(S,"RID",v),We(S,"AID",c.T),xs(c,S),c.m&&c.o&&Or(S,c.m,c.o),v=new vi(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),m&&(c.i=m.D.concat(c.i)),m=xo(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Cr(c.h,v),bs(v,S,m)}function xs(c,m){c.H&&be(c.H,function(v,S){We(m,S,v)}),c.l&&ca({},function(v,S){We(m,S,v)})}function xo(c,m,v){v=Math.min(c.i.length,v);var S=c.l?O(c.l.Na,c.l,c):null;e:{var L=c.i;let H=-1;for(;;){const ie=["count="+v];H==-1?0<v?(H=L[0].g,ie.push("ofs="+H)):H=0:ie.push("ofs="+H);let rt=!0;for(let Ut=0;Ut<v;Ut++){let Be=L[Ut].g;const Xt=L[Ut].map;if(Be-=H,0>Be)H=Math.max(0,L[Ut].g-100),rt=!1;else try{No(Xt,ie,"req"+Be+"_")}catch{S&&S(Xt)}}if(rt){S=ie.join("&");break e}}}return c=c.i.splice(0,v),m.D=c,S}function du(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;Z||$e(),fe||(Z(),fe=!0),we.add(m,c),c.v=0}}function Oo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=br(O(c.Fa,c),pu(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=br(O(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),Ur(this),mu(this))};function Mo(c){c.A!=null&&(g.clearTimeout(c.A),c.A=null)}function mu(c){c.g=new vi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=wt(c.qa);We(m,"RID","rpc"),We(m,"SID",c.K),We(m,"AID",c.T),We(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(m,"TO",c.ja),We(m,"TYPE","xmlhttp"),xs(c,m),c.m&&c.o&&Or(m,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Rs(wt(m)),v.m=null,v.P=!0,zi(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Ur(this),Oo(this),Ht(19))};function kr(c){c.C!=null&&(g.clearTimeout(c.C),c.C=null)}function gu(c,m){var v=null;if(c.g==m){kr(c),Mo(c),c.g=null;var S=2}else if(Ir(c.h,m))v=m.D,Qn(c.h,m),S=1;else return;if(c.G!=0){if(m.o)if(S==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var L=c.B;S=Qt(),Et(S,new vo(S,v)),ya(c)}else du(c);else if(L=m.s,L==3||L==0&&0<m.X||!(S==1&&Ih(c,m)||S==2&&Oo(c)))switch(v&&0<v.length&&(m=c.h,m.i=m.i.concat(v)),L){case 1:Gi(c,5);break;case 4:Gi(c,10);break;case 3:Gi(c,6);break;default:Gi(c,2)}}}function pu(c,m){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*m}function Gi(c,m){if(c.j.info("Error code "+m),m==2){var v=O(c.fb,c),S=c.Xa;const L=!S;S=new qi(S||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Nr(S,"https"),Rs(S),L?Co(S.toString(),v):ou(S.toString(),v)}else Ht(2);c.G=0,c.l&&c.l.sa(m),Vo(c),hu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function Vo(c){if(c.G=0,c.ka=[],c.l){const m=vn(c.h);(m.length!=0||c.i.length!=0)&&($(c.ka,m),$(c.ka,c.i),c.h.i.length=0,W(c.i),c.i.length=0),c.l.ra()}}function yu(c,m,v){var S=v instanceof qi?wt(v):new qi(v);if(S.g!="")m&&(S.g=m+"."+S.g),ws(S,S.s);else{var L=g.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var H=new qi(null);S&&Nr(H,S),m&&(H.g=m),L&&ws(H,L),v&&(H.l=v),S=H}return v=c.D,m=c.ya,v&&m&&We(S,v,m),We(S,"VER",c.la),xs(c,S),S}function _u(c,m,v){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new dt(new Si({eb:v})):new dt(c.pa),m.Ha(c.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}r=vu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function _a(){}_a.prototype.g=function(c,m){return new Tn(c,m)};function Tn(c,m){bt.call(this),this.g=new cu(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!ge(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ge(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Lr(this)}Q(Tn,bt),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Do(this.g)},Tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Vt(c),c=v);m.i.push(new Sh(m.Ya++,c)),m.G==3&&ya(m)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,Tn.aa.N.call(this)};function Eu(c){Pe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}Q(Eu,Pe);function Tu(){Ue.call(this),this.status=1}Q(Tu,Ue);function Lr(c){this.g=c}Q(Lr,vu),Lr.prototype.ua=function(){Et(this.g,"a")},Lr.prototype.ta=function(c){Et(this.g,new Eu(c))},Lr.prototype.sa=function(c){Et(this.g,new Tu)},Lr.prototype.ra=function(){Et(this.g,"b")},_a.prototype.createWebChannel=_a.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,Z0=function(){return new _a},J0=function(){return Qt()},$0=ze,Yd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,Uc=At,en.COMPLETE="complete",X0=en,yt.EventType=Oe,Oe.OPEN="a",Oe.CLOSE="b",Oe.ERROR="c",Oe.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Tl=yt,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,Y0=dt}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const cv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new hm("@firebase/firestore");function _l(){return na.logLevel}function ce(r,...e){if(na.logLevel<=Xe.DEBUG){const i=e.map(bm);na.debug(`Firestore (${mo}): ${r}`,...i)}}function gr(r,...e){if(na.logLevel<=Xe.ERROR){const i=e.map(bm);na.error(`Firestore (${mo}): ${r}`,...i)}}function no(r,...e){if(na.logLevel<=Xe.WARN){const i=e.map(bm);na.warn(`Firestore (${mo}): ${r}`,...i)}}function bm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(r="Unexpected state"){const e=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: `+r;throw gr(e),new Error(e)}function ot(r,e){r||Ae()}function Ce(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends yr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(dn.UNAUTHENTICATED)))}shutdown(){}}class tR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class nR{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ot(this.o===void 0);let a=this.i;const l=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let u=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zs,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zs)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ot(typeof a.accessToken=="string"),new W0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string"),new dn(e)}}class iR{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rR{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new iR(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable((()=>i(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){ot(this.o===void 0);const a=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.R;return this.R=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const l=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(ot(typeof i.token=="string"),this.R=i.token,new sR(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const l=oR(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<i&&(a+=e.charAt(l[u]%e.length))}return a}}function nt(r,e){return r<e?-1:r>e?1:0}function io(r,e,i){return r.length===e.length&&r.every(((a,l)=>i(a,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*i));return new Gt(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Gt(0,0))}static max(){return new Ie(new Gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ae(),a===void 0?a=e.length-i:a>e.length-i&&Ae(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Ul.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ul?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const u=e.get(l),d=i.get(l);if(u<d)return-1;if(u>d)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class pt extends Ul{construct(e,i,a){return new pt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new pt(i)}static emptyPath(){return new pt([])}}const lR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Ul{construct(e,i,a){return new on(e,i,a)}static isValidIdentifier(e){return lR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new on(["__name__"])}static fromServerFormat(e){const i=[];let a="",l=0;const u=()=>{if(a.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(u(),l++)}if(u(),d)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(i)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(pt.fromString(e))}static fromName(e){return new _e(pt.fromString(e).popFirst(5))}static empty(){return new _e(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return pt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new pt(e.slice()))}}function uR(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Ie.fromTimestamp(a===1e9?new Gt(i+1,0):new Gt(i,a));return new ys(l,_e.empty(),e)}function cR(r){return new ys(r.readTime,r.key,-1)}class ys{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new ys(Ie.min(),_e.empty(),-1)}static max(){return new ys(Ie.max(),_e.empty(),-1)}}function hR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=_e.comparator(r.documentKey,e.documentKey),i!==0?i:nt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==fR)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new te(((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof te?i:te.resolve(i)}catch(i){return te.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):te.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):te.reject(i)}static resolve(e){return new te(((i,a)=>{i(e)}))}static reject(e){return new te(((i,a)=>{a(e)}))}static waitFor(e){return new te(((i,a)=>{let l=0,u=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&i()}),(p=>a(p)))})),d=!0,u===l&&i()}))}static or(e){let i=te.resolve(!1);for(const a of e)i=i.next((l=>l?te.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,u)=>{a.push(i.call(this,l,u))})),this.waitFor(a)}static mapArray(e,i){return new te(((a,l)=>{const u=e.length,d=new Array(u);let g=0;for(let p=0;p<u;p++){const _=p;i(e[_]).next((T=>{d[_]=T,++g,g===u&&a(d)}),(T=>l(T)))}}))}static doWhile(e,i){return new te(((a,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):a()};u()}))}}function mR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Xl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ie(a),this.se=a=>i.writeSequenceNumber(a))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Am.oe=-1;function oh(r){return r==null}function Yc(r){return r===0&&1/r==-1/0}function gR(r){return typeof r=="number"&&Number.isInteger(r)&&!Yc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function aa(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function tE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,i){this.comparator=e,this.root=i||an.EMPTY}insert(e,i){return new Tt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?a(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,i,a,l,u){this.key=e,this.value=i,this.color=a??an.RED,this.left=l??an.EMPTY,this.right=u??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,u){return new an(e??this.key,i??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const u=a(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,a),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return an.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,i,a,l,u){return this}insert(e,i,a){return new an(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new fv(this.data.getIterator())}getIteratorFrom(e){return new fv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new ln(this.comparator);return i.data=e,i}}class fv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new qn([])}unionWith(e){let i=new ln(on.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return io(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new nE("Invalid base64 string: "+u):u}})(e);return new un(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new un(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const pR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(r){if(ot(!!r),typeof r=="string"){let e=0;const i=pR.exec(r);if(ot(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ot(r.seconds),nanos:Ot(r.nanos)}}function Ot(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ia(r){return typeof r=="string"?un.fromBase64String(r):un.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function Rm(r){const e=r.mapValue.fields.__previous_value__;return wm(e)?Rm(e):e}function kl(r){const e=_s(r.mapValue.fields.__local_write_time__.timestampValue);return new Gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,i,a,l,u,d,g,p,_){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_}}class Ll{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc={mapValue:{}};function ra(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?wm(r)?4:vR(r)?9007199254740991:_R(r)?10:11:Ae()}function Mi(r,e){if(r===e)return!0;const i=ra(r);if(i!==ra(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return kl(r).isEqual(kl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=_s(l.timestampValue),g=_s(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,u){return ia(l.bytesValue).isEqual(ia(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,u){return Ot(l.geoPointValue.latitude)===Ot(u.geoPointValue.latitude)&&Ot(l.geoPointValue.longitude)===Ot(u.geoPointValue.longitude)})(r,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Ot(l.integerValue)===Ot(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Ot(l.doubleValue),g=Ot(u.doubleValue);return d===g?Yc(d)===Yc(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return io(r.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(hv(d)!==hv(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!Mi(d[p],g[p])))return!1;return!0})(r,e);default:return Ae()}}function Pl(r,e){return(r.values||[]).find((i=>Mi(i,e)))!==void 0}function ro(r,e){if(r===e)return 0;const i=ra(r),a=ra(e);if(i!==a)return nt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return nt(r.booleanValue,e.booleanValue);case 2:return(function(u,d){const g=Ot(u.integerValue||u.doubleValue),p=Ot(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(r,e);case 3:return dv(r.timestampValue,e.timestampValue);case 4:return dv(kl(r),kl(e));case 5:return nt(r.stringValue,e.stringValue);case 6:return(function(u,d){const g=ia(u),p=ia(d);return g.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,d){const g=u.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=nt(g[_],p[_]);if(T!==0)return T}return nt(g.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,d){const g=nt(Ot(u.latitude),Ot(d.latitude));return g!==0?g:nt(Ot(u.longitude),Ot(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return mv(r.arrayValue,e.arrayValue);case 10:return(function(u,d){var g,p,_,T;const b=u.fields||{},O=d.fields||{},P=(g=b.value)===null||g===void 0?void 0:g.arrayValue,Q=(p=O.value)===null||p===void 0?void 0:p.arrayValue,W=nt(((_=P==null?void 0:P.values)===null||_===void 0?void 0:_.length)||0,((T=Q==null?void 0:Q.values)===null||T===void 0?void 0:T.length)||0);return W!==0?W:mv(P,Q)})(r.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Cc.mapValue&&d===Cc.mapValue)return 0;if(u===Cc.mapValue)return 1;if(d===Cc.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),_=d.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const O=nt(p[b],T[b]);if(O!==0)return O;const P=ro(g[p[b]],_[T[b]]);if(P!==0)return P}return nt(p.length,T.length)})(r.mapValue,e.mapValue);default:throw Ae()}}function dv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return nt(r,e);const i=_s(r),a=_s(e),l=nt(i.seconds,a.seconds);return l!==0?l:nt(i.nanos,a.nanos)}function mv(r,e){const i=r.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const u=ro(i[l],a[l]);if(u)return u}return nt(i.length,a.length)}function so(r){return Xd(r)}function Xd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=_s(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ia(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return _e.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const u of i.values||[])l?l=!1:a+=",",a+=Xd(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of a)u?u=!1:l+=",",l+=`${d}:${Xd(i.fields[d])}`;return l+"}"})(r.mapValue):Ae()}function gv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function $d(r){return!!r&&"integerValue"in r}function Im(r){return!!r&&"arrayValue"in r}function pv(r){return!!r&&"nullValue"in r}function yv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function kc(r){return!!r&&"mapValue"in r}function _R(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function Rl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return aa(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Rl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Rl(r.arrayValue.values[i]);return e}return Object.assign({},r)}function vR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!kc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rl(i)}setAll(e){let i=on.emptyPath(),a={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Rl(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,a,l)}delete(e){const i=this.field(e.popLast());kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];kc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){aa(i,((l,u)=>e[l]=u));for(const l of a)delete e[l]}clone(){return new xn(Rl(this.value))}}function iE(r){const e=[];return aa(r.fields,((i,a)=>{const l=new on([i]);if(kc(a)){const u=iE(a.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,i,a,l,u,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new mn(e,0,Ie.min(),Ie.min(),Ie.min(),xn.empty(),0)}static newFoundDocument(e,i,a,l){return new mn(e,1,i,Ie.min(),a,l,0)}static newNoDocument(e,i){return new mn(e,2,i,Ie.min(),Ie.min(),xn.empty(),0)}static newUnknownDocument(e,i){return new mn(e,3,i,Ie.min(),Ie.min(),xn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,i){this.position=e,this.inclusive=i}}function _v(r,e,i){let a=0;for(let l=0;l<r.position.length;l++){const u=e[l],d=r.position[l];if(u.field.isKeyField()?a=_e.comparator(_e.fromName(d.referenceValue),i.key):a=ro(d,i.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function vv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Mi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,i="asc"){this.field=e,this.dir=i}}function ER(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{}class Bt extends rE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new SR(e,i,a):i==="array-contains"?new wR(e,a):i==="in"?new RR(e,a):i==="not-in"?new IR(e,a):i==="array-contains-any"?new CR(e,a):new Bt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new bR(e,a):new AR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ro(i,this.value)):i!==null&&ra(this.value)===ra(i)&&this.matchesComparison(ro(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends rE{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new mi(e,i)}matches(e){return sE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sE(r){return r.op==="and"}function aE(r){return TR(r)&&sE(r)}function TR(r){for(const e of r.filters)if(e instanceof mi)return!1;return!0}function Jd(r){if(r instanceof Bt)return r.field.canonicalString()+r.op.toString()+so(r.value);if(aE(r))return r.filters.map((e=>Jd(e))).join(",");{const e=r.filters.map((i=>Jd(i))).join(",");return`${r.op}(${e})`}}function oE(r,e){return r instanceof Bt?(function(a,l){return l instanceof Bt&&a.op===l.op&&a.field.isEqual(l.field)&&Mi(a.value,l.value)})(r,e):r instanceof mi?(function(a,l){return l instanceof mi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((u,d,g)=>u&&oE(d,l.filters[g])),!0):!1})(r,e):void Ae()}function lE(r){return r instanceof Bt?(function(i){return`${i.field.canonicalString()} ${i.op} ${so(i.value)}`})(r):r instanceof mi?(function(i){return i.op.toString()+" {"+i.getFilters().map(lE).join(" ,")+"}"})(r):"Filter"}class SR extends Bt{constructor(e,i,a){super(e,i,a),this.key=_e.fromName(a.referenceValue)}matches(e){const i=_e.comparator(e.key,this.key);return this.matchesComparison(i)}}class bR extends Bt{constructor(e,i){super(e,"in",i),this.keys=uE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class AR extends Bt{constructor(e,i){super(e,"not-in",i),this.keys=uE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function uE(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((a=>_e.fromName(a.referenceValue)))}class wR extends Bt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Im(i)&&Pl(i.arrayValue,this.value)}}class RR extends Bt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Pl(this.value.arrayValue,i)}}class IR extends Bt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Pl(this.value.arrayValue,i)}}class CR extends Bt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Im(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Pl(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,i=null,a=[],l=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.ue=null}}function Ev(r,e=null,i=[],a=[],l=null,u=null,d=null){return new NR(r,e,i,a,l,u,d)}function Cm(r){const e=Ce(r);if(e.ue===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>Jd(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),oh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>so(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>so(a))).join(",")),e.ue=i}return e.ue}function Nm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!ER(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!oE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!vv(r.startAt,e.startAt)&&vv(r.endAt,e.endAt)}function Zd(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,i=null,a=[],l=[],u=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function DR(r,e,i,a,l,u,d,g){return new go(r,e,i,a,l,u,d,g)}function Dm(r){return new go(r)}function Tv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cE(r){return r.collectionGroup!==null}function Il(r){const e=Ce(r);if(e.ce===null){e.ce=[];const i=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),i.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new ln(on.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.ce.push(new jl(u,a))})),i.has(on.keyField().canonicalString())||e.ce.push(new jl(on.keyField(),a))}return e.ce}function xi(r){const e=Ce(r);return e.le||(e.le=xR(e,Il(r))),e.le}function xR(r,e){if(r.limitType==="F")return Ev(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new jl(l.field,u)}));const i=r.endAt?new Xc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Xc(r.startAt.position,r.startAt.inclusive):null;return Ev(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function Wd(r,e){const i=r.filters.concat([e]);return new go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function $c(r,e,i){return new go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function lh(r,e){return Nm(xi(r),xi(e))&&r.limitType===e.limitType}function hE(r){return`${Cm(xi(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>lE(l))).join(", ")}]`),oh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>so(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>so(l))).join(",")),`Target(${a})`})(xi(r))}; limitType=${r.limitType})`}function uh(r,e){return e.isFoundDocument()&&(function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):_e.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,e)&&(function(a,l){for(const u of Il(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(d,g,p){const _=_v(d,g,p);return d.inclusive?_<=0:_<0})(a.startAt,Il(a),l)||a.endAt&&!(function(d,g,p){const _=_v(d,g,p);return d.inclusive?_>=0:_>0})(a.endAt,Il(a),l))})(r,e)}function OR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fE(r){return(e,i)=>{let a=!1;for(const l of Il(r)){const u=MR(l,e,i);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function MR(r,e,i){const a=r.field.isKeyField()?_e.comparator(e.key,i.key):(function(u,d,g){const p=d.data.field(u),_=g.data.field(u);return p!==null&&_!==null?ro(p,_):Ae()})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,((i,a)=>{for(const[l,u]of a)e(l,u)}))}isEmpty(){return tE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=new Tt(_e.comparator);function pr(){return VR}const dE=new Tt(_e.comparator);function Sl(...r){let e=dE;for(const i of r)e=e.insert(i.key,i);return e}function mE(r){let e=dE;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function $s(){return Cl()}function gE(){return Cl()}function Cl(){return new po((r=>r.toString()),((r,e)=>r.isEqual(e)))}const UR=new Tt(_e.comparator),kR=new ln(_e.comparator);function Qe(...r){let e=kR;for(const i of r)e=e.add(i);return e}const LR=new ln(nt);function PR(){return LR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(e)?"-0":e}}function pE(r){return{integerValue:""+r}}function jR(r,e){return gR(e)?pE(e):xm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this._=void 0}}function zR(r,e,i){return r instanceof zl?(function(l,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&wm(u)&&(u=Rm(u)),u&&(d.fields.__previous_value__=u),{mapValue:d}})(i,e):r instanceof ao?_E(r,e):r instanceof Bl?vE(r,e):(function(l,u){const d=yE(l,u),g=Sv(d)+Sv(l.Pe);return $d(d)&&$d(l.Pe)?pE(g):xm(l.serializer,g)})(r,e)}function BR(r,e,i){return r instanceof ao?_E(r,e):r instanceof Bl?vE(r,e):i}function yE(r,e){return r instanceof Jc?(function(a){return $d(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class zl extends ch{}class ao extends ch{constructor(e){super(),this.elements=e}}function _E(r,e){const i=EE(e);for(const a of r.elements)i.some((l=>Mi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Bl extends ch{constructor(e){super(),this.elements=e}}function vE(r,e){let i=EE(e);for(const a of r.elements)i=i.filter((l=>!Mi(l,a)));return{arrayValue:{values:i}}}class Jc extends ch{constructor(e,i){super(),this.serializer=e,this.Pe=i}}function Sv(r){return Ot(r.integerValue||r.doubleValue)}function EE(r){return Im(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,i){this.field=e,this.transform=i}}function qR(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof ao&&l instanceof ao||a instanceof Bl&&l instanceof Bl?io(a.elements,l.elements,Mi):a instanceof Jc&&l instanceof Jc?Mi(a.Pe,l.Pe):a instanceof zl&&l instanceof zl})(r.transform,e.transform)}class HR{constructor(e,i){this.version=e,this.transformResults=i}}class fi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new fi}static exists(e){return new fi(void 0,e)}static updateTime(e){return new fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class hh{}function SE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new AE(r.key,fi.none()):new $l(r.key,r.data,fi.none());{const i=r.data,a=xn.empty();let l=new ln(on.comparator);for(let u of e.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?a.delete(u):a.set(u,d),l=l.add(u)}return new Es(r.key,a,new qn(l.toArray()),fi.none())}}function FR(r,e,i){r instanceof $l?(function(l,u,d){const g=l.value.clone(),p=Av(l.fieldTransforms,u,d.transformResults);g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof Es?(function(l,u,d){if(!Lc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=Av(l.fieldTransforms,u,d.transformResults),p=u.data;p.setAll(bE(l)),p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Nl(r,e,i,a){return r instanceof $l?(function(u,d,g,p){if(!Lc(u.precondition,d))return g;const _=u.value.clone(),T=wv(u.fieldTransforms,p,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof Es?(function(u,d,g,p){if(!Lc(u.precondition,d))return g;const _=wv(u.fieldTransforms,p,d),T=d.data;return T.setAll(bE(u)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,i,a):(function(u,d,g){return Lc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function GR(r,e){let i=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),u=yE(a.transform,l||null);u!=null&&(i===null&&(i=xn.empty()),i.set(a.field,u))}return i||null}function bv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&io(a,l,((u,d)=>qR(u,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class $l extends hh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Es extends hh{constructor(e,i,a,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function bE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function Av(r,e,i){const a=new Map;ot(r.length===i.length);for(let l=0;l<i.length;l++){const u=r[l],d=u.transform,g=e.data.field(u.field);a.set(u.field,BR(d,g,i[l]))}return a}function wv(r,e,i){const a=new Map;for(const l of r){const u=l.transform,d=i.data.field(l.field);a.set(l.field,zR(u,d,e))}return a}class AE extends hh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KR extends hh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&FR(u,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Nl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Nl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=gE();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=i.has(l.key)?null:g;const p=SE(d,g);p!==null&&a.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(Ie.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&io(this.mutations,e.mutations,((i,a)=>bv(i,a)))&&io(this.baseMutations,e.baseMutations,((i,a)=>bv(i,a)))}}class Om{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){ot(e.mutations.length===a.length);let l=(function(){return UR})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,a[d].version);return new Om(e,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,Je;function $R(r){switch(r){default:return Ae();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function wE(r){if(r===void 0)return gr("GRPC error has no .code"),J.UNKNOWN;switch(r){case zt.OK:return J.OK;case zt.CANCELLED:return J.CANCELLED;case zt.UNKNOWN:return J.UNKNOWN;case zt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case zt.INTERNAL:return J.INTERNAL;case zt.UNAVAILABLE:return J.UNAVAILABLE;case zt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case zt.NOT_FOUND:return J.NOT_FOUND;case zt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case zt.ABORTED:return J.ABORTED;case zt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case zt.DATA_LOSS:return J.DATA_LOSS;default:return Ae()}}(Je=zt||(zt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=new Js([4294967295,4294967295],0);function Rv(r){const e=JR().encode(r),i=new Q0;return i.update(e),new Uint8Array(i.digest())}function Iv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Js([i,a],0),new Js([l,u],0)]}class Mm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new bl(`Invalid padding: ${i}`);if(a<0)throw new bl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new bl(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*e.length-i,this.Te=Js.fromNumber(this.Ie)}Ee(e,i,a){let l=e.add(i.multiply(Js.fromNumber(a)));return l.compare(ZR)===1&&(l=new Js([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const i=Rv(e),[a,l]=Iv(i);for(let u=0;u<this.hashCount;u++){const d=this.Ee(a,l,u);if(!this.de(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Mm(u,l,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.Ie===0)return;const i=Rv(e),[a,l]=Iv(i);for(let u=0;u<this.hashCount;u++){const d=this.Ee(a,l,u);this.Ae(d)}}Ae(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,i,a,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new fh(Ie.min(),l,new Tt(nt),pr(),Qe())}}class Jl{constructor(e,i,a,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Jl(a,i,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,i,a,l){this.Re=e,this.removedTargetIds=i,this.key=a,this.Ve=l}}class RE{constructor(e,i){this.targetId=e,this.me=i}}class IE{constructor(e,i,a=un.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Cv{constructor(){this.fe=0,this.ge=Dv(),this.pe=un.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Qe(),i=Qe(),a=Qe();return this.ge.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Ae()}})),new Jl(this.pe,this.ye,e,i,a)}Ce(){this.we=!1,this.ge=Dv()}Fe(e,i){this.we=!0,this.ge=this.ge.insert(e,i)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ot(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class WR{constructor(e){this.Le=e,this.Be=new Map,this.ke=pr(),this.qe=Nv(),this.Qe=new Tt(nt)}Ke(e){for(const i of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(i,e.Ve):this.Ue(i,e.key,e.Ve);for(const i of e.removedTargetIds)this.Ue(i,e.key,e.Ve)}We(e){this.forEachTarget(e,(i=>{const a=this.Ge(i);switch(e.state){case 0:this.ze(i)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(i)&&(this.je(i),a.De(e.resumeToken));break;default:Ae()}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Be.forEach(((a,l)=>{this.ze(l)&&i(l)}))}He(e){const i=e.targetId,a=e.me.count,l=this.Je(i);if(l){const u=l.target;if(Zd(u))if(a===0){const d=new _e(u.path);this.Ue(i,d,mn.newNoDocument(d,Ie.min()))}else ot(a===1);else{const d=this.Ye(i);if(d!==a){const g=this.Ze(e),p=g?this.Xe(g,e,d):1;if(p!==0){this.je(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,_)}}}}}Ze(e){const i=e.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=i;let d,g;try{d=ia(a).toUint8Array()}catch(p){if(p instanceof nE)return no("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Mm(d,l,u)}catch(p){return no(p instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ie===0?null:g}Xe(e,i,a){return i.me.count===a-this.nt(e,i.targetId)?0:2}nt(e,i){const a=this.Le.getRemoteKeysForTarget(i);let l=0;return a.forEach((u=>{const d=this.Le.tt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.Ue(i,u,null),l++)})),l}rt(e){const i=new Map;this.Be.forEach(((u,d)=>{const g=this.Je(d);if(g){if(u.current&&Zd(g.target)){const p=new _e(g.target.path);this.ke.get(p)!==null||this.it(d,p)||this.Ue(d,p,mn.newNoDocument(p,e))}u.be&&(i.set(d,u.ve()),u.Ce())}}));let a=Qe();this.qe.forEach(((u,d)=>{let g=!0;d.forEachWhile((p=>{const _=this.Je(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(u))})),this.ke.forEach(((u,d)=>d.setReadTime(e)));const l=new fh(e,i,this.Qe,this.ke,a);return this.ke=pr(),this.qe=Nv(),this.Qe=new Tt(nt),l}$e(e,i){if(!this.ze(e))return;const a=this.it(e,i.key)?2:0;this.Ge(e).Fe(i.key,a),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(e))}Ue(e,i,a){if(!this.ze(e))return;const l=this.Ge(e);this.it(e,i)?l.Fe(i,1):l.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(e)),a&&(this.ke=this.ke.insert(i,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const i=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let i=this.Be.get(e);return i||(i=new Cv,this.Be.set(e,i)),i}st(e){let i=this.qe.get(e);return i||(i=new ln(nt),this.qe=this.qe.insert(e,i)),i}ze(e){const i=this.Je(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}Je(e){const i=this.Be.get(e);return i&&i.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Cv),this.Le.getRemoteKeysForTarget(e).forEach((i=>{this.Ue(e,i,null)}))}it(e,i){return this.Le.getRemoteKeysForTarget(e).has(i)}}function Nv(){return new Tt(_e.comparator)}function Dv(){return new Tt(_e.comparator)}const eI={asc:"ASCENDING",desc:"DESCENDING"},tI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nI={and:"AND",or:"OR"};class iI{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function em(r,e){return r.useProto3Json||oh(e)?e:{value:e}}function Zc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function rI(r,e){return Zc(r,e.toTimestamp())}function Oi(r){return ot(!!r),Ie.fromTimestamp((function(i){const a=_s(i);return new Gt(a.seconds,a.nanos)})(r))}function Vm(r,e){return tm(r,e).canonicalString()}function tm(r,e){const i=(function(l){return new pt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function NE(r){const e=pt.fromString(r);return ot(VE(e)),e}function nm(r,e){return Vm(r.databaseId,e.path)}function Ud(r,e){const i=NE(e);if(i.get(1)!==r.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new _e(xE(i))}function DE(r,e){return Vm(r.databaseId,e)}function sI(r){const e=NE(r);return e.length===4?pt.emptyPath():xE(e)}function im(r){return new pt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function xE(r){return ot(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function xv(r,e,i){return{name:nm(r,e),fields:i.value.mapValue.fields}}function aI(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ae()})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(_,T){return _.useProto3Json?(ot(T===void 0||typeof T=="string"),un.fromBase64String(T||"")):(ot(T===void 0||T instanceof Buffer||T instanceof Uint8Array),un.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const T=_.code===void 0?J.UNKNOWN:wE(_.code);return new ue(T,_.message||"")})(d);i=new IE(a,l,u,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Ud(r,a.document.name),u=Oi(a.document.updateTime),d=a.document.createTime?Oi(a.document.createTime):Ie.min(),g=new xn({mapValue:{fields:a.document.fields}}),p=mn.newFoundDocument(l,u,d,g),_=a.targetIds||[],T=a.removedTargetIds||[];i=new Pc(_,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Ud(r,a.document),u=a.readTime?Oi(a.readTime):Ie.min(),d=mn.newNoDocument(l,u),g=a.removedTargetIds||[];i=new Pc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Ud(r,a.document),u=a.removedTargetIds||[];i=new Pc([],u,l,null)}else{if(!("filter"in e))return Ae();{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,d=new XR(l,u),g=a.targetId;i=new RE(g,d)}}return i}function oI(r,e){let i;if(e instanceof $l)i={update:xv(r,e.key,e.value)};else if(e instanceof AE)i={delete:nm(r,e.key)};else if(e instanceof Es)i={update:xv(r,e.key,e.data),updateMask:pI(e.fieldMask)};else{if(!(e instanceof KR))return Ae();i={verify:nm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(u,d){const g=d.transform;if(g instanceof zl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ao)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Jc)return{fieldPath:d.field.canonicalString(),increment:g.Pe};throw Ae()})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:rI(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae()})(r,e.precondition)),i}function lI(r,e){return r&&r.length>0?(ot(e!==void 0),r.map((i=>(function(l,u){let d=l.updateTime?Oi(l.updateTime):Oi(u);return d.isEqual(Ie.min())&&(d=Oi(u)),new HR(d,l.transformResults||[])})(i,e)))):[]}function uI(r,e){return{documents:[DE(r,e.path)]}}function cI(r,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=DE(r,l);const u=(function(_){if(_.length!==0)return ME(mi.create(_,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const d=(function(_){if(_.length!==0)return _.map((T=>(function(O){return{field:Ya(O.field),direction:dI(O.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=em(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{_t:i,parent:l}}function hI(r){let e=sI(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){ot(a===1);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let u=[];i.where&&(u=(function(b){const O=OE(b);return O instanceof mi&&aE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((O=>(function(Q){return new jl(Xa(Q.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(O)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let O;return O=typeof b=="object"?b.value:b,oh(O)?null:O})(i.limit));let p=null;i.startAt&&(p=(function(b){const O=!!b.before,P=b.values||[];return new Xc(P,O)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const O=!b.before,P=b.values||[];return new Xc(P,O)})(i.endAt)),DR(e,l,d,u,g,"F",p,_)}function fI(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function OE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Xa(i.unaryFilter.field);return Bt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Xa(i.unaryFilter.field);return Bt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Xa(i.unaryFilter.field);return Bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Xa(i.unaryFilter.field);return Bt.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}})(r):r.fieldFilter!==void 0?(function(i){return Bt.create(Xa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return mi.create(i.compositeFilter.filters.map((a=>OE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ae()}})(i.compositeFilter.op))})(r):Ae()}function dI(r){return eI[r]}function mI(r){return tI[r]}function gI(r){return nI[r]}function Ya(r){return{fieldPath:r.canonicalString()}}function Xa(r){return on.fromServerFormat(r.fieldPath)}function ME(r){return r instanceof Bt?(function(i){if(i.op==="=="){if(yv(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NAN"}};if(pv(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(yv(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NAN"}};if(pv(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(i.field),op:mI(i.op),value:i.value}}})(r):r instanceof mi?(function(i){const a=i.getFilters().map((l=>ME(l)));return a.length===1?a[0]:{compositeFilter:{op:gI(i.op),filters:a}}})(r):Ae()}function pI(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function VE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,i,a,l,u=Ie.min(),d=Ie.min(),g=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.ct=e}}function _I(r){const e=hI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?$c(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.un=new EI}addToCollectionParentIndex(e,i){return this.un.add(i),te.resolve()}getCollectionParents(e,i){return te.resolve(this.un.getEntries(i))}addFieldIndex(e,i){return te.resolve()}deleteFieldIndex(e,i){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,i){return te.resolve()}getDocumentsMatchingTarget(e,i){return te.resolve(null)}getIndexType(e,i){return te.resolve(0)}getFieldIndexes(e,i){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,i){return te.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,i){return te.resolve(ys.min())}updateCollectionGroup(e,i,a){return te.resolve()}updateIndexEntries(e,i){return te.resolve()}}class EI{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new ln(pt.comparator),u=!l.has(a);return this.index[i]=l.add(a),u}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new ln(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new oo(0)}static kn(){return new oo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.changes=new po((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?te.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Nl(a.mutation,l,qn.empty(),Gt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Qe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Qe()){const l=$s();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((u=>{let d=Sl();return u.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=$s();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Qe())))}populateOverlays(e,i,a){const l=[];return a.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,l){let u=pr();const d=Cl(),g=(function(){return Cl()})();return i.forEach(((p,_)=>{const T=a.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof Es)?u=u.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Nl(T.mutation,_,T.mutation.getFieldMask(),Gt.now())):d.set(_.key,qn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>{var b;return g.set(_,new SI(T,(b=d.get(_))!==null&&b!==void 0?b:null))})),g)))}recalculateAndSaveOverlays(e,i){const a=Cl();let l=new Tt(((d,g)=>d-g)),u=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let T=a.get(p)||qn.empty();T=g.applyToLocalView(_,T),a.set(p,T);const b=(l.get(g.batchId)||Qe()).add(p);l=l.insert(g.batchId,b)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,b=gE();T.forEach((O=>{if(!u.has(O)){const P=SE(i.get(O),a.get(O));P!==null&&b.set(O,P),u=u.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,b))}return te.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):cE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-u.size):te.resolve($s());let g=-1,p=u;return d.next((_=>te.forEach(_,((T,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),u.get(T)?te.resolve():this.remoteDocumentCache.getEntry(e,T).next((O=>{p=p.insert(T,O)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,p,_,Qe()))).next((T=>({batchId:g,changes:mE(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _e(i)).next((a=>{let l=Sl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const u=i.collectionGroup;let d=Sl();return this.indexManager.getCollectionParents(e,u).next((g=>te.forEach(g,(p=>{const _=(function(b,O){return new go(O,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((T=>{T.forEach(((b,O)=>{d=d.insert(b,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,u,l)))).next((d=>{u.forEach(((p,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,mn.newInvalidDocument(T)))}));let g=Sl();return d.forEach(((p,_)=>{const T=u.get(p);T!==void 0&&Nl(T.mutation,_,qn.empty(),Gt.now()),uh(i,_)&&(g=g.insert(p,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,i){return te.resolve(this.hr.get(i))}saveBundleMetadata(e,i){return this.hr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(i)),te.resolve()}getNamedQuery(e,i){return te.resolve(this.Pr.get(i))}saveNamedQuery(e,i){return this.Pr.set(i.name,(function(l){return{name:l.name,query:_I(l.bundledQuery),readTime:Oi(l.readTime)}})(i)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.overlays=new Tt(_e.comparator),this.Ir=new Map}getOverlay(e,i){return te.resolve(this.overlays.get(i))}getOverlays(e,i){const a=$s();return te.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&a.set(l,u)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,u)=>{this.ht(e,i,u)})),te.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.Ir.get(a);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Ir.delete(a)),te.resolve()}getOverlaysForCollection(e,i,a){const l=$s(),u=i.length+1,d=new _e(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===u&&p.largestBatchId>a&&l.set(p.getKey(),p)}return te.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let u=new Tt(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let T=u.get(_.largestBatchId);T===null&&(T=$s(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=$s(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,T)=>g.set(_,T))),!(g.size()>=l)););return te.resolve(g)}ht(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Ir.get(l.largestBatchId).delete(a.key);this.Ir.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new YR(i,a));let u=this.Ir.get(i);u===void 0&&(u=Qe(),this.Ir.set(i,u)),this.Ir.set(i,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(){this.Tr=new ln(Zt.Er),this.dr=new ln(Zt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,i){const a=new Zt(e,i);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Vr(new Zt(e,i))}mr(e,i){e.forEach((a=>this.removeReference(a,i)))}gr(e){const i=new _e(new pt([])),a=new Zt(i,e),l=new Zt(i,e+1),u=[];return this.dr.forEachInRange([a,l],(d=>{this.Vr(d),u.push(d.key)})),u}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const i=new _e(new pt([])),a=new Zt(i,e),l=new Zt(i,e+1);let u=Qe();return this.dr.forEachInRange([a,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const i=new Zt(e,0),a=this.Tr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Zt{constructor(e,i){this.key=e,this.wr=i}static Er(e,i){return _e.comparator(e.key,i.key)||nt(e.wr,i.wr)}static Ar(e,i){return nt(e.wr,i.wr)||_e.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new ln(Zt.Er)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new QR(u,i,a,l);this.mutationQueue.push(d);for(const g of l)this.br=this.br.add(new Zt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return te.resolve(d)}lookupMutationBatch(e,i){return te.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.vr(a),u=l<0?0:l;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Zt(i,0),l=new Zt(i,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([a,l],(d=>{const g=this.Dr(d.wr);u.push(g)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new ln(nt);return i.forEach((l=>{const u=new Zt(l,0),d=new Zt(l,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,d],(g=>{a=a.add(g.wr)}))})),te.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let u=a;_e.isDocumentKey(u)||(u=u.child(""));const d=new Zt(new _e(u),0);let g=new ln(nt);return this.br.forEachWhile((p=>{const _=p.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.wr)),!0)}),d),te.resolve(this.Cr(g))}Cr(e){const i=[];return e.forEach((a=>{const l=this.Dr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){ot(this.Fr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.br;return te.forEach(i.mutations,(l=>{const u=new Zt(l.key,i.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.br=a}))}On(e){}containsKey(e,i){const a=new Zt(i,0),l=this.br.firstAfterOrEqual(a);return te.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Fr(e,i){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const i=this.vr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.Mr=e,this.docs=(function(){return new Tt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),u=l?l.size:0,d=this.Mr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return te.resolve(a?a.document.mutableCopy():mn.newInvalidDocument(i))}getEntries(e,i){let a=pr();return i.forEach((l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():mn.newInvalidDocument(l))})),te.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let u=pr();const d=i.path,g=new _e(d.child("")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||hR(cR(T),a)<=0||(l.has(T.key)||uh(i,T))&&(u=u.insert(T.key,T.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,i,a,l){Ae()}Or(e,i){return te.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new NI(this)}getSize(e){return te.resolve(this.size)}}class NI extends TI{constructor(e){super(),this.cr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.cr.addEntry(e,l)):this.cr.removeEntry(a)})),te.waitFor(i)}getFromCache(e,i){return this.cr.getEntry(e,i)}getAllFromCache(e,i){return this.cr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.persistence=e,this.Nr=new po((i=>Cm(i)),Nm),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Um,this.targetCount=0,this.kr=oo.Bn()}forEachTarget(e,i){return this.Nr.forEach(((a,l)=>i(l))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Lr&&(this.Lr=i),te.resolve()}Kn(e){this.Nr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.kr=new oo(i),this.highestTargetId=i),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,i){return this.Kn(i),this.targetCount+=1,te.resolve()}updateTargetData(e,i){return this.Kn(i),te.resolve()}removeTargetData(e,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,i,a){let l=0;const u=[];return this.Nr.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Nr.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),te.waitFor(u).next((()=>l))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,i){const a=this.Nr.get(i)||null;return te.resolve(a)}addMatchingKeys(e,i,a){return this.Br.Rr(i,a),te.resolve()}removeMatchingKeys(e,i,a){this.Br.mr(i,a);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this.Br.gr(i),te.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Br.yr(i);return te.resolve(a)}containsKey(e,i){return te.resolve(this.Br.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,i){this.qr={},this.overlays={},this.Qr=new Am(0),this.Kr=!1,this.Kr=!0,this.$r=new RI,this.referenceDelegate=e(this),this.Ur=new DI(this),this.indexManager=new vI,this.remoteDocumentCache=(function(l){return new CI(l)})((a=>this.referenceDelegate.Wr(a))),this.serializer=new yI(i),this.Gr=new AI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new wI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.qr[e.toKey()];return a||(a=new II(i,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,i,a){ce("MemoryPersistence","Starting transaction:",e);const l=new OI(this.Qr.next());return this.referenceDelegate.zr(),a(l).next((u=>this.referenceDelegate.jr(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Hr(e,i){return te.or(Object.values(this.qr).map((a=>()=>a.containsKey(e,i))))}}class OI extends dR{constructor(e){super(),this.currentSequenceNumber=e}}class km{constructor(e){this.persistence=e,this.Jr=new Um,this.Yr=null}static Zr(e){return new km(e)}get Xr(){if(this.Yr)return this.Yr;throw Ae()}addReference(e,i,a){return this.Jr.addReference(a,i),this.Xr.delete(a.toString()),te.resolve()}removeReference(e,i,a){return this.Jr.removeReference(a,i),this.Xr.add(a.toString()),te.resolve()}markPotentiallyOrphaned(e,i){return this.Xr.add(i.toString()),te.resolve()}removeTarget(e,i){this.Jr.gr(i.targetId).forEach((l=>this.Xr.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.Xr.add(u.toString())))})).next((()=>a.removeTargetData(e,i)))}zr(){this.Yr=new Set}jr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Xr,(a=>{const l=_e.fromPath(a);return this.ei(e,l).next((u=>{u||i.removeEntry(l,Ie.min())}))})).next((()=>(this.Yr=null,i.apply(e))))}updateLimboDocument(e,i){return this.ei(e,i).next((a=>{a?this.Xr.delete(i.toString()):this.Xr.add(i.toString())}))}Wr(e){return 0}ei(e,i){return te.or([()=>te.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Hr(e,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.$i=a,this.Ui=l}static Wi(e,i){let a=Qe(),l=Qe();for(const u of i.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Lm(e,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return Eb()?8:mR(gn())>0?6:4})()}initialize(e,i){this.Ji=e,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(e,i,a,l){const u={result:null};return this.Yi(e,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.Zi(e,i,l,a).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new MI;return this.Xi(e,i,d).next((g=>{if(u.result=g,this.zi)return this.es(e,i,d,g.size)}))})).next((()=>u.result))}es(e,i,a,l){return a.documentReadCount<this.ji?(_l()<=Xe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),te.resolve()):(_l()<=Xe.DEBUG&&ce("QueryEngine","Query:",Qa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.Hi*l?(_l()<=Xe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(i))):te.resolve())}Yi(e,i){if(Tv(i))return te.resolve(null);let a=xi(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=$c(i,null,"F"),a=xi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const d=Qe(...u);return this.Ji.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((p=>{const _=this.ts(i,g);return this.ns(i,_,d,p.readTime)?this.Yi(e,$c(i,null,"F")):this.rs(e,_,i,p)}))))})))))}Zi(e,i,a,l){return Tv(i)||l.isEqual(Ie.min())?te.resolve(null):this.Ji.getDocuments(e,a).next((u=>{const d=this.ts(i,u);return this.ns(i,d,a,l)?te.resolve(null):(_l()<=Xe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(i)),this.rs(e,d,i,uR(l,-1)).next((g=>g)))}))}ts(e,i){let a=new ln(fE(e));return i.forEach(((l,u)=>{uh(e,u)&&(a=a.add(u))})),a}ns(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Xi(e,i,a){return _l()<=Xe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Qa(i)),this.Ji.getDocumentsMatchingQuery(e,i,ys.min(),a)}rs(e,i,a,l){return this.Ji.getDocumentsMatchingQuery(e,a,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,i,a,l){this.persistence=e,this.ss=i,this.serializer=l,this.os=new Tt(nt),this._s=new po((u=>Cm(u)),Nm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.os)))}}function kI(r,e,i,a){return new UI(r,e,i,a)}async function UE(r,e){const i=Ce(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((u=>(l=u,i.ls(e),i.mutationQueue.getAllMutationBatches(a)))).next((u=>{const d=[],g=[];let p=Qe();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of u){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(a,p).next((_=>({hs:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function LI(r,e){const i=Ce(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),u=i.cs.newChangeBuffer({trackRemovals:!0});return(function(g,p,_,T){const b=_.batch,O=b.keys();let P=te.resolve();return O.forEach((Q=>{P=P.next((()=>T.getEntry(p,Q))).next((W=>{const $=_.docVersions.get(Q);ot($!==null),W.version.compareTo($)<0&&(b.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),T.addEntry(W)))}))})),P.next((()=>g.mutationQueue.removeMutationBatch(p,b)))})(i,a,e,u).next((()=>u.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let p=Qe();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function kE(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Ur.getLastRemoteSnapshotVersion(i)))}function PI(r,e){const i=Ce(r),a=e.snapshotVersion;let l=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.cs.newChangeBuffer({trackRemovals:!0});l=i.os;const g=[];e.targetChanges.forEach(((T,b)=>{const O=l.get(b);if(!O)return;g.push(i.Ur.removeMatchingKeys(u,T.removedDocuments,b).next((()=>i.Ur.addMatchingKeys(u,T.addedDocuments,b))));let P=O.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?P=P.withResumeToken(un.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,a)),l=l.insert(b,P),(function(W,$,oe){return W.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8?!0:oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0})(O,P,T)&&g.push(i.Ur.updateTargetData(u,P))}));let p=pr(),_=Qe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(u,T))})),g.push(jI(u,d,e.documentUpdates).next((T=>{p=T.Ps,_=T.Is}))),!a.isEqual(Ie.min())){const T=i.Ur.getLastRemoteSnapshotVersion(u).next((b=>i.Ur.setTargetsMetadata(u,u.currentSequenceNumber,a)));g.push(T)}return te.waitFor(g).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,p,_))).next((()=>p))})).then((u=>(i.os=l,u)))}function jI(r,e,i){let a=Qe(),l=Qe();return i.forEach((u=>a=a.add(u))),e.getEntries(r,a).next((u=>{let d=pr();return i.forEach(((g,p)=>{const _=u.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):ce("LocalStore","Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)})),{Ps:d,Is:l}}))}function zI(r,e){const i=Ce(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function BI(r,e){const i=Ce(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Ur.getTargetData(a,e).next((u=>u?(l=u,te.resolve(l)):i.Ur.allocateTargetId(a).next((d=>(l=new fs(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Ur.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.os.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.os=i.os.insert(a.targetId,a),i._s.set(e,a.targetId)),a}))}async function rm(r,e,i){const a=Ce(r),l=a.os.get(e),u=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",u,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Xl(d))throw d;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}a.os=a.os.remove(e),a._s.delete(l.target)}function Ov(r,e,i){const a=Ce(r);let l=Ie.min(),u=Qe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,T){const b=Ce(p),O=b._s.get(T);return O!==void 0?te.resolve(b.os.get(O)):b.Ur.getTargetData(_,T)})(a,d,xi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(d,g.targetId).next((p=>{u=p}))})).next((()=>a.ss.getDocumentsMatchingQuery(d,e,i?l:Ie.min(),i?u:Qe()))).next((g=>(qI(a,OR(e),g),{documents:g,Ts:u})))))}function qI(r,e,i){let a=r.us.get(e)||Ie.min();i.forEach(((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.us.set(e,a)}class Mv{constructor(){this.activeTargetIds=PR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HI{constructor(){this.so=new Mv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,i,a){this.oo[e]=i}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Mv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc=null;function kd(){return Nc===null?Nc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nc++,"0x"+Nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class QI extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const a=i.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+i.host,this.vo=`projects/${l}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${l}`:`project_id=${l}&database_id=${u}`}get Fo(){return!1}Mo(i,a,l,u,d){const g=kd(),p=this.xo(i,a.toUriEncodedString());ce("RestConnection",`Sending RPC '${i}' ${g}:`,p,l);const _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,u,d),this.No(i,p,_,l).then((T=>(ce("RestConnection",`Received RPC '${i}' ${g}: `,T),T)),(T=>{throw no("RestConnection",`RPC '${i}' ${g} failed with error: `,T,"url: ",p,"request:",l),T}))}Lo(i,a,l,u,d,g){return this.Mo(i,a,l,u,d)}Oo(i,a,l){i["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mo})(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((u,d)=>i[d]=u)),l&&l.headers.forEach(((u,d)=>i[d]=u))}xo(i,a){const l=GI[i];return`${this.Do}/v1/${a}:${l}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,i,a,l){const u=kd();return new Promise(((d,g)=>{const p=new Y0;p.setWithCredentials(!0),p.listenOnce(X0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Uc.NO_ERROR:const T=p.getResponseJson();ce(fn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),d(T);break;case Uc.TIMEOUT:ce(fn,`RPC '${e}' ${u} timed out`),g(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const b=p.getStatus();if(ce(fn,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let O=p.getResponseJson();Array.isArray(O)&&(O=O[0]);const P=O==null?void 0:O.error;if(P&&P.status&&P.message){const Q=(function($){const oe=$.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(oe)>=0?oe:J.UNKNOWN})(P.status);g(new ue(Q,P.message))}else g(new ue(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ue(J.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{ce(fn,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(l);ce(fn,`RPC '${e}' ${u} sending request:`,l),p.send(i,"POST",_,a,15)}))}Bo(e,i,a){const l=kd(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Z0(),g=J0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const T=u.join("");ce(fn,`Creating RPC '${e}' stream ${l}: ${T}`,p);const b=d.createWebChannel(T,p);let O=!1,P=!1;const Q=new KI({Io:$=>{P?ce(fn,`Not sending because RPC '${e}' stream ${l} is closed:`,$):(O||(ce(fn,`Opening RPC '${e}' stream ${l} transport.`),b.open(),O=!0),ce(fn,`RPC '${e}' stream ${l} sending:`,$),b.send($))},To:()=>b.close()}),W=($,oe,ge)=>{$.listen(oe,(se=>{try{ge(se)}catch(Ve){setTimeout((()=>{throw Ve}),0)}}))};return W(b,Tl.EventType.OPEN,(()=>{P||(ce(fn,`RPC '${e}' stream ${l} transport opened.`),Q.yo())})),W(b,Tl.EventType.CLOSE,(()=>{P||(P=!0,ce(fn,`RPC '${e}' stream ${l} transport closed`),Q.So())})),W(b,Tl.EventType.ERROR,($=>{P||(P=!0,no(fn,`RPC '${e}' stream ${l} transport errored:`,$),Q.So(new ue(J.UNAVAILABLE,"The operation could not be completed")))})),W(b,Tl.EventType.MESSAGE,($=>{var oe;if(!P){const ge=$.data[0];ot(!!ge);const se=ge,Ve=se.error||((oe=se[0])===null||oe===void 0?void 0:oe.error);if(Ve){ce(fn,`RPC '${e}' stream ${l} received error:`,Ve);const Ze=Ve.status;let be=(function(R){const x=zt[R];if(x!==void 0)return wE(x)})(Ze),N=Ve.message;be===void 0&&(be=J.INTERNAL,N="Unknown error status: "+Ze+" with message "+Ve.message),P=!0,Q.So(new ue(be,N)),b.close()}else ce(fn,`RPC '${e}' stream ${l} received:`,ge),Q.bo(ge)}})),W(g,$0.STAT_EVENT,($=>{$.stat===Yd.PROXY?ce(fn,`RPC '${e}' stream ${l} detected buffering proxy`):$.stat===Yd.NOPROXY&&ce(fn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Q.wo()}),0),Q}}function Ld(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(r){return new iI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,i,a=1e3,l=1.5,u=6e4){this.ui=e,this.timerId=i,this.ko=a,this.qo=l,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const i=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),l=Math.max(0,i-a);l>0&&ce("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,l,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,i,a,l,u,d,g,p){this.ui=e,this.Ho=a,this.Jo=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new LE(e,i)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,i){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(gr(i.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(i)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.Yo===i&&this.P_(a,l)}),(a=>{e((()=>{const l=new ue(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(l)}))}))}P_(e,i){const a=this.h_(this.Yo);this.stream=this.T_(e,i),this.stream.Eo((()=>{a((()=>this.listener.Eo()))})),this.stream.Ro((()=>{a((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((l=>{a((()=>this.I_(l)))})),this.stream.onMessage((l=>{a((()=>++this.e_==1?this.E_(l):this.onNext(l)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return i=>{this.ui.enqueueAndForget((()=>this.Yo===e?i():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YI extends PE{constructor(e,i,a,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=u}T_(e,i){return this.connection.Bo("Listen",e,i)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const i=aI(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Ie.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ie.min():d.readTime?Oi(d.readTime):Ie.min()})(e);return this.listener.d_(i,a)}A_(e){const i={};i.database=im(this.serializer),i.addTarget=(function(u,d){let g;const p=d.target;if(g=Zd(p)?{documents:uI(u,p)}:{query:cI(u,p)._t},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=CE(u,d.resumeToken);const _=em(u,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ie.min())>0){g.readTime=Zc(u,d.snapshotVersion.toTimestamp());const _=em(u,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=fI(this.serializer,e);a&&(i.labels=a),this.a_(i)}R_(e){const i={};i.database=im(this.serializer),i.removeTarget=e,this.a_(i)}}class XI extends PE{constructor(e,i,a,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,i){return this.connection.Bo("Write",e,i)}E_(e){return ot(!!e.streamToken),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const i=lI(e.writeResults,e.commitTime),a=Oi(e.commitTime);return this.listener.g_(a,i)}p_(){const e={};e.database=im(this.serializer),this.a_(e)}m_(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>oI(this.serializer,a)))};this.a_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I extends class{}{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.y_=!1}w_(){if(this.y_)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,i,a,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Mo(e,tm(i,a),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(J.UNKNOWN,u.toString())}))}Lo(e,i,a,l,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Lo(e,tm(i,a),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue(J.UNKNOWN,d.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class JI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(gr(i),this.D_=!1):ce("OnlineStateTracker",i)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,i,a,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o((d=>{a.enqueueAndForget((async()=>{oa(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const _=Ce(p);_.L_.add(4),await Zl(_),_.q_.set("Unknown"),_.L_.delete(4),await mh(_)})(this))}))})),this.q_=new JI(a,l)}}async function mh(r){if(oa(r))for(const e of r.B_)await e(!0)}async function Zl(r){for(const e of r.B_)await e(!1)}function jE(r,e){const i=Ce(r);i.N_.has(e.targetId)||(i.N_.set(e.targetId,e),Bm(i)?zm(i):yo(i).r_()&&jm(i,e))}function Pm(r,e){const i=Ce(r),a=yo(i);i.N_.delete(e),a.r_()&&zE(i,e),i.N_.size===0&&(a.r_()?a.o_():oa(i)&&i.q_.set("Unknown"))}function jm(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}yo(r).A_(e)}function zE(r,e){r.Q_.xe(e),yo(r).R_(e)}function zm(r){r.Q_=new WR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),yo(r).start(),r.q_.v_()}function Bm(r){return oa(r)&&!yo(r).n_()&&r.N_.size>0}function oa(r){return Ce(r).L_.size===0}function BE(r){r.Q_=void 0}async function WI(r){r.q_.set("Online")}async function eC(r){r.N_.forEach(((e,i)=>{jm(r,e)}))}async function tC(r,e){BE(r),Bm(r)?(r.q_.M_(e),zm(r)):r.q_.set("Unknown")}async function nC(r,e,i){if(r.q_.set("Online"),e instanceof IE&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.N_.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.N_.delete(g),l.Q_.removeTarget(g))})(r,e)}catch(a){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Wc(r,a)}else if(e instanceof Pc?r.Q_.Ke(e):e instanceof RE?r.Q_.He(e):r.Q_.We(e),!i.isEqual(Ie.min()))try{const a=await kE(r.localStore);i.compareTo(a)>=0&&await(function(u,d){const g=u.Q_.rt(d);return g.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.N_.get(_);T&&u.N_.set(_,T.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,_)=>{const T=u.N_.get(p);if(!T)return;u.N_.set(p,T.withResumeToken(un.EMPTY_BYTE_STRING,T.snapshotVersion)),zE(u,p);const b=new fs(T.target,p,_,T.sequenceNumber);jm(u,b)})),u.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){ce("RemoteStore","Failed to raise snapshot:",a),await Wc(r,a)}}async function Wc(r,e,i){if(!Xl(e))throw e;r.L_.add(1),await Zl(r),r.q_.set("Offline"),i||(i=()=>kE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce("RemoteStore","Retrying IndexedDB access"),await i(),r.L_.delete(1),await mh(r)}))}function qE(r,e){return e().catch((i=>Wc(r,i,e)))}async function gh(r){const e=Ce(r),i=vs(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;iC(e);)try{const l=await zI(e.localStore,a);if(l===null){e.O_.length===0&&i.o_();break}a=l.batchId,rC(e,l)}catch(l){await Wc(e,l)}HE(e)&&FE(e)}function iC(r){return oa(r)&&r.O_.length<10}function rC(r,e){r.O_.push(e);const i=vs(r);i.r_()&&i.V_&&i.m_(e.mutations)}function HE(r){return oa(r)&&!vs(r).n_()&&r.O_.length>0}function FE(r){vs(r).start()}async function sC(r){vs(r).p_()}async function aC(r){const e=vs(r);for(const i of r.O_)e.m_(i.mutations)}async function oC(r,e,i){const a=r.O_.shift(),l=Om.from(a,e,i);await qE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await gh(r)}async function lC(r,e){e&&vs(r).V_&&await(async function(a,l){if((function(d){return $R(d)&&d!==J.ABORTED})(l.code)){const u=a.O_.shift();vs(a).s_(),await qE(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l))),await gh(a)}})(r,e),HE(r)&&FE(r)}async function Uv(r,e){const i=Ce(r);i.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const a=oa(i);i.L_.add(3),await Zl(i),a&&i.q_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.L_.delete(3),await mh(i)}async function uC(r,e){const i=Ce(r);e?(i.L_.delete(2),await mh(i)):e||(i.L_.add(2),await Zl(i),i.q_.set("Unknown"))}function yo(r){return r.K_||(r.K_=(function(i,a,l){const u=Ce(i);return u.w_(),new YI(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Eo:WI.bind(null,r),Ro:eC.bind(null,r),mo:tC.bind(null,r),d_:nC.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),Bm(r)?zm(r):r.q_.set("Unknown")):(await r.K_.stop(),BE(r))}))),r.K_}function vs(r){return r.U_||(r.U_=(function(i,a,l){const u=Ce(i);return u.w_(),new XI(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:sC.bind(null,r),mo:lC.bind(null,r),f_:aC.bind(null,r),g_:oC.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await gh(r)):(await r.U_.stop(),r.O_.length>0&&(ce("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,i,a,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,u){const d=Date.now()+a,g=new qm(e,i,d,l,u);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(r,e){if(gr("AsyncQueue",`${e}: ${r}`),Xl(r))return new ue(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.comparator=e?(i,a)=>e(i,a)||_e.comparator(i.key,a.key):(i,a)=>_e.comparator(i.key,a.key),this.keyedMap=Sl(),this.sortedSet=new Tt(this.comparator)}static emptySet(e){return new eo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new eo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this.W_=new Tt(_e.comparator)}track(e){const i=e.doc.key,a=this.W_.get(i);a?e.type!==0&&a.type===3?this.W_=this.W_.insert(i,e):e.type===3&&a.type!==1?this.W_=this.W_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.W_=this.W_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.W_=this.W_.remove(i):e.type===1&&a.type===2?this.W_=this.W_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):Ae():this.W_=this.W_.insert(i,e)}G_(){const e=[];return this.W_.inorderTraversal(((i,a)=>{e.push(a)})),e}}class lo{constructor(e,i,a,l,u,d,g,p,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,l,u){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new lo(e,i,eo.emptySet(i),d,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class hC{constructor(){this.queries=Lv(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(i,a){const l=Ce(i),u=l.queries;l.queries=Lv(),u.forEach(((d,g)=>{for(const p of g.j_)p.onError(a)}))})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function Lv(){return new po((r=>hE(r)),lh)}async function fC(r,e){const i=Ce(r);let a=3;const l=e.query;let u=i.queries.get(l);u?!u.H_()&&e.J_()&&(a=2):(u=new cC,a=e.J_()?0:1);try{switch(a){case 0:u.z_=await i.onListen(l,!0);break;case 1:u.z_=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Hm(d,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,u),u.j_.push(e),e.Z_(i.onlineState),u.z_&&e.X_(u.z_)&&Fm(i)}async function dC(r,e){const i=Ce(r),a=e.query;let l=3;const u=i.queries.get(a);if(u){const d=u.j_.indexOf(e);d>=0&&(u.j_.splice(d,1),u.j_.length===0?l=e.J_()?0:1:!u.H_()&&e.J_()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function mC(r,e){const i=Ce(r);let a=!1;for(const l of e){const u=l.query,d=i.queries.get(u);if(d){for(const g of d.j_)g.X_(l)&&(a=!0);d.z_=l}}a&&Fm(i)}function gC(r,e,i){const a=Ce(r),l=a.queries.get(e);if(l)for(const u of l.j_)u.onError(i);a.queries.delete(e)}function Fm(r){r.Y_.forEach((e=>{e.next()}))}var sm,Pv;(Pv=sm||(sm={})).ea="default",Pv.Cache="cache";class pC{constructor(e,i,a){this.query=e,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new lo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.na?this.ia(e)&&(this.ta.next(e),i=!0):this.sa(e,this.onlineState)&&(this.oa(e),i=!0),this.ra=e,i}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),i=!0),i}sa(e,i){if(!e.fromCache||!this.J_())return!0;const a=i!=="Offline";return(!this.options._a||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const i=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}oa(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this.key=e}}class KE{constructor(e){this.key=e}}class yC{constructor(e,i){this.query=e,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Qe(),this.mutatedKeys=Qe(),this.Aa=fE(e),this.Ra=new eo(this.Aa)}get Va(){return this.Ta}ma(e,i){const a=i?i.fa:new kv,l=i?i.Ra:this.Ra;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,b)=>{const O=l.get(T),P=uh(this.query,b)?b:null,Q=!!O&&this.mutatedKeys.has(O.key),W=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let $=!1;O&&P?O.data.isEqual(P.data)?Q!==W&&(a.track({type:3,doc:P}),$=!0):this.ga(O,P)||(a.track({type:2,doc:P}),$=!0,(p&&this.Aa(P,p)>0||_&&this.Aa(P,_)<0)&&(g=!0)):!O&&P?(a.track({type:0,doc:P}),$=!0):O&&!P&&(a.track({type:1,doc:O}),$=!0,(p||_)&&(g=!0)),$&&(P?(d=d.add(P),u=W?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),a.track({type:1,doc:T})}return{Ra:d,fa:a,ns:g,mutatedKeys:u}}ga(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const d=e.fa.G_();d.sort(((T,b)=>(function(P,Q){const W=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return W(P)-W(Q)})(T.type,b.type)||this.Aa(T.doc,b.doc))),this.pa(a),l=l!=null&&l;const g=i&&!l?this.ya():[],p=this.da.size===0&&this.current&&!l?1:0,_=p!==this.Ea;return this.Ea=p,d.length!==0||_?{snapshot:new lo(this.query,e.Ra,u,d,e.mutatedKeys,p===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:g}:{wa:g}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new kv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((i=>this.Ta=this.Ta.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ta=this.Ta.delete(i))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Qe(),this.Ra.forEach((a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))}));const i=[];return e.forEach((a=>{this.da.has(a)||i.push(new KE(a))})),this.da.forEach((a=>{e.has(a)||i.push(new GE(a))})),i}ba(e){this.Ta=e.Ts,this.da=Qe();const i=this.ma(e.documents);return this.applyChanges(i,!0)}Da(){return lo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class _C{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class vC{constructor(e){this.key=e,this.va=!1}}class EC{constructor(e,i,a,l,u,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new po((g=>hE(g)),lh),this.Ma=new Map,this.xa=new Set,this.Oa=new Tt(_e.comparator),this.Na=new Map,this.La=new Um,this.Ba={},this.ka=new Map,this.qa=oo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function TC(r,e,i=!0){const a=ZE(r);let l;const u=a.Fa.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Da()):l=await QE(a,e,i,!0),l}async function SC(r,e){const i=ZE(r);await QE(i,e,!0,!1)}async function QE(r,e,i,a){const l=await BI(r.localStore,xi(e)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,i);let g;return a&&(g=await bC(r,e,u,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&jE(r.remoteStore,l),g}async function bC(r,e,i,a,l){r.Ka=(b,O,P)=>(async function(W,$,oe,ge){let se=$.view.ma(oe);se.ns&&(se=await Ov(W.localStore,$.query,!1).then((({documents:N})=>$.view.ma(N,se))));const Ve=ge&&ge.targetChanges.get($.targetId),Ze=ge&&ge.targetMismatches.get($.targetId)!=null,be=$.view.applyChanges(se,W.isPrimaryClient,Ve,Ze);return zv(W,$.targetId,be.wa),be.snapshot})(r,b,O,P);const u=await Ov(r.localStore,e,!0),d=new yC(e,u.Ts),g=d.ma(u.documents),p=Jl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,p);zv(r,i,_.wa);const T=new _C(e,i,d);return r.Fa.set(e,T),r.Ma.has(i)?r.Ma.get(i).push(e):r.Ma.set(i,[e]),_.snapshot}async function AC(r,e,i){const a=Ce(r),l=a.Fa.get(e),u=a.Ma.get(l.targetId);if(u.length>1)return a.Ma.set(l.targetId,u.filter((d=>!lh(d,e)))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await rm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Pm(a.remoteStore,l.targetId),am(a,l.targetId)})).catch(Yl)):(am(a,l.targetId),await rm(a.localStore,l.targetId,!0))}async function wC(r,e){const i=Ce(r),a=i.Fa.get(e),l=i.Ma.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Pm(i.remoteStore,a.targetId))}async function RC(r,e,i){const a=MC(r);try{const l=await(function(d,g){const p=Ce(d),_=Gt.now(),T=g.reduce(((P,Q)=>P.add(Q.key)),Qe());let b,O;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let Q=pr(),W=Qe();return p.cs.getEntries(P,T).next(($=>{Q=$,Q.forEach(((oe,ge)=>{ge.isValidDocument()||(W=W.add(oe))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,Q))).next(($=>{b=$;const oe=[];for(const ge of g){const se=GR(ge,b.get(ge.key).overlayedDocument);se!=null&&oe.push(new Es(ge.key,se,iE(se.value.mapValue),fi.exists(!0)))}return p.mutationQueue.addMutationBatch(P,_,oe,g)})).next(($=>{O=$;const oe=$.applyToLocalDocumentSet(b,W);return p.documentOverlayCache.saveOverlays(P,$.batchId,oe)}))})).then((()=>({batchId:O.batchId,changes:mE(b)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,p){let _=d.Ba[d.currentUser.toKey()];_||(_=new Tt(nt)),_=_.insert(g,p),d.Ba[d.currentUser.toKey()]=_})(a,l.batchId,i),await Wl(a,l.changes),await gh(a.remoteStore)}catch(l){const u=Hm(l,"Failed to persist write");i.reject(u)}}async function YE(r,e){const i=Ce(r);try{const a=await PI(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=i.Na.get(u);d&&(ot(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.va=!0:l.modifiedDocuments.size>0?ot(d.va):l.removedDocuments.size>0&&(ot(d.va),d.va=!1))})),await Wl(i,a,e)}catch(a){await Yl(a)}}function jv(r,e,i){const a=Ce(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Fa.forEach(((u,d)=>{const g=d.view.Z_(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const p=Ce(d);p.onlineState=g;let _=!1;p.queries.forEach(((T,b)=>{for(const O of b.j_)O.Z_(g)&&(_=!0)})),_&&Fm(p)})(a.eventManager,e),l.length&&a.Ca.d_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function IC(r,e,i){const a=Ce(r);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Na.get(e),u=l&&l.key;if(u){let d=new Tt(_e.comparator);d=d.insert(u,mn.newNoDocument(u,Ie.min()));const g=Qe().add(u),p=new fh(Ie.min(),new Map,new Tt(nt),d,g);await YE(a,p),a.Oa=a.Oa.remove(u),a.Na.delete(e),Gm(a)}else await rm(a.localStore,e,!1).then((()=>am(a,e,i))).catch(Yl)}async function CC(r,e){const i=Ce(r),a=e.batch.batchId;try{const l=await LI(i.localStore,e);$E(i,a,null),XE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Wl(i,l)}catch(l){await Yl(l)}}async function NC(r,e,i){const a=Ce(r);try{const l=await(function(d,g){const p=Ce(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next((b=>(ot(b!==null),T=b.keys(),p.mutationQueue.removeMutationBatch(_,b)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>p.localDocuments.getDocuments(_,T)))}))})(a.localStore,e);$E(a,e,i),XE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Wl(a,l)}catch(l){await Yl(l)}}function XE(r,e){(r.ka.get(e)||[]).forEach((i=>{i.resolve()})),r.ka.delete(e)}function $E(r,e,i){const a=Ce(r);let l=a.Ba[a.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),a.Ba[a.currentUser.toKey()]=l}}function am(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Ma.get(e))r.Fa.delete(a),i&&r.Ca.$a(a,i);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((a=>{r.La.containsKey(a)||JE(r,a)}))}function JE(r,e){r.xa.delete(e.path.canonicalString());const i=r.Oa.get(e);i!==null&&(Pm(r.remoteStore,i),r.Oa=r.Oa.remove(e),r.Na.delete(i),Gm(r))}function zv(r,e,i){for(const a of i)a instanceof GE?(r.La.addReference(a.key,e),DC(r,a)):a instanceof KE?(ce("SyncEngine","Document no longer in limbo: "+a.key),r.La.removeReference(a.key,e),r.La.containsKey(a.key)||JE(r,a.key)):Ae()}function DC(r,e){const i=e.key,a=i.path.canonicalString();r.Oa.get(i)||r.xa.has(a)||(ce("SyncEngine","New document in limbo: "+i),r.xa.add(a),Gm(r))}function Gm(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const i=new _e(pt.fromString(e)),a=r.qa.next();r.Na.set(a,new vC(i)),r.Oa=r.Oa.insert(i,a),jE(r.remoteStore,new fs(xi(Dm(i.path)),a,"TargetPurposeLimboResolution",Am.oe))}}async function Wl(r,e,i){const a=Ce(r),l=[],u=[],d=[];a.Fa.isEmpty()||(a.Fa.forEach(((g,p)=>{d.push(a.Ka(p,e,i).then((_=>{var T;if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:(T=i==null?void 0:i.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;a.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(_){l.push(_);const b=Lm.Wi(p.targetId,_);u.push(b)}})))})),await Promise.all(d),a.Ca.d_(l),await(async function(p,_){const T=Ce(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>te.forEach(_,(O=>te.forEach(O.$i,(P=>T.persistence.referenceDelegate.addReference(b,O.targetId,P))).next((()=>te.forEach(O.Ui,(P=>T.persistence.referenceDelegate.removeReference(b,O.targetId,P)))))))))}catch(b){if(!Xl(b))throw b;ce("LocalStore","Failed to update sequence numbers: "+b)}for(const b of _){const O=b.targetId;if(!b.fromCache){const P=T.os.get(O),Q=P.snapshotVersion,W=P.withLastLimboFreeSnapshotVersion(Q);T.os=T.os.insert(O,W)}}})(a.localStore,u))}async function xC(r,e){const i=Ce(r);if(!i.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const a=await UE(i.localStore,e);i.currentUser=e,(function(u,d){u.ka.forEach((g=>{g.forEach((p=>{p.reject(new ue(J.CANCELLED,d))}))})),u.ka.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Wl(i,a.hs)}}function OC(r,e){const i=Ce(r),a=i.Na.get(e);if(a&&a.va)return Qe().add(a.key);{let l=Qe();const u=i.Ma.get(e);if(!u)return l;for(const d of u){const g=i.Fa.get(d);l=l.unionWith(g.view.Va)}return l}}function ZE(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=YE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IC.bind(null,e),e.Ca.d_=mC.bind(null,e.eventManager),e.Ca.$a=gC.bind(null,e.eventManager),e}function MC(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NC.bind(null,e),e}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,i){return null}Ha(e,i){return null}za(e){return kI(this.persistence,new VI,e.initialUser,this.serializer)}Ga(e){return new xI(km.Zr,this.serializer)}Wa(e){return new HI}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class om{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>jv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=xC.bind(null,this.syncEngine),await uC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hC})()}createDatastore(e){const i=dh(e.databaseInfo.databaseId),a=(function(u){return new QI(u)})(e.databaseInfo);return(function(u,d,g,p){return new $I(u,d,g,p)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,u,d,g){return new ZI(a,l,u,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>jv(this.syncEngine,i,0)),(function(){return Vv.D()?new Vv:new FI})())}createSyncEngine(e,i){return(function(l,u,d,g,p,_,T){const b=new EC(l,u,d,g,p,_);return T&&(b.Qa=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(l){const u=Ce(l);ce("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await Zl(u),u.k_.shutdown(),u.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}om.provider={build:()=>new om};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,i,a,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=dn.UNAUTHENTICATED,this.clientId=eE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async d=>{ce("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ce("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Hm(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Pd(r,e){r.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await UE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Bv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await kC(r);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Uv(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Uv(e.remoteStore,l))),r._onlineComponents=e}async function kC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Pd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;no("Error using user provided cache. Falling back to memory cache: "+i),await Pd(r,new eh)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await Pd(r,new eh);return r._offlineComponents}async function WE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await Bv(r,r._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await Bv(r,new om))),r._onlineComponents}function LC(r){return WE(r).then((e=>e.syncEngine))}async function qv(r){const e=await WE(r),i=e.eventManager;return i.onListen=TC.bind(null,e.syncEngine),i.onUnlisten=AC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=SC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=wC.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(r,e,i){if(!i)throw new ue(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function PC(r,e,i,a){if(e===!0&&a===!0)throw new ue(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Fv(r){if(!_e.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Gv(r){if(_e.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ph(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ae()}function fr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ph(r);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eT((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yh{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kv(e),e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new eR;switch(a.type){case"firstParty":return new rR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Hv.get(i);a&&(ce("ComponentProvider","Removing Datastore"),Hv.delete(i),a.terminate())})(this),Promise.resolve()}}function jC(r,e,i,a={}){var l;const u=(r=fr(r,yh))._getSettings(),d=`${e}:${i}`;if(u.host!=="firestore.googleapis.com"&&u.host!==d&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:d,ssl:!1})),a.mockUserToken){let g,p;if(typeof a.mockUserToken=="string")g=a.mockUserToken,p=dn.MOCK_USER;else{g=db(a.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const _=a.mockUserToken.sub||a.mockUserToken.user_id;if(!_)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new dn(_)}r._authCredentials=new tR(new W0(g,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ts(this.firestore,e,this._query)}}class bn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class ps extends Ts{constructor(e,i,a){super(e,i,Dm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new _e(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function th(r,e,...i){if(r=Kt(r),tT("collection","path",e),r instanceof yh){const a=pt.fromString(e,...i);return Gv(a),new ps(r,null,a)}{if(!(r instanceof bn||r instanceof ps))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(pt.fromString(e,...i));return Gv(a),new ps(r.firestore,null,a)}}function ii(r,e,...i){if(r=Kt(r),arguments.length===1&&(e=eE.newId()),tT("doc","path",e),r instanceof yh){const a=pt.fromString(e,...i);return Fv(a),new bn(r,null,new _e(a))}{if(!(r instanceof bn||r instanceof ps))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(pt.fromString(e,...i));return Fv(a),new bn(r.firestore,r instanceof ps?r.converter:null,new _e(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new LE(this,"async_queue_retry"),this.Vu=()=>{const a=Ld();a&&ce("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const i=Ld();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const i=Ld();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const i=new Zs;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Xl(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const i=this.mu.then((()=>(this.du=!0,e().catch((a=>{this.Eu=a,this.du=!1;const l=(function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g})(a);throw gr("INTERNAL UNHANDLED ERROR: ",l),a})).then((a=>(this.du=!1,a))))));return this.mu=i,i}enqueueAfterDelay(e,i,a){this.fu(),this.Ru.indexOf(e)>-1&&(i=0);const l=qm.createAndSchedule(this,e,i,a,(u=>this.yu(u)));return this.Tu.push(l),l}fu(){this.Eu&&Ae()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const i of this.Tu)if(i.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.Tu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const i=this.Tu.indexOf(e);this.Tu.splice(i,1)}}function Yv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of a)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class uo extends yh{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new Qv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qv(e),this._firestoreClient=void 0,await e}}}function zC(r,e){const i=typeof r=="object"?r:c0(),a=typeof r=="string"?r:"(default)",l=dm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=hb("firestore");u&&jC(l,...u)}return l}function nT(r){if(r._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||BC(r),r._firestoreClient}function BC(r){var e,i,a;const l=r._freezeSettings(),u=(function(g,p,_,T){return new yR(g,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,eT(T.experimentalLongPollingOptions),T.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new UC(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new co(un.fromBase64String(e))}catch(i){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new co(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=/^__.*__$/;class HC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,i,this.fieldTransforms):new $l(e,this.data,i,this.fieldTransforms)}}class iT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Es(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function rT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class vh{constructor(e,i,a,l,u,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new vh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),l=this.Fu({path:a,xu:!1});return l.Ou(e),l}Nu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),l=this.Fu({path:a,xu:!1});return l.vu(),l}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return nh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(rT(this.Cu)&&qC.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class FC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||dh(e)}Qu(e,i,a,l=!1){return new vh({Cu:e,methodName:i,qu:a,path:on.emptyPath(),xu:!1,ku:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eh(r){const e=r._freezeSettings(),i=dh(r._databaseId);return new FC(r._databaseId,!!e.ignoreUndefinedProperties,i)}function sT(r,e,i,a,l,u={}){const d=r.Qu(u.merge||u.mergeFields?2:0,e,i,l);$m("Data must be an object, but it was:",d,a);const g=aT(a,d);let p,_;if(u.merge)p=new qn(d.fieldMask),_=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const O=lm(e,b,i);if(!d.contains(O))throw new ue(J.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);lT(T,O)||T.push(O)}p=new qn(T),_=d.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,_=d.fieldTransforms;return new HC(new xn(g),p,_)}class Th extends eu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Th}}function GC(r,e,i){return new vh({Cu:3,qu:e.settings.qu,methodName:r._methodName,xu:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ym extends eu{_toFieldTransform(e){return new TE(e.path,new zl)}isEqual(e){return e instanceof Ym}}class Xm extends eu{constructor(e,i){super(e),this.Ku=i}_toFieldTransform(e){const i=GC(this,e,!0),a=this.Ku.map((u=>_o(u,i))),l=new ao(a);return new TE(e.path,l)}isEqual(e){return e instanceof Xm&&xl(this.Ku,e.Ku)}}function KC(r,e,i,a){const l=r.Qu(1,e,i);$m("Data must be an object, but it was:",l,a);const u=[],d=xn.empty();aa(a,((p,_)=>{const T=Jm(e,p,i);_=Kt(_);const b=l.Nu(T);if(_ instanceof Th)u.push(T);else{const O=_o(_,b);O!=null&&(u.push(T),d.set(T,O))}}));const g=new qn(u);return new iT(d,g,l.fieldTransforms)}function QC(r,e,i,a,l,u){const d=r.Qu(1,e,i),g=[lm(e,a,i)],p=[l];if(u.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<u.length;O+=2)g.push(lm(e,u[O])),p.push(u[O+1]);const _=[],T=xn.empty();for(let O=g.length-1;O>=0;--O)if(!lT(_,g[O])){const P=g[O];let Q=p[O];Q=Kt(Q);const W=d.Nu(P);if(Q instanceof Th)_.push(P);else{const $=_o(Q,W);$!=null&&(_.push(P),T.set(P,$))}}const b=new qn(_);return new iT(T,b,d.fieldTransforms)}function YC(r,e,i,a=!1){return _o(i,r.Qu(a?4:3,e))}function _o(r,e){if(oT(r=Kt(r)))return $m("Unsupported field value:",e,r),aT(r,e);if(r instanceof eu)return(function(a,l){if(!rT(l.Cu))throw l.Bu(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Bu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(a,l){const u=[];let d=0;for(const g of a){let p=_o(g,l.Lu(d));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),d++}return{arrayValue:{values:u}}})(r,e)}return(function(a,l){if((a=Kt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return jR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Gt.fromDate(a);return{timestampValue:Zc(l.serializer,u)}}if(a instanceof Gt){const u=new Gt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Zc(l.serializer,u)}}if(a instanceof Km)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof co)return{bytesValue:CE(l.serializer,a._byteString)};if(a instanceof bn){const u=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw l.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Vm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Qm)return(function(d,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Bu("VectorValues must only contain numeric values.");return xm(g.serializer,p)}))}}}}}})(a,l);throw l.Bu(`Unsupported field value: ${ph(a)}`)})(r,e)}function aT(r,e){const i={};return tE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(r,((a,l)=>{const u=_o(l,e.Mu(a));u!=null&&(i[a]=u)})),{mapValue:{fields:i}}}function oT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Gt||r instanceof Km||r instanceof co||r instanceof bn||r instanceof eu||r instanceof Qm)}function $m(r,e,i){if(!oT(i)||!(function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)})(i)){const a=ph(i);throw a==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+a)}}function lm(r,e,i){if((e=Kt(e))instanceof _h)return e._internalPath;if(typeof e=="string")return Jm(r,e);throw nh("Field path arguments must be of type string or ",r,!1,void 0,i)}const XC=new RegExp("[~\\*/\\[\\]]");function Jm(r,e,i){if(e.search(XC)>=0)throw nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new _h(...e.split("."))._internalPath}catch{throw nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function nh(r,e,i,a,l){const u=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||d)&&(p+=" (found",u&&(p+=` in field ${a}`),d&&(p+=` in document ${l}`),p+=")"),new ue(J.INVALID_ARGUMENT,g+r+p)}function lT(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,i,a,l,u){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $C(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Zm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class $C extends uT{data(){return super.data()}}function Zm(r,e){return typeof e=="string"?Jm(r,e):e instanceof _h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wm{}class eg extends Wm{}function cT(r,e,...i){let a=[];e instanceof Wm&&a.push(e),a=a.concat(i),(function(u){const d=u.filter((p=>p instanceof ng)).length,g=u.filter((p=>p instanceof tg)).length;if(d>1||d>0&&g>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class tg extends eg{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new tg(e,i,a)}_apply(e){const i=this._parse(e);return hT(e._query,i),new Ts(e.firestore,e.converter,Wd(e._query,i))}_parse(e){const i=Eh(e.firestore);return(function(u,d,g,p,_,T,b){let O;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){$v(b,T);const P=[];for(const Q of b)P.push(Xv(p,u,Q));O={arrayValue:{values:P}}}else O=Xv(p,u,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||$v(b,T),O=YC(g,d,b,T==="in"||T==="not-in");return Bt.create(_,T,O)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class ng extends Wm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new ng(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:mi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const p of g)hT(d,p),d=Wd(d,p)})(e._query,i),new Ts(e.firestore,e.converter,Wd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ig extends eg{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new ig(e,i)}_apply(e){const i=(function(l,u,d){if(l.startAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jl(u,d)})(e._query,this._field,this._direction);return new Ts(e.firestore,e.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new go(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function ZC(r,e="asc"){const i=e,a=Zm("orderBy",r);return ig._create(a,i)}class rg extends eg{constructor(e,i,a){super(),this.type=e,this._limit=i,this._limitType=a}static _create(e,i,a){return new rg(e,i,a)}_apply(e){return new Ts(e.firestore,e.converter,$c(e._query,this._limit,this._limitType))}}function WC(r){return rg._create("limit",r,"F")}function Xv(r,e,i){if(typeof(i=Kt(i))=="string"){if(i==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cE(e)&&i.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(pt.fromString(i));if(!_e.isDocumentKey(a))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return gv(r,new _e(a))}if(i instanceof bn)return gv(r,i._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ph(i)}.`)}function $v(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hT(r,e){const i=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class e2{convertValue(e,i="none"){switch(ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return aa(e,((l,u)=>{a[l]=this.convertValue(u,i)})),a}convertVectorValue(e){var i,a,l;const u=(l=(a=(i=e.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map((d=>Ot(d.doubleValue)));return new Qm(u)}convertGeoPoint(e){return new Km(Ot(e.latitude),Ot(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Rm(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const i=_s(e);return new Gt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=pt.fromString(e);ot(VE(a));const l=new Ll(a.get(1),a.get(3)),u=new _e(a.popFirst(5));return l.isEqual(i)||gr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(r,e,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dT extends uT{constructor(e,i,a,l,u,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Zm("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class jc extends dT{data(e={}){return super.data(e)}}class t2{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new jc(this._firestore,this._userDataWriter,a.key,a,new Al(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const p=new jc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Al(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new jc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Al(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:n2(g.type),doc:p,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function n2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}class mT extends e2{constructor(e){super(),this.firestore=e}convertBytes(e){return new co(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,i)}}function Dl(r,e,i){r=fr(r,bn);const a=fr(r.firestore,uo),l=fT(r.converter,e,i);return sg(a,[sT(Eh(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,fi.none())])}function Xs(r,e,i,...a){r=fr(r,bn);const l=fr(r.firestore,uo),u=Eh(l);let d;return d=typeof(e=Kt(e))=="string"||e instanceof _h?QC(u,"updateDoc",r._key,e,i,a):KC(u,"updateDoc",r._key,e),sg(l,[d.toMutation(r._key,fi.exists(!0))])}function gT(r,e){const i=fr(r.firestore,uo),a=ii(r),l=fT(r.converter,e);return sg(i,[sT(Eh(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,fi.exists(!1))]).then((()=>a))}function zc(r,...e){var i,a,l;r=Kt(r);let u={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||Yv(e[d])||(u=e[d],d++);const g={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Yv(e[d])){const b=e[d];e[d]=(i=b.next)===null||i===void 0?void 0:i.bind(b),e[d+1]=(a=b.error)===null||a===void 0?void 0:a.bind(b),e[d+2]=(l=b.complete)===null||l===void 0?void 0:l.bind(b)}let p,_,T;if(r instanceof bn)_=fr(r.firestore,uo),T=Dm(r._key.path),p={next:b=>{e[d]&&e[d](i2(_,r,b))},error:e[d+1],complete:e[d+2]};else{const b=fr(r,Ts);_=fr(b.firestore,uo),T=b._query;const O=new mT(_);p={next:P=>{e[d]&&e[d](new t2(_,O,b,P))},error:e[d+1],complete:e[d+2]},JC(r._query)}return(function(O,P,Q,W){const $=new VC(W),oe=new pC(P,$,Q);return O.asyncQueue.enqueueAndForget((async()=>fC(await qv(O),oe))),()=>{$.Za(),O.asyncQueue.enqueueAndForget((async()=>dC(await qv(O),oe)))}})(nT(_),T,g,p)}function sg(r,e){return(function(a,l){const u=new Zs;return a.asyncQueue.enqueueAndForget((async()=>RC(await LC(a),l,u))),u.promise})(nT(r),e)}function i2(r,e,i){const a=i.docs.get(e._key),l=new mT(r);return new dT(r,l,e._key,a,new Al(i.hasPendingWrites,i.fromCache),e.converter)}function r2(){return new Ym("serverTimestamp")}function Jv(...r){return new Xm("arrayUnion",r)}(function(e,i=!0){(function(l){mo=l})(ho),to(new Ws("firestore",((a,{instanceIdentifier:l,options:u})=>{const d=a.getProvider("app").getImmediate(),g=new uo(new nR(a.getProvider("auth-internal")),new aR(a.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(_.options.projectId,T)})(d,l),d);return u=Object.assign({useFetchStreams:i},u),g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),gs(cv,"4.7.3",e),gs(cv,"4.7.3","esm2017")})();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pT=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=ye.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:u,iconNode:d,...g},p)=>ye.createElement("svg",{ref:p,...a2,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:pT("lucide",l),...g},[...d.map(([_,T])=>ye.createElement(_,T)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=(r,e)=>{const i=ye.forwardRef(({className:a,...l},u)=>ye.createElement(o2,{ref:u,iconNode:e,className:pT(`lucide-${s2(r)}`,a),...l}));return i.displayName=`${r}`,i};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=gi("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=gi("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=gi("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=gi("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=gi("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=gi("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=gi("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=gi("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=gi("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=gi("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=gi("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),m2=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{},xt=typeof __app_id<"u"?__app_id:"default-doof-crew";function g2(){const r=typeof __shared_mode<"u"?!!__shared_mode:!0,[e,i]=ye.useState(null),[a,l]=ye.useState(null),[u,d]=ye.useState(null),[g,p]=ye.useState(!1),[_,T]=ye.useState([]),[b,O]=ye.useState(null),[P,Q]=ye.useState(null),[W,$]=ye.useState(null),[oe,ge]=ye.useState(null),[se,Ve]=ye.useState(!1),[Ze,be]=ye.useState(!1),[N,A]=ye.useState(null),[R,x]=ye.useState(!1),[D,U]=ye.useState(null),[I,lt]=ye.useState(!1),[vt,F]=ye.useState(0),[Z,fe]=ye.useState(null),[we,$e]=ye.useState(null),[M,K]=ye.useState(null),[ee,ae]=ye.useState("mainStage"),[pe,De]=ye.useState("single"),[xe,Mt]=ye.useState(!1),[je,pn]=ye.useState([]);ye.useEffect(()=>{try{const re=u0(m2),ne=Z1(re),de=zC(re);i(de),l(ne);const Ee=Bw(ne,async Ne=>{if(Ne){d(Ne.uid),A(Ne.email||null),p(!0);return}d(null),p(!0)});return()=>Ee()}catch(re){console.error("Error initializing Firebase:",re),U("Failed to initialize application. Invalid configuration.")}},[]),ye.useEffect(()=>{if(!g||!e||!u)return;const re=r?`apps/${xt}`:`users/${u}/apps/${xt}`,ne=`${re}/djs`,de=cT(th(e,ne)),Ee=zc(de,yt=>{const Oe=[];yt.forEach(Pe=>{Oe.push({id:Pe.id,...Pe.data()})}),T(Oe)},yt=>{console.error("Error listening to DJs:",yt),U("Failed to load DJ list.")}),Ne=(yt,Oe,Pe)=>{const Ue=`${re}/schedule/${Oe}`,ze=ii(e,Ue);return zc(ze,async ke=>{var Qt;if(ke.exists())Pe(ke.data()),lt(!1);else try{const qe=Wv(yt);await Dl(ze,qe),Pe(qe),lt(!1)}catch(qe){console.error(`Error creating ${yt} schedule:`,qe);try{(Qt=window.firebaseOpsAgent)==null||Qt.log({level:"error",type:"schedule.create.error",code:(qe==null?void 0:qe.code)||"",message:(qe==null?void 0:qe.message)||"",path:Ue})}catch{}U(`Failed to initialize ${yt} schedule.`),lt(!0)}},ke=>{var qe;console.error(`Error listening to ${yt} schedule:`,ke);try{(qe=window.firebaseOpsAgent)==null||qe.log({level:"error",type:"schedule.listen.error",code:(ke==null?void 0:ke.code)||"",message:(ke==null?void 0:ke.message)||"",path:Ue})}catch{}const Qt=(ke==null?void 0:ke.code)||"";Qt.includes("permission")||Qt.includes("denied")?U(`Failed to load ${yt} schedule (permission denied). Path: ${Ue}`):U(`Failed to load ${yt} schedule.`),lt(!0)})},Vt=Ne("Temple","mainStage",O),Se=Ne("Dub","dubPub",Q),Ss=Ne("Techno","technoHub",$),Gn=ii(e,`${re}/meta/app`);Dl(Gn,{ownerUid:u,appId:xt,createdAt:new Date().toISOString(),allowedAdminEmails:[],allowedAdminUids:[]},{merge:!0}).catch(yt=>{console.warn("Could not ensure crew meta doc",yt)});const Li=zc(Gn,yt=>{const Oe=yt.data(),Pe=Oe==null?void 0:Oe.ownerUid,Ue=(Oe==null?void 0:Oe.allowedAdminEmails)||[],ze=(Oe==null?void 0:Oe.allowedAdminUids)||[],ke=Pe===u||!!N&&Ue.includes(N)||ze.includes(u);be(ke)});return()=>{Ee(),Vt(),Se(),Ss(),Li&&Li()}},[g,e,u,N]);const yn=re=>{ge(re),Ve(!0)},Vi=()=>{Ve(!1),ge(null)},Hn=(re,ne)=>{re.dataTransfer.setData("application/json",JSON.stringify(ne)),re.dataTransfer.effectAllowed="move",K(ne),fe(null),$e(null)},Wt=re=>{re.preventDefault(),re.dataTransfer.dropEffect="move"},On=re=>{re.preventDefault(),F(ne=>ne+1)},ri=(re,ne)=>{re.preventDefault(),F(de=>de+1),fe(de=>de===null?M&&(M.from==="slot"||M.from==="resize")&&typeof M.slotIndex=="number"?M.slotIndex:ne:de),$e(ne)},Ui=re=>{re.preventDefault(),F(ne=>ne-1)},ki=async(re,ne,de)=>{re.preventDefault(),F(0),x(!0);try{const Ee=JSON.parse(re.dataTransfer.getData("application/json")),Ne=de||ee,Vt=Ne==="mainStage"?b:Ne==="dubPub"?P:W;if(!Vt)return;const Se=[...Vt.timeSlots],Ss=ii(e,`${r?`apps/${xt}`:`users/${u}/apps/${xt}`}/schedule/${Ne}`),Gn=Ee.from==="resize",Li=Z!==null&&we!==null&&(re.shiftKey||Gn),yt=Oe=>{let Pe=Math.min(Z,ne,we),Ue=Math.max(Z,ne,we);const ze=Ee.from==="pool",ke=ze?Ee.dj.id:Ee.djId,Qt=ze?Ee.dj.djName:Ee.djName;if(Gn&&typeof Ee.slotIndex=="number"){const qe=Ee.slotIndex;Ee.direction==="right"?ne<qe?(Pe=qe,Ue=qe):(Pe=qe,Ue=Math.max(qe,ne)):Ee.direction==="left"&&(ne>qe?(Pe=qe,Ue=qe):(Pe=Math.min(qe,ne),Ue=qe))}for(let qe=Pe;qe<=Ue;qe++){const qt={...Se[qe]};if(Oe)if(qt.djId&&qt.djId!==ke){const Kn=Array.isArray(qt.guests)?[...qt.guests]:[];Kn.find(Ht=>Ht.djId===ke)||Kn.push({djId:ke,djName:Qt}),Se[qe]={...qt,guests:Kn}}else Se[qe]={...qt,djId:ke,djName:Qt};else Se[qe]={...qt,djId:ke,djName:Qt}}};if(Li)yt(Gn?!1:re.altKey);else if(Ee.from==="pool"){const Oe=Ee.dj.id,Pe=Ee.dj.djName,Ue=Se.findIndex(ze=>ze.djId===Oe);if(Ue>-1){const ze={...Se[ne]};Se[ne]={...Se[ne],djId:Oe,djName:Pe},Se[Ue]={...Se[Ue],djId:ze.djId,djName:ze.djName}}else{const ze={...Se[ne]};if(ze.djId&&ze.djId!==Oe){const ke=Array.isArray(ze.guests)?[...ze.guests]:[];ke.find(Qt=>Qt.djId===Oe)||ke.push({djId:Oe,djName:Pe}),Se[ne]={...ze,guests:ke}}else Se[ne]={...ze,djId:Oe,djName:Pe}}}else if(Ee.from==="slot"){const Oe=Ee.slotIndex;if(Oe===ne)return;if(re.shiftKey){const Pe=Math.min(Oe,ne),Ue=Math.max(Oe,ne),ze={...Se[Oe]};for(let ke=Pe;ke<=Ue;ke++)Se[ke]={...Se[ke],djId:ze.djId,djName:ze.djName}}else if(re.altKey){const Pe={...Se[Oe]},Ue={...Se[ne]};if(Ue.djId&&Ue.djId!==Pe.djId){const ze=Array.isArray(Ue.guests)?[...Ue.guests]:[];Pe.djId&&!ze.find(ke=>ke.djId===Pe.djId)&&(ze.push({djId:Pe.djId,djName:Pe.djName||""}),Se[ne]={...Ue,guests:ze})}else Se[ne]={...Ue,djId:Pe.djId,djName:Pe.djName}}else{const Pe={...Se[Oe]},Ue={...Se[ne]};Se[ne]={...Ue,djId:Pe.djId,djName:Pe.djName},Se[Oe]={...Pe,djId:Ue.djId,djName:Ue.djName}}}await Xs(Ss,{timeSlots:Se})}catch(Ee){console.error("Error handling drop on slot:",Ee),U("Failed to update schedule.")}finally{x(!1),fe(null),$e(null),K(null)}},Er=async re=>{re.preventDefault(),F(0),x(!0);try{const ne=JSON.parse(re.dataTransfer.getData("application/json"));if(ne.from==="slot"){const de=ne.slotIndex,Ee=[...b.timeSlots];Ee[de]={...Ee[de],djId:null,djName:null};const Ne=ii(e,`${r?`apps/${xt}`:`users/${u}/apps/${xt}`}/schedule/mainStage`);await Xs(Ne,{timeSlots:Ee})}}catch(ne){console.error("Error unassigning DJ:",ne),U("Failed to update schedule.")}finally{x(!1)}},Fn=async()=>{var re;if(window.confirm("Clear all slot assignments and return all DJs to the unassigned pool?")){x(!0);try{const ne=ii(e,`${r?`apps/${xt}`:`users/${u}/apps/${xt}`}/schedule/mainStage`),de=b.timeSlots.map(Ee=>({time:Ee.time,djId:null,djName:null}));await Xs(ne,{timeSlots:de})}catch(ne){console.error("Error resetting schedule:",ne);const de=(ne==null?void 0:ne.code)||"";de.includes("permission")||de.includes("denied")?U("Failed to reset schedule (permission denied). Please verify you have write access."):U("Failed to reset schedule: "+((ne==null?void 0:ne.message)||"Unknown error"));try{(re=window.firebaseOpsAgent)==null||re.log({level:"error",type:"schedule.reset.error",code:de,message:(ne==null?void 0:ne.message)||""})}catch{}}finally{x(!1)}}},si=()=>{Mt(!xe),pn([])},Tr=re=>{xe&&(je.includes(re)?pn(je.filter(ne=>ne!==re)):pn([...je,re].sort((ne,de)=>ne-de)))},pi=async()=>{if(je.length<2){alert("Please select at least 2 adjacent slots to merge.");return}for(let ne=0;ne<je.length-1;ne++)if(je[ne+1]!==je[ne]+1){alert("Please select adjacent slots only.");return}const re=Sr();if(re){x(!0);try{const ne=[...re.timeSlots],de=je[0];ne[de]={...ne[de],isMergedStart:!0,mergedCount:je.length};for(let Ee=1;Ee<je.length;Ee++){const Ne=je[Ee];ne[Ne]={...ne[Ne],mergedWith:de}}await bt(ne),pn([]),Mt(!1)}catch(ne){console.error("Error merging slots:",ne),U("Failed to merge slots.")}finally{x(!1)}}},St=async re=>{const ne=Sr();if(ne){x(!0);try{const de=[...ne.timeSlots],Ee=de[re];if(Ee.isMergedStart&&Ee.mergedCount){delete de[re].isMergedStart,delete de[re].mergedCount;for(let Ne=re+1;Ne<re+Ee.mergedCount;Ne++)delete de[Ne].mergedWith}else if(Ee.mergedWith!==void 0){const Ne=Ee.mergedWith,Vt=de[Ne];if(Vt.mergedCount){delete de[Ne].isMergedStart,delete de[Ne].mergedCount;for(let Se=Ne+1;Se<Ne+Vt.mergedCount;Se++)delete de[Se].mergedWith}}await bt(de)}catch(de){console.error("Error unmerging slot:",de),U("Failed to unmerge slot.")}finally{x(!1)}}},Sr=()=>{if(pe==="multi")return b;switch(ee){case"mainStage":return b;case"dubPub":return P;case"technoHub":return W;default:return b}},bt=async re=>{const ne=ee,de=ii(e,`${r?`apps/${xt}`:`users/${u}/apps/${xt}`}/schedule/${ne}`);await Xs(de,{timeSlots:re})},Et=async(re,ne)=>{const de=ii(e,`${r?`apps/${xt}`:`users/${u}/apps/${xt}`}/schedule/${re}`);await Xs(de,{name:ne})},ai=new Set(((b==null?void 0:b.timeSlots)||[]).flatMap(re=>[...re.djId?[re.djId]:[],...(re.guests||[]).map(ne=>ne.djId)])),la=_.filter(re=>!ai.has(re.id));return g?g&&!u?w.jsx(_2,{auth:a,db:e,appId:xt}):b?w.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 font-sans p-4 md:p-8",children:[w.jsxs("header",{className:"mb-6",children:[w.jsx("h1",{className:"text-4xl font-bold text-center text-blue-400",children:" DoofDJs"}),w.jsx("p",{className:"text-center text-gray-400 text-sm mt-1",children:"Festival DJ Scheduling System"}),u&&w.jsxs("div",{className:"text-center text-sm text-gray-400 mt-2 flex flex-col items-center gap-1",children:[w.jsxs("p",{children:["Share this User ID with your crew: ",w.jsx("code",{className:"bg-gray-700 p-1 rounded-md",children:u})]}),Ze&&w.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-green-800 text-green-200 text-xs uppercase tracking-wide",children:"Admin"}),w.jsx("div",{className:"mt-2",children:w.jsx("a",{href:"/hub.html",className:"inline-block py-1.5 px-3 bg-indigo-600 hover:bg-indigo-700 rounded-md text-white",children:"Enter the Portal"})})]})]}),D&&w.jsxs("div",{className:"bg-red-800 border border-red-600 text-white p-4 rounded-lg mb-6 flex items-center",children:[w.jsx(um,{className:"w-5 h-5 mr-3"}),w.jsx("p",{children:D}),w.jsx("button",{onClick:()=>U(null),className:"ml-auto text-red-200 hover:text-white",children:w.jsx(vT,{className:"w-5 h-5"})})]}),w.jsxs("main",{className:"flex flex-col lg:flex-row gap-8",children:[w.jsxs("aside",{className:"w-full lg:w-1/3 flex flex-col gap-6",children:[w.jsx(y2,{db:e,userId:u,appId:xt,setIsLoading:x,setError:U,disabled:R}),w.jsx(A2,{djs:la,onDjClick:yn,onDragStart:Hn,onDragOver:Wt,onDragEnter:On,onDragLeave:Ui,onDrop:Er,isDropZoneActive:vt>0,disabled:R,allSchedules:[b,P,W]})]}),w.jsxs("section",{className:"w-full lg:w-2/3",children:[w.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[w.jsxs("div",{className:"flex gap-2 items-center",children:[w.jsx("span",{className:"text-sm text-gray-400",children:"View:"}),w.jsx("button",{onClick:()=>De("single"),className:`px-3 py-1.5 rounded text-sm transition-colors ${pe==="single"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Single Stage"}),w.jsx("button",{onClick:()=>De("multi"),className:`px-3 py-1.5 rounded text-sm transition-colors ${pe==="multi"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"All Stages"})]}),pe==="single"&&w.jsxs("div",{className:"flex gap-2 items-center ml-4",children:[w.jsx("span",{className:"text-sm text-gray-400",children:"Stage:"}),w.jsx("button",{onClick:()=>ae("mainStage"),className:`px-3 py-1.5 rounded text-sm transition-colors ${ee==="mainStage"?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:" Temple"}),w.jsx("button",{onClick:()=>ae("dubPub"),className:`px-3 py-1.5 rounded text-sm transition-colors ${ee==="dubPub"?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:" Dub"}),w.jsx("button",{onClick:()=>ae("technoHub"),className:`px-3 py-1.5 rounded text-sm transition-colors ${ee==="technoHub"?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:" Techno"})]})]}),pe==="multi"?w.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4",children:[b&&w.jsx(Dc,{schedule:b,djs:_,onDjClick:yn,onDragStart:Hn,onDragOver:Wt,onDragEnter:On,onDragEnterSlot:ri,onDragLeave:Ui,onDrop:ki,isDropZoneActive:vt>0,disabled:R,activeRange:Z!==null?{start:Math.min(Z,we??Z),end:Math.max(Z,we??Z)}:null,onReset:Fn,selectionMode:xe,selectedSlots:je,onSlotClick:Tr,onToggleSelectionMode:si,onMergeSlots:pi,onUnmerge:St,onNameUpdate:re=>Et("mainStage",re),stage:"mainStage"}),P&&w.jsx(Dc,{schedule:P,djs:_,onDjClick:yn,onDragStart:Hn,onDragOver:Wt,onDragEnter:On,onDragEnterSlot:ri,onDragLeave:Ui,onDrop:ki,isDropZoneActive:vt>0,disabled:R,activeRange:Z!==null?{start:Math.min(Z,we??Z),end:Math.max(Z,we??Z)}:null,onReset:Fn,selectionMode:xe,selectedSlots:je,onSlotClick:Tr,onToggleSelectionMode:si,onMergeSlots:pi,onUnmerge:St,onNameUpdate:re=>Et("dubPub",re),stage:"dubPub"}),W&&w.jsx(Dc,{schedule:W,djs:_,onDjClick:yn,onDragStart:Hn,onDragOver:Wt,onDragEnter:On,onDragEnterSlot:ri,onDragLeave:Ui,onDrop:ki,isDropZoneActive:vt>0,disabled:R,activeRange:Z!==null?{start:Math.min(Z,we??Z),end:Math.max(Z,we??Z)}:null,onReset:Fn,selectionMode:xe,selectedSlots:je,onSlotClick:Tr,onToggleSelectionMode:si,onMergeSlots:pi,onUnmerge:St,onNameUpdate:re=>Et("technoHub",re),stage:"technoHub"})]}):w.jsx(Dc,{schedule:Sr(),djs:_,onDjClick:yn,onDragStart:Hn,onDragOver:Wt,onDragEnter:On,onDragEnterSlot:ri,onDragLeave:Ui,onDrop:ki,isDropZoneActive:vt>0,disabled:R,activeRange:Z!==null?{start:Math.min(Z,we??Z),end:Math.max(Z,we??Z)}:null,onReset:Fn,selectionMode:xe,selectedSlots:je,onSlotClick:Tr,onToggleSelectionMode:si,onMergeSlots:pi,onUnmerge:St,onNameUpdate:re=>Et(ee,re),stage:ee})]})]}),w.jsx("div",{className:"mt-8",children:w.jsx(p2,{db:e,userId:u,appId:xt,sharedMode:r,userEmail:N})}),Ze&&!r&&w.jsxs("div",{className:"mb-6 mx-auto max-w-2xl bg-gray-800 p-4 rounded-lg",children:[w.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Admin Settings"}),w.jsx(b2,{db:e,userId:u,appId:xt})]}),se&&oe&&w.jsx(R2,{dj:oe,onClose:Vi})]}):w.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white font-sans p-4",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx(Zv,{className:"animate-pulse w-16 h-16"}),w.jsx("span",{className:"ml-4 text-2xl",children:"Loading Crew Data..."})]}),D&&w.jsxs("div",{className:"mt-6 max-w-xl w-full bg-red-800 border border-red-600 text-white p-4 rounded-lg",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx(um,{className:"w-5 h-5 mr-3"}),w.jsx("p",{className:"font-semibold",children:D})]}),w.jsx("p",{className:"text-sm text-red-200 mt-2",children:"If this persists, you may not have permission to read or write your schedule. Please sign out and back in, or contact support."}),I&&w.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[w.jsx("button",{onClick:async()=>{var re;if(!(!e||!u)){x(!0),U(null);try{const ne=ii(e,`${r?`apps/${xt}`:`users/${u}/apps/${xt}`}/schedule/mainStage`),de=Wv();await Dl(ne,de),O(de)}catch(ne){console.error(ne);try{(re=window.firebaseOpsAgent)==null||re.log({level:"error",type:"schedule.create.error",code:(ne==null?void 0:ne.code)||"",message:(ne==null?void 0:ne.message)||"",path:`${r?`apps/${xt}`:`users/${u}/apps/${xt}`}/schedule/mainStage`})}catch{}const de=(ne==null?void 0:ne.code)||"";de.includes("permission")||de.includes("denied")?U("Could not create base schedule (permission denied). Please update Firestore rules to allow authenticated users to write to this app namespace."):U("Could not create base schedule.")}finally{x(!1)}}},className:"py-2 px-3 bg-blue-600 hover:bg-blue-700 rounded-md text-white",children:"Create Base Schedule (Temple  31 Jan 2025)"}),w.jsx("a",{href:"/hub.html",className:"py-2 px-3 bg-gray-700 hover:bg-gray-600 rounded-md text-white",children:"Enter the Portal"})]})]})]}):w.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white font-sans",children:[w.jsx(Zv,{className:"animate-pulse w-16 h-16"}),w.jsx("span",{className:"ml-4 text-2xl",children:"Checking session"})]})}function p2({db:r,userId:e,appId:i,sharedMode:a,userEmail:l}){const[u,d]=ye.useState([]),[g,p]=ye.useState(""),_=a?`apps/${i}`:`users/${e}/apps/${i}`;ye.useEffect(()=>{const b=cT(th(r,`${_}/chat/main/messages`),ZC("createdAt","asc"),WC(100)),O=zc(b,P=>{const Q=[];P.forEach(W=>Q.push({id:W.id,...W.data()})),d(Q)});return()=>O()},[r,_]);const T=async b=>{b.preventDefault();const O=g.trim();if(O)try{await gT(th(r,`${_}/chat/main/messages`),{uid:e,email:l||null,text:O,createdAt:r2()}),p("")}catch(P){console.error(P)}};return w.jsxs("div",{className:"max-w-3xl mx-auto bg-gray-800 p-4 rounded-lg",children:[w.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Crew Chat"}),w.jsxs("div",{className:"h-64 overflow-y-auto bg-gray-900 rounded-md p-3 space-y-2 border border-gray-700",children:[u.length===0&&w.jsx("div",{className:"text-gray-500",children:"No messages yet. Say hi!"}),u.map(b=>w.jsxs("div",{className:"text-sm",children:[w.jsx("span",{className:"text-blue-300",children:b.email||b.uid.slice(0,6)}),w.jsx("span",{className:"text-gray-400",children:": "}),w.jsx("span",{className:"text-gray-100 whitespace-pre-wrap",children:b.text})]},b.id))]}),w.jsxs("form",{onSubmit:T,className:"mt-3 flex gap-2",children:[w.jsx("input",{value:g,onChange:b=>p(b.target.value),placeholder:"Type a message",className:"flex-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"}),w.jsx("button",{className:"py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Send"})]})]})}function Wv(r="Temple"){const e=`DoofDJs ${r} - 31 Jan - 1 Feb 2025`,i=0,a=2400,l=[];for(let u=i;u<a;u+=15){const d=e0(u),g=e0(u+15),p=u<1440?"Jan 31":"Feb 1";l.push({time:`${p} ${d} - ${g}`,djId:null,djName:null})}return{name:e,timeSlots:l}}function e0(r){const e=(r%1440+1440)%1440,i=Math.floor(e/60),a=e%60,l=i.toString().padStart(2,"0"),u=a.toString().padStart(2,"0");return`${l}:${u}`}function y2({db:r,userId:e,appId:i,setIsLoading:a,setError:l,disabled:u}){const d=typeof __shared_mode<"u"?!!__shared_mode:!0,[g,p]=ye.useState({djName:"",realName:"",info:"",photoUrl:"",visualUrl:""}),_=b=>{const{name:O,value:P}=b.target;p(Q=>({...Q,[O]:P}))},T=async b=>{if(b.preventDefault(),!g.djName||!g.realName){l("DJ Name and Real Name are required.");return}a(!0),l(null);try{const O=`${d?`apps/${i}`:`users/${e}/apps/${i}`}/djs`;await gT(th(r,O),{...g,createdAt:new Date().toISOString(),inviteStatus:"invited",invitedAt:new Date().toISOString(),createdBy:e,uid:null,email:null}),p({djName:"",realName:"",info:"",photoUrl:"",visualUrl:""})}catch(O){console.error("Error registering DJ:",O),l("Failed to register DJ. Please try again.")}finally{a(!1)}};return w.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[w.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center",children:[w.jsx(f2,{className:"w-6 h-6 mr-3 text-blue-400"}),"Register DJ"]}),w.jsxs("form",{onSubmit:T,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"djName",className:"block text-sm font-medium text-gray-300",children:"DJ Name"}),w.jsx("input",{type:"text",id:"djName",name:"djName",value:g.djName,onChange:_,required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"realName",className:"block text-sm font-medium text-gray-300",children:"Real Name"}),w.jsx("input",{type:"text",id:"realName",name:"realName",value:g.realName,onChange:_,required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"info",className:"block text-sm font-medium text-gray-300",children:"Promo Info / Bio"}),w.jsx("textarea",{id:"info",name:"info",rows:3,value:g.info,onChange:_,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"photoUrl",className:"block text-sm font-medium text-gray-300",children:"Promo Photo (URL)"}),w.jsx("input",{type:"url",id:"photoUrl",name:"photoUrl",value:g.photoUrl,onChange:_,placeholder:"https://example.com/photo.jpg",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"visualUrl",className:"block text-sm font-medium text-gray-300",children:"Visuals / Content (URL)"}),w.jsx("input",{type:"url",id:"visualUrl",name:"visualUrl",value:g.visualUrl,onChange:_,placeholder:"https://youtube.com/watch?v=...",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),w.jsx("button",{type:"submit",disabled:u,className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Registering...":"Register DJ"})]})]})}function _2({auth:r,db:e,appId:i}){const[a,l]=ye.useState("login");return w.jsx("div",{className:"min-h-screen bg-gray-900 text-gray-100 font-sans p-6 flex items-center justify-center",children:w.jsxs("div",{className:"max-w-2xl w-full bg-gray-800 rounded-xl shadow-lg p-6",children:[w.jsx("h1",{className:"text-3xl font-bold text-blue-400 mb-2 text-center",children:"Temple DJ Spot"}),w.jsx("p",{className:"text-center text-gray-300 mb-6",children:"Sign in to manage your crew and set times."}),w.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[w.jsx("button",{onClick:()=>l("login"),className:`py-2 px-4 rounded-md ${a==="login"?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,children:"Login"}),w.jsx("button",{onClick:()=>l("register"),className:`py-2 px-4 rounded-md ${a==="register"?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,children:"Register"})]}),a==="login"?w.jsx(T2,{auth:r}):w.jsx(S2,{auth:r,db:e,appId:i}),w.jsxs("div",{className:"mt-6",children:[w.jsx(v2,{}),w.jsx(E2,{})]})]})})}function v2(){return w.jsx("div",{className:"text-sm text-gray-300 space-y-2",children:w.jsx("p",{children:"Your Portal UI account is shared across sites. Register once on the main site, then return here to manage your crew. When you first sign in, well set up your crew space automatically."})})}function E2(){return w.jsxs("div",{className:"mt-6 text-xs text-gray-400 border-t border-gray-700 pt-4 leading-relaxed",children:[w.jsx("p",{className:"font-semibold text-gray-300 mb-1",children:"Terms & Conditions (Summary)"}),w.jsxs("ul",{className:"list-disc ml-5 space-y-1",children:[w.jsx("li",{children:"Use this service responsibly and in compliance with applicable laws."}),w.jsx("li",{children:"You own the content you upload; you grant us a license to host and display it to provide the service."}),w.jsx("li",{children:"Dont upload content that is illegal, infringing, or harmful."}),w.jsx("li",{children:"We may update features and policies; continued use constitutes acceptance of changes."}),w.jsx("li",{children:"This service is provided as is without warranties; were not liable for indirect or consequential damages."}),w.jsx("li",{children:"If youre under your regional age of digital consent, use only with a guardians permission."}),w.jsx("li",{children:"We may suspend accounts that violate these terms or abuse resources."}),w.jsx("li",{children:"For data requests or takedowns, contact support via the main Portal UI site."})]})]})}function T2({auth:r}){const[e,i]=ye.useState(""),[a,l]=ye.useState(""),[u,d]=ye.useState(!1),[g,p]=ye.useState(null),_=async T=>{if(T.preventDefault(),!!r){d(!0),p(null);try{await Lw(r,e,a),p("Logged in successfully.")}catch(b){console.error(b);const O=(b==null?void 0:b.code)||"";let P="Login failed. Check your credentials.";O.includes("auth/user-not-found")&&(P="No account with that email."),O.includes("auth/wrong-password")&&(P="Incorrect password."),p(P)}finally{d(!1)}}};return w.jsxs("form",{onSubmit:_,className:"space-y-3",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-300",children:"Email"}),w.jsx("input",{value:e,onChange:T=>i(T.target.value),type:"email",required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-300",children:"Password"}),w.jsx("input",{value:a,onChange:T=>l(T.target.value),type:"password",required:!0,minLength:6,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),g&&w.jsx("div",{className:"text-sm text-yellow-300",children:g}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("button",{disabled:u,type:"submit",className:"py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-md",children:u?"Signing in":"Sign in"}),w.jsx("a",{href:"/login.html",className:"text-sm text-gray-400",children:"I prefer the full login page"})]})]})}function S2({auth:r,db:e,appId:i}){const[a,l]=ye.useState(""),[u,d]=ye.useState(""),[g,p]=ye.useState(""),[_,T]=ye.useState(""),[b,O]=ye.useState(!1),[P,Q]=ye.useState(null),W=async $=>{if($.preventDefault(),!(!r||!e)){if(g!==_){Q("Passwords do not match");return}O(!0),Q(null);try{const oe=await kw(r,u,g);await Dl(ii(e,"users",oe.user.uid),{uid:oe.user.uid,fullName:a,email:u,createdAt:new Date().toISOString()}),await Dl(ii(e,`users/${oe.user.uid}/apps/${i}`,"meta"),{ownerUid:oe.user.uid,appId:i,createdAt:new Date().toISOString()});try{await Pw(oe.user)}catch{}Q("Registered and signed in. Verification email sent (if supported).")}catch(oe){console.error(oe);let ge="Registration failed.";const se=(oe==null?void 0:oe.code)||"";se.includes("auth/email-already-in-use")&&(ge="This email is already registered."),se.includes("auth/weak-password")&&(ge="Password is too weak."),Q(ge)}finally{O(!1)}}};return w.jsxs("form",{onSubmit:W,className:"space-y-3",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-300",children:"Full name"}),w.jsx("input",{value:a,onChange:$=>l($.target.value),type:"text",required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-300",children:"Email"}),w.jsx("input",{value:u,onChange:$=>d($.target.value),type:"email",required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-300",children:"Password"}),w.jsx("input",{value:g,onChange:$=>p($.target.value),type:"password",required:!0,minLength:6,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-300",children:"Confirm"}),w.jsx("input",{value:_,onChange:$=>T($.target.value),type:"password",required:!0,minLength:6,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]})]}),P&&w.jsx("div",{className:"text-sm text-yellow-300",children:P}),w.jsx("div",{children:w.jsx("button",{disabled:b,type:"submit",className:"py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-md",children:b?"Registering":"Create account"})})]})}function b2({db:r,userId:e,appId:i}){const[a,l]=ye.useState(""),[u,d]=ye.useState(""),[g,p]=ye.useState(!1),[_,T]=ye.useState(null),b=`users/${e}/apps/${i}`,O=ii(r,`${b}/meta/app`),P=async W=>{if(W.preventDefault(),!!a){p(!0),T(null);try{await Xs(O,{allowedAdminEmails:Jv(a.trim().toLowerCase())}),T("Admin email added."),l("")}catch($){console.error($),T("Failed to add email.")}finally{p(!1)}}},Q=async W=>{if(W.preventDefault(),!!u){p(!0),T(null);try{await Xs(O,{allowedAdminUids:Jv(u.trim())}),T("Admin UID added."),d("")}catch($){console.error($),T("Failed to add UID.")}finally{p(!1)}}};return w.jsxs("div",{className:"space-y-3",children:[w.jsxs("form",{onSubmit:P,className:"flex items-end gap-2",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("label",{className:"block text-sm text-gray-300",children:"Add admin by email"}),w.jsx("input",{value:a,onChange:W=>l(W.target.value),type:"email",placeholder:"crew@example.com",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),w.jsx("button",{disabled:g||!a,className:"py-2 px-3 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Add"})]}),w.jsxs("form",{onSubmit:Q,className:"flex items-end gap-2",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("label",{className:"block text-sm text-gray-300",children:"Add admin by UID"}),w.jsx("input",{value:u,onChange:W=>d(W.target.value),type:"text",placeholder:"Paste Firebase UID",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),w.jsx("button",{disabled:g||!u,className:"py-2 px-3 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Add"})]}),_&&w.jsx("div",{className:"text-sm text-gray-300",children:_}),w.jsx("div",{className:"text-xs text-gray-400",children:"Tip: Ask the user to copy their UID from the header or provide their account email."})]})}function A2({djs:r,onDjClick:e,onDragStart:i,onDragOver:a,onDragEnter:l,onDragLeave:u,onDrop:d,isDropZoneActive:g,disabled:p,allSchedules:_}){const T=b=>{const O=[];return _.forEach(P=>{if(P){const Q=P.timeSlots.filter(W=>W.djId===b||W.guests&&W.guests.some($=>$.djId===b));O.push(...Q)}}),O};return w.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg flex-grow",children:[w.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center",children:[w.jsx(yT,{className:"w-6 h-6 mr-3 text-blue-400"}),"Unassigned DJs"]}),w.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:r.length===0?w.jsx("p",{className:"text-gray-400",children:"No unassigned DJs. Register one!"}):r.map(b=>{const O=T(b.id);return w.jsx("div",{children:w.jsx(ET,{dj:b,onClick:()=>e(b),isDraggable:!p,onDragStart:P=>i(P,{from:"pool",dj:b}),showInvite:O.length>0,assignedSlots:O})},b.id)})}),w.jsx("div",{onDragOver:a,onDragEnter:l,onDragLeave:u,onDrop:d,className:`mt-6 p-4 border-2 border-dashed rounded-lg text-center transition-all duration-200 ${g?"border-red-500 bg-red-900/50":"border-gray-600"}`,children:w.jsxs("div",{className:"flex flex-col items-center justify-center pointer-events-none",children:[w.jsx(_T,{className:`w-8 h-8 ${g?"text-red-400":"text-gray-500"}`}),w.jsx("p",{className:`mt-2 text-sm ${g?"text-red-300":"text-gray-400"}`,children:"Drag a DJ here to unassign"})]})})]})}function Dc({schedule:r,djs:e,onDjClick:i,onDragStart:a,onDragOver:l,onDragEnter:u,onDragEnterSlot:d,onDragLeave:g,onDrop:p,isDropZoneActive:_,disabled:T,activeRange:b,onReset:O,selectionMode:P,selectedSlots:Q,onSlotClick:W,onToggleSelectionMode:$,onMergeSlots:oe,onUnmerge:ge,onNameUpdate:se,stage:Ve}){const[Ze,be]=ye.useState(!1),[N,A]=ye.useState(r.name),[R,x]=ye.useState(!1),D=async()=>{if(!se||N.trim()===r.name){be(!1);return}x(!0);try{await se(N.trim()),be(!1)}catch(I){console.error("Failed to update name:",I),A(r.name)}finally{x(!1)}},U=I=>{I.key==="Enter"?D():I.key==="Escape"&&(A(r.name),be(!1))};return w.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsxs("div",{className:"flex items-center flex-grow",children:[w.jsx(l2,{className:"w-6 h-6 mr-3 text-blue-400 flex-shrink-0"}),Ze?w.jsxs("div",{className:"flex items-center gap-2 flex-grow",children:[w.jsx("input",{type:"text",value:N,onChange:I=>A(I.target.value),onKeyDown:U,onBlur:D,autoFocus:!0,disabled:R,className:"bg-gray-700 text-white px-3 py-1 rounded text-xl font-semibold border border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-400 flex-grow"}),R&&w.jsx("span",{className:"text-gray-400 text-sm",children:"Saving..."})]}):w.jsx("h2",{className:"text-2xl font-semibold cursor-pointer hover:text-blue-300 transition-colors",onClick:()=>be(!0),title:"Click to edit stage name",children:r.name})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:$,disabled:T,className:`py-2 px-3 rounded-md text-sm transition-colors ${P?"bg-yellow-600 hover:bg-yellow-700":"bg-purple-600 hover:bg-purple-700"} disabled:bg-gray-600 disabled:cursor-not-allowed text-white`,children:P?" Cancel":" Merge Blocks"}),P&&Q.length>1&&w.jsxs("button",{onClick:oe,disabled:T,className:"py-2 px-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 rounded-md text-sm text-white",children:[" Merge (",Q.length,")"]}),w.jsxs("button",{onClick:O,disabled:T,className:"py-2 px-3 bg-red-600 hover:bg-red-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-md text-white text-sm flex items-center gap-2",title:"Clear all assignments",children:[w.jsx(_T,{className:"w-4 h-4"}),"Reset"]})]})]}),w.jsx("p",{className:"text-xs text-gray-400 mb-4",children:P?' Click adjacent empty slots to select, then click "Merge" to create larger blocks.':"Drag to swap  Edge handles to extend  Shift+drop for range  Alt+drop to overlap"}),w.jsx("div",{className:"space-y-2",children:r.timeSlots.map((I,lt)=>w.jsx("div",{children:w.jsx(w2,{slot:I,slotIndex:lt,allDjs:e,onDjClick:i,onDragStart:a,onDragOver:l,onDragEnter:u,onDragEnterSlot:d,onDragLeave:g,onDrop:p,disabled:T,activeRange:b,isSelected:Q.includes(lt),onSlotClick:W,selectionMode:P,onUnmerge:ge,stage:Ve})},lt))})]})}function w2({slot:r,slotIndex:e,allDjs:i,onDjClick:a,onDragStart:l,onDragOver:u,onDragEnter:d,onDragEnterSlot:g,onDragLeave:p,onDrop:_,disabled:T,activeRange:b,isSelected:O,onSlotClick:P,selectionMode:Q,onUnmerge:W,stage:$}){var x;const[oe,ge]=ye.useState(!1),se=r.djId&&i.find(D=>D.id===r.djId)||null,Ve=b?e>=b.start&&e<=b.end:!1;if(r.mergedWith!==void 0)return null;const Ze=r.isMergedStart&&r.mergedCount&&r.mergedCount>1,be=se?`https://placehold.co/60x60/374151/9CA3AF?text=${encodeURIComponent(((x=se.djName)==null?void 0:x.charAt(0))||"D")}`:"",N=D=>{D.preventDefault(),D.stopPropagation(),ge(!0),d(D),g(D,e)},A=D=>{D.preventDefault(),D.stopPropagation(),ge(!1),p(D)},R=D=>{D.preventDefault(),D.stopPropagation(),ge(!1),_(D,e,$)};return w.jsxs("div",{onClick:()=>Q&&P&&P(e),className:`flex items-center bg-gray-700 rounded-lg p-3 transition-all duration-200 ${oe||Ve?"ring-2 ring-blue-500 bg-gray-600":""} ${O?"ring-2 ring-yellow-500 bg-yellow-900/30":""} ${Ze?"border-l-4 border-purple-500":""} ${Q?"cursor-pointer hover:bg-gray-600":""}`,onDragOver:u,onDragEnter:N,onDragLeave:A,onDrop:R,children:[se&&se.photoUrl&&w.jsx("div",{className:"mr-3 flex-shrink-0",children:w.jsx("img",{src:se.photoUrl||be,alt:se.djName,onError:D=>{D.currentTarget.src=be},className:"w-12 h-12 rounded-full object-cover border-2 border-blue-400"})}),w.jsxs("div",{className:"flex-shrink-0 text-blue-300 font-mono flex items-center mr-4",children:[w.jsx(u2,{className:"w-4 h-4 mr-2"}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"text-sm",children:r.time}),Ze&&w.jsxs("span",{className:"text-xs text-purple-300",children:[r.mergedCount," slots (",r.mergedCount*15," min)"]})]})]}),w.jsxs("div",{className:"flex-grow relative",children:[se?w.jsxs("div",{className:"relative",children:[!Q&&w.jsxs(w.Fragment,{children:[w.jsx("div",{draggable:!T,onDragStart:D=>l(D,{from:"resize",direction:"left",slotIndex:e,djId:se.id,djName:se.djName}),title:"Extend earlier",className:"absolute left-0 top-1/2 -translate-y-1/2 w-2 h-8 bg-blue-500/60 hover:bg-blue-500 rounded-sm cursor-ew-resize z-10"}),w.jsx("div",{draggable:!T,onDragStart:D=>l(D,{from:"resize",direction:"right",slotIndex:e,djId:se.id,djName:se.djName}),title:"Extend later",className:"absolute right-0 top-1/2 -translate-y-1/2 w-2 h-8 bg-blue-500/60 hover:bg-blue-500 rounded-sm cursor-ew-resize z-10"})]}),w.jsx(ET,{dj:se,onClick:()=>a(se),isDraggable:!T&&!Q,onDragStart:D=>l(D,{from:"slot",slotIndex:e,djId:se.id,djName:se.djName})})]}):w.jsx("div",{className:"text-center text-gray-500 p-3 border border-dashed border-gray-600 rounded-md",children:Q?"Select to merge":"Empty Slot"}),r.guests&&r.guests.length>0&&w.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:r.guests.map(D=>w.jsxs("span",{className:"text-xs bg-gray-900 border border-gray-600 rounded px-2 py-1 text-gray-200",children:["+ ",D.djName]},D.djId))})]}),Ze&&W&&!Q&&w.jsx("button",{onClick:D=>{D.stopPropagation(),W(e)},className:"ml-2 px-2 py-1 bg-purple-600 hover:bg-purple-700 rounded text-xs",title:"Unmerge this block",children:"Unmerge"})]})}function ET({dj:r,onClick:e,isDraggable:i,onDragStart:a,showInvite:l,assignedSlots:u}){var T;const[d,g]=ye.useState(!1),p=`https://placehold.co/40x40/374151/9CA3AF?text=${encodeURIComponent(((T=r.djName)==null?void 0:T.charAt(0))||"D")}`,_=b=>{b.stopPropagation();let O=`${window.location.origin}/Registration.html?djName=${encodeURIComponent(r.djName)}&realName=${encodeURIComponent(r.realName)}`;if(u&&u.length>0){const P=u.map(Q=>Q.time).join(",");O+=`&slots=${encodeURIComponent(P)}`}navigator.clipboard.writeText(O).then(()=>{g(!0),setTimeout(()=>g(!1),2e3)}).catch(P=>{console.error("Failed to copy invite link:",P)})};return w.jsxs("div",{draggable:i,onDragStart:a,className:`flex items-center bg-gray-900 p-2 rounded-md shadow-sm ${i?"cursor-move":"cursor-pointer"} border border-gray-700 hover:bg-gray-800 transition-colors`,children:[w.jsx(c2,{className:"w-5 h-5 mr-2 text-gray-500 flex-shrink-0"}),w.jsx("img",{src:r.photoUrl||p,alt:r.djName,onError:b=>{b.currentTarget.src=p},className:"w-10 h-10 rounded-full object-cover mr-3 flex-shrink-0"}),w.jsxs("div",{className:"flex-grow min-w-0",onClick:e,children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("p",{className:"text-md font-semibold text-white truncate",children:r.djName}),r.inviteStatus&&w.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${r.inviteStatus==="confirmed"?"bg-green-700 text-green-100":r.inviteStatus==="pending"?"bg-yellow-700 text-yellow-100":r.inviteStatus==="declined"?"bg-red-700 text-red-100":"bg-gray-700 text-gray-300"}`,children:r.inviteStatus==="confirmed"?" Confirmed":r.inviteStatus==="pending"?" Pending":r.inviteStatus==="declined"?" Declined":" Invited"})]}),w.jsx("p",{className:"text-sm text-gray-400 truncate",children:r.realName})]}),l&&w.jsx("button",{onClick:_,className:`ml-2 px-2 py-1 rounded text-xs font-medium transition-colors flex-shrink-0 ${d?"bg-green-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,title:"Copy invite link to clipboard",children:d?"Copied!":"Invite"})]})}function R2({dj:r,onClose:e}){const i="https://placehold.co/600x400/374151/9CA3AF?text=No+Photo";return w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-75 backdrop-blur-sm",onClick:e,children:w.jsxs("div",{className:"bg-gray-800 w-full max-w-lg rounded-xl shadow-2xl overflow-hidden",onClick:a=>a.stopPropagation(),children:[w.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[w.jsxs("h2",{className:"text-2xl font-bold text-blue-400 flex items-center",children:[w.jsx(yT,{className:"w-6 h-6 mr-3"}),r.djName]}),w.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white rounded-full p-1 transition-colors",children:w.jsx(vT,{className:"w-6 h-6"})})]}),w.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[w.jsx("img",{src:r.photoUrl||i,alt:r.djName,onError:a=>{a.currentTarget.src=i},className:"w-full h-64 object-cover rounded-lg bg-gray-700"}),w.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[w.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[w.jsx(h2,{className:"w-4 h-4 mr-2"}),"Real Name"]}),w.jsx("p",{className:"text-lg text-white",children:r.realName})]}),r.info&&w.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[w.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[w.jsx(um,{className:"w-4 h-4 mr-2"}),"Bio / Info"]}),w.jsx("p",{className:"text-white whitespace-pre-wrap",children:r.info})]}),r.visualUrl&&w.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[w.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[w.jsx(d2,{className:"w-4 h-4 mr-2"}),"Visuals / Content"]}),w.jsx("a",{href:r.visualUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline truncate block",children:r.visualUrl})]}),w.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[w.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Invitation Status"}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:`text-sm px-3 py-1.5 rounded font-medium ${r.inviteStatus==="confirmed"?"bg-green-700 text-green-100":r.inviteStatus==="pending"?"bg-yellow-700 text-yellow-100":r.inviteStatus==="declined"?"bg-red-700 text-red-100":"bg-gray-600 text-gray-200"}`,children:r.inviteStatus==="confirmed"?" Confirmed":r.inviteStatus==="pending"?" Pending":r.inviteStatus==="declined"?" Declined":" Invited"}),r.confirmedAt&&w.jsxs("span",{className:"text-xs text-gray-400",children:[" Confirmed ",new Date(r.confirmedAt).toLocaleDateString()]}),!r.confirmedAt&&r.invitedAt&&w.jsxs("span",{className:"text-xs text-gray-400",children:[" Invited ",new Date(r.invitedAt).toLocaleDateString()]})]})]})]})]})})}const I2=document.getElementById("root"),C2=ib.createRoot(I2);C2.render(w.jsx(g2,{}));
