(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var bd={exports:{}},_l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function $b(){if(C_)return _l;C_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:u}}return _l.Fragment=e,_l.jsx=i,_l.jsxs=i,_l}var N_;function Xb(){return N_||(N_=1,bd.exports=$b()),bd.exports}var S=Xb(),Sd={exports:{}},vl={},Ad={exports:{}},wd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function Jb(){return x_||(x_=1,(function(r){function e(q,ie){var ae=q.length;q.push(ie);e:for(;0<ae;){var Ke=ae-1>>>1,qe=q[Ke];if(0<l(qe,ie))q[Ke]=ie,q[ae]=qe,ae=Ke;else break e}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var ie=q[0],ae=q.pop();if(ae!==ie){q[0]=ae;e:for(var Ke=0,qe=q.length,D=qe>>>1;Ke<D;){var G=2*(Ke+1)-1,X=q[G],oe=G+1,me=q[oe];if(0>l(X,ae))oe<qe&&0>l(me,X)?(q[Ke]=me,q[oe]=ae,Ke=oe):(q[Ke]=X,q[G]=ae,Ke=G);else if(oe<qe&&0>l(me,ae))q[Ke]=me,q[oe]=ae,Ke=oe;else break e}}return ie}function l(q,ie){var ae=q.sortIndex-ie.sortIndex;return ae!==0?ae:q.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();r.unstable_now=function(){return d.now()-m}}var p=[],_=[],T=1,A=null,M=3,P=!1,Q=!1,W=!1,J=!1,le=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function ye(q){for(var ie=i(_);ie!==null;){if(ie.callback===null)a(_);else if(ie.startTime<=q)a(_),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=i(_)}}function st(q){if(W=!1,ye(q),!Q)if(i(p)!==null)Q=!0,Ie||(Ie=!0,x());else{var ie=i(_);ie!==null&&ht(st,ie.startTime-q)}}var Ie=!1,N=-1,w=5,R=-1;function V(){return J?!0:!(r.unstable_now()-R<w)}function U(){if(J=!1,Ie){var q=r.unstable_now();R=q;var ie=!0;try{e:{Q=!1,W&&(W=!1,Ee(N),N=-1),P=!0;var ae=M;try{t:{for(ye(q),A=i(p);A!==null&&!(A.expirationTime>q&&V());){var Ke=A.callback;if(typeof Ke=="function"){A.callback=null,M=A.priorityLevel;var qe=Ke(A.expirationTime<=q);if(q=r.unstable_now(),typeof qe=="function"){A.callback=qe,ye(q),ie=!0;break t}A===i(p)&&a(p),ye(q)}else a(p);A=i(p)}if(A!==null)ie=!0;else{var D=i(_);D!==null&&ht(st,D.startTime-q),ie=!1}}break e}finally{A=null,M=ae,P=!1}ie=void 0}}finally{ie?x():Ie=!1}}}var x;if(typeof ge=="function")x=function(){ge(U)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,it=I.port2;I.port1.onmessage=U,x=function(){it.postMessage(null)}}else x=function(){le(U,0)};function ht(q,ie){N=le(function(){q(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(q){switch(M){case 1:case 2:case 3:var ie=3;break;default:ie=M}var ae=M;M=ie;try{return q()}finally{M=ae}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(q,ie){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ae=M;M=q;try{return ie()}finally{M=ae}},r.unstable_scheduleCallback=function(q,ie,ae){var Ke=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Ke+ae:Ke):ae=Ke,q){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=ae+qe,q={id:T++,callback:ie,priorityLevel:q,startTime:ae,expirationTime:qe,sortIndex:-1},ae>Ke?(q.sortIndex=ae,e(_,q),i(p)===null&&q===i(_)&&(W?(Ee(N),N=-1):W=!0,ht(st,ae-Ke))):(q.sortIndex=qe,e(p,q),Q||P||(Q=!0,Ie||(Ie=!0,x()))),q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(q){var ie=M;return function(){var ae=M;M=ie;try{return q.apply(this,arguments)}finally{M=ae}}}})(wd)),wd}var D_;function Zb(){return D_||(D_=1,Ad.exports=Jb()),Ad.exports}var Rd={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function Wb(){if(O_)return Ce;O_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function P(D){return D===null||typeof D!="object"?null:(D=M&&D[M]||D["@@iterator"],typeof D=="function"?D:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function le(D,G,X){this.props=D,this.context=G,this.refs=J,this.updater=X||Q}le.prototype.isReactComponent={},le.prototype.setState=function(D,G){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,G,"setState")},le.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Ee(){}Ee.prototype=le.prototype;function ge(D,G,X){this.props=D,this.context=G,this.refs=J,this.updater=X||Q}var ye=ge.prototype=new Ee;ye.constructor=ge,W(ye,le.prototype),ye.isPureReactComponent=!0;var st=Array.isArray;function Ie(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(D,G,X){var oe=X.ref;return{$$typeof:r,type:D,key:G,ref:oe!==void 0?oe:null,props:X}}function V(D,G){return R(D.type,G,D.props)}function U(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function x(D){var G={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(X){return G[X]})}var I=/\/+/g;function it(D,G){return typeof D=="object"&&D!==null&&D.key!=null?x(""+D.key):G.toString(36)}function ht(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Ie,Ie):(D.status="pending",D.then(function(G){D.status==="pending"&&(D.status="fulfilled",D.value=G)},function(G){D.status==="pending"&&(D.status="rejected",D.reason=G)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function q(D,G,X,oe,me){var De=typeof D;(De==="undefined"||De==="boolean")&&(D=null);var Ve=!1;if(D===null)Ve=!0;else switch(De){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(D.$$typeof){case r:case e:Ve=!0;break;case T:return Ve=D._init,q(Ve(D._payload),G,X,oe,me)}}if(Ve)return me=me(D),Ve=oe===""?"."+it(D,0):oe,st(me)?(X="",Ve!=null&&(X=Ve.replace(I,"$&/")+"/"),q(me,G,X,"",function(In){return In})):me!=null&&(U(me)&&(me=V(me,X+(me.key==null||D&&D.key===me.key?"":(""+me.key).replace(I,"$&/")+"/")+Ve)),G.push(me)),1;Ve=0;var jt=oe===""?".":oe+":";if(st(D))for(var Qe=0;Qe<D.length;Qe++)oe=D[Qe],De=jt+it(oe,Qe),Ve+=q(oe,G,X,De,me);else if(Qe=P(D),typeof Qe=="function")for(D=Qe.call(D),Qe=0;!(oe=D.next()).done;)oe=oe.value,De=jt+it(oe,Qe++),Ve+=q(oe,G,X,De,me);else if(De==="object"){if(typeof D.then=="function")return q(ht(D),G,X,oe,me);throw G=String(D),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function ie(D,G,X){if(D==null)return D;var oe=[],me=0;return q(D,oe,"","",function(De){return G.call(X,De,me++)}),oe}function ae(D){if(D._status===-1){var G=D._result;G=G(),G.then(function(X){(D._status===0||D._status===-1)&&(D._status=1,D._result=X)},function(X){(D._status===0||D._status===-1)&&(D._status=2,D._result=X)}),D._status===-1&&(D._status=0,D._result=G)}if(D._status===1)return D._result.default;throw D._result}var Ke=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},qe={map:ie,forEach:function(D,G,X){ie(D,function(){G.apply(this,arguments)},X)},count:function(D){var G=0;return ie(D,function(){G++}),G},toArray:function(D){return ie(D,function(G){return G})||[]},only:function(D){if(!U(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ce.Activity=A,Ce.Children=qe,Ce.Component=le,Ce.Fragment=i,Ce.Profiler=l,Ce.PureComponent=ge,Ce.StrictMode=a,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(D){return N.H.useMemoCache(D)}},Ce.cache=function(D){return function(){return D.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(D,G,X){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var oe=W({},D.props),me=D.key;if(G!=null)for(De in G.key!==void 0&&(me=""+G.key),G)!w.call(G,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&G.ref===void 0||(oe[De]=G[De]);var De=arguments.length-2;if(De===1)oe.children=X;else if(1<De){for(var Ve=Array(De),jt=0;jt<De;jt++)Ve[jt]=arguments[jt+2];oe.children=Ve}return R(D.type,me,oe)},Ce.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Ce.createElement=function(D,G,X){var oe,me={},De=null;if(G!=null)for(oe in G.key!==void 0&&(De=""+G.key),G)w.call(G,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(me[oe]=G[oe]);var Ve=arguments.length-2;if(Ve===1)me.children=X;else if(1<Ve){for(var jt=Array(Ve),Qe=0;Qe<Ve;Qe++)jt[Qe]=arguments[Qe+2];me.children=jt}if(D&&D.defaultProps)for(oe in Ve=D.defaultProps,Ve)me[oe]===void 0&&(me[oe]=Ve[oe]);return R(D,De,me)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(D){return{$$typeof:m,render:D}},Ce.isValidElement=U,Ce.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:ae}},Ce.memo=function(D,G){return{$$typeof:_,type:D,compare:G===void 0?null:G}},Ce.startTransition=function(D){var G=N.T,X={};N.T=X;try{var oe=D(),me=N.S;me!==null&&me(X,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Ie,Ke)}catch(De){Ke(De)}finally{G!==null&&X.types!==null&&(G.types=X.types),N.T=G}},Ce.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ce.use=function(D){return N.H.use(D)},Ce.useActionState=function(D,G,X){return N.H.useActionState(D,G,X)},Ce.useCallback=function(D,G){return N.H.useCallback(D,G)},Ce.useContext=function(D){return N.H.useContext(D)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(D,G){return N.H.useDeferredValue(D,G)},Ce.useEffect=function(D,G){return N.H.useEffect(D,G)},Ce.useEffectEvent=function(D){return N.H.useEffectEvent(D)},Ce.useId=function(){return N.H.useId()},Ce.useImperativeHandle=function(D,G,X){return N.H.useImperativeHandle(D,G,X)},Ce.useInsertionEffect=function(D,G){return N.H.useInsertionEffect(D,G)},Ce.useLayoutEffect=function(D,G){return N.H.useLayoutEffect(D,G)},Ce.useMemo=function(D,G){return N.H.useMemo(D,G)},Ce.useOptimistic=function(D,G){return N.H.useOptimistic(D,G)},Ce.useReducer=function(D,G,X){return N.H.useReducer(D,G,X)},Ce.useRef=function(D){return N.H.useRef(D)},Ce.useState=function(D){return N.H.useState(D)},Ce.useSyncExternalStore=function(D,G,X){return N.H.useSyncExternalStore(D,G,X)},Ce.useTransition=function(){return N.H.useTransition()},Ce.version="19.2.0",Ce}var M_;function fm(){return M_||(M_=1,Rd.exports=Wb()),Rd.exports}var Id={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function eS(){if(V_)return fn;V_=1;var r=fm();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,_,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:p,containerInfo:_,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,fn.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(p,_,null,T)},fn.flushSync=function(p){var _=d.T,T=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=_,a.p=T,a.d.f()}},fn.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(p,_))},fn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},fn.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,A=m(T,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,P=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?a.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:P}):T==="script"&&a.d.X(p,{crossOrigin:A,integrity:M,fetchPriority:P,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},fn.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=m(_.as,_.crossOrigin);a.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(p)},fn.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,A=m(T,_.crossOrigin);a.d.L(p,T,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},fn.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=m(_.as,_.crossOrigin);a.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(p)},fn.requestFormReset=function(p){a.d.r(p)},fn.unstable_batchedUpdates=function(p,_){return p(_)},fn.useFormState=function(p,_,T){return d.H.useFormState(p,_,T)},fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},fn.version="19.2.0",fn}var U_;function tS(){if(U_)return Id.exports;U_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Id.exports=eS(),Id.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function nS(){if(k_)return vl;k_=1;var r=Zb(),e=fm(),i=tS();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return p(h),t;if(f===o)return p(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===s){y=!0,s=h,o=f;break}if(E===o){y=!0,o=h,s=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===s){y=!0,s=f,o=h;break}if(E===o){y=!0,o=f,s=h;break}E=E.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),Ee=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=U&&t[U]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function it(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case le:return"Profiler";case J:return"StrictMode";case st:return"Suspense";case Ie:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case ge:return t.displayName||"Context";case Ee:return(t._context.displayName||"Context")+".Consumer";case ye:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:it(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return it(t(n))}catch{}}return null}var ht=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},Ke=[],qe=-1;function D(t){return{current:t}}function G(t){0>qe||(t.current=Ke[qe],Ke[qe]=null,qe--)}function X(t,n){qe++,Ke[qe]=t.current,t.current=n}var oe=D(null),me=D(null),De=D(null),Ve=D(null);function jt(t,n){switch(X(De,n),X(me,t),X(oe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Jy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Jy(n),t=Zy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(oe),X(oe,t)}function Qe(){G(oe),G(me),G(De)}function In(t){t.memoizedState!==null&&X(Ve,t);var n=oe.current,s=Zy(n,t.type);n!==s&&(X(me,t),X(oe,s))}function yn(t){me.current===t&&(G(oe),G(me)),Ve.current===t&&(G(Ve),ml._currentValue=ae)}var bi,Pn;function Cn(t){if(bi===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);bi=n&&n[1]||"",Pn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bi+t+Pn}var At=!1;function hi(t,n){if(!t||At)return"";At=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var B=H}Reflect.construct(t,[],$)}else{try{$.call()}catch(H){B=H}t.call($.prototype)}}else{try{throw Error()}catch(H){B=H}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var C=y.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var K=`
`+C[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=h);break}}}finally{At=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Cn(s):""}function Bi(t,n){switch(t.tag){case 26:case 27:case 5:return Cn(t.type);case 16:return Cn("Lazy");case 13:return t.child!==n&&n!==null?Cn("Suspense Fallback"):Cn("Suspense");case 19:return Cn("SuspenseList");case 0:case 15:return hi(t.type,!1);case 11:return hi(t.type.render,!1);case 1:return hi(t.type,!0);case 31:return Cn("Activity");default:return""}}function ua(t){try{var n="",s=null;do n+=Bi(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Jn=Object.prototype.hasOwnProperty,jn=r.unstable_scheduleCallback,Zn=r.unstable_cancelCallback,wr=r.unstable_shouldYield,fi=r.unstable_requestPaint,It=r.unstable_now,ca=r.unstable_getCurrentPriorityLevel,bt=r.unstable_ImmediatePriority,wt=r.unstable_UserBlockingPriority,Nn=r.unstable_NormalPriority,qi=r.unstable_LowPriority,Si=r.unstable_IdlePriority,Ss=r.log,Ai=r.unstable_setDisableYieldValue,zn=null,Mt=null;function _n(t){if(typeof Ss=="function"&&Ai(t),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(zn,t)}catch{}}var tn=Math.clz32?Math.clz32:ha,So=Math.log,As=Math.LN2;function ha(t){return t>>>=0,t===0?32:31-(So(t)/As|0)|0}var Z=256,te=262144,se=4194304;function fe(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function we(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=fe(o):(y&=E,y!==0?h=fe(y):s||(s=E&~t,s!==0&&(h=fe(s))))):(E=o&~f,E!==0?h=fe(E):y!==0?h=fe(y):s||(s=o&~t,s!==0&&(h=fe(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Ct(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Oe(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hi(){var t=se;return se<<=1,(se&62914560)===0&&(se=4194304),t}function vn(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Wn(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vt(t,n,s,o,h,f){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(s=y&~s;0<s;){var K=31-tn(s),$=1<<K;E[K]=0,C[K]=-1;var B=z[K];if(B!==null)for(z[K]=null,K=0;K<B.length;K++){var H=B[K];H!==null&&(H.lane&=-536870913)}s&=~$}o!==0&&yt(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function yt(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-tn(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function He(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-tn(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function be(t,n){var s=n&-n;return s=(s&42)!==0?1:Re(s),(s&(t.suspendedLanes|n))!==0?0:s}function Re(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xe(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Nt(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:T_(t.type))}function gt(t,n){var s=ie.p;try{return ie.p=t,n()}finally{ie.p=s}}var Ye=Math.random().toString(36).slice(2),Ze="__reactFiber$"+Ye,Je="__reactProps$"+Ye,ei="__reactContainer$"+Ye,Rr="__reactEvents$"+Ye,wi="__reactListeners$"+Ye,ru="__reactHandles$"+Ye,Ao="__reactResources$"+Ye,Fi="__reactMarker$"+Ye;function ws(t){delete t[Ze],delete t[Je],delete t[Rr],delete t[wi],delete t[ru]}function Gi(t){var n=t[Ze];if(n)return n;for(var s=t.parentNode;s;){if(n=s[ei]||s[Ze]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=s_(t);t!==null;){if(s=t[Ze])return s;t=s_(t)}return n}t=s,s=t.parentNode}return null}function Ki(t){if(t=t[Ze]||t[ei]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Rs(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function di(t){var n=t[Ao];return n||(n=t[Ao]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ut(t){t[Fi]=!0}var fa=new Set,Ir={};function En(t,n){Ri(t,n),Ri(t+"Capture",n)}function Ri(t,n){for(Ir[t]=n,t=0;t<n.length;t++)fa.add(n[t])}var bh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},Ro={};function su(t){return Jn.call(Ro,t)?!0:Jn.call(wo,t)?!1:bh.test(t)?Ro[t]=!0:(wo[t]=!0,!1)}function Cr(t,n,s){if(su(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Nr(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function ti(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function Tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function au(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Sh(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function da(t){if(!t._valueTracker){var n=au(t)?"checked":"value";t._valueTracker=Sh(t,n,""+t[n])}}function Io(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=au(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function ma(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qi=/[\n"\\]/g;function xt(t){return t.replace(Qi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xr(t,n,s,o,h,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Tn(n)):t.value!==""+Tn(n)&&(t.value=""+Tn(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?ga(t,y,Tn(n)):s!=null?ga(t,y,Tn(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Tn(E):t.removeAttribute("name")}function Is(t,n,s,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){da(t);return}s=s!=null?""+Tn(s):"",n=n!=null?""+Tn(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),da(t)}function ga(t,n,s){n==="number"&&ma(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function We(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Tn(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Cs(t,n,s){if(n!=null&&(n=""+Tn(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Tn(s):""}function Dr(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ht(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Tn(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),da(t)}function ni(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Ah=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||Ah.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function ou(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Co(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Co(t,f,n[f])}function No(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ii(t){return Rh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Xt(){}var pa=null;function ya(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yi=null,Bn=null;function lu(t){var n=Ki(t);if(n&&(t=n.stateNode)){var s=t[Je]||null;e:switch(t=n.stateNode,n.type){case"input":if(xr(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+xt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[Je]||null;if(!h)throw Error(a(90));xr(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&Io(o)}break e;case"textarea":Cs(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&We(t,!!s.multiple,n,!1)}}}var xo=!1;function uu(t,n,s){if(xo)return t(n,s);xo=!0;try{var o=t(n);return o}finally{if(xo=!1,(Yi!==null||Bn!==null)&&(sc(),Yi&&(n=Yi,t=Bn,Bn=Yi=null,lu(n),t)))for(n=0;n<t.length;n++)lu(t[n])}}function xn(t,n){var s=t.stateNode;if(s===null)return null;var o=s[Je]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Do=!1;if(mi)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){Do=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{Do=!1}var qn=null,_a=null,Ni=null;function Or(){if(Ni)return Ni;var t,n=_a,s=n.length,o,h="value"in qn?qn.value:qn.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var y=s-t;for(o=1;o<=y&&n[s-o]===h[f-o];o++);return Ni=h.slice(t,1<o?1-o:void 0)}function Ns(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Mr(){return!0}function _t(){return!1}function hn(t){function n(s,o,h,f,y){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Mr:_t,this.isPropagationStopped=_t,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Mr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Mr)},persist:function(){},isPersistent:Mr}),n}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xs=hn($i),Vr=A({},$i,{view:0,detail:0}),cu=hn(Vr),Ur,va,bn,Ds=A({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bn&&(bn&&t.type==="mousemove"?(Ur=t.screenX-bn.screenX,va=t.screenY-bn.screenY):va=Ur=0,bn=t),Ur)},movementY:function(t){return"movementY"in t?t.movementY:va}}),hu=hn(Ds),Os=A({},Ds,{dataTransfer:0}),fu=hn(Os),Oo=A({},Vr,{relatedTarget:0}),kr=hn(Oo),du=A({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Ea=hn(du),Ih=A({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mu=hn(Ih),Ms=A({},$i,{data:0}),Mo=hn(Ms),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Uo[t])?!!n[t]:!1}function Lr(){return pu}var yu=A({},Vr,{key:function(t){if(t.key){var n=gu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ns(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(t){return t.type==="keypress"?Ns(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ns(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_u=hn(yu),Xi=A({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ko=hn(Xi),vu=A({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),Eu=hn(vu),Tu=A({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ta=hn(Tu),Sn=A({},Ds,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bu=hn(Sn),Su=A({},$i,{newState:0,oldState:0}),Pr=hn(Su),c=[9,13,27,32],g=mi&&"CompositionEvent"in window,v=null;mi&&"documentMode"in document&&(v=document.documentMode);var b=mi&&"TextEvent"in window&&!v,L=mi&&(!g||v&&8<v&&11>=v),F=" ",re=!1;function at(t,n){switch(t){case"keyup":return c.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ke=!1;function Jt(t,n){switch(t){case"compositionend":return zt(n);case"keypress":return n.which!==32?null:(re=!0,F);case"textInput":return t=n.data,t===F&&re?null:t;default:return null}}function Zt(t,n){if(ke)return t==="compositionend"||!g&&at(t,n)?(t=Or(),Ni=_a=qn=null,ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return L&&n.locale!=="ko"?null:n.data;default:return null}}var jr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!jr[t.type]:n==="textarea"}function Vs(t,n,s,o){Yi?Bn?Bn.push(o):Bn=[o]:Yi=o,n=fc(n,"onChange"),0<n.length&&(s=new xs("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var Ji=null,Lo=null;function bT(t){Gy(t,0)}function Au(t){var n=Rs(t);if(Io(n))return t}function cg(t,n){if(t==="change")return n}var hg=!1;if(mi){var Ch;if(mi){var Nh="oninput"in document;if(!Nh){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),Nh=typeof fg.oninput=="function"}Ch=Nh}else Ch=!1;hg=Ch&&(!document.documentMode||9<document.documentMode)}function dg(){Ji&&(Ji.detachEvent("onpropertychange",mg),Lo=Ji=null)}function mg(t){if(t.propertyName==="value"&&Au(Lo)){var n=[];Vs(n,Lo,t,ya(t)),uu(bT,n)}}function ST(t,n,s){t==="focusin"?(dg(),Ji=n,Lo=s,Ji.attachEvent("onpropertychange",mg)):t==="focusout"&&dg()}function AT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(Lo)}function wT(t,n){if(t==="click")return Au(n)}function RT(t,n){if(t==="input"||t==="change")return Au(n)}function IT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Hn=typeof Object.is=="function"?Object.is:IT;function Po(t,n){if(Hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Jn.call(n,h)||!Hn(t[h],n[h]))return!1}return!0}function gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pg(t,n){var s=gg(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=gg(s)}}function yg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?yg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function _g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ma(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=ma(t.document)}return n}function xh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var CT=mi&&"documentMode"in document&&11>=document.documentMode,ba=null,Dh=null,jo=null,Oh=!1;function vg(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Oh||ba==null||ba!==ma(o)||(o=ba,"selectionStart"in o&&xh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),jo&&Po(jo,o)||(jo=o,o=fc(Dh,"onSelect"),0<o.length&&(n=new xs("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=ba)))}function Us(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Sa={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},Mh={},Eg={};mi&&(Eg=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function ks(t){if(Mh[t])return Mh[t];if(!Sa[t])return t;var n=Sa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Eg)return Mh[t]=n[s];return t}var Tg=ks("animationend"),bg=ks("animationiteration"),Sg=ks("animationstart"),NT=ks("transitionrun"),xT=ks("transitionstart"),DT=ks("transitioncancel"),Ag=ks("transitionend"),wg=new Map,Vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vh.push("scrollEnd");function gi(t,n){wg.set(t,n),En(n,[t])}var wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ii=[],Aa=0,Uh=0;function Ru(){for(var t=Aa,n=Uh=Aa=0;n<t;){var s=ii[n];ii[n++]=null;var o=ii[n];ii[n++]=null;var h=ii[n];ii[n++]=null;var f=ii[n];if(ii[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Rg(s,h,f)}}function Iu(t,n,s,o){ii[Aa++]=t,ii[Aa++]=n,ii[Aa++]=s,ii[Aa++]=o,Uh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function kh(t,n,s,o){return Iu(t,n,s,o),Cu(t)}function Ls(t,n){return Iu(t,null,null,n),Cu(t)}function Rg(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-tn(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Cu(t){if(50<ol)throw ol=0,Kf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var wa={};function OT(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,n,s,o){return new OT(t,n,s,o)}function Lh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zi(t,n){var s=t.alternate;return s===null?(s=Fn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Ig(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Nu(t,n,s,o,h,f){var y=0;if(o=t,typeof t=="function")Lh(t)&&(y=1);else if(typeof t=="string")y=Lb(t,s,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Fn(31,s,n,h),t.elementType=R,t.lanes=f,t;case W:return Ps(s.children,h,f,n);case J:y=8,h|=24;break;case le:return t=Fn(12,s,n,h|2),t.elementType=le,t.lanes=f,t;case st:return t=Fn(13,s,n,h),t.elementType=st,t.lanes=f,t;case Ie:return t=Fn(19,s,n,h),t.elementType=Ie,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ge:y=10;break e;case Ee:y=9;break e;case ye:y=11;break e;case N:y=14;break e;case w:y=16,o=null;break e}y=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Fn(y,s,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Ps(t,n,s,o){return t=Fn(7,t,o,n),t.lanes=s,t}function Ph(t,n,s){return t=Fn(6,t,null,n),t.lanes=s,t}function Cg(t){var n=Fn(18,null,null,0);return n.stateNode=t,n}function jh(t,n,s){return n=Fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ng=new WeakMap;function ri(t,n){if(typeof t=="object"&&t!==null){var s=Ng.get(t);return s!==void 0?s:(n={value:t,source:n,stack:ua(n)},Ng.set(t,n),n)}return{value:t,source:n,stack:ua(n)}}var Ra=[],Ia=0,xu=null,zo=0,si=[],ai=0,zr=null,xi=1,Di="";function Wi(t,n){Ra[Ia++]=zo,Ra[Ia++]=xu,xu=t,zo=n}function xg(t,n,s){si[ai++]=xi,si[ai++]=Di,si[ai++]=zr,zr=t;var o=xi;t=Di;var h=32-tn(o)-1;o&=~(1<<h),s+=1;var f=32-tn(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,xi=1<<32-tn(n)+h|s<<h|o,Di=f+t}else xi=1<<f|s<<h|o,Di=t}function zh(t){t.return!==null&&(Wi(t,1),xg(t,1,0))}function Bh(t){for(;t===xu;)xu=Ra[--Ia],Ra[Ia]=null,zo=Ra[--Ia],Ra[Ia]=null;for(;t===zr;)zr=si[--ai],si[ai]=null,Di=si[--ai],si[ai]=null,xi=si[--ai],si[ai]=null}function Dg(t,n){si[ai++]=xi,si[ai++]=Di,si[ai++]=zr,xi=n.id,Di=n.overflow,zr=t}var nn=null,vt=null,Fe=!1,Br=null,oi=!1,qh=Error(a(519));function qr(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(ri(n,t)),qh}function Og(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[Ze]=t,n[Je]=o,s){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(s=0;s<ul.length;s++)Pe(ul[s],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":Pe("invalid",n),Is(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Pe("invalid",n);break;case"textarea":Pe("invalid",n),Dr(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||$y(n.textContent,s)?(o.popover!=null&&(Pe("beforetoggle",n),Pe("toggle",n)),o.onScroll!=null&&Pe("scroll",n),o.onScrollEnd!=null&&Pe("scrollend",n),o.onClick!=null&&(n.onclick=Xt),n=!0):n=!1,n||qr(t,!0)}function Mg(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 31:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:nn=nn.return}}function Ca(t){if(t!==nn)return!1;if(!Fe)return Mg(t),Fe=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||od(t.type,t.memoizedProps)),s=!s),s&&vt&&qr(t),Mg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));vt=r_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));vt=r_(t)}else n===27?(n=vt,ns(t.type)?(t=fd,fd=null,vt=t):vt=n):vt=nn?ui(t.stateNode.nextSibling):null;return!0}function js(){vt=nn=null,Fe=!1}function Hh(){var t=Br;return t!==null&&(Un===null?Un=t:Un.push.apply(Un,t),Br=null),t}function Bo(t){Br===null?Br=[t]:Br.push(t)}var Fh=D(null),zs=null,er=null;function Hr(t,n,s){X(Fh,n._currentValue),n._currentValue=s}function tr(t){t._currentValue=Fh.current,G(Fh)}function Gh(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function Kh(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Gh(f.return,s,t),o||(y=null);break e}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),Gh(y,s,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Na(t,n,s,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=h.type;Hn(h.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ve.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ml):t=[ml])}h=h.return}t!==null&&Kh(n,t,s,o),n.flags|=262144}function Du(t){for(t=t.firstContext;t!==null;){if(!Hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Bs(t){zs=t,er=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return Vg(zs,t)}function Ou(t,n){return zs===null&&Bs(t),Vg(t,n)}function Vg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},er===null){if(t===null)throw Error(a(308));er=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else er=er.next=n;return s}var MT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},VT=r.unstable_scheduleCallback,UT=r.unstable_NormalPriority,Bt={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qh(){return{controller:new MT,data:new Map,refCount:0}}function qo(t){t.refCount--,t.refCount===0&&VT(UT,function(){t.controller.abort()})}var Ho=null,Yh=0,xa=0,Da=null;function kT(t,n){if(Ho===null){var s=Ho=[];Yh=0,xa=Zf(),Da={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Yh++,n.then(Ug,Ug),n}function Ug(){if(--Yh===0&&Ho!==null){Da!==null&&(Da.status="fulfilled");var t=Ho;Ho=null,xa=0,Da=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function LT(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var kg=q.S;q.S=function(t,n){vy=It(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&kT(t,n),kg!==null&&kg(t,n)};var qs=D(null);function $h(){var t=qs.current;return t!==null?t:pt.pooledCache}function Mu(t,n){n===null?X(qs,qs.current):X(qs,n.pool)}function Lg(){var t=$h();return t===null?null:{parent:Bt._currentValue,pool:t}}var Oa=Error(a(460)),Xh=Error(a(474)),Vu=Error(a(542)),Uu={then:function(){}};function Pg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function jg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Xt,Xt),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bg(t),t;default:if(typeof n.status=="string")n.then(Xt,Xt);else{if(t=pt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bg(t),t}throw Fs=n,Oa}}function Hs(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Fs=s,Oa):s}}var Fs=null;function zg(){if(Fs===null)throw Error(a(459));var t=Fs;return Fs=null,t}function Bg(t){if(t===Oa||t===Vu)throw Error(a(483))}var Ma=null,Fo=0;function ku(t){var n=Fo;return Fo+=1,Ma===null&&(Ma=[]),jg(Ma,t,n)}function Go(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Lu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function qg(t){function n(k,O){if(t){var j=k.deletions;j===null?(k.deletions=[O],k.flags|=16):j.push(O)}}function s(k,O){if(!t)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Zi(k,O),k.index=0,k.sibling=null,k}function f(k,O,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<O?(k.flags|=67108866,O):j):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function y(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,j,Y){return O===null||O.tag!==6?(O=Ph(j,k.mode,Y),O.return=k,O):(O=h(O,j),O.return=k,O)}function C(k,O,j,Y){var _e=j.type;return _e===W?K(k,O,j.props.children,Y,j.key):O!==null&&(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===w&&Hs(_e)===O.type)?(O=h(O,j.props),Go(O,j),O.return=k,O):(O=Nu(j.type,j.key,j.props,null,k.mode,Y),Go(O,j),O.return=k,O)}function z(k,O,j,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=jh(j,k.mode,Y),O.return=k,O):(O=h(O,j.children||[]),O.return=k,O)}function K(k,O,j,Y,_e){return O===null||O.tag!==7?(O=Ps(j,k.mode,Y,_e),O.return=k,O):(O=h(O,j),O.return=k,O)}function $(k,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Ph(""+O,k.mode,j),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case P:return j=Nu(O.type,O.key,O.props,null,k.mode,j),Go(j,O),j.return=k,j;case Q:return O=jh(O,k.mode,j),O.return=k,O;case w:return O=Hs(O),$(k,O,j)}if(ht(O)||x(O))return O=Ps(O,k.mode,j,null),O.return=k,O;if(typeof O.then=="function")return $(k,ku(O),j);if(O.$$typeof===ge)return $(k,Ou(k,O),j);Lu(k,O)}return null}function B(k,O,j,Y){var _e=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return _e!==null?null:E(k,O,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case P:return j.key===_e?C(k,O,j,Y):null;case Q:return j.key===_e?z(k,O,j,Y):null;case w:return j=Hs(j),B(k,O,j,Y)}if(ht(j)||x(j))return _e!==null?null:K(k,O,j,Y,null);if(typeof j.then=="function")return B(k,O,ku(j),Y);if(j.$$typeof===ge)return B(k,O,Ou(k,j),Y);Lu(k,j)}return null}function H(k,O,j,Y,_e){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(j)||null,E(O,k,""+Y,_e);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case P:return k=k.get(Y.key===null?j:Y.key)||null,C(O,k,Y,_e);case Q:return k=k.get(Y.key===null?j:Y.key)||null,z(O,k,Y,_e);case w:return Y=Hs(Y),H(k,O,j,Y,_e)}if(ht(Y)||x(Y))return k=k.get(j)||null,K(O,k,Y,_e,null);if(typeof Y.then=="function")return H(k,O,j,ku(Y),_e);if(Y.$$typeof===ge)return H(k,O,j,Ou(O,Y),_e);Lu(O,Y)}return null}function ue(k,O,j,Y){for(var _e=null,et=null,de=O,Ue=O=0,ze=null;de!==null&&Ue<j.length;Ue++){de.index>Ue?(ze=de,de=null):ze=de.sibling;var tt=B(k,de,j[Ue],Y);if(tt===null){de===null&&(de=ze);break}t&&de&&tt.alternate===null&&n(k,de),O=f(tt,O,Ue),et===null?_e=tt:et.sibling=tt,et=tt,de=ze}if(Ue===j.length)return s(k,de),Fe&&Wi(k,Ue),_e;if(de===null){for(;Ue<j.length;Ue++)de=$(k,j[Ue],Y),de!==null&&(O=f(de,O,Ue),et===null?_e=de:et.sibling=de,et=de);return Fe&&Wi(k,Ue),_e}for(de=o(de);Ue<j.length;Ue++)ze=H(de,k,Ue,j[Ue],Y),ze!==null&&(t&&ze.alternate!==null&&de.delete(ze.key===null?Ue:ze.key),O=f(ze,O,Ue),et===null?_e=ze:et.sibling=ze,et=ze);return t&&de.forEach(function(os){return n(k,os)}),Fe&&Wi(k,Ue),_e}function Te(k,O,j,Y){if(j==null)throw Error(a(151));for(var _e=null,et=null,de=O,Ue=O=0,ze=null,tt=j.next();de!==null&&!tt.done;Ue++,tt=j.next()){de.index>Ue?(ze=de,de=null):ze=de.sibling;var os=B(k,de,tt.value,Y);if(os===null){de===null&&(de=ze);break}t&&de&&os.alternate===null&&n(k,de),O=f(os,O,Ue),et===null?_e=os:et.sibling=os,et=os,de=ze}if(tt.done)return s(k,de),Fe&&Wi(k,Ue),_e;if(de===null){for(;!tt.done;Ue++,tt=j.next())tt=$(k,tt.value,Y),tt!==null&&(O=f(tt,O,Ue),et===null?_e=tt:et.sibling=tt,et=tt);return Fe&&Wi(k,Ue),_e}for(de=o(de);!tt.done;Ue++,tt=j.next())tt=H(de,k,Ue,tt.value,Y),tt!==null&&(t&&tt.alternate!==null&&de.delete(tt.key===null?Ue:tt.key),O=f(tt,O,Ue),et===null?_e=tt:et.sibling=tt,et=tt);return t&&de.forEach(function(Yb){return n(k,Yb)}),Fe&&Wi(k,Ue),_e}function mt(k,O,j,Y){if(typeof j=="object"&&j!==null&&j.type===W&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case P:e:{for(var _e=j.key;O!==null;){if(O.key===_e){if(_e=j.type,_e===W){if(O.tag===7){s(k,O.sibling),Y=h(O,j.props.children),Y.return=k,k=Y;break e}}else if(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===w&&Hs(_e)===O.type){s(k,O.sibling),Y=h(O,j.props),Go(Y,j),Y.return=k,k=Y;break e}s(k,O);break}else n(k,O);O=O.sibling}j.type===W?(Y=Ps(j.props.children,k.mode,Y,j.key),Y.return=k,k=Y):(Y=Nu(j.type,j.key,j.props,null,k.mode,Y),Go(Y,j),Y.return=k,k=Y)}return y(k);case Q:e:{for(_e=j.key;O!==null;){if(O.key===_e)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){s(k,O.sibling),Y=h(O,j.children||[]),Y.return=k,k=Y;break e}else{s(k,O);break}else n(k,O);O=O.sibling}Y=jh(j,k.mode,Y),Y.return=k,k=Y}return y(k);case w:return j=Hs(j),mt(k,O,j,Y)}if(ht(j))return ue(k,O,j,Y);if(x(j)){if(_e=x(j),typeof _e!="function")throw Error(a(150));return j=_e.call(j),Te(k,O,j,Y)}if(typeof j.then=="function")return mt(k,O,ku(j),Y);if(j.$$typeof===ge)return mt(k,O,Ou(k,j),Y);Lu(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(s(k,O.sibling),Y=h(O,j),Y.return=k,k=Y):(s(k,O),Y=Ph(j,k.mode,Y),Y.return=k,k=Y),y(k)):s(k,O)}return function(k,O,j,Y){try{Fo=0;var _e=mt(k,O,j,Y);return Ma=null,_e}catch(de){if(de===Oa||de===Vu)throw de;var et=Fn(29,de,null,k.mode);return et.lanes=Y,et.return=k,et}finally{}}}var Gs=qg(!0),Hg=qg(!1),Fr=!1;function Jh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Kr(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(rt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Cu(t),Rg(t,null,s),n}return Iu(t,o,n,s),Cu(t)}function Ko(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,He(t,s)}}function Wh(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var ef=!1;function Qo(){if(ef){var t=Da;if(t!==null)throw t}}function Yo(t,n,s,o){ef=!1;var h=t.updateQueue;Fr=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,y===null?f=z:y.next=z,y=C;var K=t.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==y&&(E===null?K.firstBaseUpdate=z:E.next=z,K.lastBaseUpdate=C))}if(f!==null){var $=h.baseState;y=0,K=z=C=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(je&B)===B:(o&B)===B){B!==0&&B===xa&&(ef=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=t,Te=E;B=n;var mt=s;switch(Te.tag){case 1:if(ue=Te.payload,typeof ue=="function"){$=ue.call(mt,$,B);break e}$=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=Te.payload,B=typeof ue=="function"?ue.call(mt,$,B):ue,B==null)break e;$=A({},$,B);break e;case 2:Fr=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(z=K=H,C=$):K=K.next=H,y|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(C=$),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),Jr|=y,t.lanes=y,t.memoizedState=$}}function Fg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Gg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Fg(s[t],n)}var Va=D(null),Pu=D(0);function Kg(t,n){t=cr,X(Pu,t),X(Va,n),cr=t|n.baseLanes}function tf(){X(Pu,cr),X(Va,Va.current)}function nf(){cr=Pu.current,G(Va),G(Pu)}var Gn=D(null),li=null;function Qr(t){var n=t.alternate;X(kt,kt.current&1),X(Gn,t),li===null&&(n===null||Va.current!==null||n.memoizedState!==null)&&(li=t)}function rf(t){X(kt,kt.current),X(Gn,t),li===null&&(li=t)}function Qg(t){t.tag===22?(X(kt,kt.current),X(Gn,t),li===null&&(li=t)):Yr()}function Yr(){X(kt,kt.current),X(Gn,Gn.current)}function Kn(t){G(Gn),li===t&&(li=null),G(kt)}var kt=D(0);function ju(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||cd(s)||hd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var nr=0,Me=null,ft=null,qt=null,zu=!1,Ua=!1,Ks=!1,Bu=0,$o=0,ka=null,PT=0;function Dt(){throw Error(a(321))}function sf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Hn(t[s],n[s]))return!1;return!0}function af(t,n,s,o,h,f){return nr=f,Me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?xp:Tf,Ks=!1,f=s(o,h),Ks=!1,Ua&&(f=$g(n,s,o,h)),Yg(t),f}function Yg(t){q.H=Zo;var n=ft!==null&&ft.next!==null;if(nr=0,qt=ft=Me=null,zu=!1,$o=0,ka=null,n)throw Error(a(300));t===null||Ht||(t=t.dependencies,t!==null&&Du(t)&&(Ht=!0))}function $g(t,n,s,o){Me=t;var h=0;do{if(Ua&&(ka=null),$o=0,Ua=!1,25<=h)throw Error(a(301));if(h+=1,qt=ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Dp,f=n(s,o)}while(Ua);return f}function jT(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?Xo(n):n,t=t.useState()[0],(ft!==null?ft.memoizedState:null)!==t&&(Me.flags|=1024),n}function of(){var t=Bu!==0;return Bu=0,t}function lf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function uf(t){if(zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}zu=!1}nr=0,qt=ft=Me=null,Ua=!1,$o=Bu=0,ka=null}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Me.memoizedState=qt=t:qt=qt.next=t,qt}function Lt(){if(ft===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var n=qt===null?Me.memoizedState:qt.next;if(n!==null)qt=n,ft=t;else{if(t===null)throw Me.alternate===null?Error(a(467)):Error(a(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},qt===null?Me.memoizedState=qt=t:qt=qt.next=t}return qt}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xo(t){var n=$o;return $o+=1,ka===null&&(ka=[]),t=jg(ka,t,n),n=Me,(qt===null?n.memoizedState:qt.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?xp:Tf),t}function Hu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Xo(t);if(t.$$typeof===ge)return rn(t)}throw Error(a(438,String(t)))}function cf(t){var n=null,s=Me.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Me.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=qu(),Me.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=V;return n.index++,s}function ir(t,n){return typeof n=="function"?n(t):n}function Fu(t){var n=Lt();return hf(n,ft,t)}function hf(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=y=null,C=null,z=n,K=!1;do{var $=z.lane&-536870913;if($!==z.lane?(je&$)===$:(nr&$)===$){var B=z.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===xa&&(K=!0);else if((nr&B)===B){z=z.next,B===xa&&(K=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=$,y=f):C=C.next=$,Me.lanes|=B,Jr|=B;$=z.action,Ks&&s(f,$),f=z.hasEagerState?z.eagerState:s(f,$)}else B={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=B,y=f):C=C.next=B,Me.lanes|=$,Jr|=$;z=z.next}while(z!==null&&z!==n);if(C===null?y=f:C.next=E,!Hn(f,t.memoizedState)&&(Ht=!0,K&&(s=Da,s!==null)))throw s;t.memoizedState=f,t.baseState=y,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function ff(t){var n=Lt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);Hn(f,n.memoizedState)||(Ht=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Xg(t,n,s){var o=Me,h=Lt(),f=Fe;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var y=!Hn((ft||h).memoizedState,s);if(y&&(h.memoizedState=s,Ht=!0),h=h.queue,gf(Wg.bind(null,o,h,t),[t]),h.getSnapshot!==n||y||qt!==null&&qt.memoizedState.tag&1){if(o.flags|=2048,La(9,{destroy:void 0},Zg.bind(null,o,h,s,n),null),pt===null)throw Error(a(349));f||(nr&127)!==0||Jg(o,n,s)}return s}function Jg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Me.updateQueue,n===null?(n=qu(),Me.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Zg(t,n,s,o){n.value=s,n.getSnapshot=o,ep(n)&&tp(t)}function Wg(t,n,s){return s(function(){ep(n)&&tp(t)})}function ep(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Hn(t,s)}catch{return!0}}function tp(t){var n=Ls(t,2);n!==null&&kn(n,t,2)}function df(t){var n=An();if(typeof t=="function"){var s=t;if(t=s(),Ks){_n(!0);try{s()}finally{_n(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:t},n}function np(t,n,s,o){return t.baseState=s,hf(t,ft,typeof o=="function"?o:ir)}function zT(t,n,s,o,h){if(Qu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};q.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,ip(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ip(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=q.T,y={};q.T=y;try{var E=s(h,o),C=q.S;C!==null&&C(y,E),rp(t,n,E)}catch(z){mf(t,n,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),q.T=f}}else try{f=s(h,o),rp(t,n,f)}catch(z){mf(t,n,z)}}function rp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){sp(t,n,o)},function(o){return mf(t,n,o)}):sp(t,n,s)}function sp(t,n,s){n.status="fulfilled",n.value=s,ap(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,ip(t,s)))}function mf(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,ap(n),n=n.next;while(n!==o)}t.action=null}function ap(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function op(t,n){return n}function lp(t,n){if(Fe){var s=pt.formState;if(s!==null){e:{var o=Me;if(Fe){if(vt){t:{for(var h=vt,f=oi;h.nodeType!==8;){if(!f){h=null;break t}if(h=ui(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){vt=ui(h.nextSibling),o=h.data==="F!";break e}}qr(o)}o=!1}o&&(n=s[0])}}return s=An(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:op,lastRenderedState:n},s.queue=o,s=Ip.bind(null,Me,o),o.dispatch=s,o=df(!1),f=Ef.bind(null,Me,!1,o.queue),o=An(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=zT.bind(null,Me,h,f,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function up(t){var n=Lt();return cp(n,ft,t)}function cp(t,n,s){if(n=hf(t,n,op)[0],t=Fu(ir)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Xo(n)}catch(y){throw y===Oa?Vu:y}else o=n;n=Lt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Me.flags|=2048,La(9,{destroy:void 0},BT.bind(null,h,s),null)),[o,f,t]}function BT(t,n){t.action=n}function hp(t){var n=Lt(),s=ft;if(s!==null)return cp(n,s,t);Lt(),n=n.memoizedState,s=Lt();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function La(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Me.updateQueue,n===null&&(n=qu(),Me.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function fp(){return Lt().memoizedState}function Gu(t,n,s,o){var h=An();Me.flags|=t,h.memoizedState=La(1|n,{destroy:void 0},s,o===void 0?null:o)}function Ku(t,n,s,o){var h=Lt();o=o===void 0?null:o;var f=h.memoizedState.inst;ft!==null&&o!==null&&sf(o,ft.memoizedState.deps)?h.memoizedState=La(n,f,s,o):(Me.flags|=t,h.memoizedState=La(1|n,f,s,o))}function dp(t,n){Gu(8390656,8,t,n)}function gf(t,n){Ku(2048,8,t,n)}function qT(t){Me.flags|=4;var n=Me.updateQueue;if(n===null)n=qu(),Me.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function mp(t){var n=Lt().memoizedState;return qT({ref:n,nextImpl:t}),function(){if((rt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function gp(t,n){return Ku(4,2,t,n)}function pp(t,n){return Ku(4,4,t,n)}function yp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function _p(t,n,s){s=s!=null?s.concat([t]):null,Ku(4,4,yp.bind(null,n,t),s)}function pf(){}function vp(t,n){var s=Lt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&sf(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Ep(t,n){var s=Lt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&sf(n,o[1]))return o[0];if(o=t(),Ks){_n(!0);try{t()}finally{_n(!1)}}return s.memoizedState=[o,n],o}function yf(t,n,s){return s===void 0||(nr&1073741824)!==0&&(je&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Ty(),Me.lanes|=t,Jr|=t,s)}function Tp(t,n,s,o){return Hn(s,n)?s:Va.current!==null?(t=yf(t,s,o),Hn(t,n)||(Ht=!0),t):(nr&42)===0||(nr&1073741824)!==0&&(je&261930)===0?(Ht=!0,t.memoizedState=s):(t=Ty(),Me.lanes|=t,Jr|=t,n)}function bp(t,n,s,o,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var y=q.T,E={};q.T=E,Ef(t,!1,n,s);try{var C=h(),z=q.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=LT(C,o);Jo(t,n,K,$n(t))}else Jo(t,n,o,$n(t))}catch($){Jo(t,n,{then:function(){},status:"rejected",reason:$},$n())}finally{ie.p=f,y!==null&&E.types!==null&&(y.types=E.types),q.T=y}}function HT(){}function _f(t,n,s,o){if(t.tag!==5)throw Error(a(476));var h=Sp(t).queue;bp(t,h,n,ae,s===null?HT:function(){return Ap(t),s(o)})}function Sp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:ae},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ap(t){var n=Sp(t);n.next===null&&(n=t.alternate.memoizedState),Jo(t,n.next.queue,{},$n())}function vf(){return rn(ml)}function wp(){return Lt().memoizedState}function Rp(){return Lt().memoizedState}function FT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=$n();t=Gr(s);var o=Kr(n,t,s);o!==null&&(kn(o,n,s),Ko(o,n,s)),n={cache:Qh()},t.payload=n;return}n=n.return}}function GT(t,n,s){var o=$n();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Qu(t)?Cp(n,s):(s=kh(t,n,s,o),s!==null&&(kn(s,t,o),Np(s,n,o)))}function Ip(t,n,s){var o=$n();Jo(t,n,s,o)}function Jo(t,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Qu(t))Cp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,s);if(h.hasEagerState=!0,h.eagerState=E,Hn(E,y))return Iu(t,n,h,0),pt===null&&Ru(),!1}catch{}finally{}if(s=kh(t,n,h,o),s!==null)return kn(s,t,o),Np(s,n,o),!0}return!1}function Ef(t,n,s,o){if(o={lane:2,revertLane:Zf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qu(t)){if(n)throw Error(a(479))}else n=kh(t,s,o,2),n!==null&&kn(n,t,2)}function Qu(t){var n=t.alternate;return t===Me||n!==null&&n===Me}function Cp(t,n){Ua=zu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Np(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,He(t,s)}}var Zo={readContext:rn,use:Hu,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};Zo.useEffectEvent=Dt;var xp={readContext:rn,use:Hu,useCallback:function(t,n){return An().memoizedState=[t,n===void 0?null:n],t},useContext:rn,useEffect:dp,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Gu(4194308,4,yp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Gu(4194308,4,t,n)},useInsertionEffect:function(t,n){Gu(4,2,t,n)},useMemo:function(t,n){var s=An();n=n===void 0?null:n;var o=t();if(Ks){_n(!0);try{t()}finally{_n(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=An();if(s!==void 0){var h=s(n);if(Ks){_n(!0);try{s(n)}finally{_n(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=GT.bind(null,Me,t),[o.memoizedState,t]},useRef:function(t){var n=An();return t={current:t},n.memoizedState=t},useState:function(t){t=df(t);var n=t.queue,s=Ip.bind(null,Me,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:pf,useDeferredValue:function(t,n){var s=An();return yf(s,t,n)},useTransition:function(){var t=df(!1);return t=bp.bind(null,Me,t.queue,!0,!1),An().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Me,h=An();if(Fe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),pt===null)throw Error(a(349));(je&127)!==0||Jg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,dp(Wg.bind(null,o,f,t),[t]),o.flags|=2048,La(9,{destroy:void 0},Zg.bind(null,o,f,s,n),null),s},useId:function(){var t=An(),n=pt.identifierPrefix;if(Fe){var s=Di,o=xi;s=(o&~(1<<32-tn(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Bu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=PT++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:vf,useFormState:lp,useActionState:lp,useOptimistic:function(t){var n=An();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Ef.bind(null,Me,!0,s),s.dispatch=n,[t,n]},useMemoCache:cf,useCacheRefresh:function(){return An().memoizedState=FT.bind(null,Me)},useEffectEvent:function(t){var n=An(),s={impl:t};return n.memoizedState=s,function(){if((rt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Tf={readContext:rn,use:Hu,useCallback:vp,useContext:rn,useEffect:gf,useImperativeHandle:_p,useInsertionEffect:gp,useLayoutEffect:pp,useMemo:Ep,useReducer:Fu,useRef:fp,useState:function(){return Fu(ir)},useDebugValue:pf,useDeferredValue:function(t,n){var s=Lt();return Tp(s,ft.memoizedState,t,n)},useTransition:function(){var t=Fu(ir)[0],n=Lt().memoizedState;return[typeof t=="boolean"?t:Xo(t),n]},useSyncExternalStore:Xg,useId:wp,useHostTransitionStatus:vf,useFormState:up,useActionState:up,useOptimistic:function(t,n){var s=Lt();return np(s,ft,t,n)},useMemoCache:cf,useCacheRefresh:Rp};Tf.useEffectEvent=mp;var Dp={readContext:rn,use:Hu,useCallback:vp,useContext:rn,useEffect:gf,useImperativeHandle:_p,useInsertionEffect:gp,useLayoutEffect:pp,useMemo:Ep,useReducer:ff,useRef:fp,useState:function(){return ff(ir)},useDebugValue:pf,useDeferredValue:function(t,n){var s=Lt();return ft===null?yf(s,t,n):Tp(s,ft.memoizedState,t,n)},useTransition:function(){var t=ff(ir)[0],n=Lt().memoizedState;return[typeof t=="boolean"?t:Xo(t),n]},useSyncExternalStore:Xg,useId:wp,useHostTransitionStatus:vf,useFormState:hp,useActionState:hp,useOptimistic:function(t,n){var s=Lt();return ft!==null?np(s,ft,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:cf,useCacheRefresh:Rp};Dp.useEffectEvent=mp;function bf(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Sf={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=$n(),h=Gr(o);h.payload=n,s!=null&&(h.callback=s),n=Kr(t,h,o),n!==null&&(kn(n,t,o),Ko(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=$n(),h=Gr(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Kr(t,h,o),n!==null&&(kn(n,t,o),Ko(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=$n(),o=Gr(s);o.tag=2,n!=null&&(o.callback=n),n=Kr(t,o,s),n!==null&&(kn(n,t,s),Ko(n,t,s))}};function Op(t,n,s,o,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Po(s,o)||!Po(h,f):!0}function Mp(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&Sf.enqueueReplaceState(n,n.state,null)}function Qs(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Vp(t){wu(t)}function Up(t){console.error(t)}function kp(t){wu(t)}function Yu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Lp(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Af(t,n,s){return s=Gr(s),s.tag=3,s.payload={element:null},s.callback=function(){Yu(t,n)},s}function Pp(t){return t=Gr(t),t.tag=3,t}function jp(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Lp(n,s,o)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Lp(n,s,o),typeof h!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function KT(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Na(n,s,h,!0),s=Gn.current,s!==null){switch(s.tag){case 31:case 13:return li===null?ac():s.alternate===null&&Ot===0&&(Ot=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),$f(t,o,h)),!1;case 22:return s.flags|=65536,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),$f(t,o,h)),!1}throw Error(a(435,s.tag))}return $f(t,o,h),ac(),!1}if(Fe)return n=Gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==qh&&(t=Error(a(422),{cause:o}),Bo(ri(t,s)))):(o!==qh&&(n=Error(a(423),{cause:o}),Bo(ri(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=ri(o,s),h=Af(t.stateNode,o,h),Wh(t,h),Ot!==4&&(Ot=2)),!1;var f=Error(a(520),{cause:o});if(f=ri(f,s),al===null?al=[f]:al.push(f),Ot!==4&&(Ot=2),n===null)return!0;o=ri(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Af(s.stateNode,o,t),Wh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zr===null||!Zr.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Pp(h),jp(h,t,s,o),Wh(s,h),!1}s=s.return}while(s!==null);return!1}var wf=Error(a(461)),Ht=!1;function sn(t,n,s,o){n.child=t===null?Hg(n,null,s,o):Gs(n,t.child,s,o)}function zp(t,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Bs(n),o=af(t,n,s,y,f,h),E=of(),t!==null&&!Ht?(lf(t,n,h),rr(t,n,h)):(Fe&&E&&zh(n),n.flags|=1,sn(t,n,o,h),n.child)}function Bp(t,n,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!Lh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,qp(t,n,f,o,h)):(t=Nu(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Mf(t,h)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:Po,s(y,o)&&t.ref===n.ref)return rr(t,n,h)}return n.flags|=1,t=Zi(f,o),t.ref=n.ref,t.return=n,n.child=t}function qp(t,n,s,o,h){if(t!==null){var f=t.memoizedProps;if(Po(f,o)&&t.ref===n.ref)if(Ht=!1,n.pendingProps=o=f,Mf(t,h))(t.flags&131072)!==0&&(Ht=!0);else return n.lanes=t.lanes,rr(t,n,h)}return Rf(t,n,s,o,h)}function Hp(t,n,s,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Fp(t,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?Kg(n,f):tf(),Qg(n);else return o=n.lanes=536870912,Fp(t,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Mu(n,f.cachePool),Kg(n,f),Yr(),n.memoizedState=null):(t!==null&&Mu(n,null),tf(),Yr());return sn(t,n,h,s),n.child}function Wo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Fp(t,n,s,o,h){var f=$h();return f=f===null?null:{parent:Bt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Mu(n,null),tf(),Qg(n),t!==null&&Na(t,n,o,!0),n.childLanes=h,null}function $u(t,n){return n=Ju({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Gp(t,n,s){return Gs(n,t.child,null,s),t=$u(n,n.pendingProps),t.flags|=2,Kn(n),n.memoizedState=null,t}function QT(t,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Fe){if(o.mode==="hidden")return t=$u(n,o),n.lanes=536870912,Wo(null,t);if(rf(n),(t=vt)?(t=i_(t,oi),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zr!==null?{id:xi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},s=Cg(t),s.return=n,n.child=s,nn=n,vt=null)):t=null,t===null)throw qr(n);return n.lanes=536870912,null}return $u(n,o)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(rf(n),h)if(n.flags&256)n.flags&=-257,n=Gp(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ht||Na(t,n,s,!1),h=(s&t.childLanes)!==0,Ht||h){if(o=pt,o!==null&&(y=be(o,s),y!==0&&y!==f.retryLane))throw f.retryLane=y,Ls(t,y),kn(o,t,y),wf;ac(),n=Gp(t,n,s)}else t=f.treeContext,vt=ui(y.nextSibling),nn=n,Fe=!0,Br=null,oi=!1,t!==null&&Dg(n,t),n=$u(n,o),n.flags|=4096;return n}return t=Zi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Xu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Rf(t,n,s,o,h){return Bs(n),s=af(t,n,s,o,void 0,h),o=of(),t!==null&&!Ht?(lf(t,n,h),rr(t,n,h)):(Fe&&o&&zh(n),n.flags|=1,sn(t,n,s,h),n.child)}function Kp(t,n,s,o,h,f){return Bs(n),n.updateQueue=null,s=$g(n,o,s,h),Yg(t),o=of(),t!==null&&!Ht?(lf(t,n,f),rr(t,n,f)):(Fe&&o&&zh(n),n.flags|=1,sn(t,n,s,f),n.child)}function Qp(t,n,s,o,h){if(Bs(n),n.stateNode===null){var f=wa,y=s.contextType;typeof y=="object"&&y!==null&&(f=rn(y)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Sf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Jh(n),y=s.contextType,f.context=typeof y=="object"&&y!==null?rn(y):wa,f.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(bf(n,s,y,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Sf.enqueueReplaceState(f,f.state,null),Yo(n,o,f,h),Qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Qs(s,E);f.props=C;var z=f.context,K=s.contextType;y=wa,typeof K=="object"&&K!==null&&(y=rn(K));var $=s.getDerivedStateFromProps;K=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&Mp(n,f,o,y),Fr=!1;var B=n.memoizedState;f.state=B,Yo(n,o,f,h),Qo(),z=n.memoizedState,E||B!==z||Fr?(typeof $=="function"&&(bf(n,s,$,o),z=n.memoizedState),(C=Fr||Op(n,s,C,o,B,z,y))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=y,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Zh(t,n),y=n.memoizedProps,K=Qs(s,y),f.props=K,$=n.pendingProps,B=f.context,z=s.contextType,C=wa,typeof z=="object"&&z!==null&&(C=rn(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==$||B!==C)&&Mp(n,f,o,C),Fr=!1,B=n.memoizedState,f.state=B,Yo(n,o,f,h),Qo();var H=n.memoizedState;y!==$||B!==H||Fr||t!==null&&t.dependencies!==null&&Du(t.dependencies)?(typeof E=="function"&&(bf(n,s,E,o),H=n.memoizedState),(K=Fr||Op(n,s,K,o,B,H,C)||t!==null&&t.dependencies!==null&&Du(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=K):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Xu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Gs(n,t.child,null,h),n.child=Gs(n,null,s,h)):sn(t,n,s,h),n.memoizedState=f.state,t=n.child):t=rr(t,n,h),t}function Yp(t,n,s,o){return js(),n.flags|=256,sn(t,n,s,o),n.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cf(t){return{baseLanes:t,cachePool:Lg()}}function Nf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Yn),t}function $p(t,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(kt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Fe){if(h?Qr(n):Yr(),(t=vt)?(t=i_(t,oi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:zr!==null?{id:xi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},s=Cg(t),s.return=n,n.child=s,nn=n,vt=null)):t=null,t===null)throw qr(n);return hd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Yr(),h=n.mode,E=Ju({mode:"hidden",children:E},h),o=Ps(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Cf(s),o.childLanes=Nf(t,y,s),n.memoizedState=If,Wo(null,o)):(Qr(n),xf(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Qr(n),n.flags&=-257,n=Df(t,n,s)):n.memoizedState!==null?(Yr(),n.child=t.child,n.flags|=128,n=null):(Yr(),E=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),E=Ps(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Gs(n,t.child,null,s),o=n.child,o.memoizedState=Cf(s),o.childLanes=Nf(t,y,s),n.memoizedState=If,n=Wo(null,o));else if(Qr(n),hd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,o=Error(a(419)),o.stack="",o.digest=y,Bo({value:o,source:null,stack:null}),n=Df(t,n,s)}else if(Ht||Na(t,n,s,!1),y=(s&t.childLanes)!==0,Ht||y){if(y=pt,y!==null&&(o=be(y,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Ls(t,o),kn(y,t,o),wf;cd(E)||ac(),n=Df(t,n,s)}else cd(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,vt=ui(E.nextSibling),nn=n,Fe=!0,Br=null,oi=!1,t!==null&&Dg(n,t),n=xf(n,o.children),n.flags|=4096);return n}return h?(Yr(),E=o.fallback,h=n.mode,C=t.child,z=C.sibling,o=Zi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=Zi(z,E):(E=Ps(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Wo(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Cf(s):(h=E.cachePool,h!==null?(C=Bt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Lg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Nf(t,y,s),n.memoizedState=If,Wo(t.child,o)):(Qr(n),s=t.child,t=s.sibling,s=Zi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=s,n.memoizedState=null,s)}function xf(t,n){return n=Ju({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ju(t,n){return t=Fn(22,t,null,n),t.lanes=0,t}function Df(t,n,s){return Gs(n,t.child,null,s),t=xf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Xp(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Gh(t.return,n,s)}function Of(t,n,s,o,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=s,y.tailMode=h,y.treeForkCount=f)}function Jp(t,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=kt.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,X(kt,y),sn(t,n,o,s),o=Fe?zo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xp(t,s,n);else if(t.tag===19)Xp(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&ju(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Of(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ju(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Of(n,!0,s,null,f,o);break;case"together":Of(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function rr(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Jr|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Na(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=Zi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Zi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Mf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Du(t)))}function YT(t,n,s){switch(n.tag){case 3:jt(n,n.stateNode.containerInfo),Hr(n,Bt,t.memoizedState.cache),js();break;case 27:case 5:In(n);break;case 4:jt(n,n.stateNode.containerInfo);break;case 10:Hr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,rf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Qr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?$p(t,n,s):(Qr(n),t=rr(t,n,s),t!==null?t.sibling:null);Qr(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Na(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Jp(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(kt,kt.current),o)break;return null;case 22:return n.lanes=0,Hp(t,n,s,n.pendingProps);case 24:Hr(n,Bt,t.memoizedState.cache)}return rr(t,n,s)}function Zp(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ht=!0;else{if(!Mf(t,s)&&(n.flags&128)===0)return Ht=!1,YT(t,n,s);Ht=(t.flags&131072)!==0}else Ht=!1,Fe&&(n.flags&1048576)!==0&&xg(n,zo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Hs(n.elementType),n.type=t,typeof t=="function")Lh(t)?(o=Qs(t,o),n.tag=1,n=Qp(null,n,t,o,s)):(n.tag=0,n=Rf(null,n,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===ye){n.tag=11,n=zp(null,n,t,o,s);break e}else if(h===N){n.tag=14,n=Bp(null,n,t,o,s);break e}}throw n=it(t)||t,Error(a(306,n,""))}}return n;case 0:return Rf(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Qs(o,n.pendingProps),Qp(t,n,o,h,s);case 3:e:{if(jt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Zh(t,n),Yo(n,o,null,s);var y=n.memoizedState;if(o=y.cache,Hr(n,Bt,o),o!==f.cache&&Kh(n,[Bt],s,!0),Qo(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Yp(t,n,o,s);break e}else if(o!==h){h=ri(Error(a(424)),n),Bo(h),n=Yp(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(vt=ui(t.firstChild),nn=n,Fe=!0,Br=null,oi=!0,s=Hg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(js(),o===h){n=rr(t,n,s);break e}sn(t,n,o,s)}n=n.child}return n;case 26:return Xu(t,n),t===null?(s=u_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Fe||(s=n.type,t=n.pendingProps,o=dc(De.current).createElement(s),o[Ze]=n,o[Je]=t,an(o,s,t),Ut(o),n.stateNode=o):n.memoizedState=u_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return In(n),t===null&&Fe&&(o=n.stateNode=a_(n.type,n.pendingProps,De.current),nn=n,oi=!0,h=vt,ns(n.type)?(fd=h,vt=ui(o.firstChild)):vt=h),sn(t,n,n.pendingProps.children,s),Xu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Fe&&((h=o=vt)&&(o=Ab(o,n.type,n.pendingProps,oi),o!==null?(n.stateNode=o,nn=n,vt=ui(o.firstChild),oi=!1,h=!0):h=!1),h||qr(n)),In(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,o=f.children,od(h,f)?o=null:y!==null&&od(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=af(t,n,jT,null,null,s),ml._currentValue=h),Xu(t,n),sn(t,n,o,s),n.child;case 6:return t===null&&Fe&&((t=s=vt)&&(s=wb(s,n.pendingProps,oi),s!==null?(n.stateNode=s,nn=n,vt=null,t=!0):t=!1),t||qr(n)),null;case 13:return $p(t,n,s);case 4:return jt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Gs(n,null,o,s):sn(t,n,o,s),n.child;case 11:return zp(t,n,n.type,n.pendingProps,s);case 7:return sn(t,n,n.pendingProps,s),n.child;case 8:return sn(t,n,n.pendingProps.children,s),n.child;case 12:return sn(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Hr(n,n.type,o.value),sn(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Bs(n),h=rn(h),o=o(h),n.flags|=1,sn(t,n,o,s),n.child;case 14:return Bp(t,n,n.type,n.pendingProps,s);case 15:return qp(t,n,n.type,n.pendingProps,s);case 19:return Jp(t,n,s);case 31:return QT(t,n,s);case 22:return Hp(t,n,s,n.pendingProps);case 24:return Bs(n),o=rn(Bt),t===null?(h=$h(),h===null&&(h=pt,f=Qh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Jh(n),Hr(n,Bt,h)):((t.lanes&s)!==0&&(Zh(t,n),Yo(n,null,null,s),Qo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Hr(n,Bt,o)):(o=f.cache,Hr(n,Bt,o),o!==h.cache&&Kh(n,[Bt],s,!0))),sn(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function sr(t){t.flags|=4}function Vf(t,n,s,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(wy())t.flags|=8192;else throw Fs=Uu,Xh}else t.flags&=-16777217}function Wp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!m_(n))if(wy())t.flags|=8192;else throw Fs=Uu,Xh}function Zu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Hi():536870912,t.lanes|=n,Ba|=n)}function el(t,n){if(!Fe)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Et(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function $T(t,n,s){var o=n.pendingProps;switch(Bh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(n),null;case 1:return Et(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),tr(Bt),Qe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ca(n)?sr(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Hh())),Et(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(sr(n),f!==null?(Et(n),Wp(n,f)):(Et(n),Vf(n,h,null,o,s))):f?f!==t.memoizedState?(sr(n),Et(n),Wp(n,f)):(Et(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&sr(n),Et(n),Vf(n,h,t,o,s)),null;case 27:if(yn(n),s=De.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&sr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Et(n),null}t=oe.current,Ca(n)?Og(n):(t=a_(h,o,s),n.stateNode=t,sr(n))}return Et(n),null;case 5:if(yn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&sr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Et(n),null}if(f=oe.current,Ca(n))Og(n);else{var y=dc(De.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[Ze]=n,f[Je]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(an(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&sr(n)}}return Et(n),Vf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&sr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=De.current,Ca(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=nn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Ze]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||$y(t.nodeValue,s)),t||qr(n,!0)}else t=dc(t).createTextNode(o),t[Ze]=n,n.stateNode=t}return Et(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ca(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Ze]=n}else js(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Et(n),t=!1}else s=Hh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Kn(n),n):(Kn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Et(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ca(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ze]=n}else js(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Et(n),h=!1}else h=Hh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Kn(n),n):(Kn(n),null)}return Kn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Zu(n,n.updateQueue),Et(n),null);case 4:return Qe(),t===null&&nd(n.stateNode.containerInfo),Et(n),null;case 10:return tr(n.type),Et(n),null;case 19:if(G(kt),o=n.memoizedState,o===null)return Et(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)el(o,!1);else{if(Ot!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ju(t),f!==null){for(n.flags|=128,el(o,!1),t=f.updateQueue,n.updateQueue=t,Zu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Ig(s,t),s=s.sibling;return X(kt,kt.current&1|2),Fe&&Wi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&It()>ic&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304)}else{if(!h)if(t=ju(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Zu(n,t),el(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Fe)return Et(n),null}else 2*It()-o.renderingStartTime>ic&&s!==536870912&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=It(),t.sibling=null,s=kt.current,X(kt,h?s&1|2:s&1),Fe&&Wi(n,o.treeForkCount),t):(Et(n),null);case 22:case 23:return Kn(n),nf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(Et(n),n.subtreeFlags&6&&(n.flags|=8192)):Et(n),s=n.updateQueue,s!==null&&Zu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&G(qs),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),tr(Bt),Et(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function XT(t,n){switch(Bh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return tr(Bt),Qe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return yn(n),null;case 31:if(n.memoizedState!==null){if(Kn(n),n.alternate===null)throw Error(a(340));js()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Kn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));js()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return G(kt),null;case 4:return Qe(),null;case 10:return tr(n.type),null;case 22:case 23:return Kn(n),nf(),t!==null&&G(qs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return tr(Bt),null;case 25:return null;default:return null}}function ey(t,n){switch(Bh(n),n.tag){case 3:tr(Bt),Qe();break;case 26:case 27:case 5:yn(n);break;case 4:Qe();break;case 31:n.memoizedState!==null&&Kn(n);break;case 13:Kn(n);break;case 19:G(kt);break;case 10:tr(n.type);break;case 22:case 23:Kn(n),nf(),t!==null&&G(qs);break;case 24:tr(Bt)}}function tl(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,y=s.inst;o=f(),y.destroy=o}s=s.next}while(s!==h)}}catch(E){lt(n,n.return,E)}}function $r(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var C=s,z=E;try{z()}catch(K){lt(h,C,K)}}}o=o.next}while(o!==f)}}catch(K){lt(n,n.return,K)}}function ty(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Gg(n,s)}catch(o){lt(t,t.return,o)}}}function ny(t,n,s){s.props=Qs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){lt(t,n,o)}}function nl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){lt(t,n,h)}}function Oi(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){lt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){lt(t,n,h)}else s.current=null}function iy(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){lt(t,t.return,h)}}function Uf(t,n,s){try{var o=t.stateNode;_b(o,t.type,s,n),o[Je]=n}catch(h){lt(t,t.return,h)}}function ry(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ns(t.type)||t.tag===4}function kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ry(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ns(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lf(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Xt));else if(o!==4&&(o===27&&ns(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Lf(t,n,s),t=t.sibling;t!==null;)Lf(t,n,s),t=t.sibling}function Wu(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&ns(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Wu(t,n,s),t=t.sibling;t!==null;)Wu(t,n,s),t=t.sibling}function sy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);an(n,o,s),n[Ze]=t,n[Je]=s}catch(f){lt(t,t.return,f)}}var ar=!1,Ft=!1,Pf=!1,ay=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function JT(t,n){if(t=t.containerInfo,sd=Ec,t=_g(t),xh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var y=0,E=-1,C=-1,z=0,K=0,$=t,B=null;t:for(;;){for(var H;$!==s||h!==0&&$.nodeType!==3||(E=y+h),$!==f||o!==0&&$.nodeType!==3||(C=y+o),$.nodeType===3&&(y+=$.nodeValue.length),(H=$.firstChild)!==null;)B=$,$=H;for(;;){if($===t)break t;if(B===s&&++z===h&&(E=y),B===f&&++K===o&&(C=y),(H=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=H}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(ad={focusedElem:t,selectionRange:s},Ec=!1,Wt=n;Wt!==null;)if(n=Wt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Wt=t;else for(;Wt!==null;){switch(n=Wt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ue=Qs(s.type,h);t=o.getSnapshotBeforeUpdate(ue,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Te){lt(s,s.return,Te)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)ud(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ud(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Wt=t;break}Wt=n.return}}function oy(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:lr(t,s),o&4&&tl(5,s);break;case 1:if(lr(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(y){lt(s,s.return,y)}else{var h=Qs(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){lt(s,s.return,y)}}o&64&&ty(s),o&512&&nl(s,s.return);break;case 3:if(lr(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Gg(t,n)}catch(y){lt(s,s.return,y)}}break;case 27:n===null&&o&4&&sy(s);case 26:case 5:lr(t,s),n===null&&o&4&&iy(s),o&512&&nl(s,s.return);break;case 12:lr(t,s);break;case 31:lr(t,s),o&4&&cy(t,s);break;case 13:lr(t,s),o&4&&hy(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=ab.bind(null,s),Rb(t,s))));break;case 22:if(o=s.memoizedState!==null||ar,!o){n=n!==null&&n.memoizedState!==null||Ft,h=ar;var f=Ft;ar=o,(Ft=n)&&!f?ur(t,s,(s.subtreeFlags&8772)!==0):lr(t,s),ar=h,Ft=f}break;case 30:break;default:lr(t,s)}}function ly(t){var n=t.alternate;n!==null&&(t.alternate=null,ly(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ws(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var St=null,On=!1;function or(t,n,s){for(s=s.child;s!==null;)uy(t,n,s),s=s.sibling}function uy(t,n,s){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(zn,s)}catch{}switch(s.tag){case 26:Ft||Oi(s,n),or(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ft||Oi(s,n);var o=St,h=On;ns(s.type)&&(St=s.stateNode,On=!1),or(t,n,s),hl(s.stateNode),St=o,On=h;break;case 5:Ft||Oi(s,n);case 6:if(o=St,h=On,St=null,or(t,n,s),St=o,On=h,St!==null)if(On)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(s.stateNode)}catch(f){lt(s,n,f)}else try{St.removeChild(s.stateNode)}catch(f){lt(s,n,f)}break;case 18:St!==null&&(On?(t=St,t_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),$a(t)):t_(St,s.stateNode));break;case 4:o=St,h=On,St=s.stateNode.containerInfo,On=!0,or(t,n,s),St=o,On=h;break;case 0:case 11:case 14:case 15:$r(2,s,n),Ft||$r(4,s,n),or(t,n,s);break;case 1:Ft||(Oi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ny(s,n,o)),or(t,n,s);break;case 21:or(t,n,s);break;case 22:Ft=(o=Ft)||s.memoizedState!==null,or(t,n,s),Ft=o;break;default:or(t,n,s)}}function cy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{$a(t)}catch(s){lt(n,n.return,s)}}}function hy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$a(t)}catch(s){lt(n,n.return,s)}}function ZT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ay),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ay),n;default:throw Error(a(435,t.tag))}}function ec(t,n){var s=ZT(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=ob.bind(null,t,o);o.then(h,h)}})}function Mn(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,y=n,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(ns(E.type)){St=E.stateNode,On=!1;break e}break;case 5:St=E.stateNode,On=!1;break e;case 3:case 4:St=E.stateNode.containerInfo,On=!0;break e}E=E.return}if(St===null)throw Error(a(160));uy(f,y,h),St=null,On=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)fy(n,t),n=n.sibling}var pi=null;function fy(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mn(n,t),Vn(t),o&4&&($r(3,t,t.return),tl(3,t),$r(5,t,t.return));break;case 1:Mn(n,t),Vn(t),o&512&&(Ft||s===null||Oi(s,s.return)),o&64&&ar&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=pi;if(Mn(n,t),Vn(t),o&512&&(Ft||s===null||Oi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Fi]||f[Ze]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),an(f,o,s),f[Ze]=t,Ut(f),o=f;break e;case"link":var y=f_("link","href",h).get(o+(s.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(E,1);break t}}f=h.createElement(o),an(f,o,s),h.head.appendChild(f);break;case"meta":if(y=f_("meta","content",h).get(o+(s.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(E,1);break t}}f=h.createElement(o),an(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ze]=t,Ut(f),o=f}t.stateNode=o}else d_(h,t.type,t.stateNode);else t.stateNode=h_(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?d_(h,t.type,t.stateNode):h_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Uf(t,t.memoizedProps,s.memoizedProps)}break;case 27:Mn(n,t),Vn(t),o&512&&(Ft||s===null||Oi(s,s.return)),s!==null&&o&4&&Uf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Mn(n,t),Vn(t),o&512&&(Ft||s===null||Oi(s,s.return)),t.flags&32){h=t.stateNode;try{ni(h,"")}catch(ue){lt(t,t.return,ue)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Uf(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Pf=!0);break;case 6:if(Mn(n,t),Vn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(ue){lt(t,t.return,ue)}}break;case 3:if(pc=null,h=pi,pi=mc(n.containerInfo),Mn(n,t),pi=h,Vn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{$a(n.containerInfo)}catch(ue){lt(t,t.return,ue)}Pf&&(Pf=!1,dy(t));break;case 4:o=pi,pi=mc(t.stateNode.containerInfo),Mn(n,t),Vn(t),pi=o;break;case 12:Mn(n,t),Vn(t);break;case 31:Mn(n,t),Vn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ec(t,o)));break;case 13:Mn(n,t),Vn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(nc=It()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ec(t,o)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=ar,K=Ft;if(ar=z||h,Ft=K||C,Mn(n,t),Ft=K,ar=z,Vn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||ar||Ft||Ys(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=C.stateNode;var $=C.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ue){lt(C,C.return,ue)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ue){lt(C,C.return,ue)}}}else if(n.tag===18){if(s===null){C=n;try{var H=C.stateNode;h?n_(H,!0):n_(C.stateNode,!1)}catch(ue){lt(C,C.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ec(t,s))));break;case 19:Mn(n,t),Vn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ec(t,o)));break;case 30:break;case 21:break;default:Mn(n,t),Vn(t)}}function Vn(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(ry(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=kf(t);Wu(t,f,h);break;case 5:var y=s.stateNode;s.flags&32&&(ni(y,""),s.flags&=-33);var E=kf(t);Wu(t,E,y);break;case 3:case 4:var C=s.stateNode.containerInfo,z=kf(t);Lf(t,z,C);break;default:throw Error(a(161))}}catch(K){lt(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function dy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function lr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)oy(t,n.alternate,n),n=n.sibling}function Ys(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:$r(4,n,n.return),Ys(n);break;case 1:Oi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ny(n,n.return,s),Ys(n);break;case 27:hl(n.stateNode);case 26:case 5:Oi(n,n.return),Ys(n);break;case 22:n.memoizedState===null&&Ys(n);break;case 30:Ys(n);break;default:Ys(n)}t=t.sibling}}function ur(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ur(h,f,s),tl(4,f);break;case 1:if(ur(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){lt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Fg(C[h],E)}catch(z){lt(o,o.return,z)}}s&&y&64&&ty(f),nl(f,f.return);break;case 27:sy(f);case 26:case 5:ur(h,f,s),s&&o===null&&y&4&&iy(f),nl(f,f.return);break;case 12:ur(h,f,s);break;case 31:ur(h,f,s),s&&y&4&&cy(h,f);break;case 13:ur(h,f,s),s&&y&4&&hy(h,f);break;case 22:f.memoizedState===null&&ur(h,f,s),nl(f,f.return);break;case 30:break;default:ur(h,f,s)}n=n.sibling}}function jf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&qo(s))}function zf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&qo(t))}function yi(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)my(t,n,s,o),n=n.sibling}function my(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:yi(t,n,s,o),h&2048&&tl(9,n);break;case 1:yi(t,n,s,o);break;case 3:yi(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&qo(t)));break;case 12:if(h&2048){yi(t,n,s,o),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){lt(n,n.return,C)}}else yi(t,n,s,o);break;case 31:yi(t,n,s,o);break;case 13:yi(t,n,s,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?yi(t,n,s,o):il(t,n):f._visibility&2?yi(t,n,s,o):(f._visibility|=2,Pa(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&jf(y,n);break;case 24:yi(t,n,s,o),h&2048&&zf(n.alternate,n);break;default:yi(t,n,s,o)}}function Pa(t,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,E=s,C=o,z=y.flags;switch(y.tag){case 0:case 11:case 15:Pa(f,y,E,C,h),tl(8,y);break;case 23:break;case 22:var K=y.stateNode;y.memoizedState!==null?K._visibility&2?Pa(f,y,E,C,h):il(f,y):(K._visibility|=2,Pa(f,y,E,C,h)),h&&z&2048&&jf(y.alternate,y);break;case 24:Pa(f,y,E,C,h),h&&z&2048&&zf(y.alternate,y);break;default:Pa(f,y,E,C,h)}n=n.sibling}}function il(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:il(s,o),h&2048&&jf(o.alternate,o);break;case 24:il(s,o),h&2048&&zf(o.alternate,o);break;default:il(s,o)}n=n.sibling}}var rl=8192;function ja(t,n,s){if(t.subtreeFlags&rl)for(t=t.child;t!==null;)gy(t,n,s),t=t.sibling}function gy(t,n,s){switch(t.tag){case 26:ja(t,n,s),t.flags&rl&&t.memoizedState!==null&&Pb(s,pi,t.memoizedState,t.memoizedProps);break;case 5:ja(t,n,s);break;case 3:case 4:var o=pi;pi=mc(t.stateNode.containerInfo),ja(t,n,s),pi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=rl,rl=16777216,ja(t,n,s),rl=o):ja(t,n,s));break;default:ja(t,n,s)}}function py(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function sl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Wt=o,_y(o,t)}py(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yy(t),t=t.sibling}function yy(t){switch(t.tag){case 0:case 11:case 15:sl(t),t.flags&2048&&$r(9,t,t.return);break;case 3:sl(t);break;case 12:sl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,tc(t)):sl(t);break;default:sl(t)}}function tc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Wt=o,_y(o,t)}py(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:$r(8,n,n.return),tc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,tc(n));break;default:tc(n)}t=t.sibling}}function _y(t,n){for(;Wt!==null;){var s=Wt;switch(s.tag){case 0:case 11:case 15:$r(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Wt=o;else e:for(s=t;Wt!==null;){o=Wt;var h=o.sibling,f=o.return;if(ly(o),o===s){Wt=null;break e}if(h!==null){h.return=f,Wt=h;break e}Wt=f}}}var WT={getCacheForType:function(t){var n=rn(Bt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return rn(Bt).controller.signal}},eb=typeof WeakMap=="function"?WeakMap:Map,rt=0,pt=null,Le=null,je=0,ot=0,Qn=null,Xr=!1,za=!1,Bf=!1,cr=0,Ot=0,Jr=0,$s=0,qf=0,Yn=0,Ba=0,al=null,Un=null,Hf=!1,nc=0,vy=0,ic=1/0,rc=null,Zr=null,Qt=0,Wr=null,qa=null,hr=0,Ff=0,Gf=null,Ey=null,ol=0,Kf=null;function $n(){return(rt&2)!==0&&je!==0?je&-je:q.T!==null?Zf():Nt()}function Ty(){if(Yn===0)if((je&536870912)===0||Fe){var t=te;te<<=1,(te&3932160)===0&&(te=262144),Yn=t}else Yn=536870912;return t=Gn.current,t!==null&&(t.flags|=32),Yn}function kn(t,n,s){(t===pt&&(ot===2||ot===9)||t.cancelPendingCommit!==null)&&(Ha(t,0),es(t,je,Yn,!1)),Wn(t,s),((rt&2)===0||t!==pt)&&(t===pt&&((rt&2)===0&&($s|=s),Ot===4&&es(t,je,Yn,!1)),Mi(t))}function by(t,n,s){if((rt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Ct(t,n),h=o?ib(t,n):Yf(t,n,!0),f=o;do{if(h===0){za&&!o&&es(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!tb(s)){h=Yf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var E=t;h=al;var C=E.current.memoizedState.isDehydrated;if(C&&(Ha(E,y).flags|=256),y=Yf(E,y,!1),y!==2){if(Bf&&!C){E.errorRecoveryDisabledLanes|=f,$s|=f,h=4;break e}f=Un,Un=h,f!==null&&(Un===null?Un=f:Un.push.apply(Un,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Ha(t,0),es(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:es(o,n,Yn,!Xr);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-It(),10<h)){if(es(o,n,Yn,!Xr),we(o,0,!0)!==0)break e;hr=n,o.timeoutHandle=Wy(Sy.bind(null,o,s,Un,rc,Hf,n,Yn,$s,Ba,Xr,f,"Throttled",-0,0),h);break e}Sy(o,s,Un,rc,Hf,n,Yn,$s,Ba,Xr,f,null,-0,0)}}break}while(!0);Mi(t)}function Sy(t,n,s,o,h,f,y,E,C,z,K,$,B,H){if(t.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xt},gy(n,f,$);var ue=(f&62914560)===f?nc-It():(f&4194048)===f?vy-It():0;if(ue=jb($,ue),ue!==null){hr=f,t.cancelPendingCommit=ue(Dy.bind(null,t,n,f,s,o,h,y,E,C,K,$,null,B,H)),es(t,f,y,!z);return}}Dy(t,n,f,s,o,h,y,E,C)}function tb(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Hn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function es(t,n,s,o){n&=~qf,n&=~$s,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-tn(h),y=1<<f;o[f]=-1,h&=~y}s!==0&&yt(t,s,n)}function sc(){return(rt&6)===0?(ll(0),!1):!0}function Qf(){if(Le!==null){if(ot===0)var t=Le.return;else t=Le,er=zs=null,uf(t),Ma=null,Fo=0,t=Le;for(;t!==null;)ey(t.alternate,t),t=t.return;Le=null}}function Ha(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Tb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),hr=0,Qf(),pt=t,Le=s=Zi(t.current,null),je=n,ot=0,Qn=null,Xr=!1,za=Ct(t,n),Bf=!1,Ba=Yn=qf=$s=Jr=Ot=0,Un=al=null,Hf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-tn(o),f=1<<h;n|=t[h],o&=~f}return cr=n,Ru(),s}function Ay(t,n){Me=null,q.H=Zo,n===Oa||n===Vu?(n=zg(),ot=3):n===Xh?(n=zg(),ot=4):ot=n===wf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Qn=n,Le===null&&(Ot=1,Yu(t,ri(n,t.current)))}function wy(){var t=Gn.current;return t===null?!0:(je&4194048)===je?li===null:(je&62914560)===je||(je&536870912)!==0?t===li:!1}function Ry(){var t=q.H;return q.H=Zo,t===null?Zo:t}function Iy(){var t=q.A;return q.A=WT,t}function ac(){Ot=4,Xr||(je&4194048)!==je&&Gn.current!==null||(za=!0),(Jr&134217727)===0&&($s&134217727)===0||pt===null||es(pt,je,Yn,!1)}function Yf(t,n,s){var o=rt;rt|=2;var h=Ry(),f=Iy();(pt!==t||je!==n)&&(rc=null,Ha(t,n)),n=!1;var y=Ot;e:do try{if(ot!==0&&Le!==null){var E=Le,C=Qn;switch(ot){case 8:Qf(),y=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(n=!0);var z=ot;if(ot=0,Qn=null,Fa(t,E,C,z),s&&za){y=0;break e}break;default:z=ot,ot=0,Qn=null,Fa(t,E,C,z)}}nb(),y=Ot;break}catch(K){Ay(t,K)}while(!0);return n&&t.shellSuspendCounter++,er=zs=null,rt=o,q.H=h,q.A=f,Le===null&&(pt=null,je=0,Ru()),y}function nb(){for(;Le!==null;)Cy(Le)}function ib(t,n){var s=rt;rt|=2;var o=Ry(),h=Iy();pt!==t||je!==n?(rc=null,ic=It()+500,Ha(t,n)):za=Ct(t,n);e:do try{if(ot!==0&&Le!==null){n=Le;var f=Qn;t:switch(ot){case 1:ot=0,Qn=null,Fa(t,n,f,1);break;case 2:case 9:if(Pg(f)){ot=0,Qn=null,Ny(n);break}n=function(){ot!==2&&ot!==9||pt!==t||(ot=7),Mi(t)},f.then(n,n);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:Pg(f)?(ot=0,Qn=null,Ny(n)):(ot=0,Qn=null,Fa(t,n,f,7));break;case 5:var y=null;switch(Le.tag){case 26:y=Le.memoizedState;case 5:case 27:var E=Le;if(y?m_(y):E.stateNode.complete){ot=0,Qn=null;var C=E.sibling;if(C!==null)Le=C;else{var z=E.return;z!==null?(Le=z,oc(z)):Le=null}break t}}ot=0,Qn=null,Fa(t,n,f,5);break;case 6:ot=0,Qn=null,Fa(t,n,f,6);break;case 8:Qf(),Ot=6;break e;default:throw Error(a(462))}}rb();break}catch(K){Ay(t,K)}while(!0);return er=zs=null,q.H=o,q.A=h,rt=s,Le!==null?0:(pt=null,je=0,Ru(),Ot)}function rb(){for(;Le!==null&&!wr();)Cy(Le)}function Cy(t){var n=Zp(t.alternate,t,cr);t.memoizedProps=t.pendingProps,n===null?oc(t):Le=n}function Ny(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Kp(s,n,n.pendingProps,n.type,void 0,je);break;case 11:n=Kp(s,n,n.pendingProps,n.type.render,n.ref,je);break;case 5:uf(n);default:ey(s,n),n=Le=Ig(n,cr),n=Zp(s,n,cr)}t.memoizedProps=t.pendingProps,n===null?oc(t):Le=n}function Fa(t,n,s,o){er=zs=null,uf(n),Ma=null,Fo=0;var h=n.return;try{if(KT(t,h,n,s,je)){Ot=1,Yu(t,ri(s,t.current)),Le=null;return}}catch(f){if(h!==null)throw Le=h,f;Ot=1,Yu(t,ri(s,t.current)),Le=null;return}n.flags&32768?(Fe||o===1?t=!0:za||(je&536870912)!==0?t=!1:(Xr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),xy(n,t)):oc(n)}function oc(t){var n=t;do{if((n.flags&32768)!==0){xy(n,Xr);return}t=n.return;var s=$T(n.alternate,n,cr);if(s!==null){Le=s;return}if(n=n.sibling,n!==null){Le=n;return}Le=n=t}while(n!==null);Ot===0&&(Ot=5)}function xy(t,n){do{var s=XT(t.alternate,t);if(s!==null){s.flags&=32767,Le=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Le=t;return}Le=t=s}while(t!==null);Ot=6,Le=null}function Dy(t,n,s,o,h,f,y,E,C){t.cancelPendingCommit=null;do lc();while(Qt!==0);if((rt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Uh,Vt(t,s,f,y,E,C),t===pt&&(Le=pt=null,je=0),qa=n,Wr=t,hr=s,Ff=f,Gf=h,Ey=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,lb(Nn,function(){return ky(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=ie.p,ie.p=2,y=rt,rt|=4;try{JT(t,n,s)}finally{rt=y,ie.p=h,q.T=o}}Qt=1,Oy(),My(),Vy()}}function Oy(){if(Qt===1){Qt=0;var t=Wr,n=qa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var o=ie.p;ie.p=2;var h=rt;rt|=4;try{fy(n,t);var f=ad,y=_g(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&yg(E.ownerDocument.documentElement,E)){if(C!==null&&xh(E)){var z=C.start,K=C.end;if(K===void 0&&(K=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(K,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var H=B.getSelection(),ue=E.textContent.length,Te=Math.min(C.start,ue),mt=C.end===void 0?Te:Math.min(C.end,ue);!H.extend&&Te>mt&&(y=mt,mt=Te,Te=y);var k=pg(E,Te),O=pg(E,mt);if(k&&O&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var j=$.createRange();j.setStart(k.node,k.offset),H.removeAllRanges(),Te>mt?(H.addRange(j),H.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),H.addRange(j))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ec=!!sd,ad=sd=null}finally{rt=h,ie.p=o,q.T=s}}t.current=n,Qt=2}}function My(){if(Qt===2){Qt=0;var t=Wr,n=qa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var o=ie.p;ie.p=2;var h=rt;rt|=4;try{oy(t,n.alternate,n)}finally{rt=h,ie.p=o,q.T=s}}Qt=3}}function Vy(){if(Qt===4||Qt===3){Qt=0,fi();var t=Wr,n=qa,s=hr,o=Ey;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qt=5:(Qt=0,qa=Wr=null,Uy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Zr=null),Xe(s),n=n.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=ie.p,ie.p=2,q.T=null;try{for(var f=t.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{q.T=n,ie.p=h}}(hr&3)!==0&&lc(),Mi(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Kf?ol++:(ol=0,Kf=t):ol=0,ll(0)}}function Uy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,qo(n)))}function lc(){return Oy(),My(),Vy(),ky()}function ky(){if(Qt!==5)return!1;var t=Wr,n=Ff;Ff=0;var s=Xe(hr),o=q.T,h=ie.p;try{ie.p=32>s?32:s,q.T=null,s=Gf,Gf=null;var f=Wr,y=hr;if(Qt=0,qa=Wr=null,hr=0,(rt&6)!==0)throw Error(a(331));var E=rt;if(rt|=4,yy(f.current),my(f,f.current,y,s),rt=E,ll(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{ie.p=h,q.T=o,Uy(t,n)}}function Ly(t,n,s){n=ri(s,n),n=Af(t.stateNode,n,2),t=Kr(t,n,2),t!==null&&(Wn(t,2),Mi(t))}function lt(t,n,s){if(t.tag===3)Ly(t,t,s);else for(;n!==null;){if(n.tag===3){Ly(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Zr===null||!Zr.has(o))){t=ri(s,t),s=Pp(2),o=Kr(n,s,2),o!==null&&(jp(s,o,n,t),Wn(o,2),Mi(o));break}}n=n.return}}function $f(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new eb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Bf=!0,h.add(s),t=sb.bind(null,t,n,s),n.then(t,t))}function sb(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,pt===t&&(je&s)===s&&(Ot===4||Ot===3&&(je&62914560)===je&&300>It()-nc?(rt&2)===0&&Ha(t,0):qf|=s,Ba===je&&(Ba=0)),Mi(t)}function Py(t,n){n===0&&(n=Hi()),t=Ls(t,n),t!==null&&(Wn(t,n),Mi(t))}function ab(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Py(t,s)}function ob(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Py(t,s)}function lb(t,n){return jn(t,n)}var uc=null,Ga=null,Xf=!1,cc=!1,Jf=!1,ts=0;function Mi(t){t!==Ga&&t.next===null&&(Ga===null?uc=Ga=t:Ga=Ga.next=t),cc=!0,Xf||(Xf=!0,cb())}function ll(t,n){if(!Jf&&cc){Jf=!0;do for(var s=!1,o=uc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-tn(42|t)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,qy(o,f))}else f=je,f=we(o,o===pt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ct(o,f)||(s=!0,qy(o,f));o=o.next}while(s);Jf=!1}}function ub(){jy()}function jy(){cc=Xf=!1;var t=0;ts!==0&&Eb()&&(t=ts);for(var n=It(),s=null,o=uc;o!==null;){var h=o.next,f=zy(o,n);f===0?(o.next=null,s===null?uc=h:s.next=h,h===null&&(Ga=s)):(s=o,(t!==0||(f&3)!==0)&&(cc=!0)),o=h}Qt!==0&&Qt!==5||ll(t),ts!==0&&(ts=0)}function zy(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-tn(f),E=1<<y,C=h[y];C===-1?((E&s)===0||(E&o)!==0)&&(h[y]=Oe(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=pt,s=je,s=we(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(ot===2||ot===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Zn(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Ct(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&Zn(o),Xe(s)){case 2:case 8:s=wt;break;case 32:s=Nn;break;case 268435456:s=Si;break;default:s=Nn}return o=By.bind(null,t),s=jn(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&Zn(o),t.callbackPriority=2,t.callbackNode=null,2}function By(t,n){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(lc()&&t.callbackNode!==s)return null;var o=je;return o=we(t,t===pt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(by(t,o,n),zy(t,It()),t.callbackNode!=null&&t.callbackNode===s?By.bind(null,t):null)}function qy(t,n){if(lc())return null;by(t,n,!0)}function cb(){bb(function(){(rt&6)!==0?jn(bt,ub):jy()})}function Zf(){if(ts===0){var t=xa;t===0&&(t=Z,Z<<=1,(Z&261888)===0&&(Z=256)),ts=t}return ts}function Hy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ii(""+t)}function Fy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function hb(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Hy((h[Je]||null).action),y=o.submitter;y&&(n=(n=y[Je]||null)?Hy(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new xs("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ts!==0){var C=y?Fy(h,y):new FormData(h);_f(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=y?Fy(h,y):new FormData(h),_f(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Wf=0;Wf<Vh.length;Wf++){var ed=Vh[Wf],fb=ed.toLowerCase(),db=ed[0].toUpperCase()+ed.slice(1);gi(fb,"on"+db)}gi(Tg,"onAnimationEnd"),gi(bg,"onAnimationIteration"),gi(Sg,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(NT,"onTransitionRun"),gi(xT,"onTransitionStart"),gi(DT,"onTransitionCancel"),gi(Ag,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),En("onBeforeInput",["compositionend","keypress","textInput","paste"]),En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function Gy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(K){wu(K)}h.currentTarget=null,f=C}else for(y=0;y<o.length;y++){if(E=o[y],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=z;try{f(h)}catch(K){wu(K)}h.currentTarget=null,f=C}}}}function Pe(t,n){var s=n[Rr];s===void 0&&(s=n[Rr]=new Set);var o=t+"__bubble";s.has(o)||(Ky(n,t,2,!1),s.add(o))}function td(t,n,s){var o=0;n&&(o|=4),Ky(s,t,o,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function nd(t){if(!t[hc]){t[hc]=!0,fa.forEach(function(s){s!=="selectionchange"&&(mb.has(s)||td(s,!1,t),td(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[hc]||(n[hc]=!0,td("selectionchange",!1,n))}}function Ky(t,n,s,o){switch(T_(n)){case 2:var h=qb;break;case 8:h=Hb;break;default:h=yd}s=h.bind(null,n,s,t),h=void 0,!Do||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function id(t,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=Gi(E),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){o=f=y;continue e}E=E.parentNode}}o=o.return}uu(function(){var z=f,K=ya(s),$=[];e:{var B=wg.get(t);if(B!==void 0){var H=xs,ue=t;switch(t){case"keypress":if(Ns(s)===0)break e;case"keydown":case"keyup":H=_u;break;case"focusin":ue="focus",H=kr;break;case"focusout":ue="blur",H=kr;break;case"beforeblur":case"afterblur":H=kr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Eu;break;case Tg:case bg:case Sg:H=Ea;break;case Ag:H=Ta;break;case"scroll":case"scrollend":H=cu;break;case"wheel":H=bu;break;case"copy":case"cut":case"paste":H=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ko;break;case"toggle":case"beforetoggle":H=Pr}var Te=(n&4)!==0,mt=!Te&&(t==="scroll"||t==="scrollend"),k=Te?B!==null?B+"Capture":null:B;Te=[];for(var O=z,j;O!==null;){var Y=O;if(j=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||j===null||k===null||(Y=xn(O,k),Y!=null&&Te.push(cl(O,Y,j))),mt)break;O=O.return}0<Te.length&&(B=new H(B,ue,null,s,K),$.push({event:B,listeners:Te}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&s!==pa&&(ue=s.relatedTarget||s.fromElement)&&(Gi(ue)||ue[ei]))break e;if((H||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ue=s.relatedTarget||s.toElement,H=z,ue=ue?Gi(ue):null,ue!==null&&(mt=u(ue),Te=ue.tag,ue!==mt||Te!==5&&Te!==27&&Te!==6)&&(ue=null)):(H=null,ue=z),H!==ue)){if(Te=hu,Y="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Te=ko,Y="onPointerLeave",k="onPointerEnter",O="pointer"),mt=H==null?B:Rs(H),j=ue==null?B:Rs(ue),B=new Te(Y,O+"leave",H,s,K),B.target=mt,B.relatedTarget=j,Y=null,Gi(K)===z&&(Te=new Te(k,O+"enter",ue,s,K),Te.target=j,Te.relatedTarget=mt,Y=Te),mt=Y,H&&ue)t:{for(Te=gb,k=H,O=ue,j=0,Y=k;Y;Y=Te(Y))j++;Y=0;for(var _e=O;_e;_e=Te(_e))Y++;for(;0<j-Y;)k=Te(k),j--;for(;0<Y-j;)O=Te(O),Y--;for(;j--;){if(k===O||O!==null&&k===O.alternate){Te=k;break t}k=Te(k),O=Te(O)}Te=null}else Te=null;H!==null&&Qy($,B,H,Te,!1),ue!==null&&mt!==null&&Qy($,mt,ue,Te,!0)}}e:{if(B=z?Rs(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var et=cg;else if(Dn(B))if(hg)et=RT;else{et=AT;var de=ST}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&No(z.elementType)&&(et=cg):et=wT;if(et&&(et=et(t,z))){Vs($,et,s,K);break e}de&&de(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&ga(B,"number",B.value)}switch(de=z?Rs(z):window,t){case"focusin":(Dn(de)||de.contentEditable==="true")&&(ba=de,Dh=z,jo=null);break;case"focusout":jo=Dh=ba=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,vg($,s,K);break;case"selectionchange":if(CT)break;case"keydown":case"keyup":vg($,s,K)}var Ue;if(g)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else ke?at(t,s)&&(ze="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ze="onCompositionStart");ze&&(L&&s.locale!=="ko"&&(ke||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&ke&&(Ue=Or()):(qn=K,_a="value"in qn?qn.value:qn.textContent,ke=!0)),de=fc(z,ze),0<de.length&&(ze=new Mo(ze,t,null,s,K),$.push({event:ze,listeners:de}),Ue?ze.data=Ue:(Ue=zt(s),Ue!==null&&(ze.data=Ue)))),(Ue=b?Jt(t,s):Zt(t,s))&&(ze=fc(z,"onBeforeInput"),0<ze.length&&(de=new Mo("onBeforeInput","beforeinput",null,s,K),$.push({event:de,listeners:ze}),de.data=Ue)),hb($,t,z,s,K)}Gy($,n)})}function cl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function fc(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=xn(t,s),h!=null&&o.unshift(cl(t,h,f)),h=xn(t,n),h!=null&&o.push(cl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function gb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Qy(t,n,s,o,h){for(var f=n._reactName,y=[];s!==null&&s!==o;){var E=s,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=xn(s,f),z!=null&&y.unshift(cl(s,z,C))):h||(z=xn(s,f),z!=null&&y.push(cl(s,z,C)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var pb=/\r\n?/g,yb=/\u0000|\uFFFD/g;function Yy(t){return(typeof t=="string"?t:""+t).replace(pb,`
`).replace(yb,"")}function $y(t,n){return n=Yy(n),Yy(t)===n}function dt(t,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ni(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ni(t,""+o);break;case"className":Nr(t,"class",o);break;case"tabIndex":Nr(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Nr(t,s,o);break;case"style":ou(t,o,f);break;case"data":if(n!=="object"){Nr(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Ii(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&dt(t,n,"name",h.name,h,null),dt(t,n,"formEncType",h.formEncType,h,null),dt(t,n,"formMethod",h.formMethod,h,null),dt(t,n,"formTarget",h.formTarget,h,null)):(dt(t,n,"encType",h.encType,h,null),dt(t,n,"method",h.method,h,null),dt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Ii(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=Xt);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Ii(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),Cr(t,"popover",o);break;case"xlinkActuate":ti(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ti(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ti(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ti(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ti(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ti(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ti(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ti(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ti(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Cr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=wh.get(s)||s,Cr(t,s,o))}}function rd(t,n,s,o,h,f){switch(s){case"style":ou(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?ni(t,o):(typeof o=="number"||typeof o=="bigint")&&ni(t,""+o);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Xt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ir.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[Je]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):Cr(t,s,o)}}}function an(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:dt(t,n,f,y,s,null)}}h&&dt(t,n,"srcSet",s.srcSet,s,null),o&&dt(t,n,"src",s.src,s,null);return;case"input":Pe("invalid",t);var E=f=y=h=null,C=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var K=s[o];if(K!=null)switch(o){case"name":h=K;break;case"type":y=K;break;case"checked":C=K;break;case"defaultChecked":z=K;break;case"value":f=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:dt(t,n,o,K,s,null)}}Is(t,f,E,C,z,y,h,!1);return;case"select":Pe("invalid",t),o=y=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:dt(t,n,h,E,s,null)}n=f,s=y,t.multiple=!!o,n!=null?We(t,!!o,n,!1):s!=null&&We(t,!!o,s,!0);return;case"textarea":Pe("invalid",t),f=h=o=null;for(y in s)if(s.hasOwnProperty(y)&&(E=s[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:dt(t,n,y,E,s,null)}Dr(t,o,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:dt(t,n,C,o,s,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(o=0;o<ul.length;o++)Pe(ul[o],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:dt(t,n,z,o,s,null)}return;default:if(No(n)){for(K in s)s.hasOwnProperty(K)&&(o=s[K],o!==void 0&&rd(t,n,K,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&dt(t,n,E,o,s,null))}function _b(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,C=null,z=null,K=null;for(H in s){var $=s[H];if(s.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=$;default:o.hasOwnProperty(H)||dt(t,n,H,null,o,$)}}for(var B in o){var H=o[B];if($=s[B],o.hasOwnProperty(B)&&(H!=null||$!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":K=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==$&&dt(t,n,B,H,o,$)}}xr(t,y,E,C,z,K,f,h);return;case"select":H=y=E=B=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||dt(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==C&&dt(t,n,h,f,o,C)}n=E,s=y,o=H,B!=null?We(t,!!s,B,!1):!!o!=!!s&&(n!=null?We(t,!!s,n,!0):We(t,!!s,s?[]:"",!1));return;case"textarea":H=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:dt(t,n,E,null,o,h)}for(y in o)if(h=o[y],f=s[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&dt(t,n,y,h,o,f)}Cs(t,B,H);return;case"option":for(var ue in s)if(B=s[ue],s.hasOwnProperty(ue)&&B!=null&&!o.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:dt(t,n,ue,null,o,B)}for(C in o)if(B=o[C],H=s[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:dt(t,n,C,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in s)B=s[Te],s.hasOwnProperty(Te)&&B!=null&&!o.hasOwnProperty(Te)&&dt(t,n,Te,null,o,B);for(z in o)if(B=o[z],H=s[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:dt(t,n,z,B,o,H)}return;default:if(No(n)){for(var mt in s)B=s[mt],s.hasOwnProperty(mt)&&B!==void 0&&!o.hasOwnProperty(mt)&&rd(t,n,mt,void 0,o,B);for(K in o)B=o[K],H=s[K],!o.hasOwnProperty(K)||B===H||B===void 0&&H===void 0||rd(t,n,K,B,o,H);return}}for(var k in s)B=s[k],s.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&dt(t,n,k,null,o,B);for($ in o)B=o[$],H=s[$],!o.hasOwnProperty($)||B===H||B==null&&H==null||dt(t,n,$,B,o,H)}function Xy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&Xy(y)){for(y=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],z=C.startTime;if(z>E)break;var K=C.transferSize,$=C.initiatorType;K&&Xy($)&&(C=C.responseEnd,y+=K*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var sd=null,ad=null;function dc(t){return t.nodeType===9?t:t.ownerDocument}function Jy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function od(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ld=null;function Eb(){var t=window.event;return t&&t.type==="popstate"?t===ld?!1:(ld=t,!0):(ld=null,!1)}var Wy=typeof setTimeout=="function"?setTimeout:void 0,Tb=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,bb=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(t){return e_.resolve(null).then(t).catch(Sb)}:Wy;function Sb(t){setTimeout(function(){throw t})}function ns(t){return t==="head"}function t_(t,n){var s=n,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),$a(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")hl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,hl(s);for(var f=s.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[Fi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=y}}else s==="body"&&hl(t.ownerDocument.body);s=h}while(s);$a(n)}function n_(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function ud(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ud(s),ws(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Ab(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Fi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ui(t.nextSibling),t===null)break}return null}function wb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ui(t.nextSibling),t===null))return null;return t}function i_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ui(t.nextSibling),t===null))return null;return t}function cd(t){return t.data==="$?"||t.data==="$~"}function hd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Rb(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ui(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var fd=null;function r_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return ui(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function s_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function a_(t,n,s){switch(n=dc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function hl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ws(t)}var ci=new Map,o_=new Set;function mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fr=ie.d;ie.d={f:Ib,r:Cb,D:Nb,C:xb,L:Db,m:Ob,X:Vb,S:Mb,M:Ub};function Ib(){var t=fr.f(),n=sc();return t||n}function Cb(t){var n=Ki(t);n!==null&&n.tag===5&&n.type==="form"?Ap(n):fr.r(t)}var Ka=typeof document>"u"?null:document;function l_(t,n,s){var o=Ka;if(o&&typeof n=="string"&&n){var h=xt(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),o_.has(h)||(o_.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),an(n,"link",t),Ut(n),o.head.appendChild(n)))}}function Nb(t){fr.D(t),l_("dns-prefetch",t,null)}function xb(t,n){fr.C(t,n),l_("preconnect",t,n)}function Db(t,n,s){fr.L(t,n,s);var o=Ka;if(o&&t&&n){var h='link[rel="preload"][as="'+xt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+xt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+xt(s.imageSizes)+'"]')):h+='[href="'+xt(t)+'"]';var f=h;switch(n){case"style":f=Qa(t);break;case"script":f=Ya(t)}ci.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ci.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(fl(f))||n==="script"&&o.querySelector(dl(f))||(n=o.createElement("link"),an(n,"link",t),Ut(n),o.head.appendChild(n)))}}function Ob(t,n){fr.m(t,n);var s=Ka;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+xt(o)+'"][href="'+xt(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ya(t)}if(!ci.has(f)&&(t=A({rel:"modulepreload",href:t},n),ci.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(dl(f)))return}o=s.createElement("link"),an(o,"link",t),Ut(o),s.head.appendChild(o)}}}function Mb(t,n,s){fr.S(t,n,s);var o=Ka;if(o&&t){var h=di(o).hoistableStyles,f=Qa(t);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(fl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ci.get(f))&&dd(t,s);var C=y=o.createElement("link");Ut(C),an(C,"link",t),C._p=new Promise(function(z,K){C.onload=z,C.onerror=K}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function Vb(t,n){fr.X(t,n);var s=Ka;if(s&&t){var o=di(s).hoistableScripts,h=Ya(t),f=o.get(h);f||(f=s.querySelector(dl(h)),f||(t=A({src:t,async:!0},n),(n=ci.get(h))&&md(t,n),f=s.createElement("script"),Ut(f),an(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Ub(t,n){fr.M(t,n);var s=Ka;if(s&&t){var o=di(s).hoistableScripts,h=Ya(t),f=o.get(h);f||(f=s.querySelector(dl(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=ci.get(h))&&md(t,n),f=s.createElement("script"),Ut(f),an(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function u_(t,n,s,o){var h=(h=De.current)?mc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Qa(s.href),s=di(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Qa(s.href);var f=di(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(fl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),ci.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ci.set(t,s),f||kb(h,t,s,y.state))),n&&o===null)throw Error(a(528,""));return y}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ya(s),s=di(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Qa(t){return'href="'+xt(t)+'"'}function fl(t){return'link[rel="stylesheet"]['+t+"]"}function c_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function kb(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),an(n,"link",s),Ut(n),t.head.appendChild(n))}function Ya(t){return'[src="'+xt(t)+'"]'}function dl(t){return"script[async]"+t}function h_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+xt(s.href)+'"]');if(o)return n.instance=o,Ut(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ut(o),an(o,"style",h),gc(o,s.precedence,t),n.instance=o;case"stylesheet":h=Qa(s.href);var f=t.querySelector(fl(h));if(f)return n.state.loading|=4,n.instance=f,Ut(f),f;o=c_(s),(h=ci.get(h))&&dd(o,h),f=(t.ownerDocument||t).createElement("link"),Ut(f);var y=f;return y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),an(f,"link",o),n.state.loading|=4,gc(f,s.precedence,t),n.instance=f;case"script":return f=Ya(s.src),(h=t.querySelector(dl(f)))?(n.instance=h,Ut(h),h):(o=s,(h=ci.get(f))&&(o=A({},s),md(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ut(h),an(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gc(o,s.precedence,t));return n.instance}function gc(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function dd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function md(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var pc=null;function f_(t,n,s){if(pc===null){var o=new Map,h=pc=new Map;h.set(s,o)}else h=pc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[Fi]||f[Ze]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function d_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function Lb(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function m_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Pb(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Qa(o.href),f=n.querySelector(fl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=yc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Ut(f);return}f=n.ownerDocument||n,o=c_(o),(h=ci.get(h))&&dd(o,h),f=f.createElement("link"),Ut(f);var y=f;y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),an(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=yc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var gd=0;function jb(t,n){return t.stylesheets&&t.count===0&&vc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&vc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&gd===0&&(gd=62500*vb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&vc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>gd?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _c=null;function vc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_c=new Map,n.forEach(zb,t),_c=null,yc.call(t))}function zb(t,n){if(!(n.state.loading&4)){var s=_c.get(t);if(s)var o=s.get(null);else{s=new Map,_c.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),o=y)}o&&s.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=s.get(y)||o,f===o&&s.set(null,h),s.set(y,h),this.count++,o=yc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var ml={$$typeof:ge,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Bb(t,n,s,o,h,f,y,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vn(0),this.hiddenUpdates=vn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function g_(t,n,s,o,h,f,y,E,C,z,K,$){return t=new Bb(t,n,s,y,C,z,K,$,E),n=1,f===!0&&(n|=24),f=Fn(3,null,null,n),t.current=f,f.stateNode=t,n=Qh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Jh(f),t}function p_(t){return t?(t=wa,t):wa}function y_(t,n,s,o,h,f){h=p_(h),o.context===null?o.context=h:o.pendingContext=h,o=Gr(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Kr(t,o,n),s!==null&&(kn(s,t,n),Ko(s,t,n))}function __(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function pd(t,n){__(t,n),(t=t.alternate)&&__(t,n)}function v_(t){if(t.tag===13||t.tag===31){var n=Ls(t,67108864);n!==null&&kn(n,t,67108864),pd(t,67108864)}}function E_(t){if(t.tag===13||t.tag===31){var n=$n();n=Re(n);var s=Ls(t,n);s!==null&&kn(s,t,n),pd(t,n)}}var Ec=!0;function qb(t,n,s,o){var h=q.T;q.T=null;var f=ie.p;try{ie.p=2,yd(t,n,s,o)}finally{ie.p=f,q.T=h}}function Hb(t,n,s,o){var h=q.T;q.T=null;var f=ie.p;try{ie.p=8,yd(t,n,s,o)}finally{ie.p=f,q.T=h}}function yd(t,n,s,o){if(Ec){var h=_d(o);if(h===null)id(t,n,o,Tc,s),b_(t,o);else if(Gb(h,t,n,s,o))o.stopPropagation();else if(b_(t,o),n&4&&-1<Fb.indexOf(t)){for(;h!==null;){var f=Ki(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=fe(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var C=1<<31-tn(y);E.entanglements[1]|=C,y&=~C}Mi(f),(rt&6)===0&&(ic=It()+500,ll(0))}}break;case 31:case 13:E=Ls(f,2),E!==null&&kn(E,f,2),sc(),pd(f,2)}if(f=_d(o),f===null&&id(t,n,o,Tc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else id(t,n,o,null,s)}}function _d(t){return t=ya(t),vd(t)}var Tc=null;function vd(t){if(Tc=null,t=Gi(t),t!==null){var n=u(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=m(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Tc=t,null}function T_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ca()){case bt:return 2;case wt:return 8;case Nn:case qi:return 32;case Si:return 268435456;default:return 32}default:return 32}}var Ed=!1,is=null,rs=null,ss=null,gl=new Map,pl=new Map,as=[],Fb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(t,n){switch(t){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(n.pointerId)}}function yl(t,n,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ki(n),n!==null&&v_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Gb(t,n,s,o,h){switch(n){case"focusin":return is=yl(is,t,n,s,o,h),!0;case"dragenter":return rs=yl(rs,t,n,s,o,h),!0;case"mouseover":return ss=yl(ss,t,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return gl.set(f,yl(gl.get(f)||null,t,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,pl.set(f,yl(pl.get(f)||null,t,n,s,o,h)),!0}return!1}function S_(t){var n=Gi(t.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,gt(t.priority,function(){E_(s)});return}}else if(n===31){if(n=m(s),n!==null){t.blockedOn=n,gt(t.priority,function(){E_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=_d(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);pa=o,s.target.dispatchEvent(o),pa=null}else return n=Ki(s),n!==null&&v_(n),t.blockedOn=s,!1;n.shift()}return!0}function A_(t,n,s){bc(t)&&s.delete(n)}function Kb(){Ed=!1,is!==null&&bc(is)&&(is=null),rs!==null&&bc(rs)&&(rs=null),ss!==null&&bc(ss)&&(ss=null),gl.forEach(A_),pl.forEach(A_)}function Sc(t,n){t.blockedOn===n&&(t.blockedOn=null,Ed||(Ed=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Kb)))}var Ac=null;function w_(t){Ac!==t&&(Ac=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ac===t&&(Ac=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(vd(o||s)===null)continue;break}var f=Ki(s);f!==null&&(t.splice(n,3),n-=3,_f(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function $a(t){function n(C){return Sc(C,t)}is!==null&&Sc(is,t),rs!==null&&Sc(rs,t),ss!==null&&Sc(ss,t),gl.forEach(n),pl.forEach(n);for(var s=0;s<as.length;s++){var o=as[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<as.length&&(s=as[0],s.blockedOn===null);)S_(s),s.blockedOn===null&&as.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],y=h[Je]||null;if(typeof f=="function")y||w_(s);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Je]||null)E=y.formAction;else if(vd(h)!==null)continue}else E=y.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),w_(s)}}}function R_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Td(t){this._internalRoot=t}wc.prototype.render=Td.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=$n();y_(s,o,t,n,null,null)},wc.prototype.unmount=Td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;y_(t.current,2,null,t,null,null),sc(),n[ei]=null}};function wc(t){this._internalRoot=t}wc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Nt();t={blockedOn:null,target:t,priority:n};for(var s=0;s<as.length&&n!==0&&n<as[s].priority;s++);as.splice(s,0,t),s===0&&S_(t)}};var I_=e.version;if(I_!=="19.2.0")throw Error(a(527,I_,"19.2.0"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var Qb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{zn=Rc.inject(Qb),Mt=Rc}catch{}}return vl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",h=Vp,f=Up,y=kp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=g_(t,1,!1,null,null,s,o,null,h,f,y,R_),t[ei]=n.current,nd(t),new Td(n)},vl.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,h="",f=Vp,y=Up,E=kp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=g_(t,1,!0,n,s??null,o,h,C,f,y,E,R_),n.context=p_(null),s=n.current,o=$n(),o=Re(o),h=Gr(o),h.callback=null,Kr(s,h,o),s=o,n.current.lanes=s,Wn(n,s),Mi(n),t[ei]=n.current,nd(t),new wc(n)},vl.version="19.2.0",vl}var L_;function iS(){if(L_)return Sd.exports;L_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Sd.exports=nS(),Sd.exports}var rS=iS(),pe=fm(),P_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},sS=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[i++];e[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[i++],d=r[i++],m=r[i++],p=((l&7)<<18|(u&63)<<12|(d&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[i++],d=r[i++];e[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},a0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,m=d?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,T=u>>2,A=(u&3)<<4|m>>4;let M=(m&15)<<2|_>>6,P=_&63;p||(P=64,d||(M=64)),a.push(i[T],i[A],i[M],i[P])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(s0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):sS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const u=i[r.charAt(l++)],m=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,u==null||m==null||_==null||A==null)throw new aS;const M=u<<2|m>>4;if(a.push(M),_!==64){const P=m<<4&240|_>>2;if(a.push(P),A!==64){const Q=_<<6&192|A;a.push(Q)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class aS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oS=function(r){const e=s0(r);return a0.encodeByteArray(e,!0)},qc=function(r){return oS(r).replace(/\./g,"")},o0=function(r){try{return a0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=()=>lS().__FIREBASE_DEFAULTS__,cS=()=>{if(typeof process>"u"||typeof P_>"u")return;const r=P_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},hS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&o0(r[1]);return e&&JSON.parse(e)},ih=()=>{try{return uS()||cS()||hS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},l0=r=>{var e,i;return(i=(e=ih())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},fS=r=>{const e=l0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},u0=()=>{var r;return(r=ih())===null||r===void 0?void 0:r.config},c0=r=>{var e;return(e=ih())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function pS(){var r;const e=(r=ih())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _S(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function vS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ES(){const r=pn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function TS(){return!pS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bS(){try{return typeof indexedDB=="object"}catch{return!1}}function SS(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="FirebaseError";class br extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=AS,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?wS(u,a):"Error",m=`${this.serviceName}: ${d} (${l}).`;return new br(l,m,a)}}function wS(r,e){return r.replace(RS,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const RS=/\{\$([^}]+)}/g;function IS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Vl(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const u=r[l],d=e[l];if(j_(u)&&j_(d)){if(!Vl(u,d))return!1}else if(u!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function j_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Tl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,u]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function bl(r){const e=r.indexOf("?");if(!e)return"";const i=r.indexOf("#",e);return r.substring(e,i>0?i:void 0)}function CS(r,e){const i=new NS(r,e);return i.subscribe.bind(i)}class NS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");xS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Cd),l.error===void 0&&(l.error=Cd),l.complete===void 0&&(l.complete=Cd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xS(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Cd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(r){return r&&r._delegate?r._delegate:r}class ea{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new dS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MS(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&d.resolve(l)}return l}onInit(e,i){var a;const l=this.normalizeInstanceIdentifier(i),u=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(l,u);const d=this.instances.get(l);return d&&e(d,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:OS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OS(r){return r===Xs?void 0:r}function MS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new DS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ge||(Ge={}));const US={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},kS=Ge.INFO,LS={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},PS=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=LS[e];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dm{constructor(e){this.name=e,this._logLevel=kS,this._logHandler=PS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?US[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const jS=(r,e)=>e.some(i=>r instanceof i);let z_,B_;function zS(){return z_||(z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BS(){return B_||(B_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h0=new WeakMap,jd=new WeakMap,f0=new WeakMap,Nd=new WeakMap,mm=new WeakMap;function qS(r){const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{i(ms(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&h0.set(i,r)}).catch(()=>{}),mm.set(e,r),e}function HS(r){if(jd.has(r))return;const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});jd.set(r,e)}let zd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return jd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||f0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ms(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function FS(r){zd=r(zd)}function GS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(xd(this),e,...i);return f0.set(a,e.sort?e.sort():[e]),ms(a)}:BS().includes(r)?function(...e){return r.apply(xd(this),e),ms(h0.get(this))}:function(...e){return ms(r.apply(xd(this),e))}}function KS(r){return typeof r=="function"?GS(r):(r instanceof IDBTransaction&&HS(r),jS(r,zS())?new Proxy(r,zd):r)}function ms(r){if(r instanceof IDBRequest)return qS(r);if(Nd.has(r))return Nd.get(r);const e=KS(r);return e!==r&&(Nd.set(r,e),mm.set(e,r)),e}const xd=r=>mm.get(r);function QS(r,e,{blocked:i,upgrade:a,blocking:l,terminated:u}={}){const d=indexedDB.open(r,e),m=ms(d);return a&&d.addEventListener("upgradeneeded",p=>{a(ms(d.result),p.oldVersion,p.newVersion,ms(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const YS=["get","getKey","getAll","getAllKeys","count"],$S=["put","add","delete","clear"],Dd=new Map;function q_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Dd.get(e))return Dd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=$S.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||YS.includes(i)))return;const u=async function(d,...m){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return a&&(_=_.index(m.shift())),(await Promise.all([_[i](...m),l&&p.done]))[0]};return Dd.set(e,u),u}FS(r=>({...r,get:(e,i,a)=>q_(e,i)||r.get(e,i,a),has:(e,i)=>!!q_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(JS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function JS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bd="@firebase/app",H_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new dm("@firebase/app"),ZS="@firebase/app-compat",WS="@firebase/analytics-compat",eA="@firebase/analytics",tA="@firebase/app-check-compat",nA="@firebase/app-check",iA="@firebase/auth",rA="@firebase/auth-compat",sA="@firebase/database",aA="@firebase/data-connect",oA="@firebase/database-compat",lA="@firebase/functions",uA="@firebase/functions-compat",cA="@firebase/installations",hA="@firebase/installations-compat",fA="@firebase/messaging",dA="@firebase/messaging-compat",mA="@firebase/performance",gA="@firebase/performance-compat",pA="@firebase/remote-config",yA="@firebase/remote-config-compat",_A="@firebase/storage",vA="@firebase/storage-compat",EA="@firebase/firestore",TA="@firebase/vertexai-preview",bA="@firebase/firestore-compat",SA="firebase",AA="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="[DEFAULT]",wA={[Bd]:"fire-core",[ZS]:"fire-core-compat",[eA]:"fire-analytics",[WS]:"fire-analytics-compat",[nA]:"fire-app-check",[tA]:"fire-app-check-compat",[iA]:"fire-auth",[rA]:"fire-auth-compat",[sA]:"fire-rtdb",[aA]:"fire-data-connect",[oA]:"fire-rtdb-compat",[lA]:"fire-fn",[uA]:"fire-fn-compat",[cA]:"fire-iid",[hA]:"fire-iid-compat",[fA]:"fire-fcm",[dA]:"fire-fcm-compat",[mA]:"fire-perf",[gA]:"fire-perf-compat",[pA]:"fire-rc",[yA]:"fire-rc-compat",[_A]:"fire-gcs",[vA]:"fire-gcs-compat",[EA]:"fire-fst",[bA]:"fire-fst-compat",[TA]:"fire-vertex","fire-js":"fire-js",[SA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Map,RA=new Map,Hd=new Map;function F_(r,e){try{r.container.addComponent(e)}catch(i){_r.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function so(r){const e=r.name;if(Hd.has(e))return _r.debug(`There were multiple attempts to register component ${e}.`),!1;Hd.set(e,r);for(const i of Hc.values())F_(i,r);for(const i of RA.values())F_(i,r);return!0}function gm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Ui(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new Gl("app","Firebase",IA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=AA;function d0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:qd,automaticDataCollectionEnabled:!1},e),l=a.name;if(typeof l!="string"||!l)throw gs.create("bad-app-name",{appName:String(l)});if(i||(i=u0()),!i)throw gs.create("no-options");const u=Hc.get(l);if(u){if(Vl(i,u.options)&&Vl(a,u.config))return u;throw gs.create("duplicate-app",{appName:l})}const d=new VS(l);for(const p of Hd.values())d.addComponent(p);const m=new CA(i,a,d);return Hc.set(l,m),m}function m0(r=qd){const e=Hc.get(r);if(!e&&r===qd&&u0())return d0();if(!e)throw gs.create("no-app",{appName:r});return e}function ps(r,e,i){var a;let l=(a=wA[r])!==null&&a!==void 0?a:r;i&&(l+=`-${i}`);const u=l.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const m=[`Unable to register library "${l}" with version "${e}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_r.warn(m.join(" "));return}so(new ea(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="firebase-heartbeat-database",xA=1,Ul="firebase-heartbeat-store";let Od=null;function g0(){return Od||(Od=QS(NA,xA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ul)}catch(i){console.warn(i)}}}}).catch(r=>{throw gs.create("idb-open",{originalErrorMessage:r.message})})),Od}async function DA(r){try{const i=(await g0()).transaction(Ul),a=await i.objectStore(Ul).get(p0(r));return await i.done,a}catch(e){if(e instanceof br)_r.warn(e.message);else{const i=gs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_r.warn(i.message)}}}async function G_(r,e){try{const a=(await g0()).transaction(Ul,"readwrite");await a.objectStore(Ul).put(e,p0(r)),await a.done}catch(i){if(i instanceof br)_r.warn(i.message);else{const a=gs.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});_r.warn(a.message)}}}function p0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=1024,MA=720*60*60*1e3;class VA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new kA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=K_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const m=new Date(d.date).valueOf();return Date.now()-m<=MA}),this._storage.overwrite(this._heartbeatsCache))}catch(a){_r.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=K_(),{heartbeatsToSend:a,unsentEntries:l}=UA(this._heartbeatsCache.heartbeats),u=qc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return _r.warn(i),""}}}function K_(){return new Date().toISOString().substring(0,10)}function UA(r,e=OA){const i=[];let a=r.slice();for(const l of r){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),Q_(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Q_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class kA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bS()?SS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await DA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return G_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return G_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Q_(r){return qc(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(r){so(new ea("platform-logger",e=>new XS(e),"PRIVATE")),so(new ea("heartbeat",e=>new VA(e),"PRIVATE")),ps(Bd,H_,r),ps(Bd,H_,"esm2017"),ps("fire-js","")}LA("");var PA="firebase",jA="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(PA,jA,"app");function pm(r,e){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(i[a[l]]=r[a[l]]);return i}function y0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zA=y0,_0=new Gl("auth","Firebase",y0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new dm("@firebase/auth");function BA(r,...e){Fc.logLevel<=Ge.WARN&&Fc.warn(`Auth (${po}): ${r}`,...e)}function Mc(r,...e){Fc.logLevel<=Ge.ERROR&&Fc.error(`Auth (${po}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(r,...e){throw ym(r,...e)}function ki(r,...e){return ym(r,...e)}function v0(r,e,i){const a=Object.assign(Object.assign({},zA()),{[e]:i});return new Gl("auth","Firebase",a).create(e,{appName:r.name})}function pr(r){return v0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ym(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return _0.create(r,...e)}function Se(r,e,...i){if(!r)throw ym(e,...i)}function dr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Mc(e),new Error(e)}function vr(r,e){r||dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function qA(){return Y_()==="http:"||Y_()==="https:"}function Y_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qA()||_S()||"connection"in navigator)?navigator.onLine:!0}function FA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,i){this.shortDelay=e,this.longDelay=i,vr(i>e,"Short delay should be less than long delay!"),this.isMobile=gS()||vS()}get(){return HA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(r,e){vr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=new Ql(3e4,6e4);function Sr(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ar(r,e,i,a,l={}){return T0(r,l,async()=>{let u={},d={};a&&(e==="GET"?d=a:u={body:JSON.stringify(a)});const m=Kl(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:p},u);return yS()||(_.referrerPolicy="no-referrer"),E0.fetch()(b0(r,r.config.apiHost,i,m),_)})}async function T0(r,e,i){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},GA),e);try{const l=new YA(r),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Ic(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const m=u.ok?d.errorMessage:d.error.message,[p,_]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Ic(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw Ic(r,"user-disabled",d);const T=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw v0(r,T,_);vi(r,T)}}catch(l){if(l instanceof br)throw l;vi(r,"network-request-failed",{message:String(l)})}}async function Yl(r,e,i,a,l={}){const u=await Ar(r,e,i,a,l);return"mfaPendingCredential"in u&&vi(r,"multi-factor-auth-required",{_serverResponse:u}),u}function b0(r,e,i,a){const l=`${e}${i}?${a}`;return r.config.emulator?_m(r.config,l):`${r.config.apiScheme}://${l}`}function QA(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ki(this.auth,"network-request-failed")),KA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ic(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=ki(r,e,a);return l.customData._tokenResponse=i,l}function $_(r){return r!==void 0&&r.enterprise!==void 0}class $A{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return QA(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function XA(r,e){return Ar(r,"GET","/v2/recaptchaConfig",Sr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(r,e){return Ar(r,"POST","/v1/accounts:delete",e)}async function S0(r,e){return Ar(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZA(r,e=!1){const i=$t(r),a=await i.getIdToken(e),l=vm(a);Se(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:l,token:a,authTime:Cl(Md(l.auth_time)),issuedAtTime:Cl(Md(l.iat)),expirationTime:Cl(Md(l.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Md(r){return Number(r)*1e3}function vm(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const l=o0(i);return l?JSON.parse(l):(Mc("Failed to decode base64 JWT payload"),null)}catch(l){return Mc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function X_(r){const e=vm(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof br&&WA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function WA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(r){var e;const i=r.auth,a=await r.getIdToken(),l=await kl(r,S0(i,{idToken:a}));Se(l==null?void 0:l.users.length,i,"internal-error");const u=l.users[0];r._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?A0(u.providerUserInfo):[],m=nw(r.providerData,d),p=r.isAnonymous,_=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?_:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Gd(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,A)}async function tw(r){const e=$t(r);await Gc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nw(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function A0(r){return r.map(e=>{var{providerId:i}=e,a=pm(e,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iw(r,e){const i=await T0(r,{},async()=>{const a=Kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=b0(r,l,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",E0.fetch()(d,{method:"POST",headers:m,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function rw(r,e){return Ar(r,"POST","/v2/accounts:revokeToken",Sr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const i=X_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:u}=await iw(e,i);this.updateTokensAndExpiration(a,l,Number(u))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:u}=i,d=new eo;return a&&(Se(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Se(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(Se(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class mr{constructor(e){var{uid:i,auth:a,stsTokenManager:l}=e,u=pm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ew(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Gd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const i=await kl(this,this.stsTokenManager.getToken(this.auth,e));return Se(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return ZA(this,e)}reload(){return tw(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Gc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ui(this.auth.app))return Promise.reject(pr(this.auth));const e=await this.getIdToken();return await kl(this,JA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var a,l,u,d,m,p,_,T;const A=(a=i.displayName)!==null&&a!==void 0?a:void 0,M=(l=i.email)!==null&&l!==void 0?l:void 0,P=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,Q=(d=i.photoURL)!==null&&d!==void 0?d:void 0,W=(m=i.tenantId)!==null&&m!==void 0?m:void 0,J=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,le=(_=i.createdAt)!==null&&_!==void 0?_:void 0,Ee=(T=i.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ge,emailVerified:ye,isAnonymous:st,providerData:Ie,stsTokenManager:N}=i;Se(ge&&N,e,"internal-error");const w=eo.fromJSON(this.name,N);Se(typeof ge=="string",e,"internal-error"),ls(A,e.name),ls(M,e.name),Se(typeof ye=="boolean",e,"internal-error"),Se(typeof st=="boolean",e,"internal-error"),ls(P,e.name),ls(Q,e.name),ls(W,e.name),ls(J,e.name),ls(le,e.name),ls(Ee,e.name);const R=new mr({uid:ge,auth:e,email:M,emailVerified:ye,displayName:A,isAnonymous:st,photoURL:Q,phoneNumber:P,tenantId:W,stsTokenManager:w,createdAt:le,lastLoginAt:Ee});return Ie&&Array.isArray(Ie)&&(R.providerData=Ie.map(V=>Object.assign({},V))),J&&(R._redirectEventId=J),R}static async _fromIdTokenResponse(e,i,a=!1){const l=new eo;l.updateFromServerResponse(i);const u=new mr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Gc(u),u}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Se(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?A0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),m=new eo;m.updateFromIdToken(a);const p=new mr({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Gd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=new Map;function gr(r){vr(r instanceof Function,"Expected a class definition");let e=J_.get(r);return e?(vr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,J_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}w0.type="NONE";const Z_=w0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(r,e,i){return`firebase:${r}:${e}:${i}`}class to{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:u}=this.auth;this.fullUserKey=Vc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Vc("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new to(gr(Z_),e,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||gr(Z_);const d=Vc(a,e.config.apiKey,e.name);let m=null;for(const _ of i)try{const T=await _._get(d);if(T){const A=mr._fromJSON(e,T);_!==u&&(m=A),u=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new to(u,e,a):(u=p[0],m&&await u._set(d,m.toJSON()),await Promise.all(i.map(async _=>{if(_!==u)try{await _._remove(d)}catch{}})),new to(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(R0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D0(e))return"Blackberry";if(O0(e))return"Webos";if(I0(e))return"Safari";if((e.includes("chrome/")||C0(e))&&!e.includes("edge/"))return"Chrome";if(x0(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function R0(r=pn()){return/firefox\//i.test(r)}function I0(r=pn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C0(r=pn()){return/crios\//i.test(r)}function N0(r=pn()){return/iemobile/i.test(r)}function x0(r=pn()){return/android/i.test(r)}function D0(r=pn()){return/blackberry/i.test(r)}function O0(r=pn()){return/webos/i.test(r)}function Em(r=pn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function sw(r=pn()){var e;return Em(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aw(){return ES()&&document.documentMode===10}function M0(r=pn()){return Em(r)||x0(r)||O0(r)||D0(r)||/windows phone/i.test(r)||N0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(r,e=[]){let i;switch(r){case"Browser":i=W_(pn());break;case"Worker":i=`${W_(pn())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${po}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=u=>new Promise((d,m)=>{try{const p=e(u);d(p)}catch(p){m(p)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lw(r,e={}){return Ar(r,"GET","/v2/passwordPolicy",Sr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=6;class cw{constructor(e){var i,a,l,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:uw,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,a,l,u,d,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ev(this),this.idTokenSubscription=new ev(this),this.beforeStateQueue=new ow(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=gr(i)),this._initializationPromise=this.queue(async()=>{var a,l;if(!this._deleted&&(this.persistenceManager=await to.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await S0(this,{idToken:e}),a=await mr._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Ui(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,m=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===m)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Gc(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ui(this.app))return Promise.reject(pr(this));const i=e?$t(e):null;return i&&Se(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ui(this.app)?Promise.reject(pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ui(this.app)?Promise.reject(pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lw(this),i=new cw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await rw(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&gr(e)||this._popupRedirectResolver;Se(i,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[gr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,a,l);return()=>{d=!0,p()}}else{const p=e.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var e;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&BA(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function aa(r){return $t(r)}class ev{constructor(e){this.auth=e,this.observer=null,this.addObserver=CS(i=>this.observer=i)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fw(r){rh=r}function U0(r){return rh.loadJS(r)}function dw(){return rh.recaptchaEnterpriseScript}function mw(){return rh.gapiScript}function gw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const pw="recaptcha-enterprise",yw="NO_RECAPTCHA";class _w{constructor(e){this.type=pw,this.auth=aa(e)}async verify(e="verify",i=!1){async function a(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,m)=>{XA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new $A(p);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,d(_.siteKey)}}).catch(p=>{m(p)})})}function l(u,d,m){const p=window.grecaptcha;$_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(_=>{d(_)}).catch(()=>{d(yw)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((u,d)=>{a(this.auth).then(m=>{if(!i&&$_(window.grecaptcha))l(m,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=dw();p.length!==0&&(p+=m),U0(p).then(()=>{l(m,u,d)}).catch(_=>{d(_)})}}).catch(m=>{d(m)})})}}async function tv(r,e,i,a=!1){const l=new _w(r);let u;try{u=await l.verify(i)}catch{u=await l.verify(i,!0)}const d=Object.assign({},e);return a?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Kd(r,e,i,a){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await tv(r,e,i,i==="getOobCode");return a(r,u)}else return a(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await tv(r,e,i,i==="getOobCode");return a(r,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(r,e){const i=gm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(Vl(u,e??{}))return l;vi(l,"already-initialized")}return i.initialize({options:e})}function Ew(r,e){const i=(e==null?void 0:e.persistence)||[],a=(Array.isArray(i)?i:[i]).map(gr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function Tw(r,e,i){const a=aa(r);Se(a._canInitEmulator,a,"emulator-config-failed"),Se(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,u=k0(e),{host:d,port:m}=bw(e),p=m===null?"":`:${m}`;a.config.emulator={url:`${u}//${d}${p}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:d,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})}),Sw()}function k0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function bw(r){const e=k0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const u=l[1];return{host:u,port:nv(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:nv(d)}}}function nv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Sw(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,i){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}}async function Aw(r,e){return Ar(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ww(r,e){return Yl(r,"POST","/v1/accounts:signInWithPassword",Sr(r,e))}async function Rw(r,e){return Ar(r,"POST","/v1/accounts:sendOobCode",Sr(r,e))}async function Iw(r,e){return Rw(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cw(r,e){return Yl(r,"POST","/v1/accounts:signInWithEmailLink",Sr(r,e))}async function Nw(r,e){return Yl(r,"POST","/v1/accounts:signInWithEmailLink",Sr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends Tm{constructor(e,i,a,l=null){super("password",a),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Ll(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new Ll(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kd(e,i,"signInWithPassword",ww);case"emailLink":return Cw(e,{email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kd(e,a,"signUpPassword",Aw);case"emailLink":return Nw(e,{idToken:i,email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(r,e){return Yl(r,"POST","/v1/accounts:signInWithIdp",Sr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="http://localhost";class ta extends Tm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):vi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l}=i,u=pm(i,["providerId","signInMethod"]);if(!a||!l)return null;const d=new ta(a,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return no(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,no(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,no(e,i)}buildRequest(){const e={requestUri:xw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Kl(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ow(r){const e=Tl(bl(r)).link,i=e?Tl(bl(e)).deep_link_id:null,a=Tl(bl(r)).deep_link_id;return(a?Tl(bl(a)).link:null)||a||i||e||r}class bm{constructor(e){var i,a,l,u,d,m;const p=Tl(bl(e)),_=(i=p.apiKey)!==null&&i!==void 0?i:null,T=(a=p.oobCode)!==null&&a!==void 0?a:null,A=Dw((l=p.mode)!==null&&l!==void 0?l:null);Se(_&&T&&A,"argument-error"),this.apiKey=_,this.operation=A,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const i=Ow(e);try{return new bm(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.providerId=yo.PROVIDER_ID}static credential(e,i){return Ll._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=bm.parseLink(i);return Se(a,"argument-error"),Ll._fromEmailAndCode(e,a.code,a.tenantId)}}yo.PROVIDER_ID="password";yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends L0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends $l{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.FACEBOOK_SIGN_IN_METHOD="facebook.com";us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ta._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return cs.credential(i,a)}catch{return null}}}cs.GOOGLE_SIGN_IN_METHOD="google.com";cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends $l{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends $l{constructor(){super("twitter.com")}static credential(e,i){return ta._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return fs.credential(i,a)}catch{return null}}}fs.TWITTER_SIGN_IN_METHOD="twitter.com";fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(r,e){return Yl(r,"POST","/v1/accounts:signUp",Sr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const u=await mr._fromIdTokenResponse(e,a,l),d=iv(a);return new na({user:u,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=iv(a);return new na({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function iv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends br{constructor(e,i,a,l){var u;super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Kc(e,i,a,l)}}function P0(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(r,u,e,a):u})}async function Vw(r,e,i=!1){const a=await kl(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return na._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uw(r,e,i=!1){const{auth:a}=r;if(Ui(a.app))return Promise.reject(pr(a));const l="reauthenticate";try{const u=await kl(r,P0(a,l,e,r),i);Se(u.idToken,a,"internal-error");const d=vm(u.idToken);Se(d,a,"internal-error");const{sub:m}=d;return Se(r.uid===m,a,"user-mismatch"),na._forOperation(r,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&vi(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j0(r,e,i=!1){if(Ui(r.app))return Promise.reject(pr(r));const a="signIn",l=await P0(r,a,e),u=await na._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(u.user),u}async function kw(r,e){return j0(aa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z0(r){const e=aa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Lw(r,e,i){if(Ui(r.app))return Promise.reject(pr(r));const a=aa(r),d=await Kd(a,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mw).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&z0(r),p}),m=await na._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(m.user),m}function Pw(r,e,i){return Ui(r.app)?Promise.reject(pr(r)):kw($t(r),yo.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&z0(r),a})}async function jw(r,e){const i=$t(r),l={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:u}=await Iw(i.auth,l);u!==r.email&&await r.reload()}function zw(r,e,i,a){return $t(r).onIdTokenChanged(e,i,a)}function Bw(r,e,i){return $t(r).beforeAuthStateChanged(e,i)}function qw(r,e,i,a){return $t(r).onAuthStateChanged(e,i,a)}const Qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Qc,"1"),this.storage.removeItem(Qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=1e3,Fw=10;class q0 extends B0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,m,p)=>{this.notifyListeners(d,p)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);aw()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Fw):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},Hw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}q0.type="LOCAL";const Gw=q0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0 extends B0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}H0.type="SESSION";const F0=H0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new sh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const m=Array.from(d).map(async _=>_(i.origin,u)),p=await Kw(m);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((m,p)=>{const _=Sm("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(M.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function Yw(r){Li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function $w(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Jw(){return G0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="firebaseLocalStorageDb",Zw=1,Yc="firebaseLocalStorage",Q0="fbase_key";class Xl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ah(r,e){return r.transaction([Yc],e?"readwrite":"readonly").objectStore(Yc)}function Ww(){const r=indexedDB.deleteDatabase(K0);return new Xl(r).toPromise()}function Qd(){const r=indexedDB.open(K0,Zw);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Yc,{keyPath:Q0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Yc)?e(a):(a.close(),await Ww(),e(await Qd()))})})}async function rv(r,e,i){const a=ah(r,!0).put({[Q0]:e,value:i});return new Xl(a).toPromise()}async function e1(r,e){const i=ah(r,!1).get(e),a=await new Xl(i).toPromise();return a===void 0?null:a.value}function sv(r,e){const i=ah(r,!0).delete(e);return new Xl(i).toPromise()}const t1=800,n1=3;class Y0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qd(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>n1)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(Jw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await $w(),!this.activeServiceWorker)return;this.sender=new Qw(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qd();return await rv(e,Qc,"1"),await sv(e,Qc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>rv(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>e1(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>sv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=ah(l,!1).getAll();return new Xl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y0.type="LOCAL";const i1=Y0;new Ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(r,e){return e?gr(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am extends Tm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return no(e,this._buildIdpRequest())}_linkToIdToken(e,i){return no(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return no(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function s1(r){return j0(r.auth,new Am(r),r.bypassAuthState)}function a1(r){const{auth:e,user:i}=r;return Se(i,e,"internal-error"),Uw(i,new Am(r),r.bypassAuthState)}async function o1(r){const{auth:e,user:i}=r;return Se(i,e,"internal-error"),Vw(i,new Am(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,i,a,l,u=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:u,error:d,type:m}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return s1;case"linkViaPopup":case"linkViaRedirect":return o1;case"reauthViaPopup":case"reauthViaRedirect":return a1;default:vi(this.auth,"internal-error")}}resolve(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new Ql(2e3,1e4);class Wa extends $0{constructor(e,i,a,l,u){super(e,i,l,u),this.provider=a,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){vr(this.filter.length===1,"Popup operations only handle one event");const e=Sm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,l1.get())};e()}}Wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="pendingRedirect",Uc=new Map;class c1 extends $0{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Uc.get(this.auth._key());if(!e){try{const a=await h1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h1(r,e){const i=m1(e),a=d1(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function f1(r,e){Uc.set(r._key(),e)}function d1(r){return gr(r._redirectPersistence)}function m1(r){return Vc(u1,r.config.apiKey,r.name)}async function g1(r,e,i=!1){if(Ui(r.app))return Promise.reject(pr(r));const a=aa(r),l=r1(a,e),d=await new c1(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=600*1e3;class y1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_1(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var a;if(e.error&&!X0(e)){const l=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(ki(this.auth,l))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=p1&&this.cachedEventUids.clear(),this.cachedEventUids.has(av(e))}saveEventToCache(e){this.cachedEventUids.add(av(e)),this.lastProcessedEventTime=Date.now()}}function av(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function X0({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _1(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(r,e={}){return Ar(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T1=/^https?/;async function b1(r){if(r.config.emulator)return;const{authorizedDomains:e}=await v1(r);for(const i of e)try{if(S1(i))return}catch{}vi(r,"unauthorized-domain")}function S1(r){const e=Fd(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!T1.test(i))return!1;if(E1.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=new Ql(3e4,6e4);function ov(){const r=Li().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function w1(r){return new Promise((e,i)=>{var a,l,u;function d(){ov(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ov(),i(ki(r,"network-request-failed"))},timeout:A1.get()})}if(!((l=(a=Li().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=Li().gapi)===null||u===void 0)&&u.load)d();else{const m=gw("iframefcb");return Li()[m]=()=>{gapi.load?d():i(ki(r,"network-request-failed"))},U0(`${mw()}?onload=${m}`).catch(p=>i(p))}}).catch(e=>{throw kc=null,e})}let kc=null;function R1(r){return kc=kc||w1(r),kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=new Ql(5e3,15e3),C1="__/auth/iframe",N1="emulator/auth/iframe",x1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O1(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?_m(e,N1):`https://${r.config.authDomain}/${C1}`,a={apiKey:e.apiKey,appName:r.name,v:po},l=D1.get(r.config.apiHost);l&&(a.eid=l);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${i}?${Kl(a).slice(1)}`}async function M1(r){const e=await R1(r),i=Li().gapi;return Se(i,r,"internal-error"),e.open({where:document.body,url:O1(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x1,dontclear:!0},a=>new Promise(async(l,u)=>{await a.restyle({setHideOnLeave:!1});const d=ki(r,"network-request-failed"),m=Li().setTimeout(()=>{u(d)},I1.get());function p(){Li().clearTimeout(m),l(a)}a.ping(p).then(p,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U1=500,k1=600,L1="_blank",P1="http://localhost";class lv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j1(r,e,i,a=U1,l=k1){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=Object.assign(Object.assign({},V1),{width:a.toString(),height:l.toString(),top:u,left:d}),_=pn().toLowerCase();i&&(m=C0(_)?L1:i),R0(_)&&(e=e||P1,p.scrollbars="yes");const T=Object.entries(p).reduce((M,[P,Q])=>`${M}${P}=${Q},`,"");if(sw(_)&&m!=="_self")return z1(e||"",m),new lv(null);const A=window.open(e||"",m,T);Se(A,r,"popup-blocked");try{A.focus()}catch{}return new lv(A)}function z1(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="__/auth/handler",q1="emulator/auth/handler",H1=encodeURIComponent("fac");async function uv(r,e,i,a,l,u){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:po,eventId:l};if(e instanceof L0){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",IS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(e instanceof $l){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const m=d;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),_=p?`#${H1}=${encodeURIComponent(p)}`:"";return`${F1(r)}?${Kl(m).slice(1)}${_}`}function F1({config:r}){return r.emulator?_m(r,q1):`https://${r.authDomain}/${B1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="webStorageSupport";class G1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F0,this._completeRedirectFn=g1,this._overrideRedirectResult=f1}async _openPopup(e,i,a,l){var u;vr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await uv(e,i,a,Fd(),l);return j1(e,d,Sm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const u=await uv(e,i,a,Fd(),l);return Yw(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(vr(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await M1(e),a=new y1(e);return i.register("authEvent",l=>(Se(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Vd,{type:Vd},l=>{var u;const d=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[Vd];d!==void 0&&i(!!d),vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=b1(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return M0()||I0()||Em()}}const K1=G1;var cv="@firebase/auth",hv="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $1(r){so(new ea("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=a.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V0(r)},_=new hw(a,l,u,p);return Ew(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),so(new ea("auth-internal",e=>{const i=aa(e.getProvider("auth").getImmediate());return(a=>new Q1(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ps(cv,hv,Y1(r)),ps(cv,hv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=300,J1=c0("authIdTokenMaxAge")||X1;let fv=null;const Z1=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>J1)return;const l=i==null?void 0:i.token;fv!==l&&(fv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function W1(r=m0()){const e=gm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=vw(r,{popupRedirectResolver:K1,persistence:[i1,Gw,F0]}),a=c0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=Z1(u.toString());Bw(i,d,()=>d(i.currentUser)),zw(i,m=>d(m))}}const l=l0("auth");return l&&Tw(i,`http://${l}`),i}function eR(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}fw({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const u=ki("internal-error");u.customData=l,i(u)},a.type="text/javascript",a.charset="UTF-8",eR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$1("Browser");var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zs,J0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,w){function R(){}R.prototype=w.prototype,N.D=w.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(V,U,x){for(var I=Array(arguments.length-2),it=2;it<arguments.length;it++)I[it-2]=arguments[it];return w.prototype[U].apply(V,I)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,R){R||(R=0);var V=Array(16);if(typeof w=="string")for(var U=0;16>U;++U)V[U]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(U=0;16>U;++U)V[U]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=N.g[0],R=N.g[1],U=N.g[2];var x=N.g[3],I=w+(x^R&(U^x))+V[0]+3614090360&4294967295;w=R+(I<<7&4294967295|I>>>25),I=x+(U^w&(R^U))+V[1]+3905402710&4294967295,x=w+(I<<12&4294967295|I>>>20),I=U+(R^x&(w^R))+V[2]+606105819&4294967295,U=x+(I<<17&4294967295|I>>>15),I=R+(w^U&(x^w))+V[3]+3250441966&4294967295,R=U+(I<<22&4294967295|I>>>10),I=w+(x^R&(U^x))+V[4]+4118548399&4294967295,w=R+(I<<7&4294967295|I>>>25),I=x+(U^w&(R^U))+V[5]+1200080426&4294967295,x=w+(I<<12&4294967295|I>>>20),I=U+(R^x&(w^R))+V[6]+2821735955&4294967295,U=x+(I<<17&4294967295|I>>>15),I=R+(w^U&(x^w))+V[7]+4249261313&4294967295,R=U+(I<<22&4294967295|I>>>10),I=w+(x^R&(U^x))+V[8]+1770035416&4294967295,w=R+(I<<7&4294967295|I>>>25),I=x+(U^w&(R^U))+V[9]+2336552879&4294967295,x=w+(I<<12&4294967295|I>>>20),I=U+(R^x&(w^R))+V[10]+4294925233&4294967295,U=x+(I<<17&4294967295|I>>>15),I=R+(w^U&(x^w))+V[11]+2304563134&4294967295,R=U+(I<<22&4294967295|I>>>10),I=w+(x^R&(U^x))+V[12]+1804603682&4294967295,w=R+(I<<7&4294967295|I>>>25),I=x+(U^w&(R^U))+V[13]+4254626195&4294967295,x=w+(I<<12&4294967295|I>>>20),I=U+(R^x&(w^R))+V[14]+2792965006&4294967295,U=x+(I<<17&4294967295|I>>>15),I=R+(w^U&(x^w))+V[15]+1236535329&4294967295,R=U+(I<<22&4294967295|I>>>10),I=w+(U^x&(R^U))+V[1]+4129170786&4294967295,w=R+(I<<5&4294967295|I>>>27),I=x+(R^U&(w^R))+V[6]+3225465664&4294967295,x=w+(I<<9&4294967295|I>>>23),I=U+(w^R&(x^w))+V[11]+643717713&4294967295,U=x+(I<<14&4294967295|I>>>18),I=R+(x^w&(U^x))+V[0]+3921069994&4294967295,R=U+(I<<20&4294967295|I>>>12),I=w+(U^x&(R^U))+V[5]+3593408605&4294967295,w=R+(I<<5&4294967295|I>>>27),I=x+(R^U&(w^R))+V[10]+38016083&4294967295,x=w+(I<<9&4294967295|I>>>23),I=U+(w^R&(x^w))+V[15]+3634488961&4294967295,U=x+(I<<14&4294967295|I>>>18),I=R+(x^w&(U^x))+V[4]+3889429448&4294967295,R=U+(I<<20&4294967295|I>>>12),I=w+(U^x&(R^U))+V[9]+568446438&4294967295,w=R+(I<<5&4294967295|I>>>27),I=x+(R^U&(w^R))+V[14]+3275163606&4294967295,x=w+(I<<9&4294967295|I>>>23),I=U+(w^R&(x^w))+V[3]+4107603335&4294967295,U=x+(I<<14&4294967295|I>>>18),I=R+(x^w&(U^x))+V[8]+1163531501&4294967295,R=U+(I<<20&4294967295|I>>>12),I=w+(U^x&(R^U))+V[13]+2850285829&4294967295,w=R+(I<<5&4294967295|I>>>27),I=x+(R^U&(w^R))+V[2]+4243563512&4294967295,x=w+(I<<9&4294967295|I>>>23),I=U+(w^R&(x^w))+V[7]+1735328473&4294967295,U=x+(I<<14&4294967295|I>>>18),I=R+(x^w&(U^x))+V[12]+2368359562&4294967295,R=U+(I<<20&4294967295|I>>>12),I=w+(R^U^x)+V[5]+4294588738&4294967295,w=R+(I<<4&4294967295|I>>>28),I=x+(w^R^U)+V[8]+2272392833&4294967295,x=w+(I<<11&4294967295|I>>>21),I=U+(x^w^R)+V[11]+1839030562&4294967295,U=x+(I<<16&4294967295|I>>>16),I=R+(U^x^w)+V[14]+4259657740&4294967295,R=U+(I<<23&4294967295|I>>>9),I=w+(R^U^x)+V[1]+2763975236&4294967295,w=R+(I<<4&4294967295|I>>>28),I=x+(w^R^U)+V[4]+1272893353&4294967295,x=w+(I<<11&4294967295|I>>>21),I=U+(x^w^R)+V[7]+4139469664&4294967295,U=x+(I<<16&4294967295|I>>>16),I=R+(U^x^w)+V[10]+3200236656&4294967295,R=U+(I<<23&4294967295|I>>>9),I=w+(R^U^x)+V[13]+681279174&4294967295,w=R+(I<<4&4294967295|I>>>28),I=x+(w^R^U)+V[0]+3936430074&4294967295,x=w+(I<<11&4294967295|I>>>21),I=U+(x^w^R)+V[3]+3572445317&4294967295,U=x+(I<<16&4294967295|I>>>16),I=R+(U^x^w)+V[6]+76029189&4294967295,R=U+(I<<23&4294967295|I>>>9),I=w+(R^U^x)+V[9]+3654602809&4294967295,w=R+(I<<4&4294967295|I>>>28),I=x+(w^R^U)+V[12]+3873151461&4294967295,x=w+(I<<11&4294967295|I>>>21),I=U+(x^w^R)+V[15]+530742520&4294967295,U=x+(I<<16&4294967295|I>>>16),I=R+(U^x^w)+V[2]+3299628645&4294967295,R=U+(I<<23&4294967295|I>>>9),I=w+(U^(R|~x))+V[0]+4096336452&4294967295,w=R+(I<<6&4294967295|I>>>26),I=x+(R^(w|~U))+V[7]+1126891415&4294967295,x=w+(I<<10&4294967295|I>>>22),I=U+(w^(x|~R))+V[14]+2878612391&4294967295,U=x+(I<<15&4294967295|I>>>17),I=R+(x^(U|~w))+V[5]+4237533241&4294967295,R=U+(I<<21&4294967295|I>>>11),I=w+(U^(R|~x))+V[12]+1700485571&4294967295,w=R+(I<<6&4294967295|I>>>26),I=x+(R^(w|~U))+V[3]+2399980690&4294967295,x=w+(I<<10&4294967295|I>>>22),I=U+(w^(x|~R))+V[10]+4293915773&4294967295,U=x+(I<<15&4294967295|I>>>17),I=R+(x^(U|~w))+V[1]+2240044497&4294967295,R=U+(I<<21&4294967295|I>>>11),I=w+(U^(R|~x))+V[8]+1873313359&4294967295,w=R+(I<<6&4294967295|I>>>26),I=x+(R^(w|~U))+V[15]+4264355552&4294967295,x=w+(I<<10&4294967295|I>>>22),I=U+(w^(x|~R))+V[6]+2734768916&4294967295,U=x+(I<<15&4294967295|I>>>17),I=R+(x^(U|~w))+V[13]+1309151649&4294967295,R=U+(I<<21&4294967295|I>>>11),I=w+(U^(R|~x))+V[4]+4149444226&4294967295,w=R+(I<<6&4294967295|I>>>26),I=x+(R^(w|~U))+V[11]+3174756917&4294967295,x=w+(I<<10&4294967295|I>>>22),I=U+(w^(x|~R))+V[2]+718787259&4294967295,U=x+(I<<15&4294967295|I>>>17),I=R+(x^(U|~w))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(U+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+U&4294967295,N.g[3]=N.g[3]+x&4294967295}a.prototype.u=function(N,w){w===void 0&&(w=N.length);for(var R=w-this.blockSize,V=this.B,U=this.h,x=0;x<w;){if(U==0)for(;x<=R;)l(this,N,x),x+=this.blockSize;if(typeof N=="string"){for(;x<w;)if(V[U++]=N.charCodeAt(x++),U==this.blockSize){l(this,V),U=0;break}}else for(;x<w;)if(V[U++]=N[x++],U==this.blockSize){l(this,V),U=0;break}}this.h=U,this.o+=w},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;var R=8*this.o;for(w=N.length-8;w<N.length;++w)N[w]=R&255,R/=256;for(this.u(N),N=Array(16),w=R=0;4>w;++w)for(var V=0;32>V;V+=8)N[R++]=this.g[w]>>>V&255;return N};function u(N,w){var R=m;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=w(N)}function d(N,w){this.h=w;for(var R=[],V=!0,U=N.length-1;0<=U;U--){var x=N[U]|0;V&&x==w||(R[U]=x,V=!1)}this.g=R}var m={};function p(N){return-128<=N&&128>N?u(N,function(w){return new d([w|0],0>w?-1:0)}):new d([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return A;if(0>N)return J(_(-N));for(var w=[],R=1,V=0;N>=R;V++)w[V]=N/R|0,R*=4294967296;return new d(w,0)}function T(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return J(T(N.substring(1),w));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(w,8)),V=A,U=0;U<N.length;U+=8){var x=Math.min(8,N.length-U),I=parseInt(N.substring(U,U+x),w);8>x?(x=_(Math.pow(w,x)),V=V.j(x).add(_(I))):(V=V.j(R),V=V.add(_(I)))}return V}var A=p(0),M=p(1),P=p(16777216);r=d.prototype,r.m=function(){if(W(this))return-J(this).m();for(var N=0,w=1,R=0;R<this.g.length;R++){var V=this.i(R);N+=(0<=V?V:4294967296+V)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Q(this))return"0";if(W(this))return"-"+J(this).toString(N);for(var w=_(Math.pow(N,6)),R=this,V="";;){var U=ye(R,w).g;R=le(R,U.j(w));var x=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=U,Q(R))return x+V;for(;6>x.length;)x="0"+x;V=x+V}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Q(N){if(N.h!=0)return!1;for(var w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function W(N){return N.h==-1}r.l=function(N){return N=le(this,N),W(N)?-1:Q(N)?0:1};function J(N){for(var w=N.g.length,R=[],V=0;V<w;V++)R[V]=~N.g[V];return new d(R,~N.h).add(M)}r.abs=function(){return W(this)?J(this):this},r.add=function(N){for(var w=Math.max(this.g.length,N.g.length),R=[],V=0,U=0;U<=w;U++){var x=V+(this.i(U)&65535)+(N.i(U)&65535),I=(x>>>16)+(this.i(U)>>>16)+(N.i(U)>>>16);V=I>>>16,x&=65535,I&=65535,R[U]=I<<16|x}return new d(R,R[R.length-1]&-2147483648?-1:0)};function le(N,w){return N.add(J(w))}r.j=function(N){if(Q(this)||Q(N))return A;if(W(this))return W(N)?J(this).j(J(N)):J(J(this).j(N));if(W(N))return J(this.j(J(N)));if(0>this.l(P)&&0>N.l(P))return _(this.m()*N.m());for(var w=this.g.length+N.g.length,R=[],V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var U=0;U<N.g.length;U++){var x=this.i(V)>>>16,I=this.i(V)&65535,it=N.i(U)>>>16,ht=N.i(U)&65535;R[2*V+2*U]+=I*ht,Ee(R,2*V+2*U),R[2*V+2*U+1]+=x*ht,Ee(R,2*V+2*U+1),R[2*V+2*U+1]+=I*it,Ee(R,2*V+2*U+1),R[2*V+2*U+2]+=x*it,Ee(R,2*V+2*U+2)}for(V=0;V<w;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=w;V<2*w;V++)R[V]=0;return new d(R,0)};function Ee(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function ge(N,w){this.g=N,this.h=w}function ye(N,w){if(Q(w))throw Error("division by zero");if(Q(N))return new ge(A,A);if(W(N))return w=ye(J(N),w),new ge(J(w.g),J(w.h));if(W(w))return w=ye(N,J(w)),new ge(J(w.g),w.h);if(30<N.g.length){if(W(N)||W(w))throw Error("slowDivide_ only works with positive integers.");for(var R=M,V=w;0>=V.l(N);)R=st(R),V=st(V);var U=Ie(R,1),x=Ie(V,1);for(V=Ie(V,2),R=Ie(R,2);!Q(V);){var I=x.add(V);0>=I.l(N)&&(U=U.add(R),x=I),V=Ie(V,1),R=Ie(R,1)}return w=le(N,U.j(w)),new ge(U,w)}for(U=A;0<=N.l(w);){for(R=Math.max(1,Math.floor(N.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),x=_(R),I=x.j(w);W(I)||0<I.l(N);)R-=V,x=_(R),I=x.j(w);Q(x)&&(x=M),U=U.add(x),N=le(N,I)}return new ge(U,N)}r.A=function(N){return ye(this,N).h},r.and=function(N){for(var w=Math.max(this.g.length,N.g.length),R=[],V=0;V<w;V++)R[V]=this.i(V)&N.i(V);return new d(R,this.h&N.h)},r.or=function(N){for(var w=Math.max(this.g.length,N.g.length),R=[],V=0;V<w;V++)R[V]=this.i(V)|N.i(V);return new d(R,this.h|N.h)},r.xor=function(N){for(var w=Math.max(this.g.length,N.g.length),R=[],V=0;V<w;V++)R[V]=this.i(V)^N.i(V);return new d(R,this.h^N.h)};function st(N){for(var w=N.g.length+1,R=[],V=0;V<w;V++)R[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(R,N.h)}function Ie(N,w){var R=w>>5;w%=32;for(var V=N.g.length-R,U=[],x=0;x<V;x++)U[x]=0<w?N.i(x+R)>>>w|N.i(x+R+1)<<32-w:N.i(x+R);return new d(U,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,J0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,Zs=d}).apply(typeof dv<"u"?dv:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z0,Sl,W0,Lc,Yd,eE,tE,nE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(c,g){if(g)e:{var v=a;c=c.split(".");for(var b=0;b<c.length-1;b++){var L=c[b];if(!(L in v))break e;v=v[L]}c=c[c.length-1],b=v[c],g=g(b),g!=b&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,b=!1,L={next:function(){if(!b&&v<c.length){var F=v++;return{value:g(F,c[F]),done:!1}}return b=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}l("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function _(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function T(c,g,v){return c.call.apply(c.bind,arguments)}function A(c,g,v){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,b),c.apply(g,L)}}return function(){return c.apply(g,arguments)}}function M(c,g,v){return M=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:A,M.apply(null,arguments)}function P(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function Q(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(b,L,F){for(var re=Array(arguments.length-2),at=2;at<arguments.length;at++)re[at-2]=arguments[at];return g.prototype[L].apply(b,re)}}function W(c){const g=c.length;if(0<g){const v=Array(g);for(let b=0;b<g;b++)v[b]=c[b];return v}return[]}function J(c,g){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(p(b)){const L=c.length||0,F=b.length||0;c.length=L+F;for(let re=0;re<F;re++)c[L+re]=b[re]}else c.push(b)}}class le{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Ee(c){return/^[\s\xa0]*$/.test(c)}function ge(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ye(c){return ye[" "](c),c}ye[" "]=function(){};var st=ge().indexOf("Gecko")!=-1&&!(ge().toLowerCase().indexOf("webkit")!=-1&&ge().indexOf("Edge")==-1)&&!(ge().indexOf("Trident")!=-1||ge().indexOf("MSIE")!=-1)&&ge().indexOf("Edge")==-1;function Ie(c,g,v){for(const b in c)g.call(v,c[b],b,c)}function N(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function w(c){const g={};for(const v in c)g[v]=c[v];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,g){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)c[v]=b[v];for(let F=0;F<R.length;F++)v=R[F],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function U(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function x(c){m.setTimeout(()=>{throw c},0)}function I(){var c=Ke;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class it{constructor(){this.h=this.g=null}add(g,v){const b=ht.get();b.set(g,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ht=new le(()=>new q,c=>c.reset());class q{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ae=!1,Ke=new it,qe=()=>{const c=m.Promise.resolve(void 0);ie=()=>{c.then(D)}};var D=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){x(v)}var g=ht;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ae=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var oe=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c})();function me(c,g){if(X.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(st){e:{try{ye(g.nodeName);var L=!0;break e}catch{}L=!1}L||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:De[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&me.aa.h.call(this)}}Q(me,X);var De={2:"touch",3:"pen",4:"mouse"};me.prototype.h=function(){me.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),jt=0;function Qe(c,g,v,b,L){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!b,this.ha=L,this.key=++jt,this.da=this.fa=!1}function In(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function yn(c){this.src=c,this.g={},this.h=0}yn.prototype.add=function(c,g,v,b,L){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var re=Pn(c,g,b,L);return-1<re?(g=c[re],v||(g.fa=!1)):(g=new Qe(g,this.src,F,!!b,L),g.fa=v,c.push(g)),g};function bi(c,g){var v=g.type;if(v in c.g){var b=c.g[v],L=Array.prototype.indexOf.call(b,g,void 0),F;(F=0<=L)&&Array.prototype.splice.call(b,L,1),F&&(In(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Pn(c,g,v,b){for(var L=0;L<c.length;++L){var F=c[L];if(!F.da&&F.listener==g&&F.capture==!!v&&F.ha==b)return L}return-1}var Cn="closure_lm_"+(1e6*Math.random()|0),At={};function hi(c,g,v,b,L){if(Array.isArray(g)){for(var F=0;F<g.length;F++)hi(c,g[F],v,b,L);return null}return v=ca(v),c&&c[Ve]?c.K(g,v,_(b)?!!b.capture:!1,L):Bi(c,g,v,!1,b,L)}function Bi(c,g,v,b,L,F){if(!g)throw Error("Invalid event type");var re=_(L)?!!L.capture:!!L,at=fi(c);if(at||(c[Cn]=at=new yn(c)),v=at.add(g,v,b,re,F),v.proxy)return v;if(b=ua(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)oe||(L=re),L===void 0&&(L=!1),c.addEventListener(g.toString(),b,L);else if(c.attachEvent)c.attachEvent(Zn(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ua(){function c(v){return g.call(c.src,c.listener,v)}const g=wr;return c}function Jn(c,g,v,b,L){if(Array.isArray(g))for(var F=0;F<g.length;F++)Jn(c,g[F],v,b,L);else b=_(b)?!!b.capture:!!b,v=ca(v),c&&c[Ve]?(c=c.i,g=String(g).toString(),g in c.g&&(F=c.g[g],v=Pn(F,v,b,L),-1<v&&(In(F[v]),Array.prototype.splice.call(F,v,1),F.length==0&&(delete c.g[g],c.h--)))):c&&(c=fi(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Pn(g,v,b,L)),(v=-1<c?g[c]:null)&&jn(v))}function jn(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ve])bi(g.i,c);else{var v=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(v,b,c.capture):g.detachEvent?g.detachEvent(Zn(v),b):g.addListener&&g.removeListener&&g.removeListener(b),(v=fi(g))?(bi(v,c),v.h==0&&(v.src=null,g[Cn]=null)):In(c)}}}function Zn(c){return c in At?At[c]:At[c]="on"+c}function wr(c,g){if(c.da)c=!0;else{g=new me(g,this);var v=c.listener,b=c.ha||c.src;c.fa&&jn(c),c=v.call(b,g)}return c}function fi(c){return c=c[Cn],c instanceof yn?c:null}var It="__closure_events_fn_"+(1e9*Math.random()>>>0);function ca(c){return typeof c=="function"?c:(c[It]||(c[It]=function(g){return c.handleEvent(g)}),c[It])}function bt(){G.call(this),this.i=new yn(this),this.M=this,this.F=null}Q(bt,G),bt.prototype[Ve]=!0,bt.prototype.removeEventListener=function(c,g,v,b){Jn(this,c,g,v,b)};function wt(c,g){var v,b=c.F;if(b)for(v=[];b;b=b.F)v.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new X(g,c);else if(g instanceof X)g.target=g.target||c;else{var L=g;g=new X(b,c),V(g,L)}if(L=!0,v)for(var F=v.length-1;0<=F;F--){var re=g.g=v[F];L=Nn(re,b,!0,g)&&L}if(re=g.g=c,L=Nn(re,b,!0,g)&&L,L=Nn(re,b,!1,g)&&L,v)for(F=0;F<v.length;F++)re=g.g=v[F],L=Nn(re,b,!1,g)&&L}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],b=0;b<v.length;b++)In(v[b]);delete c.g[g],c.h--}}this.F=null},bt.prototype.K=function(c,g,v,b){return this.i.add(String(c),g,!1,v,b)},bt.prototype.L=function(c,g,v,b){return this.i.add(String(c),g,!0,v,b)};function Nn(c,g,v,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,F=0;F<g.length;++F){var re=g[F];if(re&&!re.da&&re.capture==v){var at=re.listener,zt=re.ha||re.src;re.fa&&bi(c.i,re),L=at.call(zt,b)!==!1&&L}}return L&&!b.defaultPrevented}function qi(c,g,v){if(typeof c=="function")v&&(c=M(c,v));else if(c&&typeof c.handleEvent=="function")c=M(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function Si(c){c.g=qi(()=>{c.g=null,c.i&&(c.i=!1,Si(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Ss extends G{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Si(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ai(c){G.call(this),this.h=c,this.g={}}Q(Ai,G);var zn=[];function Mt(c){Ie(c.g,function(g,v){this.g.hasOwnProperty(v)&&jn(g)},c),c.g={}}Ai.prototype.N=function(){Ai.aa.N.call(this),Mt(this)},Ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=m.JSON.stringify,tn=m.JSON.parse,So=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function As(){}As.prototype.h=null;function ha(c){return c.h||(c.h=c.i())}function Z(){}var te={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function se(){X.call(this,"d")}Q(se,X);function fe(){X.call(this,"c")}Q(fe,X);var we={},Ct=null;function Oe(){return Ct=Ct||new bt}we.La="serverreachability";function Hi(c){X.call(this,we.La,c)}Q(Hi,X);function vn(c){const g=Oe();wt(g,new Hi(g))}we.STAT_EVENT="statevent";function Wn(c,g){X.call(this,we.STAT_EVENT,c),this.stat=g}Q(Wn,X);function Vt(c){const g=Oe();wt(g,new Wn(g,c))}we.Ma="timingevent";function yt(c,g){X.call(this,we.Ma,c),this.size=g}Q(yt,X);function He(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function be(){this.g=!0}be.prototype.xa=function(){this.g=!1};function Re(c,g,v,b,L,F){c.info(function(){if(c.g)if(F)for(var re="",at=F.split("&"),zt=0;zt<at.length;zt++){var ke=at[zt].split("=");if(1<ke.length){var Jt=ke[0];ke=ke[1];var Zt=Jt.split("_");re=2<=Zt.length&&Zt[1]=="type"?re+(Jt+"="+ke+"&"):re+(Jt+"=redacted&")}}else re=null;else re=F;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+g+`
`+v+`
`+re})}function Xe(c,g,v,b,L,F,re){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+g+`
`+v+`
`+F+" "+re})}function Nt(c,g,v,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ye(c,v)+(b?" "+b:"")})}function gt(c,g){c.info(function(){return"TIMEOUT: "+g})}be.prototype.info=function(){};function Ye(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var b=v[c];if(!(2>b.length)){var L=b[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var re=1;re<L.length;re++)L[re]=""}}}}return _n(v)}catch{return g}}var Ze={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Je={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ei;function Rr(){}Q(Rr,As),Rr.prototype.g=function(){return new XMLHttpRequest},Rr.prototype.i=function(){return{}},ei=new Rr;function wi(c,g,v,b){this.j=c,this.i=g,this.l=v,this.R=b||1,this.U=new Ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ru}function ru(){this.i=null,this.g="",this.h=!1}var Ao={},Fi={};function ws(c,g,v){c.L=1,c.v=Cs(xt(g)),c.m=v,c.P=!0,Gi(c,null)}function Gi(c,g){c.F=Date.now(),di(c),c.A=xt(c.v);var v=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Yi(v.i,"t",b),c.C=0,v=c.j.J,c.h=new ru,c.g=Eu(c.j,v?g:null,!c.m),0<c.O&&(c.M=new Ss(M(c.Y,c,c.g),c.O)),g=c.U,v=c.g,b=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(zn[0]=L.toString()),L=zn);for(var F=0;F<L.length;F++){var re=hi(v,L[F],b||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),vn(),Re(c.i,c.u,c.A,c.l,c.R,c.m)}wi.prototype.ca=function(c){c=c.target;const g=this.M;g&&bn(c)==3?g.j():this.Y(c)},wi.prototype.Y=function(c){try{if(c==this.g)e:{const Zt=bn(this.g);var g=this.g.Ba();const jr=this.g.Z();if(!(3>Zt)&&(Zt!=3||this.g&&(this.h.h||this.g.oa()||Ds(this.g)))){this.J||Zt!=4||g==7||(g==8||0>=jr?vn(3):vn(2)),fa(this);var v=this.g.Z();this.X=v;t:if(Ki(this)){var b=Ds(this.g);c="";var L=b.length,F=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){En(this),Ir(this);var re="";break t}this.h.i=new m.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,c+=this.h.i.decode(b[g],{stream:!(F&&g==L-1)});b.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=v==200,Xe(this.i,this.u,this.A,this.l,this.R,Zt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var at,zt=this.g;if((at=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ee(at)){var ke=at;break t}}ke=null}if(v=ke)Nt(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ri(this,v);else{this.o=!1,this.s=3,Vt(12),En(this),Ir(this);break e}}if(this.P){v=!0;let Dn;for(;!this.J&&this.C<re.length;)if(Dn=Rs(this,re),Dn==Fi){Zt==4&&(this.s=4,Vt(14),v=!1),Nt(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==Ao){this.s=4,Vt(15),Nt(this.i,this.l,re,"[Invalid Chunk]"),v=!1;break}else Nt(this.i,this.l,Dn,null),Ri(this,Dn);if(Ki(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||re.length!=0||this.h.h||(this.s=1,Vt(16),v=!1),this.o=this.o&&v,!v)Nt(this.i,this.l,re,"[Invalid Chunked Response]"),En(this),Ir(this);else if(0<re.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Uo(Jt),Jt.M=!0,Vt(11))}}else Nt(this.i,this.l,re,null),Ri(this,re);Zt==4&&En(this),this.o&&!this.J&&(Zt==4?yu(this.j,this):(this.o=!1,di(this)))}else hu(this.g),v==400&&0<re.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),En(this),Ir(this)}}}catch{}finally{}};function Ki(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Rs(c,g){var v=c.C,b=g.indexOf(`
`,v);return b==-1?Fi:(v=Number(g.substring(v,b)),isNaN(v)?Ao:(b+=1,b+v>g.length?Fi:(g=g.slice(b,b+v),c.C=b+v,g)))}wi.prototype.cancel=function(){this.J=!0,En(this)};function di(c){c.S=Date.now()+c.I,Ut(c,c.I)}function Ut(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=He(M(c.ba,c),g)}function fa(c){c.B&&(m.clearTimeout(c.B),c.B=null)}wi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(gt(this.i,this.A),this.L!=2&&(vn(),Vt(17)),En(this),this.s=2,Ir(this)):Ut(this,this.S-c)};function Ir(c){c.j.G==0||c.J||yu(c.j,c)}function En(c){fa(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Mt(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Ri(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||Cr(v.h,c))){if(!c.K&&Cr(v.h,c)&&v.G==3){try{var b=v.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Lr(v),kr(v);else break e;Vo(v),Vt(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=He(M(v.Za,v),6e3));if(1>=su(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Xi(v,11)}else if((c.K||v.g==c)&&Lr(v),!Ee(g))for(L=v.Da.g.parse(g),g=0;g<L.length;g++){let ke=L[g];if(v.T=ke[0],ke=ke[1],v.G==2)if(ke[0]=="c"){v.K=ke[1],v.ia=ke[2];const Jt=ke[3];Jt!=null&&(v.la=Jt,v.j.info("VER="+v.la));const Zt=ke[4];Zt!=null&&(v.Aa=Zt,v.j.info("SVER="+v.Aa));const jr=ke[5];jr!=null&&typeof jr=="number"&&0<jr&&(b=1.5*jr,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Dn=c.g;if(Dn){const Vs=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var F=b.h;F.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Nr(F,F.h),F.h=null))}if(b.D){const Ji=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ji&&(b.ya=Ji,We(b.I,b.D,Ji))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var re=c;if(b.qa=vu(b,b.J?b.ia:null,b.W),re.K){ti(b.h,re);var at=re,zt=b.L;zt&&(at.I=zt),at.B&&(fa(at),di(at)),b.g=re}else gu(b);0<v.i.length&&Ea(v)}else ke[0]!="stop"&&ke[0]!="close"||Xi(v,7);else v.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Xi(v,7):Oo(v):ke[0]!="noop"&&v.l&&v.l.ta(ke),v.v=0)}}vn(4)}catch{}}var bh=class{constructor(c,g){this.g=c,this.map=g}};function wo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ro(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function su(c){return c.h?1:c.g?c.g.size:0}function Cr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Nr(c,g){c.g?c.g.add(g):c.h=g}function ti(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}wo.prototype.cancel=function(){if(this.i=Tn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Tn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return W(c.i)}function au(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,b=0;b<v;b++)g.push(c[b]);return g}g=[],v=0;for(b in c)g[v++]=c[b];return g}function Sh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const b in c)g[v++]=b;return g}}}function da(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=Sh(c),b=au(c),L=b.length,F=0;F<L;F++)g.call(void 0,b[F],v&&v[F],c)}var Io=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var b=c[v].indexOf("="),L=null;if(0<=b){var F=c[v].substring(0,b);L=c[v].substring(b+1)}else F=c[v];g(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Qi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Qi){this.h=c.h,xr(this,c.j),this.o=c.o,this.g=c.g,Is(this,c.s),this.l=c.l;var g=c.i,v=new Ii;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),ga(this,v),this.m=c.m}else c&&(g=String(c).match(Io))?(this.h=!1,xr(this,g[1]||"",!0),this.o=Dr(g[2]||""),this.g=Dr(g[3]||"",!0),Is(this,g[4]),this.l=Dr(g[5]||"",!0),ga(this,g[6]||"",!0),this.m=Dr(g[7]||"")):(this.h=!1,this.i=new Ii(null,this.h))}Qi.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ni(g,Co,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ni(g,Co,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ni(v,v.charAt(0)=="/"?No:ou,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ni(v,Rh)),c.join("")};function xt(c){return new Qi(c)}function xr(c,g,v){c.j=v?Dr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Is(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ga(c,g,v){g instanceof Ii?(c.i=g,lu(c.i,c.h)):(v||(g=ni(g,wh)),c.i=new Ii(g,c.h))}function We(c,g,v){c.i.set(g,v)}function Cs(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Dr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ni(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,Ah),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ah(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Co=/[#\/\?@]/g,ou=/[#\?:]/g,No=/[#\?]/g,wh=/[#\?@]/g,Rh=/#/g;function Ii(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Xt(c){c.g||(c.g=new Map,c.h=0,c.i&&ma(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Ii.prototype,r.add=function(c,g){Xt(this),this.i=null,c=Bn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function pa(c,g){Xt(c),g=Bn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function ya(c,g){return Xt(c),g=Bn(c,g),c.g.has(g)}r.forEach=function(c,g){Xt(this),this.g.forEach(function(v,b){v.forEach(function(L){c.call(g,L,b,this)},this)},this)},r.na=function(){Xt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let b=0;b<g.length;b++){const L=c[b];for(let F=0;F<L.length;F++)v.push(g[b])}return v},r.V=function(c){Xt(this);let g=[];if(typeof c=="string")ya(this,c)&&(g=g.concat(this.g.get(Bn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},r.set=function(c,g){return Xt(this),this.i=null,c=Bn(this,c),ya(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Yi(c,g,v){pa(c,g),0<v.length&&(c.i=null,c.g.set(Bn(c,g),W(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var b=g[v];const F=encodeURIComponent(String(b)),re=this.V(b);for(b=0;b<re.length;b++){var L=F;re[b]!==""&&(L+="="+encodeURIComponent(String(re[b]))),c.push(L)}}return this.i=c.join("&")};function Bn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function lu(c,g){g&&!c.j&&(Xt(c),c.i=null,c.g.forEach(function(v,b){var L=b.toLowerCase();b!=L&&(pa(this,b),Yi(this,L,v))},c)),c.j=g}function xo(c,g){const v=new be;if(m.Image){const b=new Image;b.onload=P(xn,v,"TestLoadImage: loaded",!0,g,b),b.onerror=P(xn,v,"TestLoadImage: error",!1,g,b),b.onabort=P(xn,v,"TestLoadImage: abort",!1,g,b),b.ontimeout=P(xn,v,"TestLoadImage: timeout",!1,g,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function uu(c,g){const v=new be,b=new AbortController,L=setTimeout(()=>{b.abort(),xn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(F=>{clearTimeout(L),F.ok?xn(v,"TestPingServer: ok",!0,g):xn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),xn(v,"TestPingServer: error",!1,g)})}function xn(c,g,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function mi(){this.g=new So}function Do(c,g,v){const b=v||"";try{da(c,function(L,F){let re=L;_(L)&&(re=_n(L)),g.push(b+F+"="+encodeURIComponent(re))})}catch(L){throw g.push(b+"type="+encodeURIComponent("_badmap")),L}}function Ci(c){this.l=c.Ub||null,this.j=c.eb||!1}Q(Ci,As),Ci.prototype.g=function(){return new qn(this.l,this.j)},Ci.prototype.i=(function(c){return function(){return c}})({});function qn(c,g){bt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Q(qn,bt),r=qn.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Or(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Or(this)),this.g&&(this.readyState=3,Or(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_a(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function _a(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Ni(this):Or(this),this.readyState==3&&_a(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Ni(this))},r.Qa=function(c){this.g&&(this.response=c,Ni(this))},r.ga=function(){this.g&&Ni(this)};function Ni(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Or(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Or(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(qn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ns(c){let g="";return Ie(c,function(v,b){g+=b,g+=":",g+=v,g+=`\r
`}),g}function Mr(c,g,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Ns(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):We(c,g,v))}function _t(c){bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Q(_t,bt);var hn=/^https?$/i,$i=["POST","PUT"];r=_t.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ei.g(),this.v=this.o?ha(this.o):ha(ei),this.g.onreadystatechange=M(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(F){xs(this,F);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const F of b.keys())v.set(F,b.get(F));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),L=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call($i,g,void 0))||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,re]of v)this.g.setRequestHeader(F,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{va(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){xs(this,F)}};function xs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Vr(c),Ur(c)}function Vr(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),Ur(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ur(this,!0)),_t.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?cu(this):this.bb())},r.bb=function(){cu(this)};function cu(c){if(c.h&&typeof d<"u"&&(!c.v[1]||bn(c)!=4||c.Z()!=2)){if(c.u&&bn(c)==4)qi(c.Ea,0,c);else if(wt(c,"readystatechange"),bn(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var b;if(b=re===0){var L=String(c.D).match(Io)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),b=!hn.test(L?L.toLowerCase():"")}v=b}if(v)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var F=2<bn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",Vr(c)}}finally{Ur(c)}}}}function Ur(c,g){if(c.g){va(c);const v=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||wt(c,"ready");try{v.onreadystatechange=b}catch{}}}function va(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function bn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),tn(g)}};function Ds(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function hu(c){const g={};c=(c.g&&2<=bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(Ee(c[b]))continue;var v=U(c[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=g[L]||[];g[L]=F,F.push(v)}N(g,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Os(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function fu(c){this.Aa=0,this.i=[],this.j=new be,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Os("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Os("baseRetryDelayMs",5e3,c),this.cb=Os("retryDelaySeedMs",1e4,c),this.Wa=Os("forwardChannelMaxRetries",2,c),this.wa=Os("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wo(c&&c.concurrentRequestLimit),this.Da=new mi,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=fu.prototype,r.la=8,r.G=1,r.connect=function(c,g,v,b){Vt(0),this.W=c,this.H=g||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=vu(this,null,this.W),Ea(this)};function Oo(c){if(du(c),c.G==3){var g=c.U++,v=xt(c.I);if(We(v,"SID",c.K),We(v,"RID",g),We(v,"TYPE","terminate"),Ms(c,v),g=new wi(c,c.j,g),g.L=2,g.v=Cs(xt(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=Eu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),di(g)}ko(c)}function kr(c){c.g&&(Uo(c),c.g.cancel(),c.g=null)}function du(c){kr(c),c.u&&(m.clearTimeout(c.u),c.u=null),Lr(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ea(c){if(!Ro(c.h)&&!c.s){c.s=!0;var g=c.Ga;ie||qe(),ae||(ie(),ae=!0),Ke.add(g,c),c.B=0}}function Ih(c,g){return su(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=He(M(c.Ga,c,g),_u(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new wi(this,this.j,c);let F=this.o;if(this.S&&(F?(F=w(F),V(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Mo(this,L,g),v=xt(this.I),We(v,"RID",c),We(v,"CVER",22),this.D&&We(v,"X-HTTP-Session-Id",this.D),Ms(this,v),F&&(this.O?g="headers="+encodeURIComponent(String(Ns(F)))+"&"+g:this.m&&Mr(v,this.m,F)),Nr(this.h,L),this.Ua&&We(v,"TYPE","init"),this.P?(We(v,"$req",g),We(v,"SID","null"),L.T=!0,ws(L,v,null)):ws(L,v,g),this.G=2}}else this.G==3&&(c?mu(this,c):this.i.length==0||Ro(this.h)||mu(this))};function mu(c,g){var v;g?v=g.l:v=c.U++;const b=xt(c.I);We(b,"SID",c.K),We(b,"RID",v),We(b,"AID",c.T),Ms(c,b),c.m&&c.o&&Mr(b,c.m,c.o),v=new wi(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Mo(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Nr(c.h,v),ws(v,b,g)}function Ms(c,g){c.H&&Ie(c.H,function(v,b){We(g,b,v)}),c.l&&da({},function(v,b){We(g,b,v)})}function Mo(c,g,v){v=Math.min(c.i.length,v);var b=c.l?M(c.l.Na,c.l,c):null;e:{var L=c.i;let F=-1;for(;;){const re=["count="+v];F==-1?0<v?(F=L[0].g,re.push("ofs="+F)):F=0:re.push("ofs="+F);let at=!0;for(let zt=0;zt<v;zt++){let ke=L[zt].g;const Jt=L[zt].map;if(ke-=F,0>ke)F=Math.max(0,L[zt].g-100),at=!1;else try{Do(Jt,re,"req"+ke+"_")}catch{b&&b(Jt)}}if(at){b=re.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,b}function gu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ie||qe(),ae||(ie(),ae=!0),Ke.add(g,c),c.v=0}}function Vo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=He(M(c.Fa,c),_u(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=He(M(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),kr(this),pu(this))};function Uo(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function pu(c){c.g=new wi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=xt(c.qa);We(g,"RID","rpc"),We(g,"SID",c.K),We(g,"AID",c.T),We(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(g,"TO",c.ja),We(g,"TYPE","xmlhttp"),Ms(c,g),c.m&&c.o&&Mr(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Cs(xt(g)),v.m=null,v.P=!0,Gi(v,c)}r.Za=function(){this.C!=null&&(this.C=null,kr(this),Vo(this),Vt(19))};function Lr(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function yu(c,g){var v=null;if(c.g==g){Lr(c),Uo(c),c.g=null;var b=2}else if(Cr(c.h,g))v=g.D,ti(c.h,g),b=1;else return;if(c.G!=0){if(g.o)if(b==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var L=c.B;b=Oe(),wt(b,new yt(b,v)),Ea(c)}else gu(c);else if(L=g.s,L==3||L==0&&0<g.X||!(b==1&&Ih(c,g)||b==2&&Vo(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),L){case 1:Xi(c,5);break;case 4:Xi(c,10);break;case 3:Xi(c,6);break;default:Xi(c,2)}}}function _u(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Xi(c,g){if(c.j.info("Error code "+g),g==2){var v=M(c.fb,c),b=c.Xa;const L=!b;b=new Qi(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||xr(b,"https"),Cs(b),L?xo(b.toString(),v):uu(b.toString(),v)}else Vt(2);c.G=0,c.l&&c.l.sa(g),ko(c),du(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function ko(c){if(c.G=0,c.ka=[],c.l){const g=Tn(c.h);(g.length!=0||c.i.length!=0)&&(J(c.ka,g),J(c.ka,c.i),c.h.i.length=0,W(c.i),c.i.length=0),c.l.ra()}}function vu(c,g,v){var b=v instanceof Qi?xt(v):new Qi(v);if(b.g!="")g&&(b.g=g+"."+b.g),Is(b,b.s);else{var L=m.location;b=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var F=new Qi(null);b&&xr(F,b),g&&(F.g=g),L&&Is(F,L),v&&(F.l=v),b=F}return v=c.D,g=c.ya,v&&g&&We(b,v,g),We(b,"VER",c.la),Ms(c,b),b}function Eu(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new _t(new Ci({eb:v})):new _t(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}r=Tu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ta(){}Ta.prototype.g=function(c,g){return new Sn(c,g)};function Sn(c,g){bt.call(this),this.g=new fu(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!Ee(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Ee(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Pr(this)}Q(Sn,bt),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Oo(this.g)},Sn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=_n(c),c=v);g.i.push(new bh(g.Ya++,c)),g.G==3&&Ea(g)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Oo(this.g),delete this.g,Sn.aa.N.call(this)};function bu(c){se.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}Q(bu,se);function Su(){fe.call(this),this.status=1}Q(Su,fe);function Pr(c){this.g=c}Q(Pr,Tu),Pr.prototype.ua=function(){wt(this.g,"a")},Pr.prototype.ta=function(c){wt(this.g,new bu(c))},Pr.prototype.sa=function(c){wt(this.g,new Su)},Pr.prototype.ra=function(){wt(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,nE=function(){return new Ta},tE=function(){return Oe()},eE=we,Yd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ze.NO_ERROR=0,Ze.TIMEOUT=8,Ze.HTTP_ERROR=6,Lc=Ze,Je.COMPLETE="complete",W0=Je,Z.EventType=te,te.OPEN="a",te.CLOSE="b",te.ERROR="c",te.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Sl=Z,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,Z0=_t}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const mv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new dm("@firebase/firestore");function El(){return ia.logLevel}function he(r,...e){if(ia.logLevel<=Ge.DEBUG){const i=e.map(wm);ia.debug(`Firestore (${_o}): ${r}`,...i)}}function Er(r,...e){if(ia.logLevel<=Ge.ERROR){const i=e.map(wm);ia.error(`Firestore (${_o}): ${r}`,...i)}}function ao(r,...e){if(ia.logLevel<=Ge.WARN){const i=e.map(wm);ia.warn(`Firestore (${_o}): ${r}`,...i)}}function wm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(r="Unexpected state"){const e=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: `+r;throw Er(e),new Error(e)}function ct(r,e){r||Ae()}function xe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends br{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(mn.UNAUTHENTICATED)))}shutdown(){}}class nR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class iR{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ct(this.o===void 0);let a=this.i;const l=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let u=new Ws;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ws,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ws)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ct(typeof a.accessToken=="string"),new iE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string"),new mn(e)}}class rR{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sR{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new rR(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable((()=>i(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class aR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){ct(this.o===void 0);const a=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const l=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(ct(typeof i.token=="string"),this.R=i.token,new aR(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const l=lR(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<i&&(a+=e.charAt(l[u]%e.length))}return a}}function nt(r,e){return r<e?-1:r>e?1:0}function oo(r,e,i){return r.length===e.length&&r.every(((a,l)=>i(a,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*i));return new Yt(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Yt(0,0))}static max(){return new Ne(new Yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ae(),a===void 0?a=e.length-i:a>e.length-i&&Ae(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Pl.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Pl?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const u=e.get(l),d=i.get(l);if(u<d)return-1;if(u>d)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class Tt extends Pl{construct(e,i,a){return new Tt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new Tt(i)}static emptyPath(){return new Tt([])}}const uR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Pl{construct(e,i,a){return new ln(e,i,a)}static isValidIdentifier(e){return uR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ln(["__name__"])}static fromServerFormat(e){const i=[];let a="",l=0;const u=()=>{if(a.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,l+=2}else m==="`"?(d=!d,l++):m!=="."||d?(a+=m,l++):(u(),l++)}if(u(),d)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(i)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Tt.fromString(e))}static fromName(e){return new ve(Tt.fromString(e).popFirst(5))}static empty(){return new ve(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Tt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Tt(e.slice()))}}function cR(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Ne.fromTimestamp(a===1e9?new Yt(i+1,0):new Yt(i,a));return new _s(l,ve.empty(),e)}function hR(r){return new _s(r.readTime,r.key,-1)}class _s{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new _s(Ne.min(),ve.empty(),-1)}static max(){return new _s(Ne.max(),ve.empty(),-1)}}function fR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ve.comparator(r.documentKey,e.documentKey),i!==0?i:nt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==dR)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ne(((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof ne?i:ne.resolve(i)}catch(i){return ne.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):ne.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):ne.reject(i)}static resolve(e){return new ne(((i,a)=>{i(e)}))}static reject(e){return new ne(((i,a)=>{a(e)}))}static waitFor(e){return new ne(((i,a)=>{let l=0,u=0,d=!1;e.forEach((m=>{++l,m.next((()=>{++u,d&&u===l&&i()}),(p=>a(p)))})),d=!0,u===l&&i()}))}static or(e){let i=ne.resolve(!1);for(const a of e)i=i.next((l=>l?ne.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,u)=>{a.push(i.call(this,l,u))})),this.waitFor(a)}static mapArray(e,i){return new ne(((a,l)=>{const u=e.length,d=new Array(u);let m=0;for(let p=0;p<u;p++){const _=p;i(e[_]).next((T=>{d[_]=T,++m,m===u&&a(d)}),(T=>l(T)))}}))}static doWhile(e,i){return new ne(((a,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):a()};u()}))}}function gR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Zl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ie(a),this.se=a=>i.writeSequenceNumber(a))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Rm.oe=-1;function oh(r){return r==null}function $c(r){return r===0&&1/r==-1/0}function pR(r){return typeof r=="number"&&Number.isInteger(r)&&!$c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function oa(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function sE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,i){this.comparator=e,this.root=i||on.EMPTY}insert(e,i){return new Rt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?a(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,i,a,l,u){this.key=e,this.value=i,this.color=a??on.RED,this.left=l??on.EMPTY,this.right=u??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,u){return new on(e??this.key,i??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const u=a(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,a),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return on.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,i,a,l,u){return this}insert(e,i,a){return new on(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new pv(this.data.getIterator())}getIteratorFrom(e){return new pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new un(this.comparator);return i.data=e,i}}class pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Xn([])}unionWith(e){let i=new un(ln.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Xn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new aE("Invalid base64 string: "+u):u}})(e);return new cn(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new cn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const yR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(r){if(ct(!!r),typeof r=="string"){let e=0;const i=yR.exec(r);if(ct(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Pt(r.seconds),nanos:Pt(r.nanos)}}function Pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ra(r){return typeof r=="string"?cn.fromBase64String(r):cn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function Cm(r){const e=r.mapValue.fields.__previous_value__;return Im(e)?Cm(e):e}function jl(r){const e=vs(r.mapValue.fields.__local_write_time__.timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,i,a,l,u,d,m,p,_){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=_}}class zl{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc={mapValue:{}};function sa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Im(r)?4:ER(r)?9007199254740991:vR(r)?10:11:Ae()}function zi(r,e){if(r===e)return!0;const i=sa(r);if(i!==sa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return jl(r).isEqual(jl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=vs(l.timestampValue),m=vs(u.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,u){return ra(l.bytesValue).isEqual(ra(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,u){return Pt(l.geoPointValue.latitude)===Pt(u.geoPointValue.latitude)&&Pt(l.geoPointValue.longitude)===Pt(u.geoPointValue.longitude)})(r,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Pt(l.integerValue)===Pt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Pt(l.doubleValue),m=Pt(u.doubleValue);return d===m?$c(d)===$c(m):isNaN(d)&&isNaN(m)}return!1})(r,e);case 9:return oo(r.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},m=u.mapValue.fields||{};if(gv(d)!==gv(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!zi(d[p],m[p])))return!1;return!0})(r,e);default:return Ae()}}function Bl(r,e){return(r.values||[]).find((i=>zi(i,e)))!==void 0}function lo(r,e){if(r===e)return 0;const i=sa(r),a=sa(e);if(i!==a)return nt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return nt(r.booleanValue,e.booleanValue);case 2:return(function(u,d){const m=Pt(u.integerValue||u.doubleValue),p=Pt(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return yv(r.timestampValue,e.timestampValue);case 4:return yv(jl(r),jl(e));case 5:return nt(r.stringValue,e.stringValue);case 6:return(function(u,d){const m=ra(u),p=ra(d);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,d){const m=u.split("/"),p=d.split("/");for(let _=0;_<m.length&&_<p.length;_++){const T=nt(m[_],p[_]);if(T!==0)return T}return nt(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,d){const m=nt(Pt(u.latitude),Pt(d.latitude));return m!==0?m:nt(Pt(u.longitude),Pt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return _v(r.arrayValue,e.arrayValue);case 10:return(function(u,d){var m,p,_,T;const A=u.fields||{},M=d.fields||{},P=(m=A.value)===null||m===void 0?void 0:m.arrayValue,Q=(p=M.value)===null||p===void 0?void 0:p.arrayValue,W=nt(((_=P==null?void 0:P.values)===null||_===void 0?void 0:_.length)||0,((T=Q==null?void 0:Q.values)===null||T===void 0?void 0:T.length)||0);return W!==0?W:_v(P,Q)})(r.mapValue,e.mapValue);case 11:return(function(u,d){if(u===xc.mapValue&&d===xc.mapValue)return 0;if(u===xc.mapValue)return 1;if(d===xc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),_=d.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let A=0;A<p.length&&A<T.length;++A){const M=nt(p[A],T[A]);if(M!==0)return M;const P=lo(m[p[A]],_[T[A]]);if(P!==0)return P}return nt(p.length,T.length)})(r.mapValue,e.mapValue);default:throw Ae()}}function yv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return nt(r,e);const i=vs(r),a=vs(e),l=nt(i.seconds,a.seconds);return l!==0?l:nt(i.nanos,a.nanos)}function _v(r,e){const i=r.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const u=lo(i[l],a[l]);if(u)return u}return nt(i.length,a.length)}function uo(r){return $d(r)}function $d(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=vs(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ra(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ve.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const u of i.values||[])l?l=!1:a+=",",a+=$d(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of a)u?u=!1:l+=",",l+=`${d}:${$d(i.fields[d])}`;return l+"}"})(r.mapValue):Ae()}function vv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Xd(r){return!!r&&"integerValue"in r}function Nm(r){return!!r&&"arrayValue"in r}function Ev(r){return!!r&&"nullValue"in r}function Tv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Pc(r){return!!r&&"mapValue"in r}function vR(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function Nl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return oa(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Nl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Nl(r.arrayValue.values[i]);return e}return Object.assign({},r)}function ER(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Pc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nl(i)}setAll(e){let i=ln.emptyPath(),a={},l=[];e.forEach(((d,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,a,l),a={},l=[],i=m.popLast()}d?a[m.lastSegment()]=Nl(d):l.push(m.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,a,l)}delete(e){const i=this.field(e.popLast());Pc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Pc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){oa(i,((l,u)=>e[l]=u));for(const l of a)delete e[l]}clone(){return new Ln(Nl(this.value))}}function oE(r){const e=[];return oa(r.fields,((i,a)=>{const l=new ln([i]);if(Pc(a)){const u=oE(a.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new Xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,i,a,l,u,d,m){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new gn(e,0,Ne.min(),Ne.min(),Ne.min(),Ln.empty(),0)}static newFoundDocument(e,i,a,l){return new gn(e,1,i,Ne.min(),a,l,0)}static newNoDocument(e,i){return new gn(e,2,i,Ne.min(),Ne.min(),Ln.empty(),0)}static newUnknownDocument(e,i){return new gn(e,3,i,Ne.min(),Ne.min(),Ln.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,i){this.position=e,this.inclusive=i}}function bv(r,e,i){let a=0;for(let l=0;l<r.position.length;l++){const u=e[l],d=r.position[l];if(u.field.isKeyField()?a=ve.comparator(ve.fromName(d.referenceValue),i.key):a=lo(d,i.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function Sv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!zi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,i="asc"){this.field=e,this.dir=i}}function TR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{}class Kt extends lE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new SR(e,i,a):i==="array-contains"?new RR(e,a):i==="in"?new IR(e,a):i==="not-in"?new CR(e,a):i==="array-contains-any"?new NR(e,a):new Kt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new AR(e,a):new wR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(lo(i,this.value)):i!==null&&sa(this.value)===sa(i)&&this.matchesComparison(lo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends lE{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new Ei(e,i)}matches(e){return uE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function uE(r){return r.op==="and"}function cE(r){return bR(r)&&uE(r)}function bR(r){for(const e of r.filters)if(e instanceof Ei)return!1;return!0}function Jd(r){if(r instanceof Kt)return r.field.canonicalString()+r.op.toString()+uo(r.value);if(cE(r))return r.filters.map((e=>Jd(e))).join(",");{const e=r.filters.map((i=>Jd(i))).join(",");return`${r.op}(${e})`}}function hE(r,e){return r instanceof Kt?(function(a,l){return l instanceof Kt&&a.op===l.op&&a.field.isEqual(l.field)&&zi(a.value,l.value)})(r,e):r instanceof Ei?(function(a,l){return l instanceof Ei&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((u,d,m)=>u&&hE(d,l.filters[m])),!0):!1})(r,e):void Ae()}function fE(r){return r instanceof Kt?(function(i){return`${i.field.canonicalString()} ${i.op} ${uo(i.value)}`})(r):r instanceof Ei?(function(i){return i.op.toString()+" {"+i.getFilters().map(fE).join(" ,")+"}"})(r):"Filter"}class SR extends Kt{constructor(e,i,a){super(e,i,a),this.key=ve.fromName(a.referenceValue)}matches(e){const i=ve.comparator(e.key,this.key);return this.matchesComparison(i)}}class AR extends Kt{constructor(e,i){super(e,"in",i),this.keys=dE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class wR extends Kt{constructor(e,i){super(e,"not-in",i),this.keys=dE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function dE(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((a=>ve.fromName(a.referenceValue)))}class RR extends Kt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Nm(i)&&Bl(i.arrayValue,this.value)}}class IR extends Kt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Bl(this.value.arrayValue,i)}}class CR extends Kt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Bl(this.value.arrayValue,i)}}class NR extends Kt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Nm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Bl(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,i=null,a=[],l=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=d,this.endAt=m,this.ue=null}}function Av(r,e=null,i=[],a=[],l=null,u=null,d=null){return new xR(r,e,i,a,l,u,d)}function xm(r){const e=xe(r);if(e.ue===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>Jd(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),oh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>uo(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>uo(a))).join(",")),e.ue=i}return e.ue}function Dm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!TR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!hE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Sv(r.startAt,e.startAt)&&Sv(r.endAt,e.endAt)}function Zd(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,i=null,a=[],l=[],u=null,d="F",m=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function DR(r,e,i,a,l,u,d,m){return new vo(r,e,i,a,l,u,d,m)}function Om(r){return new vo(r)}function wv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function mE(r){return r.collectionGroup!==null}function xl(r){const e=xe(r);if(e.ce===null){e.ce=[];const i=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),i.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new un(ln.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(m=m.add(_.field))}))})),m})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.ce.push(new ql(u,a))})),i.has(ln.keyField().canonicalString())||e.ce.push(new ql(ln.keyField(),a))}return e.ce}function Pi(r){const e=xe(r);return e.le||(e.le=OR(e,xl(r))),e.le}function OR(r,e){if(r.limitType==="F")return Av(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new ql(l.field,u)}));const i=r.endAt?new Xc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Xc(r.startAt.position,r.startAt.inclusive):null;return Av(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function Wd(r,e){const i=r.filters.concat([e]);return new vo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Jc(r,e,i){return new vo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function lh(r,e){return Dm(Pi(r),Pi(e))&&r.limitType===e.limitType}function gE(r){return`${xm(Pi(r))}|lt:${r.limitType}`}function Xa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>fE(l))).join(", ")}]`),oh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>uo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>uo(l))).join(",")),`Target(${a})`})(Pi(r))}; limitType=${r.limitType})`}function uh(r,e){return e.isFoundDocument()&&(function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):ve.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,e)&&(function(a,l){for(const u of xl(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(d,m,p){const _=bv(d,m,p);return d.inclusive?_<=0:_<0})(a.startAt,xl(a),l)||a.endAt&&!(function(d,m,p){const _=bv(d,m,p);return d.inclusive?_>=0:_>0})(a.endAt,xl(a),l))})(r,e)}function MR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function pE(r){return(e,i)=>{let a=!1;for(const l of xl(r)){const u=VR(l,e,i);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function VR(r,e,i){const a=r.field.isKeyField()?ve.comparator(e.key,i.key):(function(u,d,m){const p=d.data.field(u),_=m.data.field(u);return p!==null&&_!==null?lo(p,_):Ae()})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,((i,a)=>{for(const[l,u]of a)e(l,u)}))}isEmpty(){return sE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=new Rt(ve.comparator);function Tr(){return UR}const yE=new Rt(ve.comparator);function Al(...r){let e=yE;for(const i of r)e=e.insert(i.key,i);return e}function _E(r){let e=yE;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Js(){return Dl()}function vE(){return Dl()}function Dl(){return new Eo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const kR=new Rt(ve.comparator),LR=new un(ve.comparator);function Be(...r){let e=LR;for(const i of r)e=e.add(i);return e}const PR=new un(nt);function jR(){return PR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function EE(r){return{integerValue:""+r}}function zR(r,e){return pR(e)?EE(e):Mm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this._=void 0}}function BR(r,e,i){return r instanceof Hl?(function(l,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Im(u)&&(u=Cm(u)),u&&(d.fields.__previous_value__=u),{mapValue:d}})(i,e):r instanceof co?bE(r,e):r instanceof Fl?SE(r,e):(function(l,u){const d=TE(l,u),m=Rv(d)+Rv(l.Pe);return Xd(d)&&Xd(l.Pe)?EE(m):Mm(l.serializer,m)})(r,e)}function qR(r,e,i){return r instanceof co?bE(r,e):r instanceof Fl?SE(r,e):i}function TE(r,e){return r instanceof Zc?(function(a){return Xd(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class Hl extends ch{}class co extends ch{constructor(e){super(),this.elements=e}}function bE(r,e){const i=AE(e);for(const a of r.elements)i.some((l=>zi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Fl extends ch{constructor(e){super(),this.elements=e}}function SE(r,e){let i=AE(e);for(const a of r.elements)i=i.filter((l=>!zi(l,a)));return{arrayValue:{values:i}}}class Zc extends ch{constructor(e,i){super(),this.serializer=e,this.Pe=i}}function Rv(r){return Pt(r.integerValue||r.doubleValue)}function AE(r){return Nm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,i){this.field=e,this.transform=i}}function HR(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof co&&l instanceof co||a instanceof Fl&&l instanceof Fl?oo(a.elements,l.elements,zi):a instanceof Zc&&l instanceof Zc?zi(a.Pe,l.Pe):a instanceof Hl&&l instanceof Hl})(r.transform,e.transform)}class FR{constructor(e,i){this.version=e,this.transformResults=i}}class _i{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class hh{}function RE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new CE(r.key,_i.none()):new Wl(r.key,r.data,_i.none());{const i=r.data,a=Ln.empty();let l=new un(ln.comparator);for(let u of e.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?a.delete(u):a.set(u,d),l=l.add(u)}return new Ts(r.key,a,new Xn(l.toArray()),_i.none())}}function GR(r,e,i){r instanceof Wl?(function(l,u,d){const m=l.value.clone(),p=Cv(l.fieldTransforms,u,d.transformResults);m.setAll(p),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(r,e,i):r instanceof Ts?(function(l,u,d){if(!jc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const m=Cv(l.fieldTransforms,u,d.transformResults),p=u.data;p.setAll(IE(l)),p.setAll(m),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ol(r,e,i,a){return r instanceof Wl?(function(u,d,m,p){if(!jc(u.precondition,d))return m;const _=u.value.clone(),T=Nv(u.fieldTransforms,p,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof Ts?(function(u,d,m,p){if(!jc(u.precondition,d))return m;const _=Nv(u.fieldTransforms,p,d),T=d.data;return T.setAll(IE(u)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(r,e,i,a):(function(u,d,m){return jc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m})(r,e,i)}function KR(r,e){let i=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),u=TE(a.transform,l||null);u!=null&&(i===null&&(i=Ln.empty()),i.set(a.field,u))}return i||null}function Iv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&oo(a,l,((u,d)=>HR(u,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Wl extends hh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ts extends hh{constructor(e,i,a,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function IE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function Cv(r,e,i){const a=new Map;ct(r.length===i.length);for(let l=0;l<i.length;l++){const u=r[l],d=u.transform,m=e.data.field(u.field);a.set(u.field,qR(d,m,i[l]))}return a}function Nv(r,e,i){const a=new Map;for(const l of r){const u=l.transform,d=i.data.field(l.field);a.set(l.field,BR(u,d,e))}return a}class CE extends hh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QR extends hh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&GR(u,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Ol(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Ol(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=vE();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=i.has(l.key)?null:m;const p=RE(d,m);p!==null&&a.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(Ne.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Be())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,((i,a)=>Iv(i,a)))&&oo(this.baseMutations,e.baseMutations,((i,a)=>Iv(i,a)))}}class Vm{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){ct(e.mutations.length===a.length);let l=(function(){return kR})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,a[d].version);return new Vm(e,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,$e;function JR(r){switch(r){default:return Ae();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function NE(r){if(r===void 0)return Er("GRPC error has no .code"),ee.UNKNOWN;switch(r){case Gt.OK:return ee.OK;case Gt.CANCELLED:return ee.CANCELLED;case Gt.UNKNOWN:return ee.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return ee.INTERNAL;case Gt.UNAVAILABLE:return ee.UNAVAILABLE;case Gt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Gt.NOT_FOUND:return ee.NOT_FOUND;case Gt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Gt.ABORTED:return ee.ABORTED;case Gt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Gt.DATA_LOSS:return ee.DATA_LOSS;default:return Ae()}}($e=Gt||(Gt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=new Zs([4294967295,4294967295],0);function xv(r){const e=ZR().encode(r),i=new J0;return i.update(e),new Uint8Array(i.digest())}function Dv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Zs([i,a],0),new Zs([l,u],0)]}class Um{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new wl(`Invalid padding: ${i}`);if(a<0)throw new wl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new wl(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*e.length-i,this.Te=Zs.fromNumber(this.Ie)}Ee(e,i,a){let l=e.add(i.multiply(Zs.fromNumber(a)));return l.compare(WR)===1&&(l=new Zs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const i=xv(e),[a,l]=Dv(i);for(let u=0;u<this.hashCount;u++){const d=this.Ee(a,l,u);if(!this.de(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Um(u,l,i);return a.forEach((m=>d.insert(m))),d}insert(e){if(this.Ie===0)return;const i=xv(e),[a,l]=Dv(i);for(let u=0;u<this.hashCount;u++){const d=this.Ee(a,l,u);this.Ae(d)}}Ae(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,i,a,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new fh(Ne.min(),l,new Rt(nt),Tr(),Be())}}class eu{constructor(e,i,a,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new eu(a,i,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,i,a,l){this.Re=e,this.removedTargetIds=i,this.key=a,this.Ve=l}}class xE{constructor(e,i){this.targetId=e,this.me=i}}class DE{constructor(e,i,a=cn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Ov{constructor(){this.fe=0,this.ge=Vv(),this.pe=cn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Be(),i=Be(),a=Be();return this.ge.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Ae()}})),new eu(this.pe,this.ye,e,i,a)}Ce(){this.we=!1,this.ge=Vv()}Fe(e,i){this.we=!0,this.ge=this.ge.insert(e,i)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ct(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class eI{constructor(e){this.Le=e,this.Be=new Map,this.ke=Tr(),this.qe=Mv(),this.Qe=new Rt(nt)}Ke(e){for(const i of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(i,e.Ve):this.Ue(i,e.key,e.Ve);for(const i of e.removedTargetIds)this.Ue(i,e.key,e.Ve)}We(e){this.forEachTarget(e,(i=>{const a=this.Ge(i);switch(e.state){case 0:this.ze(i)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(i)&&(this.je(i),a.De(e.resumeToken));break;default:Ae()}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Be.forEach(((a,l)=>{this.ze(l)&&i(l)}))}He(e){const i=e.targetId,a=e.me.count,l=this.Je(i);if(l){const u=l.target;if(Zd(u))if(a===0){const d=new ve(u.path);this.Ue(i,d,gn.newNoDocument(d,Ne.min()))}else ct(a===1);else{const d=this.Ye(i);if(d!==a){const m=this.Ze(e),p=m?this.Xe(m,e,d):1;if(p!==0){this.je(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,_)}}}}}Ze(e){const i=e.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=i;let d,m;try{d=ra(a).toUint8Array()}catch(p){if(p instanceof aE)return ao("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Um(d,l,u)}catch(p){return ao(p instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ie===0?null:m}Xe(e,i,a){return i.me.count===a-this.nt(e,i.targetId)?0:2}nt(e,i){const a=this.Le.getRemoteKeysForTarget(i);let l=0;return a.forEach((u=>{const d=this.Le.tt(),m=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Ue(i,u,null),l++)})),l}rt(e){const i=new Map;this.Be.forEach(((u,d)=>{const m=this.Je(d);if(m){if(u.current&&Zd(m.target)){const p=new ve(m.target.path);this.ke.get(p)!==null||this.it(d,p)||this.Ue(d,p,gn.newNoDocument(p,e))}u.be&&(i.set(d,u.ve()),u.Ce())}}));let a=Be();this.qe.forEach(((u,d)=>{let m=!0;d.forEachWhile((p=>{const _=this.Je(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.ke.forEach(((u,d)=>d.setReadTime(e)));const l=new fh(e,i,this.Qe,this.ke,a);return this.ke=Tr(),this.qe=Mv(),this.Qe=new Rt(nt),l}$e(e,i){if(!this.ze(e))return;const a=this.it(e,i.key)?2:0;this.Ge(e).Fe(i.key,a),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(e))}Ue(e,i,a){if(!this.ze(e))return;const l=this.Ge(e);this.it(e,i)?l.Fe(i,1):l.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(e)),a&&(this.ke=this.ke.insert(i,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const i=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let i=this.Be.get(e);return i||(i=new Ov,this.Be.set(e,i)),i}st(e){let i=this.qe.get(e);return i||(i=new un(nt),this.qe=this.qe.insert(e,i)),i}ze(e){const i=this.Je(e)!==null;return i||he("WatchChangeAggregator","Detected inactive target",e),i}Je(e){const i=this.Be.get(e);return i&&i.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ov),this.Le.getRemoteKeysForTarget(e).forEach((i=>{this.Ue(e,i,null)}))}it(e,i){return this.Le.getRemoteKeysForTarget(e).has(i)}}function Mv(){return new Rt(ve.comparator)}function Vv(){return new Rt(ve.comparator)}const tI={asc:"ASCENDING",desc:"DESCENDING"},nI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iI={and:"AND",or:"OR"};class rI{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function em(r,e){return r.useProto3Json||oh(e)?e:{value:e}}function Wc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function sI(r,e){return Wc(r,e.toTimestamp())}function ji(r){return ct(!!r),Ne.fromTimestamp((function(i){const a=vs(i);return new Yt(a.seconds,a.nanos)})(r))}function km(r,e){return tm(r,e).canonicalString()}function tm(r,e){const i=(function(l){return new Tt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function ME(r){const e=Tt.fromString(r);return ct(PE(e)),e}function nm(r,e){return km(r.databaseId,e.path)}function Ud(r,e){const i=ME(e);if(i.get(1)!==r.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ve(UE(i))}function VE(r,e){return km(r.databaseId,e)}function aI(r){const e=ME(r);return e.length===4?Tt.emptyPath():UE(e)}function im(r){return new Tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function UE(r){return ct(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Uv(r,e,i){return{name:nm(r,e),fields:i.value.mapValue.fields}}function oI(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ae()})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(_,T){return _.useProto3Json?(ct(T===void 0||typeof T=="string"),cn.fromBase64String(T||"")):(ct(T===void 0||T instanceof Buffer||T instanceof Uint8Array),cn.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&(function(_){const T=_.code===void 0?ee.UNKNOWN:NE(_.code);return new ce(T,_.message||"")})(d);i=new DE(a,l,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Ud(r,a.document.name),u=ji(a.document.updateTime),d=a.document.createTime?ji(a.document.createTime):Ne.min(),m=new Ln({mapValue:{fields:a.document.fields}}),p=gn.newFoundDocument(l,u,d,m),_=a.targetIds||[],T=a.removedTargetIds||[];i=new zc(_,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Ud(r,a.document),u=a.readTime?ji(a.readTime):Ne.min(),d=gn.newNoDocument(l,u),m=a.removedTargetIds||[];i=new zc([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Ud(r,a.document),u=a.removedTargetIds||[];i=new zc([],u,l,null)}else{if(!("filter"in e))return Ae();{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,d=new XR(l,u),m=a.targetId;i=new xE(m,d)}}return i}function lI(r,e){let i;if(e instanceof Wl)i={update:Uv(r,e.key,e.value)};else if(e instanceof CE)i={delete:nm(r,e.key)};else if(e instanceof Ts)i={update:Uv(r,e.key,e.data),updateMask:yI(e.fieldMask)};else{if(!(e instanceof QR))return Ae();i={verify:nm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(u,d){const m=d.transform;if(m instanceof Hl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof co)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Fl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Zc)return{fieldPath:d.field.canonicalString(),increment:m.Pe};throw Ae()})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:sI(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae()})(r,e.precondition)),i}function uI(r,e){return r&&r.length>0?(ct(e!==void 0),r.map((i=>(function(l,u){let d=l.updateTime?ji(l.updateTime):ji(u);return d.isEqual(Ne.min())&&(d=ji(u)),new FR(d,l.transformResults||[])})(i,e)))):[]}function cI(r,e){return{documents:[VE(r,e.path)]}}function hI(r,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=VE(r,l);const u=(function(_){if(_.length!==0)return LE(Ei.create(_,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const d=(function(_){if(_.length!==0)return _.map((T=>(function(M){return{field:Ja(M.field),direction:mI(M.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const m=em(r,e.limit);return m!==null&&(i.structuredQuery.limit=m),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{_t:i,parent:l}}function fI(r){let e=aI(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){ct(a===1);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let u=[];i.where&&(u=(function(A){const M=kE(A);return M instanceof Ei&&cE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(Q){return new ql(Za(Q.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(M)))})(i.orderBy));let m=null;i.limit&&(m=(function(A){let M;return M=typeof A=="object"?A.value:A,oh(M)?null:M})(i.limit));let p=null;i.startAt&&(p=(function(A){const M=!!A.before,P=A.values||[];return new Xc(P,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const M=!A.before,P=A.values||[];return new Xc(P,M)})(i.endAt)),DR(e,l,d,u,m,"F",p,_)}function dI(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function kE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Za(i.unaryFilter.field);return Kt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Za(i.unaryFilter.field);return Kt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Za(i.unaryFilter.field);return Kt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Za(i.unaryFilter.field);return Kt.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}})(r):r.fieldFilter!==void 0?(function(i){return Kt.create(Za(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ei.create(i.compositeFilter.filters.map((a=>kE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ae()}})(i.compositeFilter.op))})(r):Ae()}function mI(r){return tI[r]}function gI(r){return nI[r]}function pI(r){return iI[r]}function Ja(r){return{fieldPath:r.canonicalString()}}function Za(r){return ln.fromServerFormat(r.fieldPath)}function LE(r){return r instanceof Kt?(function(i){if(i.op==="=="){if(Tv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NAN"}};if(Ev(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Tv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NAN"}};if(Ev(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(i.field),op:gI(i.op),value:i.value}}})(r):r instanceof Ei?(function(i){const a=i.getFilters().map((l=>LE(l)));return a.length===1?a[0]:{compositeFilter:{op:pI(i.op),filters:a}}})(r):Ae()}function yI(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function PE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,i,a,l,u=Ne.min(),d=Ne.min(),m=cn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.ct=e}}function vI(r){const e=fI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Jc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.un=new TI}addToCollectionParentIndex(e,i){return this.un.add(i),ne.resolve()}getCollectionParents(e,i){return ne.resolve(this.un.getEntries(i))}addFieldIndex(e,i){return ne.resolve()}deleteFieldIndex(e,i){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,i){return ne.resolve()}getDocumentsMatchingTarget(e,i){return ne.resolve(null)}getIndexType(e,i){return ne.resolve(0)}getFieldIndexes(e,i){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,i){return ne.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,i){return ne.resolve(_s.min())}updateCollectionGroup(e,i,a){return ne.resolve()}updateIndexEntries(e,i){return ne.resolve()}}class TI{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new un(Tt.comparator),u=!l.has(a);return this.index[i]=l.add(a),u}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new un(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ho(0)}static kn(){return new ho(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.changes=new Eo((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?ne.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Ol(a.mutation,l,Xn.empty(),Yt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Be()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Be()){const l=Js();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((u=>{let d=Al();return u.forEach(((m,p)=>{d=d.insert(m,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Js();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Be())))}populateOverlays(e,i,a){const l=[];return a.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,m)=>{i.set(d,m)}))}))}computeViews(e,i,a,l){let u=Tr();const d=Dl(),m=(function(){return Dl()})();return i.forEach(((p,_)=>{const T=a.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof Ts)?u=u.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Ol(T.mutation,_,T.mutation.getFieldMask(),Yt.now())):d.set(_.key,Xn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>{var A;return m.set(_,new SI(T,(A=d.get(_))!==null&&A!==void 0?A:null))})),m)))}recalculateAndSaveOverlays(e,i){const a=Dl();let l=new Rt(((d,m)=>d-m)),u=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const m of d)m.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let T=a.get(p)||Xn.empty();T=m.applyToLocalView(_,T),a.set(p,T);const A=(l.get(m.batchId)||Be()).add(p);l=l.insert(m.batchId,A)}))})).next((()=>{const d=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),_=p.key,T=p.value,A=vE();T.forEach((M=>{if(!u.has(M)){const P=RE(i.get(M),a.get(M));P!==null&&A.set(M,P),u=u.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return ne.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return ve.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):mE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-u.size):ne.resolve(Js());let m=-1,p=u;return d.next((_=>ne.forEach(_,((T,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(T)?ne.resolve():this.remoteDocumentCache.getEntry(e,T).next((M=>{p=p.insert(T,M)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,p,_,Be()))).next((T=>({batchId:m,changes:_E(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ve(i)).next((a=>{let l=Al();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const u=i.collectionGroup;let d=Al();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const _=(function(A,M){return new vo(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((T=>{T.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,u,l)))).next((d=>{u.forEach(((p,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,gn.newInvalidDocument(T)))}));let m=Al();return d.forEach(((p,_)=>{const T=u.get(p);T!==void 0&&Ol(T.mutation,_,Xn.empty(),Yt.now()),uh(i,_)&&(m=m.insert(p,_))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,i){return ne.resolve(this.hr.get(i))}saveBundleMetadata(e,i){return this.hr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ji(l.createTime)}})(i)),ne.resolve()}getNamedQuery(e,i){return ne.resolve(this.Pr.get(i))}saveNamedQuery(e,i){return this.Pr.set(i.name,(function(l){return{name:l.name,query:vI(l.bundledQuery),readTime:ji(l.readTime)}})(i)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.overlays=new Rt(ve.comparator),this.Ir=new Map}getOverlay(e,i){return ne.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Js();return ne.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&a.set(l,u)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,u)=>{this.ht(e,i,u)})),ne.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.Ir.get(a);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Ir.delete(a)),ne.resolve()}getOverlaysForCollection(e,i,a){const l=Js(),u=i.length+1,d=new ve(i.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===u&&p.largestBatchId>a&&l.set(p.getKey(),p)}return ne.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let u=new Rt(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let T=u.get(_.largestBatchId);T===null&&(T=Js(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const m=Js(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,T)=>m.set(_,T))),!(m.size()>=l)););return ne.resolve(m)}ht(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Ir.get(l.largestBatchId).delete(a.key);this.Ir.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new $R(i,a));let u=this.Ir.get(i);u===void 0&&(u=Be(),this.Ir.set(i,u)),this.Ir.set(i,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(){this.Tr=new un(en.Er),this.dr=new un(en.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,i){const a=new en(e,i);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Vr(new en(e,i))}mr(e,i){e.forEach((a=>this.removeReference(a,i)))}gr(e){const i=new ve(new Tt([])),a=new en(i,e),l=new en(i,e+1),u=[];return this.dr.forEachInRange([a,l],(d=>{this.Vr(d),u.push(d.key)})),u}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const i=new ve(new Tt([])),a=new en(i,e),l=new en(i,e+1);let u=Be();return this.dr.forEachInRange([a,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const i=new en(e,0),a=this.Tr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class en{constructor(e,i){this.key=e,this.wr=i}static Er(e,i){return ve.comparator(e.key,i.key)||nt(e.wr,i.wr)}static Ar(e,i){return nt(e.wr,i.wr)||ve.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new un(en.Er)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new YR(u,i,a,l);this.mutationQueue.push(d);for(const m of l)this.br=this.br.add(new en(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(d)}lookupMutationBatch(e,i){return ne.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.vr(a),u=l<0?0:l;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new en(i,0),l=new en(i,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([a,l],(d=>{const m=this.Dr(d.wr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new un(nt);return i.forEach((l=>{const u=new en(l,0),d=new en(l,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,d],(m=>{a=a.add(m.wr)}))})),ne.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let u=a;ve.isDocumentKey(u)||(u=u.child(""));const d=new en(new ve(u),0);let m=new un(nt);return this.br.forEachWhile((p=>{const _=p.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(m=m.add(p.wr)),!0)}),d),ne.resolve(this.Cr(m))}Cr(e){const i=[];return e.forEach((a=>{const l=this.Dr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){ct(this.Fr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.br;return ne.forEach(i.mutations,(l=>{const u=new en(l.key,i.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.br=a}))}On(e){}containsKey(e,i){const a=new en(i,0),l=this.br.firstAfterOrEqual(a);return ne.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Fr(e,i){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const i=this.vr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.Mr=e,this.docs=(function(){return new Rt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),u=l?l.size:0,d=this.Mr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return ne.resolve(a?a.document.mutableCopy():gn.newInvalidDocument(i))}getEntries(e,i){let a=Tr();return i.forEach((l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():gn.newInvalidDocument(l))})),ne.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let u=Tr();const d=i.path,m=new ve(d.child("")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||fR(hR(T),a)<=0||(l.has(T.key)||uh(i,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,i,a,l){Ae()}Or(e,i){return ne.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new xI(this)}getSize(e){return ne.resolve(this.size)}}class xI extends bI{constructor(e){super(),this.cr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.cr.addEntry(e,l)):this.cr.removeEntry(a)})),ne.waitFor(i)}getFromCache(e,i){return this.cr.getEntry(e,i)}getAllFromCache(e,i){return this.cr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.persistence=e,this.Nr=new Eo((i=>xm(i)),Dm),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Lm,this.targetCount=0,this.kr=ho.Bn()}forEachTarget(e,i){return this.Nr.forEach(((a,l)=>i(l))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Lr&&(this.Lr=i),ne.resolve()}Kn(e){this.Nr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.kr=new ho(i),this.highestTargetId=i),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,i){return this.Kn(i),this.targetCount+=1,ne.resolve()}updateTargetData(e,i){return this.Kn(i),ne.resolve()}removeTargetData(e,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,i,a){let l=0;const u=[];return this.Nr.forEach(((d,m)=>{m.sequenceNumber<=i&&a.get(m.targetId)===null&&(this.Nr.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)})),ne.waitFor(u).next((()=>l))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,i){const a=this.Nr.get(i)||null;return ne.resolve(a)}addMatchingKeys(e,i,a){return this.Br.Rr(i,a),ne.resolve()}removeMatchingKeys(e,i,a){this.Br.mr(i,a);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this.Br.gr(i),ne.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Br.yr(i);return ne.resolve(a)}containsKey(e,i){return ne.resolve(this.Br.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,i){this.qr={},this.overlays={},this.Qr=new Rm(0),this.Kr=!1,this.Kr=!0,this.$r=new II,this.referenceDelegate=e(this),this.Ur=new DI(this),this.indexManager=new EI,this.remoteDocumentCache=(function(l){return new NI(l)})((a=>this.referenceDelegate.Wr(a))),this.serializer=new _I(i),this.Gr=new wI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new RI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.qr[e.toKey()];return a||(a=new CI(i,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,i,a){he("MemoryPersistence","Starting transaction:",e);const l=new MI(this.Qr.next());return this.referenceDelegate.zr(),a(l).next((u=>this.referenceDelegate.jr(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Hr(e,i){return ne.or(Object.values(this.qr).map((a=>()=>a.containsKey(e,i))))}}class MI extends mR{constructor(e){super(),this.currentSequenceNumber=e}}class Pm{constructor(e){this.persistence=e,this.Jr=new Lm,this.Yr=null}static Zr(e){return new Pm(e)}get Xr(){if(this.Yr)return this.Yr;throw Ae()}addReference(e,i,a){return this.Jr.addReference(a,i),this.Xr.delete(a.toString()),ne.resolve()}removeReference(e,i,a){return this.Jr.removeReference(a,i),this.Xr.add(a.toString()),ne.resolve()}markPotentiallyOrphaned(e,i){return this.Xr.add(i.toString()),ne.resolve()}removeTarget(e,i){this.Jr.gr(i.targetId).forEach((l=>this.Xr.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.Xr.add(u.toString())))})).next((()=>a.removeTargetData(e,i)))}zr(){this.Yr=new Set}jr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Xr,(a=>{const l=ve.fromPath(a);return this.ei(e,l).next((u=>{u||i.removeEntry(l,Ne.min())}))})).next((()=>(this.Yr=null,i.apply(e))))}updateLimboDocument(e,i){return this.ei(e,i).next((a=>{a?this.Xr.delete(i.toString()):this.Xr.add(i.toString())}))}Wr(e){return 0}ei(e,i){return ne.or([()=>ne.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Hr(e,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.$i=a,this.Ui=l}static Wi(e,i){let a=Be(),l=Be();for(const u of i.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new jm(e,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return TS()?8:gR(pn())>0?6:4})()}initialize(e,i){this.Ji=e,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(e,i,a,l){const u={result:null};return this.Yi(e,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.Zi(e,i,l,a).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new VI;return this.Xi(e,i,d).next((m=>{if(u.result=m,this.zi)return this.es(e,i,d,m.size)}))})).next((()=>u.result))}es(e,i,a,l){return a.documentReadCount<this.ji?(El()<=Ge.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Xa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ne.resolve()):(El()<=Ge.DEBUG&&he("QueryEngine","Query:",Xa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.Hi*l?(El()<=Ge.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Xa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(i))):ne.resolve())}Yi(e,i){if(wv(i))return ne.resolve(null);let a=Pi(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Jc(i,null,"F"),a=Pi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const d=Be(...u);return this.Ji.getDocuments(e,d).next((m=>this.indexManager.getMinOffset(e,a).next((p=>{const _=this.ts(i,m);return this.ns(i,_,d,p.readTime)?this.Yi(e,Jc(i,null,"F")):this.rs(e,_,i,p)}))))})))))}Zi(e,i,a,l){return wv(i)||l.isEqual(Ne.min())?ne.resolve(null):this.Ji.getDocuments(e,a).next((u=>{const d=this.ts(i,u);return this.ns(i,d,a,l)?ne.resolve(null):(El()<=Ge.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Xa(i)),this.rs(e,d,i,cR(l,-1)).next((m=>m)))}))}ts(e,i){let a=new un(pE(e));return i.forEach(((l,u)=>{uh(e,u)&&(a=a.add(u))})),a}ns(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Xi(e,i,a){return El()<=Ge.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Xa(i)),this.Ji.getDocumentsMatchingQuery(e,i,_s.min(),a)}rs(e,i,a,l){return this.Ji.getDocumentsMatchingQuery(e,a,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,i,a,l){this.persistence=e,this.ss=i,this.serializer=l,this.os=new Rt(nt),this._s=new Eo((u=>xm(u)),Dm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.os)))}}function LI(r,e,i,a){return new kI(r,e,i,a)}async function jE(r,e){const i=xe(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((u=>(l=u,i.ls(e),i.mutationQueue.getAllMutationBatches(a)))).next((u=>{const d=[],m=[];let p=Be();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of u){m.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(a,p).next((_=>({hs:_,removedBatchIds:d,addedBatchIds:m})))}))}))}function PI(r,e){const i=xe(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),u=i.cs.newChangeBuffer({trackRemovals:!0});return(function(m,p,_,T){const A=_.batch,M=A.keys();let P=ne.resolve();return M.forEach((Q=>{P=P.next((()=>T.getEntry(p,Q))).next((W=>{const J=_.docVersions.get(Q);ct(J!==null),W.version.compareTo(J)<0&&(A.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),T.addEntry(W)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(p,A)))})(i,a,e,u).next((()=>u.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let p=Be();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(p=p.add(m.batch.mutations[_].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function zE(r){const e=xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Ur.getLastRemoteSnapshotVersion(i)))}function jI(r,e){const i=xe(r),a=e.snapshotVersion;let l=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.cs.newChangeBuffer({trackRemovals:!0});l=i.os;const m=[];e.targetChanges.forEach(((T,A)=>{const M=l.get(A);if(!M)return;m.push(i.Ur.removeMatchingKeys(u,T.removedDocuments,A).next((()=>i.Ur.addMatchingKeys(u,T.addedDocuments,A))));let P=M.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?P=P.withResumeToken(cn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,a)),l=l.insert(A,P),(function(W,J,le){return W.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8?!0:le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0})(M,P,T)&&m.push(i.Ur.updateTargetData(u,P))}));let p=Tr(),_=Be();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(zI(u,d,e.documentUpdates).next((T=>{p=T.Ps,_=T.Is}))),!a.isEqual(Ne.min())){const T=i.Ur.getLastRemoteSnapshotVersion(u).next((A=>i.Ur.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(T)}return ne.waitFor(m).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,p,_))).next((()=>p))})).then((u=>(i.os=l,u)))}function zI(r,e,i){let a=Be(),l=Be();return i.forEach((u=>a=a.add(u))),e.getEntries(r,a).next((u=>{let d=Tr();return i.forEach(((m,p)=>{const _=u.get(m);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(Ne.min())?(e.removeEntry(m,p.readTime),d=d.insert(m,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),d=d.insert(m,p)):he("LocalStore","Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",p.version)})),{Ps:d,Is:l}}))}function BI(r,e){const i=xe(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function qI(r,e){const i=xe(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Ur.getTargetData(a,e).next((u=>u?(l=u,ne.resolve(l)):i.Ur.allocateTargetId(a).next((d=>(l=new ds(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Ur.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.os.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.os=i.os.insert(a.targetId,a),i._s.set(e,a.targetId)),a}))}async function rm(r,e,i){const a=xe(r),l=a.os.get(e),u=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",u,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Zl(d))throw d;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}a.os=a.os.remove(e),a._s.delete(l.target)}function kv(r,e,i){const a=xe(r);let l=Ne.min(),u=Be();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,T){const A=xe(p),M=A._s.get(T);return M!==void 0?ne.resolve(A.os.get(M)):A.Ur.getTargetData(_,T)})(a,d,Pi(e)).next((m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(d,m.targetId).next((p=>{u=p}))})).next((()=>a.ss.getDocumentsMatchingQuery(d,e,i?l:Ne.min(),i?u:Be()))).next((m=>(HI(a,MR(e),m),{documents:m,Ts:u})))))}function HI(r,e,i){let a=r.us.get(e)||Ne.min();i.forEach(((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.us.set(e,a)}class Lv{constructor(){this.activeTargetIds=jR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FI{constructor(){this.so=new Lv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,i,a){this.oo[e]=i}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Lv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc=null;function kd(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class YI extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const a=i.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+i.host,this.vo=`projects/${l}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${l}`:`project_id=${l}&database_id=${u}`}get Fo(){return!1}Mo(i,a,l,u,d){const m=kd(),p=this.xo(i,a.toUriEncodedString());he("RestConnection",`Sending RPC '${i}' ${m}:`,p,l);const _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,u,d),this.No(i,p,_,l).then((T=>(he("RestConnection",`Received RPC '${i}' ${m}: `,T),T)),(T=>{throw ao("RestConnection",`RPC '${i}' ${m} failed with error: `,T,"url: ",p,"request:",l),T}))}Lo(i,a,l,u,d,m){return this.Mo(i,a,l,u,d)}Oo(i,a,l){i["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((u,d)=>i[d]=u)),l&&l.headers.forEach(((u,d)=>i[d]=u))}xo(i,a){const l=KI[i];return`${this.Do}/v1/${a}:${l}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,i,a,l){const u=kd();return new Promise(((d,m)=>{const p=new Z0;p.setWithCredentials(!0),p.listenOnce(W0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Lc.NO_ERROR:const T=p.getResponseJson();he(dn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),d(T);break;case Lc.TIMEOUT:he(dn,`RPC '${e}' ${u} timed out`),m(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const A=p.getStatus();if(he(dn,`RPC '${e}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let M=p.getResponseJson();Array.isArray(M)&&(M=M[0]);const P=M==null?void 0:M.error;if(P&&P.status&&P.message){const Q=(function(J){const le=J.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(le)>=0?le:ee.UNKNOWN})(P.status);m(new ce(Q,P.message))}else m(new ce(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{he(dn,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(l);he(dn,`RPC '${e}' ${u} sending request:`,l),p.send(i,"POST",_,a,15)}))}Bo(e,i,a){const l=kd(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=nE(),m=tE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const T=u.join("");he(dn,`Creating RPC '${e}' stream ${l}: ${T}`,p);const A=d.createWebChannel(T,p);let M=!1,P=!1;const Q=new QI({Io:J=>{P?he(dn,`Not sending because RPC '${e}' stream ${l} is closed:`,J):(M||(he(dn,`Opening RPC '${e}' stream ${l} transport.`),A.open(),M=!0),he(dn,`RPC '${e}' stream ${l} sending:`,J),A.send(J))},To:()=>A.close()}),W=(J,le,Ee)=>{J.listen(le,(ge=>{try{Ee(ge)}catch(ye){setTimeout((()=>{throw ye}),0)}}))};return W(A,Sl.EventType.OPEN,(()=>{P||(he(dn,`RPC '${e}' stream ${l} transport opened.`),Q.yo())})),W(A,Sl.EventType.CLOSE,(()=>{P||(P=!0,he(dn,`RPC '${e}' stream ${l} transport closed`),Q.So())})),W(A,Sl.EventType.ERROR,(J=>{P||(P=!0,ao(dn,`RPC '${e}' stream ${l} transport errored:`,J),Q.So(new ce(ee.UNAVAILABLE,"The operation could not be completed")))})),W(A,Sl.EventType.MESSAGE,(J=>{var le;if(!P){const Ee=J.data[0];ct(!!Ee);const ge=Ee,ye=ge.error||((le=ge[0])===null||le===void 0?void 0:le.error);if(ye){he(dn,`RPC '${e}' stream ${l} received error:`,ye);const st=ye.status;let Ie=(function(R){const V=Gt[R];if(V!==void 0)return NE(V)})(st),N=ye.message;Ie===void 0&&(Ie=ee.INTERNAL,N="Unknown error status: "+st+" with message "+ye.message),P=!0,Q.So(new ce(Ie,N)),A.close()}else he(dn,`RPC '${e}' stream ${l} received:`,Ee),Q.bo(Ee)}})),W(m,eE.STAT_EVENT,(J=>{J.stat===Yd.PROXY?he(dn,`RPC '${e}' stream ${l} detected buffering proxy`):J.stat===Yd.NOPROXY&&he(dn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Q.wo()}),0),Q}}function Ld(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(r){return new rI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,i,a=1e3,l=1.5,u=6e4){this.ui=e,this.timerId=i,this.ko=a,this.qo=l,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const i=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),l=Math.max(0,i-a);l>0&&he("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,l,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,i,a,l,u,d,m,p){this.ui=e,this.Ho=a,this.Jo=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new BE(e,i)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,i){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():i&&i.code===ee.RESOURCE_EXHAUSTED?(Er(i.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):i&&i.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(i)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.Yo===i&&this.P_(a,l)}),(a=>{e((()=>{const l=new ce(ee.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(l)}))}))}P_(e,i){const a=this.h_(this.Yo);this.stream=this.T_(e,i),this.stream.Eo((()=>{a((()=>this.listener.Eo()))})),this.stream.Ro((()=>{a((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((l=>{a((()=>this.I_(l)))})),this.stream.onMessage((l=>{a((()=>++this.e_==1?this.E_(l):this.onNext(l)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return i=>{this.ui.enqueueAndForget((()=>this.Yo===e?i():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $I extends qE{constructor(e,i,a,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=u}T_(e,i){return this.connection.Bo("Listen",e,i)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const i=oI(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Ne.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ne.min():d.readTime?ji(d.readTime):Ne.min()})(e);return this.listener.d_(i,a)}A_(e){const i={};i.database=im(this.serializer),i.addTarget=(function(u,d){let m;const p=d.target;if(m=Zd(p)?{documents:cI(u,p)}:{query:hI(u,p)._t},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=OE(u,d.resumeToken);const _=em(u,d.expectedCount);_!==null&&(m.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ne.min())>0){m.readTime=Wc(u,d.snapshotVersion.toTimestamp());const _=em(u,d.expectedCount);_!==null&&(m.expectedCount=_)}return m})(this.serializer,e);const a=dI(this.serializer,e);a&&(i.labels=a),this.a_(i)}R_(e){const i={};i.database=im(this.serializer),i.removeTarget=e,this.a_(i)}}class XI extends qE{constructor(e,i,a,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,i){return this.connection.Bo("Write",e,i)}E_(e){return ct(!!e.streamToken),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const i=uI(e.writeResults,e.commitTime),a=ji(e.commitTime);return this.listener.g_(a,i)}p_(){const e={};e.database=im(this.serializer),this.a_(e)}m_(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>lI(this.serializer,a)))};this.a_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI extends class{}{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.y_=!1}w_(){if(this.y_)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,i,a,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Mo(e,tm(i,a),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(ee.UNKNOWN,u.toString())}))}Lo(e,i,a,l,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,m])=>this.connection.Lo(e,tm(i,a),l,d,m,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(ee.UNKNOWN,d.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class ZI{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Er(i),this.D_=!1):he("OnlineStateTracker",i)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,i,a,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o((d=>{a.enqueueAndForget((async()=>{la(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const _=xe(p);_.L_.add(4),await tu(_),_.q_.set("Unknown"),_.L_.delete(4),await mh(_)})(this))}))})),this.q_=new ZI(a,l)}}async function mh(r){if(la(r))for(const e of r.B_)await e(!0)}async function tu(r){for(const e of r.B_)await e(!1)}function HE(r,e){const i=xe(r);i.N_.has(e.targetId)||(i.N_.set(e.targetId,e),Hm(i)?qm(i):To(i).r_()&&Bm(i,e))}function zm(r,e){const i=xe(r),a=To(i);i.N_.delete(e),a.r_()&&FE(i,e),i.N_.size===0&&(a.r_()?a.o_():la(i)&&i.q_.set("Unknown"))}function Bm(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}To(r).A_(e)}function FE(r,e){r.Q_.xe(e),To(r).R_(e)}function qm(r){r.Q_=new eI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),To(r).start(),r.q_.v_()}function Hm(r){return la(r)&&!To(r).n_()&&r.N_.size>0}function la(r){return xe(r).L_.size===0}function GE(r){r.Q_=void 0}async function eC(r){r.q_.set("Online")}async function tC(r){r.N_.forEach(((e,i)=>{Bm(r,e)}))}async function nC(r,e){GE(r),Hm(r)?(r.q_.M_(e),qm(r)):r.q_.set("Unknown")}async function iC(r,e,i){if(r.q_.set("Online"),e instanceof DE&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const m of u.targetIds)l.N_.has(m)&&(await l.remoteSyncer.rejectListen(m,d),l.N_.delete(m),l.Q_.removeTarget(m))})(r,e)}catch(a){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),await eh(r,a)}else if(e instanceof zc?r.Q_.Ke(e):e instanceof xE?r.Q_.He(e):r.Q_.We(e),!i.isEqual(Ne.min()))try{const a=await zE(r.localStore);i.compareTo(a)>=0&&await(function(u,d){const m=u.Q_.rt(d);return m.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.N_.get(_);T&&u.N_.set(_,T.withResumeToken(p.resumeToken,d))}})),m.targetMismatches.forEach(((p,_)=>{const T=u.N_.get(p);if(!T)return;u.N_.set(p,T.withResumeToken(cn.EMPTY_BYTE_STRING,T.snapshotVersion)),FE(u,p);const A=new ds(T.target,p,_,T.sequenceNumber);Bm(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(r,i)}catch(a){he("RemoteStore","Failed to raise snapshot:",a),await eh(r,a)}}async function eh(r,e,i){if(!Zl(e))throw e;r.L_.add(1),await tu(r),r.q_.set("Offline"),i||(i=()=>zE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he("RemoteStore","Retrying IndexedDB access"),await i(),r.L_.delete(1),await mh(r)}))}function KE(r,e){return e().catch((i=>eh(r,i,e)))}async function gh(r){const e=xe(r),i=Es(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;rC(e);)try{const l=await BI(e.localStore,a);if(l===null){e.O_.length===0&&i.o_();break}a=l.batchId,sC(e,l)}catch(l){await eh(e,l)}QE(e)&&YE(e)}function rC(r){return la(r)&&r.O_.length<10}function sC(r,e){r.O_.push(e);const i=Es(r);i.r_()&&i.V_&&i.m_(e.mutations)}function QE(r){return la(r)&&!Es(r).n_()&&r.O_.length>0}function YE(r){Es(r).start()}async function aC(r){Es(r).p_()}async function oC(r){const e=Es(r);for(const i of r.O_)e.m_(i.mutations)}async function lC(r,e,i){const a=r.O_.shift(),l=Vm.from(a,e,i);await KE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await gh(r)}async function uC(r,e){e&&Es(r).V_&&await(async function(a,l){if((function(d){return JR(d)&&d!==ee.ABORTED})(l.code)){const u=a.O_.shift();Es(a).s_(),await KE(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l))),await gh(a)}})(r,e),QE(r)&&YE(r)}async function jv(r,e){const i=xe(r);i.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const a=la(i);i.L_.add(3),await tu(i),a&&i.q_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.L_.delete(3),await mh(i)}async function cC(r,e){const i=xe(r);e?(i.L_.delete(2),await mh(i)):e||(i.L_.add(2),await tu(i),i.q_.set("Unknown"))}function To(r){return r.K_||(r.K_=(function(i,a,l){const u=xe(i);return u.w_(),new $I(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Eo:eC.bind(null,r),Ro:tC.bind(null,r),mo:nC.bind(null,r),d_:iC.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),Hm(r)?qm(r):r.q_.set("Unknown")):(await r.K_.stop(),GE(r))}))),r.K_}function Es(r){return r.U_||(r.U_=(function(i,a,l){const u=xe(i);return u.w_(),new XI(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:aC.bind(null,r),mo:uC.bind(null,r),f_:oC.bind(null,r),g_:lC.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await gh(r)):(await r.U_.stop(),r.O_.length>0&&(he("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,i,a,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new Ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,u){const d=Date.now()+a,m=new Fm(e,i,d,l,u);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gm(r,e){if(Er("AsyncQueue",`${e}: ${r}`),Zl(r))return new ce(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.comparator=e?(i,a)=>e(i,a)||ve.comparator(i.key,a.key):(i,a)=>ve.comparator(i.key,a.key),this.keyedMap=Al(),this.sortedSet=new Rt(this.comparator)}static emptySet(e){return new io(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new io;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(){this.W_=new Rt(ve.comparator)}track(e){const i=e.doc.key,a=this.W_.get(i);a?e.type!==0&&a.type===3?this.W_=this.W_.insert(i,e):e.type===3&&a.type!==1?this.W_=this.W_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.W_=this.W_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.W_=this.W_.remove(i):e.type===1&&a.type===2?this.W_=this.W_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.W_=this.W_.insert(i,{type:2,doc:e.doc}):Ae():this.W_=this.W_.insert(i,e)}G_(){const e=[];return this.W_.inorderTraversal(((i,a)=>{e.push(a)})),e}}class fo{constructor(e,i,a,l,u,d,m,p,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,l,u){const d=[];return i.forEach((m=>{d.push({type:0,doc:m})})),new fo(e,i,io.emptySet(i),d,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class fC{constructor(){this.queries=Bv(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(i,a){const l=xe(i),u=l.queries;l.queries=Bv(),u.forEach(((d,m)=>{for(const p of m.j_)p.onError(a)}))})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function Bv(){return new Eo((r=>gE(r)),lh)}async function dC(r,e){const i=xe(r);let a=3;const l=e.query;let u=i.queries.get(l);u?!u.H_()&&e.J_()&&(a=2):(u=new hC,a=e.J_()?0:1);try{switch(a){case 0:u.z_=await i.onListen(l,!0);break;case 1:u.z_=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const m=Gm(d,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(m)}i.queries.set(l,u),u.j_.push(e),e.Z_(i.onlineState),u.z_&&e.X_(u.z_)&&Km(i)}async function mC(r,e){const i=xe(r),a=e.query;let l=3;const u=i.queries.get(a);if(u){const d=u.j_.indexOf(e);d>=0&&(u.j_.splice(d,1),u.j_.length===0?l=e.J_()?0:1:!u.H_()&&e.J_()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function gC(r,e){const i=xe(r);let a=!1;for(const l of e){const u=l.query,d=i.queries.get(u);if(d){for(const m of d.j_)m.X_(l)&&(a=!0);d.z_=l}}a&&Km(i)}function pC(r,e,i){const a=xe(r),l=a.queries.get(e);if(l)for(const u of l.j_)u.onError(i);a.queries.delete(e)}function Km(r){r.Y_.forEach((e=>{e.next()}))}var sm,qv;(qv=sm||(sm={})).ea="default",qv.Cache="cache";class yC{constructor(e,i,a){this.query=e,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new fo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.na?this.ia(e)&&(this.ta.next(e),i=!0):this.sa(e,this.onlineState)&&(this.oa(e),i=!0),this.ra=e,i}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),i=!0),i}sa(e,i){if(!e.fromCache||!this.J_())return!0;const a=i!=="Offline";return(!this.options._a||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const i=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}oa(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e){this.key=e}}class XE{constructor(e){this.key=e}}class _C{constructor(e,i){this.query=e,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Be(),this.mutatedKeys=Be(),this.Aa=pE(e),this.Ra=new io(this.Aa)}get Va(){return this.Ta}ma(e,i){const a=i?i.fa:new zv,l=i?i.Ra:this.Ra;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,A)=>{const M=l.get(T),P=uh(this.query,A)?A:null,Q=!!M&&this.mutatedKeys.has(M.key),W=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let J=!1;M&&P?M.data.isEqual(P.data)?Q!==W&&(a.track({type:3,doc:P}),J=!0):this.ga(M,P)||(a.track({type:2,doc:P}),J=!0,(p&&this.Aa(P,p)>0||_&&this.Aa(P,_)<0)&&(m=!0)):!M&&P?(a.track({type:0,doc:P}),J=!0):M&&!P&&(a.track({type:1,doc:M}),J=!0,(p||_)&&(m=!0)),J&&(P?(d=d.add(P),u=W?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),a.track({type:1,doc:T})}return{Ra:d,fa:a,ns:m,mutatedKeys:u}}ga(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const d=e.fa.G_();d.sort(((T,A)=>(function(P,Q){const W=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return W(P)-W(Q)})(T.type,A.type)||this.Aa(T.doc,A.doc))),this.pa(a),l=l!=null&&l;const m=i&&!l?this.ya():[],p=this.da.size===0&&this.current&&!l?1:0,_=p!==this.Ea;return this.Ea=p,d.length!==0||_?{snapshot:new fo(this.query,e.Ra,u,d,e.mutatedKeys,p===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new zv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((i=>this.Ta=this.Ta.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ta=this.Ta.delete(i))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Be(),this.Ra.forEach((a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))}));const i=[];return e.forEach((a=>{this.da.has(a)||i.push(new XE(a))})),this.da.forEach((a=>{e.has(a)||i.push(new $E(a))})),i}ba(e){this.Ta=e.Ts,this.da=Be();const i=this.ma(e.documents);return this.applyChanges(i,!0)}Da(){return fo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class vC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class EC{constructor(e){this.key=e,this.va=!1}}class TC{constructor(e,i,a,l,u,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new Eo((m=>gE(m)),lh),this.Ma=new Map,this.xa=new Set,this.Oa=new Rt(ve.comparator),this.Na=new Map,this.La=new Lm,this.Ba={},this.ka=new Map,this.qa=ho.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function bC(r,e,i=!0){const a=nT(r);let l;const u=a.Fa.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Da()):l=await JE(a,e,i,!0),l}async function SC(r,e){const i=nT(r);await JE(i,e,!0,!1)}async function JE(r,e,i,a){const l=await qI(r.localStore,Pi(e)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,i);let m;return a&&(m=await AC(r,e,u,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&HE(r.remoteStore,l),m}async function AC(r,e,i,a,l){r.Ka=(A,M,P)=>(async function(W,J,le,Ee){let ge=J.view.ma(le);ge.ns&&(ge=await kv(W.localStore,J.query,!1).then((({documents:N})=>J.view.ma(N,ge))));const ye=Ee&&Ee.targetChanges.get(J.targetId),st=Ee&&Ee.targetMismatches.get(J.targetId)!=null,Ie=J.view.applyChanges(ge,W.isPrimaryClient,ye,st);return Fv(W,J.targetId,Ie.wa),Ie.snapshot})(r,A,M,P);const u=await kv(r.localStore,e,!0),d=new _C(e,u.Ts),m=d.ma(u.documents),p=eu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(m,r.isPrimaryClient,p);Fv(r,i,_.wa);const T=new vC(e,i,d);return r.Fa.set(e,T),r.Ma.has(i)?r.Ma.get(i).push(e):r.Ma.set(i,[e]),_.snapshot}async function wC(r,e,i){const a=xe(r),l=a.Fa.get(e),u=a.Ma.get(l.targetId);if(u.length>1)return a.Ma.set(l.targetId,u.filter((d=>!lh(d,e)))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await rm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&zm(a.remoteStore,l.targetId),am(a,l.targetId)})).catch(Jl)):(am(a,l.targetId),await rm(a.localStore,l.targetId,!0))}async function RC(r,e){const i=xe(r),a=i.Fa.get(e),l=i.Ma.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),zm(i.remoteStore,a.targetId))}async function IC(r,e,i){const a=VC(r);try{const l=await(function(d,m){const p=xe(d),_=Yt.now(),T=m.reduce(((P,Q)=>P.add(Q.key)),Be());let A,M;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let Q=Tr(),W=Be();return p.cs.getEntries(P,T).next((J=>{Q=J,Q.forEach(((le,Ee)=>{Ee.isValidDocument()||(W=W.add(le))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,Q))).next((J=>{A=J;const le=[];for(const Ee of m){const ge=KR(Ee,A.get(Ee.key).overlayedDocument);ge!=null&&le.push(new Ts(Ee.key,ge,oE(ge.value.mapValue),_i.exists(!0)))}return p.mutationQueue.addMutationBatch(P,_,le,m)})).next((J=>{M=J;const le=J.applyToLocalDocumentSet(A,W);return p.documentOverlayCache.saveOverlays(P,J.batchId,le)}))})).then((()=>({batchId:M.batchId,changes:_E(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,m,p){let _=d.Ba[d.currentUser.toKey()];_||(_=new Rt(nt)),_=_.insert(m,p),d.Ba[d.currentUser.toKey()]=_})(a,l.batchId,i),await nu(a,l.changes),await gh(a.remoteStore)}catch(l){const u=Gm(l,"Failed to persist write");i.reject(u)}}async function ZE(r,e){const i=xe(r);try{const a=await jI(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=i.Na.get(u);d&&(ct(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.va=!0:l.modifiedDocuments.size>0?ct(d.va):l.removedDocuments.size>0&&(ct(d.va),d.va=!1))})),await nu(i,a,e)}catch(a){await Jl(a)}}function Hv(r,e,i){const a=xe(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Fa.forEach(((u,d)=>{const m=d.view.Z_(e);m.snapshot&&l.push(m.snapshot)})),(function(d,m){const p=xe(d);p.onlineState=m;let _=!1;p.queries.forEach(((T,A)=>{for(const M of A.j_)M.Z_(m)&&(_=!0)})),_&&Km(p)})(a.eventManager,e),l.length&&a.Ca.d_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function CC(r,e,i){const a=xe(r);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Na.get(e),u=l&&l.key;if(u){let d=new Rt(ve.comparator);d=d.insert(u,gn.newNoDocument(u,Ne.min()));const m=Be().add(u),p=new fh(Ne.min(),new Map,new Rt(nt),d,m);await ZE(a,p),a.Oa=a.Oa.remove(u),a.Na.delete(e),Qm(a)}else await rm(a.localStore,e,!1).then((()=>am(a,e,i))).catch(Jl)}async function NC(r,e){const i=xe(r),a=e.batch.batchId;try{const l=await PI(i.localStore,e);eT(i,a,null),WE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await nu(i,l)}catch(l){await Jl(l)}}async function xC(r,e,i){const a=xe(r);try{const l=await(function(d,m){const p=xe(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return p.mutationQueue.lookupMutationBatch(_,m).next((A=>(ct(A!==null),T=A.keys(),p.mutationQueue.removeMutationBatch(_,A)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>p.localDocuments.getDocuments(_,T)))}))})(a.localStore,e);eT(a,e,i),WE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await nu(a,l)}catch(l){await Jl(l)}}function WE(r,e){(r.ka.get(e)||[]).forEach((i=>{i.resolve()})),r.ka.delete(e)}function eT(r,e,i){const a=xe(r);let l=a.Ba[a.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),a.Ba[a.currentUser.toKey()]=l}}function am(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Ma.get(e))r.Fa.delete(a),i&&r.Ca.$a(a,i);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((a=>{r.La.containsKey(a)||tT(r,a)}))}function tT(r,e){r.xa.delete(e.path.canonicalString());const i=r.Oa.get(e);i!==null&&(zm(r.remoteStore,i),r.Oa=r.Oa.remove(e),r.Na.delete(i),Qm(r))}function Fv(r,e,i){for(const a of i)a instanceof $E?(r.La.addReference(a.key,e),DC(r,a)):a instanceof XE?(he("SyncEngine","Document no longer in limbo: "+a.key),r.La.removeReference(a.key,e),r.La.containsKey(a.key)||tT(r,a.key)):Ae()}function DC(r,e){const i=e.key,a=i.path.canonicalString();r.Oa.get(i)||r.xa.has(a)||(he("SyncEngine","New document in limbo: "+i),r.xa.add(a),Qm(r))}function Qm(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const i=new ve(Tt.fromString(e)),a=r.qa.next();r.Na.set(a,new EC(i)),r.Oa=r.Oa.insert(i,a),HE(r.remoteStore,new ds(Pi(Om(i.path)),a,"TargetPurposeLimboResolution",Rm.oe))}}async function nu(r,e,i){const a=xe(r),l=[],u=[],d=[];a.Fa.isEmpty()||(a.Fa.forEach(((m,p)=>{d.push(a.Ka(p,e,i).then((_=>{var T;if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:(T=i==null?void 0:i.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;a.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(_){l.push(_);const A=jm.Wi(p.targetId,_);u.push(A)}})))})),await Promise.all(d),a.Ca.d_(l),await(async function(p,_){const T=xe(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>ne.forEach(_,(M=>ne.forEach(M.$i,(P=>T.persistence.referenceDelegate.addReference(A,M.targetId,P))).next((()=>ne.forEach(M.Ui,(P=>T.persistence.referenceDelegate.removeReference(A,M.targetId,P)))))))))}catch(A){if(!Zl(A))throw A;he("LocalStore","Failed to update sequence numbers: "+A)}for(const A of _){const M=A.targetId;if(!A.fromCache){const P=T.os.get(M),Q=P.snapshotVersion,W=P.withLastLimboFreeSnapshotVersion(Q);T.os=T.os.insert(M,W)}}})(a.localStore,u))}async function OC(r,e){const i=xe(r);if(!i.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const a=await jE(i.localStore,e);i.currentUser=e,(function(u,d){u.ka.forEach((m=>{m.forEach((p=>{p.reject(new ce(ee.CANCELLED,d))}))})),u.ka.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await nu(i,a.hs)}}function MC(r,e){const i=xe(r),a=i.Na.get(e);if(a&&a.va)return Be().add(a.key);{let l=Be();const u=i.Ma.get(e);if(!u)return l;for(const d of u){const m=i.Fa.get(d);l=l.unionWith(m.view.Va)}return l}}function nT(r){const e=xe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CC.bind(null,e),e.Ca.d_=gC.bind(null,e.eventManager),e.Ca.$a=pC.bind(null,e.eventManager),e}function VC(r){const e=xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xC.bind(null,e),e}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,i){return null}Ha(e,i){return null}za(e){return LI(this.persistence,new UI,e.initialUser,this.serializer)}Ga(e){return new OI(Pm.Zr,this.serializer)}Wa(e){return new FI}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class om{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Hv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=OC.bind(null,this.syncEngine),await cC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fC})()}createDatastore(e){const i=dh(e.databaseInfo.databaseId),a=(function(u){return new YI(u)})(e.databaseInfo);return(function(u,d,m,p){return new JI(u,d,m,p)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,u,d,m){return new WI(a,l,u,d,m)})(this.localStore,this.datastore,e.asyncQueue,(i=>Hv(this.syncEngine,i,0)),(function(){return Pv.D()?new Pv:new GI})())}createSyncEngine(e,i){return(function(l,u,d,m,p,_,T){const A=new TC(l,u,d,m,p,_);return T&&(A.Qa=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(l){const u=xe(l);he("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await tu(u),u.k_.shutdown(),u.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}om.provider={build:()=>new om};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,i,a,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=mn.UNAUTHENTICATED,this.clientId=rE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async d=>{he("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(he("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Gm(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Pd(r,e){r.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await jE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Gv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await LC(r);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>jv(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>jv(e.remoteStore,l))),r._onlineComponents=e}async function LC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await Pd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ee.FAILED_PRECONDITION||l.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ao("Error using user provided cache. Falling back to memory cache: "+i),await Pd(r,new th)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await Pd(r,new th);return r._offlineComponents}async function iT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await Gv(r,r._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await Gv(r,new om))),r._onlineComponents}function PC(r){return iT(r).then((e=>e.syncEngine))}async function Kv(r){const e=await iT(r),i=e.eventManager;return i.onListen=bC.bind(null,e.syncEngine),i.onUnlisten=wC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=SC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=RC.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(r,e,i){if(!i)throw new ce(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function jC(r,e,i,a){if(e===!0&&a===!0)throw new ce(ee.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Yv(r){if(!ve.isDocumentKey(r))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $v(r){if(ve.isDocumentKey(r))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ph(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ae()}function yr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ph(r);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rT((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yh{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xv(e),e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new tR;switch(a.type){case"firstParty":return new sR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Qv.get(i);a&&(he("ComponentProvider","Removing Datastore"),Qv.delete(i),a.terminate())})(this),Promise.resolve()}}function zC(r,e,i,a={}){var l;const u=(r=yr(r,yh))._getSettings(),d=`${e}:${i}`;if(u.host!=="firestore.googleapis.com"&&u.host!==d&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:d,ssl:!1})),a.mockUserToken){let m,p;if(typeof a.mockUserToken=="string")m=a.mockUserToken,p=mn.MOCK_USER;else{m=mS(a.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const _=a.mockUserToken.sub||a.mockUserToken.user_id;if(!_)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new mn(_)}r._authCredentials=new nR(new iE(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new bs(this.firestore,e,this._query)}}class Rn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class ys extends bs{constructor(e,i,a){super(e,i,Om(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new ve(e))}withConverter(e){return new ys(this.firestore,e,this._path)}}function ro(r,e,...i){if(r=$t(r),sT("collection","path",e),r instanceof yh){const a=Tt.fromString(e,...i);return $v(a),new ys(r,null,a)}{if(!(r instanceof Rn||r instanceof ys))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Tt.fromString(e,...i));return $v(a),new ys(r.firestore,null,a)}}function wn(r,e,...i){if(r=$t(r),arguments.length===1&&(e=rE.newId()),sT("doc","path",e),r instanceof yh){const a=Tt.fromString(e,...i);return Yv(a),new Rn(r,null,new ve(a))}{if(!(r instanceof Rn||r instanceof ys))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Tt.fromString(e,...i));return Yv(a),new Rn(r.firestore,r instanceof ys?r.converter:null,new ve(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new BE(this,"async_queue_retry"),this.Vu=()=>{const a=Ld();a&&he("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const i=Ld();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const i=Ld();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const i=new Ws;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Zl(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const i=this.mu.then((()=>(this.du=!0,e().catch((a=>{this.Eu=a,this.du=!1;const l=(function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),m})(a);throw Er("INTERNAL UNHANDLED ERROR: ",l),a})).then((a=>(this.du=!1,a))))));return this.mu=i,i}enqueueAfterDelay(e,i,a){this.fu(),this.Ru.indexOf(e)>-1&&(i=0);const l=Fm.createAndSchedule(this,e,i,a,(u=>this.yu(u)));return this.Tu.push(l),l}fu(){this.Eu&&Ae()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const i of this.Tu)if(i.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.Tu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const i=this.Tu.indexOf(e);this.Tu.splice(i,1)}}function Zv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of a)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class mo extends yh{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new Jv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Jv(e),this._firestoreClient=void 0,await e}}}function BC(r,e){const i=typeof r=="object"?r:m0(),a=typeof r=="string"?r:"(default)",l=gm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=fS("firestore");u&&zC(l,...u)}return l}function aT(r){if(r._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||qC(r),r._firestoreClient}function qC(r){var e,i,a;const l=r._freezeSettings(),u=(function(m,p,_,T){return new _R(m,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,rT(T.experimentalLongPollingOptions),T.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new kC(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new go(cn.fromBase64String(e))}catch(i){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new go(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=/^__.*__$/;class FC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,i,this.fieldTransforms):new Wl(e,this.data,i,this.fieldTransforms)}}class oT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Ts(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function lT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class vh{constructor(e,i,a,l,u,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new vh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),l=this.Fu({path:a,xu:!1});return l.Ou(e),l}Nu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),l=this.Fu({path:a,xu:!1});return l.vu(),l}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return nh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(lT(this.Cu)&&HC.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class GC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||dh(e)}Qu(e,i,a,l=!1){return new vh({Cu:e,methodName:i,qu:a,path:ln.emptyPath(),xu:!1,ku:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eh(r){const e=r._freezeSettings(),i=dh(r._databaseId);return new GC(r._databaseId,!!e.ignoreUndefinedProperties,i)}function uT(r,e,i,a,l,u={}){const d=r.Qu(u.merge||u.mergeFields?2:0,e,i,l);Zm("Data must be an object, but it was:",d,a);const m=cT(a,d);let p,_;if(u.merge)p=new Xn(d.fieldMask),_=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const M=lm(e,A,i);if(!d.contains(M))throw new ce(ee.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);fT(T,M)||T.push(M)}p=new Xn(T),_=d.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,_=d.fieldTransforms;return new FC(new Ln(m),p,_)}class Th extends iu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Th}}function KC(r,e,i){return new vh({Cu:3,qu:e.settings.qu,methodName:r._methodName,xu:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Xm extends iu{_toFieldTransform(e){return new wE(e.path,new Hl)}isEqual(e){return e instanceof Xm}}class Jm extends iu{constructor(e,i){super(e),this.Ku=i}_toFieldTransform(e){const i=KC(this,e,!0),a=this.Ku.map((u=>bo(u,i))),l=new co(a);return new wE(e.path,l)}isEqual(e){return e instanceof Jm&&Vl(this.Ku,e.Ku)}}function QC(r,e,i,a){const l=r.Qu(1,e,i);Zm("Data must be an object, but it was:",l,a);const u=[],d=Ln.empty();oa(a,((p,_)=>{const T=Wm(e,p,i);_=$t(_);const A=l.Nu(T);if(_ instanceof Th)u.push(T);else{const M=bo(_,A);M!=null&&(u.push(T),d.set(T,M))}}));const m=new Xn(u);return new oT(d,m,l.fieldTransforms)}function YC(r,e,i,a,l,u){const d=r.Qu(1,e,i),m=[lm(e,a,i)],p=[l];if(u.length%2!=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<u.length;M+=2)m.push(lm(e,u[M])),p.push(u[M+1]);const _=[],T=Ln.empty();for(let M=m.length-1;M>=0;--M)if(!fT(_,m[M])){const P=m[M];let Q=p[M];Q=$t(Q);const W=d.Nu(P);if(Q instanceof Th)_.push(P);else{const J=bo(Q,W);J!=null&&(_.push(P),T.set(P,J))}}const A=new Xn(_);return new oT(T,A,d.fieldTransforms)}function $C(r,e,i,a=!1){return bo(i,r.Qu(a?4:3,e))}function bo(r,e){if(hT(r=$t(r)))return Zm("Unsupported field value:",e,r),cT(r,e);if(r instanceof iu)return(function(a,l){if(!lT(l.Cu))throw l.Bu(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Bu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(a,l){const u=[];let d=0;for(const m of a){let p=bo(m,l.Lu(d));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),d++}return{arrayValue:{values:u}}})(r,e)}return(function(a,l){if((a=$t(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return zR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Yt.fromDate(a);return{timestampValue:Wc(l.serializer,u)}}if(a instanceof Yt){const u=new Yt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Wc(l.serializer,u)}}if(a instanceof Ym)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof go)return{bytesValue:OE(l.serializer,a._byteString)};if(a instanceof Rn){const u=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw l.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:km(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof $m)return(function(d,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw m.Bu("VectorValues must only contain numeric values.");return Mm(m.serializer,p)}))}}}}}})(a,l);throw l.Bu(`Unsupported field value: ${ph(a)}`)})(r,e)}function cT(r,e){const i={};return sE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oa(r,((a,l)=>{const u=bo(l,e.Mu(a));u!=null&&(i[a]=u)})),{mapValue:{fields:i}}}function hT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Yt||r instanceof Ym||r instanceof go||r instanceof Rn||r instanceof iu||r instanceof $m)}function Zm(r,e,i){if(!hT(i)||!(function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)})(i)){const a=ph(i);throw a==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+a)}}function lm(r,e,i){if((e=$t(e))instanceof _h)return e._internalPath;if(typeof e=="string")return Wm(r,e);throw nh("Field path arguments must be of type string or ",r,!1,void 0,i)}const XC=new RegExp("[~\\*/\\[\\]]");function Wm(r,e,i){if(e.search(XC)>=0)throw nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new _h(...e.split("."))._internalPath}catch{throw nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function nh(r,e,i,a,l){const u=a&&!a.isEmpty(),d=l!==void 0;let m=`Function ${e}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||d)&&(p+=" (found",u&&(p+=` in field ${a}`),d&&(p+=` in document ${l}`),p+=")"),new ce(ee.INVALID_ARGUMENT,m+r+p)}function fT(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,i,a,l,u){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(eg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class JC extends dT{data(){return super.data()}}function eg(r,e){return typeof e=="string"?Wm(r,e):e instanceof _h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tg{}class ng extends tg{}function um(r,e,...i){let a=[];e instanceof tg&&a.push(e),a=a.concat(i),(function(u){const d=u.filter((p=>p instanceof rg)).length,m=u.filter((p=>p instanceof ig)).length;if(d>1||d>0&&m>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class ig extends ng{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new ig(e,i,a)}_apply(e){const i=this._parse(e);return gT(e._query,i),new bs(e.firestore,e.converter,Wd(e._query,i))}_parse(e){const i=Eh(e.firestore);return(function(u,d,m,p,_,T,A){let M;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){e0(A,T);const P=[];for(const Q of A)P.push(Wv(p,u,Q));M={arrayValue:{values:P}}}else M=Wv(p,u,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||e0(A,T),M=$C(m,d,A,T==="in"||T==="not-in");return Kt.create(_,T,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class rg extends tg{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new rg(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Ei.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,u){let d=l;const m=u.getFlattenedFilters();for(const p of m)gT(d,p),d=Wd(d,p)})(e._query,i),new bs(e.firestore,e.converter,Wd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sg extends ng{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new sg(e,i)}_apply(e){const i=(function(l,u,d){if(l.startAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ql(u,d)})(e._query,this._field,this._direction);return new bs(e.firestore,e.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new vo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function mT(r,e="asc"){const i=e,a=eg("orderBy",r);return sg._create(a,i)}class ag extends ng{constructor(e,i,a){super(),this.type=e,this._limit=i,this._limitType=a}static _create(e,i,a){return new ag(e,i,a)}_apply(e){return new bs(e.firestore,e.converter,Jc(e._query,this._limit,this._limitType))}}function WC(r){return ag._create("limit",r,"F")}function Wv(r,e,i){if(typeof(i=$t(i))=="string"){if(i==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mE(e)&&i.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Tt.fromString(i));if(!ve.isDocumentKey(a))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return vv(r,new ve(a))}if(i instanceof Rn)return vv(r,i._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ph(i)}.`)}function e0(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gT(r,e){const i=(function(l,u){for(const d of l)for(const m of d.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class eN{convertValue(e,i="none"){switch(sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return oa(e,((l,u)=>{a[l]=this.convertValue(u,i)})),a}convertVectorValue(e){var i,a,l;const u=(l=(a=(i=e.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map((d=>Pt(d.doubleValue)));return new $m(u)}convertGeoPoint(e){return new Ym(Pt(e.latitude),Pt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Cm(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const i=vs(e);return new Yt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Tt.fromString(e);ct(PE(a));const l=new zl(a.get(1),a.get(3)),u=new ve(a.popFirst(5));return l.isEqual(i)||Er(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(r,e,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yT extends dT{constructor(e,i,a,l,u,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(eg("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Bc extends yT{data(e={}){return super.data(e)}}class tN{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Rl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new Rl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((m=>{const p=new Bc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Rl(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Bc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Rl(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return m.type!==0&&(_=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),T=d.indexOf(m.doc.key)),{type:nN(m.type),doc:p,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function nN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}class _T extends eN{constructor(e){super(),this.firestore=e}convertBytes(e){return new go(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,i)}}function Ml(r,e,i){r=yr(r,Rn);const a=yr(r.firestore,mo),l=pT(r.converter,e,i);return lg(a,[uT(Eh(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,_i.none())])}function Vi(r,e,i,...a){r=yr(r,Rn);const l=yr(r.firestore,mo),u=Eh(l);let d;return d=typeof(e=$t(e))=="string"||e instanceof _h?YC(u,"updateDoc",r._key,e,i,a):QC(u,"updateDoc",r._key,e),lg(l,[d.toMutation(r._key,_i.exists(!0))])}function og(r,e){const i=yr(r.firestore,mo),a=wn(r),l=pT(r.converter,e);return lg(i,[uT(Eh(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,_i.exists(!1))]).then((()=>a))}function Il(r,...e){var i,a,l;r=$t(r);let u={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||Zv(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Zv(e[d])){const A=e[d];e[d]=(i=A.next)===null||i===void 0?void 0:i.bind(A),e[d+1]=(a=A.error)===null||a===void 0?void 0:a.bind(A),e[d+2]=(l=A.complete)===null||l===void 0?void 0:l.bind(A)}let p,_,T;if(r instanceof Rn)_=yr(r.firestore,mo),T=Om(r._key.path),p={next:A=>{e[d]&&e[d](iN(_,r,A))},error:e[d+1],complete:e[d+2]};else{const A=yr(r,bs);_=yr(A.firestore,mo),T=A._query;const M=new _T(_);p={next:P=>{e[d]&&e[d](new tN(_,M,A,P))},error:e[d+1],complete:e[d+2]},ZC(r._query)}return(function(M,P,Q,W){const J=new UC(W),le=new yC(P,J,Q);return M.asyncQueue.enqueueAndForget((async()=>dC(await Kv(M),le))),()=>{J.Za(),M.asyncQueue.enqueueAndForget((async()=>mC(await Kv(M),le)))}})(aT(_),T,m,p)}function lg(r,e){return(function(a,l){const u=new Ws;return a.asyncQueue.enqueueAndForget((async()=>IC(await PC(a),l,u))),u.promise})(aT(r),e)}function iN(r,e,i){const a=i.docs.get(e._key),l=new _T(r);return new yT(r,l,e._key,a,new Rl(i.hasPendingWrites,i.fromCache),e.converter)}function rN(){return new Xm("serverTimestamp")}function t0(...r){return new Jm("arrayUnion",r)}(function(e,i=!0){(function(l){_o=l})(po),so(new ea("firestore",((a,{instanceIdentifier:l,options:u})=>{const d=a.getProvider("app").getImmediate(),m=new mo(new iR(a.getProvider("auth-internal")),new oR(a.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(_.options.projectId,T)})(d,l),d);return u=Object.assign({useFetchStreams:i},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ps(mv,"4.7.3",e),ps(mv,"4.7.3","esm2017")})();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vT=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=pe.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:u,iconNode:d,...m},p)=>pe.createElement("svg",{ref:p,...aN,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:vT("lucide",l),...m},[...d.map(([_,T])=>pe.createElement(_,T)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=(r,e)=>{const i=pe.forwardRef(({className:a,...l},u)=>pe.createElement(oN,{ref:u,iconNode:e,className:vT(`lucide-${sN(r)}`,a),...l}));return i.displayName=`${r}`,i};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=Ti("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=Ti("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=Ti("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=Ti("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=Ti("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=Ti("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=Ti("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=Ti("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=Ti("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=Ti("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=Ti("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mN=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{},ut=typeof __app_id<"u"?__app_id:"default-doof-crew";function gN(){const r=typeof __shared_mode<"u"?!!__shared_mode:!0,[e,i]=pe.useState(null),[a,l]=pe.useState(null),[u,d]=pe.useState(null),[m,p]=pe.useState(!1),[_,T]=pe.useState([]),[A,M]=pe.useState(null),[P,Q]=pe.useState(null),[W,J]=pe.useState(null),[le,Ee]=pe.useState(null),[ge,ye]=pe.useState(!1),[st,Ie]=pe.useState(!1),[N,w]=pe.useState(null),[R,V]=pe.useState([]),[U,x]=pe.useState(!1),[I,it]=pe.useState(""),[ht,q]=pe.useState(!1),[ie,ae]=pe.useState(null),[Ke,qe]=pe.useState(!1),[D,G]=pe.useState(0),[X,oe]=pe.useState(null),[me,De]=pe.useState(null),[Ve,jt]=pe.useState(null),[Qe,In]=pe.useState("mainStage"),[yn,bi]=pe.useState("single"),[Pn,Cn]=pe.useState(!1),[At,hi]=pe.useState([]);pe.useEffect(()=>{try{const Z=d0(mN),te=W1(Z),se=BC(Z);i(se),l(te);const fe=qw(te,async we=>{if(we){d(we.uid),w(we.email||null),p(!0);return}d(null),p(!0)});return()=>fe()}catch(Z){console.error("Error initializing Firebase:",Z),ae("Failed to initialize application. Invalid configuration.")}},[]),pe.useEffect(()=>{if(!m||!e||!u)return;const Z=r?`apps/${ut}`:`users/${u}/apps/${ut}`,te=`${Z}/djs`,se=um(ro(e,te)),fe=Il(se,be=>{const Re=[];be.forEach(Xe=>{Re.push({id:Xe.id,...Xe.data()})}),T(Re)},be=>{console.error("Error listening to DJs:",be),ae("Failed to load DJ list.")}),we=(be,Re,Xe)=>{const Nt=`${Z}/schedule/${Re}`,gt=wn(e,Nt);return Il(gt,async Ye=>{var Ze;if(Ye.exists())Xe(Ye.data()),qe(!1);else try{const Je=i0(be);await Ml(gt,Je),Xe(Je),qe(!1)}catch(Je){console.error(`Error creating ${be} schedule:`,Je);try{(Ze=window.firebaseOpsAgent)==null||Ze.log({level:"error",type:"schedule.create.error",code:(Je==null?void 0:Je.code)||"",message:(Je==null?void 0:Je.message)||"",path:Nt})}catch{}ae(`Failed to initialize ${be} schedule.`),qe(!0)}},Ye=>{var Je;console.error(`Error listening to ${be} schedule:`,Ye);try{(Je=window.firebaseOpsAgent)==null||Je.log({level:"error",type:"schedule.listen.error",code:(Ye==null?void 0:Ye.code)||"",message:(Ye==null?void 0:Ye.message)||"",path:Nt})}catch{}const Ze=(Ye==null?void 0:Ye.code)||"";Ze.includes("permission")||Ze.includes("denied")?ae(`Failed to load ${be} schedule (permission denied). Path: ${Nt}`):ae(`Failed to load ${be} schedule.`),qe(!0)})},Ct=we("Temple","mainStage",M),Oe=we("Dub","dubPub",Q),Hi=we("Techno","technoHub",J),vn=ro(e,`${Z}/todos`),Wn=um(vn,mT("createdAt","desc")),Vt=Il(Wn,be=>{const Re=[];be.forEach(Xe=>{Re.push({id:Xe.id,...Xe.data()})}),V(Re)},be=>{console.error("Error listening to todos:",be)}),yt=wn(e,`${Z}/meta/app`);Ml(yt,{ownerUid:u,appId:ut,createdAt:new Date().toISOString(),allowedAdminEmails:[],allowedAdminUids:[]},{merge:!0}).catch(be=>{console.warn("Could not ensure crew meta doc",be)});const He=Il(yt,be=>{const Re=be.data(),Xe=Re==null?void 0:Re.ownerUid,Nt=(Re==null?void 0:Re.allowedAdminEmails)||[],gt=(Re==null?void 0:Re.allowedAdminUids)||[],Ye=Xe===u||!!N&&Nt.includes(N)||gt.includes(u);Ie(Ye)});return()=>{fe(),Ct(),Oe(),Hi(),Vt(),He&&He()}},[m,e,u,N]);const Bi=Z=>{Ee(Z),ye(!0)},ua=()=>{ye(!1),Ee(null)},Jn=(Z,te)=>{Z.dataTransfer.setData("application/json",JSON.stringify(te)),Z.dataTransfer.effectAllowed="move",jt(te),oe(null),De(null)},jn=Z=>{Z.preventDefault(),Z.dataTransfer.dropEffect="move"},Zn=Z=>{Z.preventDefault(),G(te=>te+1)},wr=(Z,te)=>{Z.preventDefault(),G(se=>se+1),oe(se=>se===null?Ve&&(Ve.from==="slot"||Ve.from==="resize")&&typeof Ve.slotIndex=="number"?Ve.slotIndex:te:se),De(te)},fi=Z=>{Z.preventDefault(),G(te=>te-1)},It=async(Z,te,se)=>{Z.preventDefault(),G(0),q(!0);try{const fe=JSON.parse(Z.dataTransfer.getData("application/json")),we=se||Qe,Ct=we==="mainStage"?A:we==="dubPub"?P:W;if(!Ct)return;const Oe=[...Ct.timeSlots],Hi=wn(e,`${r?`apps/${ut}`:`users/${u}/apps/${ut}`}/schedule/${we}`),vn=fe.from==="resize",Wn=X!==null&&me!==null&&(Z.shiftKey||vn),Vt=yt=>{let He=Math.min(X,te,me),be=Math.max(X,te,me);const Re=fe.from==="pool",Xe=Re?fe.dj.id:fe.djId,Nt=Re?fe.dj.djName:fe.djName;if(vn&&typeof fe.slotIndex=="number"){const gt=fe.slotIndex;fe.direction==="right"?te<gt?(He=gt,be=gt):(He=gt,be=Math.max(gt,te)):fe.direction==="left"&&(te>gt?(He=gt,be=gt):(He=Math.min(gt,te),be=gt))}for(let gt=He;gt<=be;gt++){const Ye={...Oe[gt]};if(yt)if(Ye.djId&&Ye.djId!==Xe){const Ze=Array.isArray(Ye.guests)?[...Ye.guests]:[];Ze.find(Je=>Je.djId===Xe)||Ze.push({djId:Xe,djName:Nt}),Oe[gt]={...Ye,guests:Ze}}else Oe[gt]={...Ye,djId:Xe,djName:Nt};else Oe[gt]={...Ye,djId:Xe,djName:Nt}}};if(Wn)Vt(vn?!1:Z.altKey);else if(fe.from==="pool"){const yt=fe.dj.id,He=fe.dj.djName,be=Oe.findIndex(Re=>Re.djId===yt);if(be>-1){const Re={...Oe[te]};Oe[te]={...Oe[te],djId:yt,djName:He},Oe[be]={...Oe[be],djId:Re.djId,djName:Re.djName}}else{const Re={...Oe[te]};if(Re.djId&&Re.djId!==yt){const Xe=Array.isArray(Re.guests)?[...Re.guests]:[];Xe.find(Nt=>Nt.djId===yt)||Xe.push({djId:yt,djName:He}),Oe[te]={...Re,guests:Xe}}else Oe[te]={...Re,djId:yt,djName:He}}}else if(fe.from==="slot"){const yt=fe.slotIndex;if(yt===te)return;if(Z.shiftKey){const He=Math.min(yt,te),be=Math.max(yt,te),Re={...Oe[yt]};for(let Xe=He;Xe<=be;Xe++)Oe[Xe]={...Oe[Xe],djId:Re.djId,djName:Re.djName}}else if(Z.altKey){const He={...Oe[yt]},be={...Oe[te]};if(be.djId&&be.djId!==He.djId){const Re=Array.isArray(be.guests)?[...be.guests]:[];He.djId&&!Re.find(Xe=>Xe.djId===He.djId)&&(Re.push({djId:He.djId,djName:He.djName||""}),Oe[te]={...be,guests:Re})}else Oe[te]={...be,djId:He.djId,djName:He.djName}}else{const He={...Oe[yt]},be={...Oe[te]};Oe[te]={...be,djId:He.djId,djName:He.djName},Oe[yt]={...He,djId:be.djId,djName:be.djName}}}await Vi(Hi,{timeSlots:Oe})}catch(fe){console.error("Error handling drop on slot:",fe),ae("Failed to update schedule.")}finally{q(!1),oe(null),De(null),jt(null)}},ca=async Z=>{Z.preventDefault(),G(0),q(!0);try{const te=JSON.parse(Z.dataTransfer.getData("application/json"));if(te.from==="slot"){const se=te.slotIndex,fe=te.stage||Qe,we=fe==="mainStage"?A:fe==="dubPub"?P:W;if(!we)return;const Ct=[...we.timeSlots];Ct[se]={...Ct[se],djId:null,djName:null};const Oe=wn(e,`${r?`apps/${ut}`:`users/${u}/apps/${ut}`}/schedule/${fe}`);await Vi(Oe,{timeSlots:Ct})}}catch(te){console.error("Error unassigning DJ:",te),ae("Failed to update schedule.")}finally{q(!1)}},bt=async Z=>{var te;if(window.confirm("Clear all slot assignments and return all DJs to the unassigned pool?")){q(!0);try{const se=Z||Qe,fe=se==="mainStage"?A:se==="dubPub"?P:W;if(!fe)return;const we=wn(e,`${r?`apps/${ut}`:`users/${u}/apps/${ut}`}/schedule/${se}`),Ct=fe.timeSlots.map(Oe=>({time:Oe.time,djId:null,djName:null}));await Vi(we,{timeSlots:Ct})}catch(se){console.error("Error resetting schedule:",se);const fe=(se==null?void 0:se.code)||"";fe.includes("permission")||fe.includes("denied")?ae("Failed to reset schedule (permission denied). Please verify you have write access."):ae("Failed to reset schedule: "+((se==null?void 0:se.message)||"Unknown error"));try{(te=window.firebaseOpsAgent)==null||te.log({level:"error",type:"schedule.reset.error",code:fe,message:(se==null?void 0:se.message)||""})}catch{}}finally{q(!1)}}},wt=()=>{Cn(!Pn),hi([])},Nn=Z=>{Pn&&(At.includes(Z)?hi(At.filter(te=>te!==Z)):hi([...At,Z].sort((te,se)=>te-se)))},qi=async()=>{if(At.length<2){alert("Please select at least 2 adjacent slots to merge.");return}for(let te=0;te<At.length-1;te++)if(At[te+1]!==At[te]+1){alert("Please select adjacent slots only.");return}const Z=Ss();if(Z){q(!0);try{const te=[...Z.timeSlots],se=At[0];te[se]={...te[se],isMergedStart:!0,mergedCount:At.length};for(let fe=1;fe<At.length;fe++){const we=At[fe];te[we]={...te[we],mergedWith:se}}await Ai(te),hi([]),Cn(!1)}catch(te){console.error("Error merging slots:",te),ae("Failed to merge slots.")}finally{q(!1)}}},Si=async Z=>{const te=Ss();if(te){q(!0);try{const se=[...te.timeSlots],fe=se[Z];if(fe.isMergedStart&&fe.mergedCount){delete se[Z].isMergedStart,delete se[Z].mergedCount;for(let we=Z+1;we<Z+fe.mergedCount;we++)delete se[we].mergedWith}else if(fe.mergedWith!==void 0){const we=fe.mergedWith,Ct=se[we];if(Ct.mergedCount){delete se[we].isMergedStart,delete se[we].mergedCount;for(let Oe=we+1;Oe<we+Ct.mergedCount;Oe++)delete se[Oe].mergedWith}}await Ai(se)}catch(se){console.error("Error unmerging slot:",se),ae("Failed to unmerge slot.")}finally{q(!1)}}},Ss=()=>{if(yn==="multi")return A;switch(Qe){case"mainStage":return A;case"dubPub":return P;case"technoHub":return W;default:return A}},Ai=async Z=>{const te=Qe,se=wn(e,`${r?`apps/${ut}`:`users/${u}/apps/${ut}`}/schedule/${te}`);await Vi(se,{timeSlots:Z})},zn=async(Z,te)=>{const se=wn(e,`${r?`apps/${ut}`:`users/${u}/apps/${ut}`}/schedule/${Z}`);await Vi(se,{name:te})},Mt=async(Z,te)=>{if(window.confirm("Remove all overlapping DJs from this slot?")){q(!0);try{const se=te==="mainStage"?A:te==="dubPub"?P:W;if(!se)return;const fe=[...se.timeSlots];fe[Z]={...fe[Z],guests:[]};const we=wn(e,`${r?`apps/${ut}`:`users/${u}/apps/${ut}`}/schedule/${te}`);await Vi(we,{timeSlots:fe})}catch(se){console.error("Error clearing guests:",se),ae("Failed to clear guests.")}finally{q(!1)}}},_n=async()=>{if(!(!I.trim()||!e||!u))try{const Z=r?`apps/${ut}`:`users/${u}/apps/${ut}`,te=ro(e,`${Z}/todos`);await og(te,{text:I.trim(),completed:!1,createdAt:new Date().toISOString(),createdBy:N||u}),it("")}catch(Z){console.error("Error adding todo:",Z)}},tn=async(Z,te)=>{if(e)try{const se=r?`apps/${ut}`:`users/${u}/apps/${ut}`,fe=wn(e,`${se}/todos/${Z}`);await Vi(fe,{completed:!te,completedAt:te?null:new Date().toISOString()})}catch(se){console.error("Error toggling todo:",se)}},So=async Z=>{if(window.confirm("Delete this todo?")&&e)try{const te=r?`apps/${ut}`:`users/${u}/apps/${ut}`,se=wn(e,`${te}/todos/${Z}`);await Vi(se,{deleted:!0})}catch(te){console.error("Error deleting todo:",te)}},As=new Set(((A==null?void 0:A.timeSlots)||[]).flatMap(Z=>[...Z.djId?[Z.djId]:[],...(Z.guests||[]).map(te=>te.djId)])),ha=_.filter(Z=>!As.has(Z.id));return m?m&&!u?S.jsx(_N,{auth:a,db:e,appId:ut}):A?S.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 font-sans p-4 md:p-8",children:[S.jsxs("header",{className:"mb-6",children:[S.jsx("h1",{className:"text-4xl font-bold text-center text-blue-400",children:" DoofDJs"}),S.jsx("p",{className:"text-center text-gray-400 text-sm mt-1",children:"Festival DJ Scheduling System"}),u&&S.jsxs("div",{className:"text-center text-sm text-gray-400 mt-2 flex flex-col items-center gap-1",children:[S.jsxs("p",{children:["Share this User ID with your crew: ",S.jsx("code",{className:"bg-gray-700 p-1 rounded-md",children:u})]}),st&&S.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-green-800 text-green-200 text-xs uppercase tracking-wide",children:"Admin"}),S.jsxs("div",{className:"mt-2 flex gap-2",children:[S.jsx("a",{href:"/hub.html",className:"inline-block py-1.5 px-3 bg-indigo-600 hover:bg-indigo-700 rounded-md text-white",children:"Enter the Portal"}),S.jsxs("button",{onClick:()=>x(!U),className:"py-1.5 px-3 bg-purple-600 hover:bg-purple-700 rounded-md text-white flex items-center gap-2",children:[" Notes (",R.filter(Z=>!Z.completed).length,")"]})]})]})]}),ie&&S.jsxs("div",{className:"bg-red-800 border border-red-600 text-white p-4 rounded-lg mb-6 flex items-center",children:[S.jsx(cm,{className:"w-5 h-5 mr-3"}),S.jsx("p",{children:ie}),S.jsx("button",{onClick:()=>ae(null),className:"ml-auto text-red-200 hover:text-white",children:S.jsx(hm,{className:"w-5 h-5"})})]}),S.jsxs("main",{className:"flex flex-col lg:flex-row gap-8",children:[S.jsxs("aside",{className:"w-full lg:w-1/3 flex flex-col gap-6",children:[S.jsx(yN,{db:e,userId:u,appId:ut,setIsLoading:q,setError:ae,disabled:ht}),S.jsx(AN,{djs:ha,onDjClick:Bi,onDragStart:Jn,onDragOver:jn,onDragEnter:Zn,onDragLeave:fi,onDrop:ca,isDropZoneActive:D>0,disabled:ht,allSchedules:[A,P,W]})]}),S.jsxs("section",{className:"w-full lg:w-2/3",children:[S.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[S.jsxs("div",{className:"flex gap-2 items-center",children:[S.jsx("span",{className:"text-sm text-gray-400",children:"View:"}),S.jsx("button",{onClick:()=>bi("single"),className:`px-3 py-1.5 rounded text-sm transition-colors ${yn==="single"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Single Stage"}),S.jsx("button",{onClick:()=>bi("multi"),className:`px-3 py-1.5 rounded text-sm transition-colors ${yn==="multi"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"All Stages"})]}),yn==="single"&&S.jsxs("div",{className:"flex gap-2 items-center ml-4",children:[S.jsx("span",{className:"text-sm text-gray-400",children:"Stage:"}),S.jsx("button",{onClick:()=>In("mainStage"),className:`px-3 py-1.5 rounded text-sm transition-colors ${Qe==="mainStage"?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:" Temple"}),S.jsx("button",{onClick:()=>In("dubPub"),className:`px-3 py-1.5 rounded text-sm transition-colors ${Qe==="dubPub"?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:" Dub"}),S.jsx("button",{onClick:()=>In("technoHub"),className:`px-3 py-1.5 rounded text-sm transition-colors ${Qe==="technoHub"?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:" Techno"})]})]}),yn==="multi"?S.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4",children:[A&&S.jsx(Oc,{schedule:A,djs:_,onDjClick:Bi,onDragStart:Jn,onDragOver:jn,onDragEnter:Zn,onDragEnterSlot:wr,onDragLeave:fi,onDrop:It,isDropZoneActive:D>0,disabled:ht,activeRange:X!==null?{start:Math.min(X,me??X),end:Math.max(X,me??X)}:null,onReset:()=>bt("mainStage"),selectionMode:Pn,selectedSlots:At,onSlotClick:Nn,onToggleSelectionMode:wt,onMergeSlots:qi,onUnmerge:Si,onNameUpdate:Z=>zn("mainStage",Z),stage:"mainStage",onClearGuests:Mt}),P&&S.jsx(Oc,{schedule:P,djs:_,onDjClick:Bi,onDragStart:Jn,onDragOver:jn,onDragEnter:Zn,onDragEnterSlot:wr,onDragLeave:fi,onDrop:It,isDropZoneActive:D>0,disabled:ht,activeRange:X!==null?{start:Math.min(X,me??X),end:Math.max(X,me??X)}:null,onReset:()=>bt("dubPub"),selectionMode:Pn,selectedSlots:At,onSlotClick:Nn,onToggleSelectionMode:wt,onMergeSlots:qi,onUnmerge:Si,onNameUpdate:Z=>zn("dubPub",Z),stage:"dubPub",onClearGuests:Mt}),W&&S.jsx(Oc,{schedule:W,djs:_,onDjClick:Bi,onDragStart:Jn,onDragOver:jn,onDragEnter:Zn,onDragEnterSlot:wr,onDragLeave:fi,onDrop:It,isDropZoneActive:D>0,disabled:ht,activeRange:X!==null?{start:Math.min(X,me??X),end:Math.max(X,me??X)}:null,onReset:()=>bt("technoHub"),selectionMode:Pn,selectedSlots:At,onSlotClick:Nn,onToggleSelectionMode:wt,onMergeSlots:qi,onUnmerge:Si,onNameUpdate:Z=>zn("technoHub",Z),stage:"technoHub",onClearGuests:Mt})]}):S.jsx(Oc,{schedule:Ss(),djs:_,onDjClick:Bi,onDragStart:Jn,onDragOver:jn,onDragEnter:Zn,onDragEnterSlot:wr,onDragLeave:fi,onDrop:It,isDropZoneActive:D>0,disabled:ht,activeRange:X!==null?{start:Math.min(X,me??X),end:Math.max(X,me??X)}:null,onReset:bt,selectionMode:Pn,selectedSlots:At,onSlotClick:Nn,onToggleSelectionMode:wt,onMergeSlots:qi,onUnmerge:Si,onNameUpdate:Z=>zn(Qe,Z),stage:Qe,onClearGuests:Mt})]})]}),S.jsx("div",{className:"mt-8",children:S.jsx(pN,{db:e,userId:u,appId:ut,sharedMode:r,userEmail:N})}),st&&!r&&S.jsxs("div",{className:"mb-6 mx-auto max-w-2xl bg-gray-800 p-4 rounded-lg",children:[S.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Admin Settings"}),S.jsx(SN,{db:e,userId:u,appId:ut})]}),ge&&le&&S.jsx(RN,{dj:le,onClose:ua}),U&&S.jsxs("div",{className:"fixed top-4 right-4 w-96 max-h-[80vh] bg-gray-800 border-2 border-purple-500 rounded-lg shadow-2xl z-50 flex flex-col",children:[S.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[S.jsx("h3",{className:"text-xl font-bold text-purple-400",children:" Admin Notes"}),S.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-white",children:S.jsx(hm,{className:"w-5 h-5"})})]}),S.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:R.filter(Z=>!Z.deleted).length===0?S.jsx("p",{className:"text-gray-500 text-sm text-center py-8",children:"No notes yet. Add one below!"}):R.filter(Z=>!Z.deleted).map(Z=>S.jsx("div",{className:`p-3 rounded-lg border ${Z.completed?"bg-gray-900 border-gray-700":"bg-gray-700 border-gray-600"}`,children:S.jsxs("div",{className:"flex items-start gap-2",children:[S.jsx("input",{type:"checkbox",checked:Z.completed,onChange:()=>tn(Z.id,Z.completed),className:"mt-1 w-4 h-4 cursor-pointer"}),S.jsxs("div",{className:"flex-1",children:[S.jsx("p",{className:`text-sm ${Z.completed?"line-through text-gray-500":"text-gray-100"}`,children:Z.text}),S.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Z.createdBy,"  ",new Date(Z.createdAt).toLocaleString()]})]}),S.jsx("button",{onClick:()=>So(Z.id),className:"text-gray-500 hover:text-red-400",children:S.jsx(ug,{className:"w-4 h-4"})})]})},Z.id))}),S.jsx("div",{className:"p-4 border-t border-gray-700",children:S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"text",value:I,onChange:Z=>it(Z.target.value),onKeyDown:Z=>Z.key==="Enter"&&_n(),placeholder:"Add a note or task...",className:"flex-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white text-sm"}),S.jsx("button",{onClick:_n,className:"py-2 px-4 bg-purple-600 hover:bg-purple-700 rounded-md text-white font-medium",children:"Add"})]})})]})]}):S.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white font-sans p-4",children:[S.jsxs("div",{className:"flex items-center",children:[S.jsx(n0,{className:"animate-pulse w-16 h-16"}),S.jsx("span",{className:"ml-4 text-2xl",children:"Loading Crew Data..."})]}),ie&&S.jsxs("div",{className:"mt-6 max-w-xl w-full bg-red-800 border border-red-600 text-white p-4 rounded-lg",children:[S.jsxs("div",{className:"flex items-center",children:[S.jsx(cm,{className:"w-5 h-5 mr-3"}),S.jsx("p",{className:"font-semibold",children:ie})]}),S.jsx("p",{className:"text-sm text-red-200 mt-2",children:"If this persists, you may not have permission to read or write your schedule. Please sign out and back in, or contact support."}),Ke&&S.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[S.jsx("button",{onClick:async()=>{var Z;if(!(!e||!u)){q(!0),ae(null);try{const te=wn(e,`${r?`apps/${ut}`:`users/${u}/apps/${ut}`}/schedule/mainStage`),se=i0();await Ml(te,se),M(se)}catch(te){console.error(te);try{(Z=window.firebaseOpsAgent)==null||Z.log({level:"error",type:"schedule.create.error",code:(te==null?void 0:te.code)||"",message:(te==null?void 0:te.message)||"",path:`${r?`apps/${ut}`:`users/${u}/apps/${ut}`}/schedule/mainStage`})}catch{}const se=(te==null?void 0:te.code)||"";se.includes("permission")||se.includes("denied")?ae("Could not create base schedule (permission denied). Please update Firestore rules to allow authenticated users to write to this app namespace."):ae("Could not create base schedule.")}finally{q(!1)}}},className:"py-2 px-3 bg-blue-600 hover:bg-blue-700 rounded-md text-white",children:"Create Base Schedule (Temple  31 Jan 2025)"}),S.jsx("a",{href:"/hub.html",className:"py-2 px-3 bg-gray-700 hover:bg-gray-600 rounded-md text-white",children:"Enter the Portal"})]})]})]}):S.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white font-sans",children:[S.jsx(n0,{className:"animate-pulse w-16 h-16"}),S.jsx("span",{className:"ml-4 text-2xl",children:"Checking session"})]})}function pN({db:r,userId:e,appId:i,sharedMode:a,userEmail:l}){const[u,d]=pe.useState([]),[m,p]=pe.useState(""),_=a?`apps/${i}`:`users/${e}/apps/${i}`;pe.useEffect(()=>{const A=um(ro(r,`${_}/chat/main/messages`),mT("createdAt","asc"),WC(100)),M=Il(A,P=>{const Q=[];P.forEach(W=>Q.push({id:W.id,...W.data()})),d(Q)});return()=>M()},[r,_]);const T=async A=>{A.preventDefault();const M=m.trim();if(M)try{await og(ro(r,`${_}/chat/main/messages`),{uid:e,email:l||null,text:M,createdAt:rN()}),p("")}catch(P){console.error(P)}};return S.jsxs("div",{className:"max-w-3xl mx-auto bg-gray-800 p-4 rounded-lg",children:[S.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Crew Chat"}),S.jsxs("div",{className:"h-64 overflow-y-auto bg-gray-900 rounded-md p-3 space-y-2 border border-gray-700",children:[u.length===0&&S.jsx("div",{className:"text-gray-500",children:"No messages yet. Say hi!"}),u.map(A=>S.jsxs("div",{className:"text-sm",children:[S.jsx("span",{className:"text-blue-300",children:A.email||A.uid.slice(0,6)}),S.jsx("span",{className:"text-gray-400",children:": "}),S.jsx("span",{className:"text-gray-100 whitespace-pre-wrap",children:A.text})]},A.id))]}),S.jsxs("form",{onSubmit:T,className:"mt-3 flex gap-2",children:[S.jsx("input",{value:m,onChange:A=>p(A.target.value),placeholder:"Type a message",className:"flex-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"}),S.jsx("button",{className:"py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Send"})]})]})}function i0(r="Temple"){const e=`DoofDJs ${r} - 31 Jan - 1 Feb 2025`,i=0,a=2400,l=[];for(let u=i;u<a;u+=15){const d=r0(u),m=r0(u+15),p=u<1440?"Jan 31":"Feb 1";l.push({time:`${p} ${d} - ${m}`,djId:null,djName:null})}return{name:e,timeSlots:l}}function r0(r){const e=(r%1440+1440)%1440,i=Math.floor(e/60),a=e%60,l=i.toString().padStart(2,"0"),u=a.toString().padStart(2,"0");return`${l}:${u}`}function yN({db:r,userId:e,appId:i,setIsLoading:a,setError:l,disabled:u}){const d=typeof __shared_mode<"u"?!!__shared_mode:!0,[m,p]=pe.useState({djName:"",realName:"",info:"",photoUrl:"",visualUrl:"",email:"",phone:"",socialMedia:""}),_=A=>{const{name:M,value:P}=A.target;p(Q=>({...Q,[M]:P}))},T=async A=>{if(A.preventDefault(),!m.djName||!m.realName){l("DJ Name and Real Name are required.");return}a(!0),l(null);try{const M=`${d?`apps/${i}`:`users/${e}/apps/${i}`}/djs`;await og(ro(r,M),{...m,createdAt:new Date().toISOString(),inviteStatus:"invited",invitedAt:new Date().toISOString(),createdBy:e,uid:null,email:null}),p({djName:"",realName:"",info:"",photoUrl:"",visualUrl:"",email:"",phone:"",socialMedia:""})}catch(M){console.error("Error registering DJ:",M),l("Failed to register DJ. Please try again.")}finally{a(!1)}};return S.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[S.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center",children:[S.jsx(fN,{className:"w-6 h-6 mr-3 text-blue-400"}),"Register DJ"]}),S.jsxs("form",{onSubmit:T,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"djName",className:"block text-sm font-medium text-gray-300",children:"DJ Name"}),S.jsx("input",{type:"text",id:"djName",name:"djName",value:m.djName,onChange:_,required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"realName",className:"block text-sm font-medium text-gray-300",children:"Real Name"}),S.jsx("input",{type:"text",id:"realName",name:"realName",value:m.realName,onChange:_,required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"info",className:"block text-sm font-medium text-gray-300",children:"Promo Info / Bio"}),S.jsx("textarea",{id:"info",name:"info",rows:3,value:m.info,onChange:_,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"photoUrl",className:"block text-sm font-medium text-gray-300",children:"Promo Photo (URL)"}),S.jsx("input",{type:"url",id:"photoUrl",name:"photoUrl",value:m.photoUrl,onChange:_,placeholder:"https://example.com/photo.jpg",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"visualUrl",className:"block text-sm font-medium text-gray-300",children:"Visuals / Content (URL)"}),S.jsx("input",{type:"url",id:"visualUrl",name:"visualUrl",value:m.visualUrl,onChange:_,placeholder:"https://youtube.com/watch?v=...",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email Address"}),S.jsx("input",{type:"email",id:"email",name:"email",value:m.email,onChange:_,placeholder:"dj@example.com",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300",children:"Phone Number"}),S.jsx("input",{type:"tel",id:"phone",name:"phone",value:m.phone,onChange:_,placeholder:"+1 234 567 8900",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"socialMedia",className:"block text-sm font-medium text-gray-300",children:"Social Media / Links"}),S.jsx("input",{type:"text",id:"socialMedia",name:"socialMedia",value:m.socialMedia,onChange:_,placeholder:"@djhandle or https://soundcloud.com/...",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),S.jsx("button",{type:"submit",disabled:u,className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Registering...":"Register DJ"})]})]})}function _N({auth:r,db:e,appId:i}){const[a,l]=pe.useState("login");return S.jsx("div",{className:"min-h-screen bg-gray-900 text-gray-100 font-sans p-6 flex items-center justify-center",children:S.jsxs("div",{className:"max-w-2xl w-full bg-gray-800 rounded-xl shadow-lg p-6",children:[S.jsx("h1",{className:"text-3xl font-bold text-blue-400 mb-2 text-center",children:"Temple DJ Spot"}),S.jsx("p",{className:"text-center text-gray-300 mb-6",children:"Sign in to manage your crew and set times."}),S.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[S.jsx("button",{onClick:()=>l("login"),className:`py-2 px-4 rounded-md ${a==="login"?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,children:"Login"}),S.jsx("button",{onClick:()=>l("register"),className:`py-2 px-4 rounded-md ${a==="register"?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,children:"Register"})]}),a==="login"?S.jsx(TN,{auth:r}):S.jsx(bN,{auth:r,db:e,appId:i}),S.jsxs("div",{className:"mt-6",children:[S.jsx(vN,{}),S.jsx(EN,{})]})]})})}function vN(){return S.jsx("div",{className:"text-sm text-gray-300 space-y-2",children:S.jsx("p",{children:"Your Portal UI account is shared across sites. Register once on the main site, then return here to manage your crew. When you first sign in, well set up your crew space automatically."})})}function EN(){return S.jsxs("div",{className:"mt-6 text-xs text-gray-400 border-t border-gray-700 pt-4 leading-relaxed",children:[S.jsx("p",{className:"font-semibold text-gray-300 mb-1",children:"Terms & Conditions (Summary)"}),S.jsxs("ul",{className:"list-disc ml-5 space-y-1",children:[S.jsx("li",{children:"Use this service responsibly and in compliance with applicable laws."}),S.jsx("li",{children:"You own the content you upload; you grant us a license to host and display it to provide the service."}),S.jsx("li",{children:"Dont upload content that is illegal, infringing, or harmful."}),S.jsx("li",{children:"We may update features and policies; continued use constitutes acceptance of changes."}),S.jsx("li",{children:"This service is provided as is without warranties; were not liable for indirect or consequential damages."}),S.jsx("li",{children:"If youre under your regional age of digital consent, use only with a guardians permission."}),S.jsx("li",{children:"We may suspend accounts that violate these terms or abuse resources."}),S.jsx("li",{children:"For data requests or takedowns, contact support via the main Portal UI site."})]})]})}function TN({auth:r}){const[e,i]=pe.useState(""),[a,l]=pe.useState(""),[u,d]=pe.useState(!1),[m,p]=pe.useState(null),_=async T=>{if(T.preventDefault(),!!r){d(!0),p(null);try{await Pw(r,e,a),p("Logged in successfully.")}catch(A){console.error(A);const M=(A==null?void 0:A.code)||"";let P="Login failed. Check your credentials.";M.includes("auth/user-not-found")&&(P="No account with that email."),M.includes("auth/wrong-password")&&(P="Incorrect password."),p(P)}finally{d(!1)}}};return S.jsxs("form",{onSubmit:_,className:"space-y-3",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm text-gray-300",children:"Email"}),S.jsx("input",{value:e,onChange:T=>i(T.target.value),type:"email",required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm text-gray-300",children:"Password"}),S.jsx("input",{value:a,onChange:T=>l(T.target.value),type:"password",required:!0,minLength:6,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),m&&S.jsx("div",{className:"text-sm text-yellow-300",children:m}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("button",{disabled:u,type:"submit",className:"py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-md",children:u?"Signing in":"Sign in"}),S.jsx("a",{href:"/login.html",className:"text-sm text-gray-400",children:"I prefer the full login page"})]})]})}function bN({auth:r,db:e,appId:i}){const[a,l]=pe.useState(""),[u,d]=pe.useState(""),[m,p]=pe.useState(""),[_,T]=pe.useState(""),[A,M]=pe.useState(!1),[P,Q]=pe.useState(null),W=async J=>{if(J.preventDefault(),!(!r||!e)){if(m!==_){Q("Passwords do not match");return}M(!0),Q(null);try{const le=await Lw(r,u,m);await Ml(wn(e,"users",le.user.uid),{uid:le.user.uid,fullName:a,email:u,createdAt:new Date().toISOString()}),await Ml(wn(e,`users/${le.user.uid}/apps/${i}`,"meta"),{ownerUid:le.user.uid,appId:i,createdAt:new Date().toISOString()});try{await jw(le.user)}catch{}Q("Registered and signed in. Verification email sent (if supported).")}catch(le){console.error(le);let Ee="Registration failed.";const ge=(le==null?void 0:le.code)||"";ge.includes("auth/email-already-in-use")&&(Ee="This email is already registered."),ge.includes("auth/weak-password")&&(Ee="Password is too weak."),Q(Ee)}finally{M(!1)}}};return S.jsxs("form",{onSubmit:W,className:"space-y-3",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm text-gray-300",children:"Full name"}),S.jsx("input",{value:a,onChange:J=>l(J.target.value),type:"text",required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm text-gray-300",children:"Email"}),S.jsx("input",{value:u,onChange:J=>d(J.target.value),type:"email",required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm text-gray-300",children:"Password"}),S.jsx("input",{value:m,onChange:J=>p(J.target.value),type:"password",required:!0,minLength:6,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm text-gray-300",children:"Confirm"}),S.jsx("input",{value:_,onChange:J=>T(J.target.value),type:"password",required:!0,minLength:6,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]})]}),P&&S.jsx("div",{className:"text-sm text-yellow-300",children:P}),S.jsx("div",{children:S.jsx("button",{disabled:A,type:"submit",className:"py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-md",children:A?"Registering":"Create account"})})]})}function SN({db:r,userId:e,appId:i}){const[a,l]=pe.useState(""),[u,d]=pe.useState(""),[m,p]=pe.useState(!1),[_,T]=pe.useState(null),A=`users/${e}/apps/${i}`,M=wn(r,`${A}/meta/app`),P=async W=>{if(W.preventDefault(),!!a){p(!0),T(null);try{await Vi(M,{allowedAdminEmails:t0(a.trim().toLowerCase())}),T("Admin email added."),l("")}catch(J){console.error(J),T("Failed to add email.")}finally{p(!1)}}},Q=async W=>{if(W.preventDefault(),!!u){p(!0),T(null);try{await Vi(M,{allowedAdminUids:t0(u.trim())}),T("Admin UID added."),d("")}catch(J){console.error(J),T("Failed to add UID.")}finally{p(!1)}}};return S.jsxs("div",{className:"space-y-3",children:[S.jsxs("form",{onSubmit:P,className:"flex items-end gap-2",children:[S.jsxs("div",{className:"flex-1",children:[S.jsx("label",{className:"block text-sm text-gray-300",children:"Add admin by email"}),S.jsx("input",{value:a,onChange:W=>l(W.target.value),type:"email",placeholder:"crew@example.com",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),S.jsx("button",{disabled:m||!a,className:"py-2 px-3 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Add"})]}),S.jsxs("form",{onSubmit:Q,className:"flex items-end gap-2",children:[S.jsxs("div",{className:"flex-1",children:[S.jsx("label",{className:"block text-sm text-gray-300",children:"Add admin by UID"}),S.jsx("input",{value:u,onChange:W=>d(W.target.value),type:"text",placeholder:"Paste Firebase UID",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),S.jsx("button",{disabled:m||!u,className:"py-2 px-3 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Add"})]}),_&&S.jsx("div",{className:"text-sm text-gray-300",children:_}),S.jsx("div",{className:"text-xs text-gray-400",children:"Tip: Ask the user to copy their UID from the header or provide their account email."})]})}function AN({djs:r,onDjClick:e,onDragStart:i,onDragOver:a,onDragEnter:l,onDragLeave:u,onDrop:d,isDropZoneActive:m,disabled:p,allSchedules:_}){const T=A=>{const M=[];return _.forEach(P=>{if(P){const Q=P.timeSlots.filter(W=>W.djId===A||W.guests&&W.guests.some(J=>J.djId===A));M.push(...Q)}}),M};return S.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg flex-grow",children:[S.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center",children:[S.jsx(ET,{className:"w-6 h-6 mr-3 text-blue-400"}),"Unassigned DJs"]}),S.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:r.length===0?S.jsx("p",{className:"text-gray-400",children:"No unassigned DJs. Register one!"}):r.map(A=>{const M=T(A.id);return S.jsx("div",{children:S.jsx(TT,{dj:A,onClick:()=>e(A),isDraggable:!p,onDragStart:P=>i(P,{from:"pool",dj:A}),showInvite:M.length>0,assignedSlots:M})},A.id)})}),S.jsx("div",{onDragOver:a,onDragEnter:l,onDragLeave:u,onDrop:d,className:`mt-6 p-4 border-2 border-dashed rounded-lg text-center transition-all duration-200 ${m?"border-red-500 bg-red-900/50":"border-gray-600"}`,children:S.jsxs("div",{className:"flex flex-col items-center justify-center pointer-events-none",children:[S.jsx(ug,{className:`w-8 h-8 ${m?"text-red-400":"text-gray-500"}`}),S.jsx("p",{className:`mt-2 text-sm ${m?"text-red-300":"text-gray-400"}`,children:"Drag a DJ here to unassign"})]})})]})}function Oc({schedule:r,djs:e,onDjClick:i,onDragStart:a,onDragOver:l,onDragEnter:u,onDragEnterSlot:d,onDragLeave:m,onDrop:p,isDropZoneActive:_,disabled:T,activeRange:A,onReset:M,selectionMode:P,selectedSlots:Q,onSlotClick:W,onToggleSelectionMode:J,onMergeSlots:le,onUnmerge:Ee,onNameUpdate:ge,stage:ye,onClearGuests:st}){const[Ie,N]=pe.useState(!1),[w,R]=pe.useState(r.name),[V,U]=pe.useState(!1),x=async()=>{if(!ge||w.trim()===r.name){N(!1);return}U(!0);try{await ge(w.trim()),N(!1)}catch(it){console.error("Failed to update name:",it),R(r.name)}finally{U(!1)}},I=it=>{it.key==="Enter"?x():it.key==="Escape"&&(R(r.name),N(!1))};return S.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[S.jsxs("div",{className:"flex items-center justify-between mb-6",children:[S.jsxs("div",{className:"flex items-center flex-grow",children:[S.jsx(lN,{className:"w-6 h-6 mr-3 text-blue-400 flex-shrink-0"}),Ie?S.jsxs("div",{className:"flex items-center gap-2 flex-grow",children:[S.jsx("input",{type:"text",value:w,onChange:it=>R(it.target.value),onKeyDown:I,onBlur:x,autoFocus:!0,disabled:V,className:"bg-gray-700 text-white px-3 py-1 rounded text-xl font-semibold border border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-400 flex-grow"}),V&&S.jsx("span",{className:"text-gray-400 text-sm",children:"Saving..."})]}):S.jsx("h2",{className:"text-2xl font-semibold cursor-pointer hover:text-blue-300 transition-colors",onClick:()=>N(!0),title:"Click to edit stage name",children:r.name})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:J,disabled:T,className:`py-2 px-3 rounded-md text-sm transition-colors ${P?"bg-yellow-600 hover:bg-yellow-700":"bg-purple-600 hover:bg-purple-700"} disabled:bg-gray-600 disabled:cursor-not-allowed text-white`,children:P?" Cancel":" Merge Blocks"}),P&&Q.length>1&&S.jsxs("button",{onClick:le,disabled:T,className:"py-2 px-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 rounded-md text-sm text-white",children:[" Merge (",Q.length,")"]}),S.jsxs("button",{onClick:M,disabled:T,className:"py-2 px-3 bg-red-600 hover:bg-red-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-md text-white text-sm flex items-center gap-2",title:"Clear all assignments",children:[S.jsx(ug,{className:"w-4 h-4"}),"Reset"]})]})]}),S.jsx("p",{className:"text-xs text-gray-400 mb-4",children:P?' Click adjacent empty slots to select, then click "Merge" to create larger blocks.':"Drag to swap  Edge handles to extend  Shift+drop for range  Alt+drop to overlap"}),S.jsx("div",{className:"space-y-2",children:r.timeSlots.map((it,ht)=>S.jsx("div",{children:S.jsx(wN,{slot:it,slotIndex:ht,allDjs:e,onDjClick:i,onDragStart:a,onDragOver:l,onDragEnter:u,onDragEnterSlot:d,onDragLeave:m,onDrop:p,disabled:T,activeRange:A,isSelected:Q.includes(ht),onSlotClick:W,selectionMode:P,onUnmerge:Ee,stage:ye,onClearGuests:st})},ht))})]})}function wN({slot:r,slotIndex:e,allDjs:i,onDjClick:a,onDragStart:l,onDragOver:u,onDragEnter:d,onDragEnterSlot:m,onDragLeave:p,onDrop:_,disabled:T,activeRange:A,isSelected:M,onSlotClick:P,selectionMode:Q,onUnmerge:W,stage:J,onClearGuests:le}){var U;const[Ee,ge]=pe.useState(!1),ye=r.djId&&i.find(x=>x.id===r.djId)||null,st=A?e>=A.start&&e<=A.end:!1;if(r.mergedWith!==void 0)return null;const Ie=r.isMergedStart&&r.mergedCount&&r.mergedCount>1,N=ye?`https://placehold.co/60x60/374151/9CA3AF?text=${encodeURIComponent(((U=ye.djName)==null?void 0:U.charAt(0))||"D")}`:"",w=x=>{x.preventDefault(),x.stopPropagation(),ge(!0),d(x),m(x,e)},R=x=>{x.preventDefault(),x.stopPropagation(),ge(!1),p(x)},V=x=>{x.preventDefault(),x.stopPropagation(),ge(!1),_(x,e,J)};return S.jsxs("div",{onClick:()=>Q&&P&&P(e),className:`flex items-center bg-gray-700 rounded-lg p-3 transition-all duration-200 ${Ee||st?"ring-2 ring-blue-500 bg-gray-600":""} ${M?"ring-2 ring-yellow-500 bg-yellow-900/30":""} ${Ie?"border-l-4 border-purple-500":""} ${Q?"cursor-pointer hover:bg-gray-600":""}`,onDragOver:u,onDragEnter:w,onDragLeave:R,onDrop:V,children:[ye&&ye.photoUrl&&S.jsx("div",{className:"mr-3 flex-shrink-0",children:S.jsx("img",{src:ye.photoUrl||N,alt:ye.djName,onError:x=>{x.currentTarget.src=N},className:"w-12 h-12 rounded-full object-cover border-2 border-blue-400"})}),S.jsxs("div",{className:"flex-shrink-0 text-blue-300 font-mono flex items-center mr-4",children:[S.jsx(uN,{className:"w-4 h-4 mr-2"}),S.jsxs("div",{className:"flex flex-col",children:[S.jsx("span",{className:"text-sm",children:r.time}),Ie&&S.jsxs("span",{className:"text-xs text-purple-300",children:[r.mergedCount," slots (",r.mergedCount*15," min)"]})]})]}),S.jsxs("div",{className:"flex-grow relative",children:[ye?S.jsxs("div",{className:"relative",children:[!Q&&S.jsxs(S.Fragment,{children:[S.jsx("div",{draggable:!T,onDragStart:x=>l(x,{from:"resize",direction:"left",slotIndex:e,djId:ye.id,djName:ye.djName,stage:J}),title:"Extend earlier",className:"absolute left-0 top-1/2 -translate-y-1/2 w-2 h-8 bg-blue-500/60 hover:bg-blue-500 rounded-sm cursor-ew-resize z-10"}),S.jsx("div",{draggable:!T,onDragStart:x=>l(x,{from:"resize",direction:"right",slotIndex:e,djId:ye.id,djName:ye.djName,stage:J}),title:"Extend later",className:"absolute right-0 top-1/2 -translate-y-1/2 w-2 h-8 bg-blue-500/60 hover:bg-blue-500 rounded-sm cursor-ew-resize z-10"})]}),S.jsx(TT,{dj:ye,onClick:()=>a(ye),isDraggable:!T&&!Q,onDragStart:x=>l(x,{from:"slot",slotIndex:e,djId:ye.id,djName:ye.djName,stage:J})})]}):S.jsx("div",{className:"text-center text-gray-500 p-3 border border-dashed border-gray-600 rounded-md",children:Q?"Select to merge":"Empty Slot"}),r.guests&&r.guests.length>0&&S.jsxs("div",{className:"mt-2",children:[S.jsxs("div",{className:"flex items-center justify-between mb-1",children:[S.jsx("span",{className:"text-xs text-gray-400",children:"Overlapping DJs:"}),le&&J&&S.jsx("button",{onClick:x=>{x.stopPropagation(),le(e,J)},className:"text-xs px-2 py-0.5 bg-red-600 hover:bg-red-700 rounded text-white",title:"Remove all overlapping DJs",children:"Clear All"})]}),S.jsx("div",{className:"flex flex-wrap gap-2",children:r.guests.map(x=>S.jsxs("span",{className:"text-xs bg-gray-900 border border-gray-600 rounded px-2 py-1 text-gray-200",children:["+ ",x.djName]},x.djId))})]})]}),Ie&&W&&!Q&&S.jsx("button",{onClick:x=>{x.stopPropagation(),W(e)},className:"ml-2 px-2 py-1 bg-purple-600 hover:bg-purple-700 rounded text-xs",title:"Unmerge this block",children:"Unmerge"})]})}function TT({dj:r,onClick:e,isDraggable:i,onDragStart:a,showInvite:l,assignedSlots:u}){var T;const[d,m]=pe.useState(!1),p=`https://placehold.co/40x40/374151/9CA3AF?text=${encodeURIComponent(((T=r.djName)==null?void 0:T.charAt(0))||"D")}`,_=A=>{A.stopPropagation();let P=`${window.location.origin+window.location.pathname.replace(/\/[^\/]*$/,"")}/Registration.html?djId=${r.id}&djName=${encodeURIComponent(r.djName)}`;if(u&&u.length>0){const Q=u.map(W=>W.time).join(",");P+=`&slots=${encodeURIComponent(Q)}`}navigator.clipboard.writeText(P).then(()=>{m(!0),setTimeout(()=>m(!1),2e3)}).catch(Q=>{console.error("Failed to copy invite link:",Q),prompt("Copy this invite link:",P)})};return S.jsxs("div",{draggable:i,onDragStart:a,className:`flex items-center bg-gray-900 p-2 rounded-md shadow-sm ${i?"cursor-move":"cursor-pointer"} border border-gray-700 hover:bg-gray-800 transition-colors`,children:[S.jsx(cN,{className:"w-5 h-5 mr-2 text-gray-500 flex-shrink-0"}),S.jsx("img",{src:r.photoUrl||p,alt:r.djName,onError:A=>{A.currentTarget.src=p},className:"w-10 h-10 rounded-full object-cover mr-3 flex-shrink-0"}),S.jsxs("div",{className:"flex-grow min-w-0",onClick:e,children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("p",{className:"text-md font-semibold text-white truncate",children:r.djName}),r.inviteStatus&&S.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${r.inviteStatus==="confirmed"?"bg-green-700 text-green-100":r.inviteStatus==="pending"?"bg-yellow-700 text-yellow-100":r.inviteStatus==="declined"?"bg-red-700 text-red-100":"bg-gray-700 text-gray-300"}`,children:r.inviteStatus==="confirmed"?" Confirmed":r.inviteStatus==="pending"?" Pending":r.inviteStatus==="declined"?" Declined":" Invited"})]}),S.jsx("p",{className:"text-sm text-gray-400 truncate",children:r.realName})]}),l&&S.jsx("button",{onClick:_,className:`ml-2 px-2 py-1 rounded text-xs font-medium transition-colors flex-shrink-0 ${d?"bg-green-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,title:"Copy invite link to clipboard",children:d?"Copied!":"Invite"})]})}function RN({dj:r,onClose:e}){const i="https://placehold.co/600x400/374151/9CA3AF?text=No+Photo",[a,l]=pe.useState(!1),u=()=>`${window.location.origin+window.location.pathname.replace(/\/[^\/]*$/,"")}/Registration.html?djId=${r.id}&djName=${encodeURIComponent(r.djName)}`,d=async()=>{const m=u();try{await navigator.clipboard.writeText(m),l(!0),setTimeout(()=>l(!1),2e3)}catch(p){console.error("Failed to copy:",p),prompt("Copy this invite link:",m)}};return S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-75 backdrop-blur-sm",onClick:e,children:S.jsxs("div",{className:"bg-gray-800 w-full max-w-lg rounded-xl shadow-2xl overflow-hidden",onClick:m=>m.stopPropagation(),children:[S.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[S.jsxs("h2",{className:"text-2xl font-bold text-blue-400 flex items-center",children:[S.jsx(ET,{className:"w-6 h-6 mr-3"}),r.djName]}),S.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white rounded-full p-1 transition-colors",children:S.jsx(hm,{className:"w-6 h-6"})})]}),S.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[S.jsx("img",{src:r.photoUrl||i,alt:r.djName,onError:m=>{m.currentTarget.src=i},className:"w-full h-64 object-cover rounded-lg bg-gray-700"}),S.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[S.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[S.jsx(hN,{className:"w-4 h-4 mr-2"}),"Real Name"]}),S.jsx("p",{className:"text-lg text-white",children:r.realName})]}),(r.email||r.phone||r.socialMedia)&&S.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg space-y-2",children:[S.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Contact Info"}),r.email&&S.jsxs("div",{children:[S.jsx("span",{className:"text-xs text-gray-400",children:"Email:"}),S.jsx("p",{className:"text-white",children:r.email})]}),r.phone&&S.jsxs("div",{children:[S.jsx("span",{className:"text-xs text-gray-400",children:"Phone:"}),S.jsx("p",{className:"text-white",children:r.phone})]}),r.socialMedia&&S.jsxs("div",{children:[S.jsx("span",{className:"text-xs text-gray-400",children:"Social/Links:"}),S.jsx("p",{className:"text-white break-all",children:r.socialMedia})]})]}),r.info&&S.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[S.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[S.jsx(cm,{className:"w-4 h-4 mr-2"}),"Bio / Info"]}),S.jsx("p",{className:"text-white whitespace-pre-wrap",children:r.info})]}),r.visualUrl&&S.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[S.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[S.jsx(dN,{className:"w-4 h-4 mr-2"}),"Visuals / Content"]}),S.jsx("a",{href:r.visualUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline truncate block",children:r.visualUrl})]}),S.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[S.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Invitation Status"}),S.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[S.jsx("span",{className:`text-sm px-3 py-1.5 rounded font-medium ${r.inviteStatus==="confirmed"?"bg-green-700 text-green-100":r.inviteStatus==="pending"?"bg-yellow-700 text-yellow-100":r.inviteStatus==="declined"?"bg-red-700 text-red-100":"bg-gray-600 text-gray-200"}`,children:r.inviteStatus==="confirmed"?" Confirmed":r.inviteStatus==="pending"?" Pending":r.inviteStatus==="declined"?" Declined":" Invited"}),r.confirmedAt&&S.jsxs("span",{className:"text-xs text-gray-400",children:[" Confirmed ",new Date(r.confirmedAt).toLocaleDateString()]}),!r.confirmedAt&&r.invitedAt&&S.jsxs("span",{className:"text-xs text-gray-400",children:[" Invited ",new Date(r.invitedAt).toLocaleDateString()]})]}),r.id&&r.inviteStatus!=="confirmed"&&S.jsxs("div",{className:"mt-3 border-t border-gray-600 pt-3",children:[S.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:["Share this invite link with ",r.djName,":"]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"text",readOnly:!0,value:u(),className:"flex-1 px-3 py-2 bg-gray-800 border border-gray-600 rounded text-sm text-gray-300 truncate",onClick:m=>m.target.select()}),S.jsx("button",{onClick:d,className:`px-4 py-2 rounded font-medium transition-colors ${a?"bg-green-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:a?" Copied!":" Copy"})]})]})]})]})]})})}const IN=document.getElementById("root"),CN=rS.createRoot(IN);CN.render(S.jsx(gN,{}));
