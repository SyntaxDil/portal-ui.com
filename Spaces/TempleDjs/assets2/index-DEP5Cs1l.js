(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var Td={exports:{}},hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function QA(){if(S_)return hl;S_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:u}}return hl.Fragment=t,hl.jsx=i,hl.jsxs=i,hl}var b_;function YA(){return b_||(b_=1,Td.exports=QA()),Td.exports}var O=YA(),Ad={exports:{}},fl={},Sd={exports:{}},bd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function XA(){return w_||(w_=1,(function(r){function t(F,et){var ht=F.length;F.push(et);t:for(;0<ht;){var Bt=ht-1>>>1,Gt=F[Bt];if(0<l(Gt,et))F[Bt]=et,F[ht]=Gt,ht=Bt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var et=F[0],ht=F.pop();if(ht!==et){F[0]=ht;t:for(var Bt=0,Gt=F.length,x=Gt>>>1;Bt<x;){var K=2*(Bt+1)-1,W=F[K],st=K+1,pt=F[st];if(0>l(W,ht))st<Gt&&0>l(pt,W)?(F[Bt]=pt,F[st]=ht,Bt=st):(F[Bt]=W,F[K]=ht,Bt=K);else if(st<Gt&&0>l(pt,ht))F[Bt]=pt,F[st]=ht,Bt=st;else break t}}return et}function l(F,et){var ht=F.sortIndex-et.sortIndex;return ht!==0?ht:F.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],v=[],T=1,S=null,N=3,z=!1,Q=!1,tt=!1,J=!1,lt=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function Lt(F){for(var et=i(v);et!==null;){if(et.callback===null)a(v);else if(et.startTime<=F)a(v),et.sortIndex=et.expirationTime,t(p,et);else break;et=i(v)}}function re(F){if(tt=!1,Lt(F),!Q)if(i(p)!==null)Q=!0,St||(St=!0,k());else{var et=i(v);et!==null&&_e(re,et.startTime-F)}}var St=!1,C=-1,b=5,I=-1;function M(){return J?!0:!(r.unstable_now()-I<b)}function V(){if(J=!1,St){var F=r.unstable_now();I=F;var et=!0;try{t:{Q=!1,tt&&(tt=!1,_t(C),C=-1),z=!0;var ht=N;try{e:{for(Lt(F),S=i(p);S!==null&&!(S.expirationTime>F&&M());){var Bt=S.callback;if(typeof Bt=="function"){S.callback=null,N=S.priorityLevel;var Gt=Bt(S.expirationTime<=F);if(F=r.unstable_now(),typeof Gt=="function"){S.callback=Gt,Lt(F),et=!0;break e}S===i(p)&&a(p),Lt(F)}else a(p);S=i(p)}if(S!==null)et=!0;else{var x=i(v);x!==null&&_e(re,x.startTime-F),et=!1}}break t}finally{S=null,N=ht,z=!1}et=void 0}}finally{et?k():St=!1}}}var k;if(typeof it=="function")k=function(){it(V)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ye=w.port2;w.port1.onmessage=V,k=function(){ye.postMessage(null)}}else k=function(){lt(V,0)};function _e(F,et){C=lt(function(){F(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(F){switch(N){case 1:case 2:case 3:var et=3;break;default:et=N}var ht=N;N=et;try{return F()}finally{N=ht}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=N;N=F;try{return et()}finally{N=ht}},r.unstable_scheduleCallback=function(F,et,ht){var Bt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Bt+ht:Bt):ht=Bt,F){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ht+Gt,F={id:T++,callback:et,priorityLevel:F,startTime:ht,expirationTime:Gt,sortIndex:-1},ht>Bt?(F.sortIndex=ht,t(v,F),i(p)===null&&F===i(v)&&(tt?(_t(C),C=-1):tt=!0,_e(re,ht-Bt))):(F.sortIndex=Gt,t(p,F),Q||z||(Q=!0,St||(St=!0,k()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var et=N;return function(){var ht=N;N=et;try{return F.apply(this,arguments)}finally{N=ht}}}})(bd)),bd}var R_;function $A(){return R_||(R_=1,Sd.exports=XA()),Sd.exports}var wd={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function JA(){if(I_)return It;I_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function z(x){return x===null||typeof x!="object"?null:(x=N&&x[N]||x["@@iterator"],typeof x=="function"?x:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,J={};function lt(x,K,W){this.props=x,this.context=K,this.refs=J,this.updater=W||Q}lt.prototype.isReactComponent={},lt.prototype.setState=function(x,K){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,K,"setState")},lt.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function _t(){}_t.prototype=lt.prototype;function it(x,K,W){this.props=x,this.context=K,this.refs=J,this.updater=W||Q}var Lt=it.prototype=new _t;Lt.constructor=it,tt(Lt,lt.prototype),Lt.isPureReactComponent=!0;var re=Array.isArray;function St(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(x,K,W){var st=W.ref;return{$$typeof:r,type:x,key:K,ref:st!==void 0?st:null,props:W}}function M(x,K){return I(x.type,K,x.props)}function V(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function k(x){var K={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(W){return K[W]})}var w=/\/+/g;function ye(x,K){return typeof x=="object"&&x!==null&&x.key!=null?k(""+x.key):K.toString(36)}function _e(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(St,St):(x.status="pending",x.then(function(K){x.status==="pending"&&(x.status="fulfilled",x.value=K)},function(K){x.status==="pending"&&(x.status="rejected",x.reason=K)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function F(x,K,W,st,pt){var Ot=typeof x;(Ot==="undefined"||Ot==="boolean")&&(x=null);var Vt=!1;if(x===null)Vt=!0;else switch(Ot){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(x.$$typeof){case r:case t:Vt=!0;break;case T:return Vt=x._init,F(Vt(x._payload),K,W,st,pt)}}if(Vt)return pt=pt(x),Vt=st===""?"."+ye(x,0):st,re(pt)?(W="",Vt!=null&&(W=Vt.replace(w,"$&/")+"/"),F(pt,K,W,"",function(Ln){return Ln})):pt!=null&&(V(pt)&&(pt=M(pt,W+(pt.key==null||x&&x.key===pt.key?"":(""+pt.key).replace(w,"$&/")+"/")+Vt)),K.push(pt)),1;Vt=0;var Le=st===""?".":st+":";if(re(x))for(var ue=0;ue<x.length;ue++)st=x[ue],Ot=Le+ye(st,ue),Vt+=F(st,K,W,Ot,pt);else if(ue=z(x),typeof ue=="function")for(x=ue.call(x),ue=0;!(st=x.next()).done;)st=st.value,Ot=Le+ye(st,ue++),Vt+=F(st,K,W,Ot,pt);else if(Ot==="object"){if(typeof x.then=="function")return F(_e(x),K,W,st,pt);throw K=String(x),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function et(x,K,W){if(x==null)return x;var st=[],pt=0;return F(x,st,"","",function(Ot){return K.call(W,Ot,pt++)}),st}function ht(x){if(x._status===-1){var K=x._result;K=K(),K.then(function(W){(x._status===0||x._status===-1)&&(x._status=1,x._result=W)},function(W){(x._status===0||x._status===-1)&&(x._status=2,x._result=W)}),x._status===-1&&(x._status=0,x._result=K)}if(x._status===1)return x._result.default;throw x._result}var Bt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Gt={map:et,forEach:function(x,K,W){et(x,function(){K.apply(this,arguments)},W)},count:function(x){var K=0;return et(x,function(){K++}),K},toArray:function(x){return et(x,function(K){return K})||[]},only:function(x){if(!V(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return It.Activity=S,It.Children=Gt,It.Component=lt,It.Fragment=i,It.Profiler=l,It.PureComponent=it,It.StrictMode=a,It.Suspense=p,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,It.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},It.cache=function(x){return function(){return x.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(x,K,W){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var st=tt({},x.props),pt=x.key;if(K!=null)for(Ot in K.key!==void 0&&(pt=""+K.key),K)!b.call(K,Ot)||Ot==="key"||Ot==="__self"||Ot==="__source"||Ot==="ref"&&K.ref===void 0||(st[Ot]=K[Ot]);var Ot=arguments.length-2;if(Ot===1)st.children=W;else if(1<Ot){for(var Vt=Array(Ot),Le=0;Le<Ot;Le++)Vt[Le]=arguments[Le+2];st.children=Vt}return I(x.type,pt,st)},It.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},It.createElement=function(x,K,W){var st,pt={},Ot=null;if(K!=null)for(st in K.key!==void 0&&(Ot=""+K.key),K)b.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(pt[st]=K[st]);var Vt=arguments.length-2;if(Vt===1)pt.children=W;else if(1<Vt){for(var Le=Array(Vt),ue=0;ue<Vt;ue++)Le[ue]=arguments[ue+2];pt.children=Le}if(x&&x.defaultProps)for(st in Vt=x.defaultProps,Vt)pt[st]===void 0&&(pt[st]=Vt[st]);return I(x,Ot,pt)},It.createRef=function(){return{current:null}},It.forwardRef=function(x){return{$$typeof:g,render:x}},It.isValidElement=V,It.lazy=function(x){return{$$typeof:T,_payload:{_status:-1,_result:x},_init:ht}},It.memo=function(x,K){return{$$typeof:v,type:x,compare:K===void 0?null:K}},It.startTransition=function(x){var K=C.T,W={};C.T=W;try{var st=x(),pt=C.S;pt!==null&&pt(W,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(St,Bt)}catch(Ot){Bt(Ot)}finally{K!==null&&W.types!==null&&(K.types=W.types),C.T=K}},It.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},It.use=function(x){return C.H.use(x)},It.useActionState=function(x,K,W){return C.H.useActionState(x,K,W)},It.useCallback=function(x,K){return C.H.useCallback(x,K)},It.useContext=function(x){return C.H.useContext(x)},It.useDebugValue=function(){},It.useDeferredValue=function(x,K){return C.H.useDeferredValue(x,K)},It.useEffect=function(x,K){return C.H.useEffect(x,K)},It.useEffectEvent=function(x){return C.H.useEffectEvent(x)},It.useId=function(){return C.H.useId()},It.useImperativeHandle=function(x,K,W){return C.H.useImperativeHandle(x,K,W)},It.useInsertionEffect=function(x,K){return C.H.useInsertionEffect(x,K)},It.useLayoutEffect=function(x,K){return C.H.useLayoutEffect(x,K)},It.useMemo=function(x,K){return C.H.useMemo(x,K)},It.useOptimistic=function(x,K){return C.H.useOptimistic(x,K)},It.useReducer=function(x,K,W){return C.H.useReducer(x,K,W)},It.useRef=function(x){return C.H.useRef(x)},It.useState=function(x){return C.H.useState(x)},It.useSyncExternalStore=function(x,K,W){return C.H.useSyncExternalStore(x,K,W)},It.useTransition=function(){return C.H.useTransition()},It.version="19.2.0",It}var C_;function um(){return C_||(C_=1,wd.exports=JA()),wd.exports}var Rd={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function ZA(){if(N_)return an;N_=1;var r=um();function t(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,v,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:p,containerInfo:v,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,an.createPortal=function(p,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return u(p,v,null,T)},an.flushSync=function(p){var v=d.T,T=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=v,a.p=T,a.d.f()}},an.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(p,v))},an.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},an.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var T=v.as,S=g(T,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,z=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?a.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:z}):T==="script"&&a.d.X(p,{crossOrigin:S,integrity:N,fetchPriority:z,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},an.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=g(v.as,v.crossOrigin);a.d.M(p,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(p)},an.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,S=g(T,v.crossOrigin);a.d.L(p,T,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},an.preloadModule=function(p,v){if(typeof p=="string")if(v){var T=g(v.as,v.crossOrigin);a.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(p)},an.requestFormReset=function(p){a.d.r(p)},an.unstable_batchedUpdates=function(p,v){return p(v)},an.useFormState=function(p,v,T){return d.H.useFormState(p,v,T)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.2.0",an}var D_;function WA(){if(D_)return Rd.exports;D_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Rd.exports=ZA(),Rd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function tS(){if(O_)return fl;O_=1;var r=$A(),t=um(),i=WA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return p(h),e;if(f===o)return p(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===s){y=!0,s=h,o=f;break}if(E===o){y=!0,o=h,s=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===s){y=!0,s=f,o=h;break}if(E===o){y=!0,o=f,s=h;break}E=E.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),it=Symbol.for("react.context"),Lt=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ye(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case lt:return"Profiler";case J:return"StrictMode";case re:return"Suspense";case St:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Q:return"Portal";case it:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case Lt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ye(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ye(e(n))}catch{}}return null}var _e=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Bt=[],Gt=-1;function x(e){return{current:e}}function K(e){0>Gt||(e.current=Bt[Gt],Bt[Gt]=null,Gt--)}function W(e,n){Gt++,Bt[Gt]=e.current,e.current=n}var st=x(null),pt=x(null),Ot=x(null),Vt=x(null);function Le(e,n){switch(W(Ot,n),W(pt,e),W(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ky(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ky(n),e=Qy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(st),W(st,e)}function ue(){K(st),K(pt),K(Ot)}function Ln(e){e.memoizedState!==null&&W(Vt,e);var n=st.current,s=Qy(n,e.type);n!==s&&(W(pt,e),W(st,s))}function dt(e){pt.current===e&&(K(st),K(pt)),Vt.current===e&&(K(Vt),ol._currentValue=ht)}var rt,Et;function vt(e){if(rt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);rt=n&&n[1]||"",Et=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rt+e+Et}var Ne=!1;function Rn(e,n){if(!e||Ne)return"";Ne=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var B=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){B=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){B=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),j=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===j.length)for(o=R.length-1,h=j.length-1;1<=o&&0<=h&&R[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==j[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{Ne=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?vt(s):""}function ds(e,n){switch(e.tag){case 26:case 27:case 5:return vt(e.type);case 16:return vt("Lazy");case 13:return e.child!==n&&n!==null?vt("Suspense Fallback"):vt("Suspense");case 19:return vt("SuspenseList");case 0:case 15:return Rn(e.type,!1);case 11:return Rn(e.type.render,!1);case 1:return Rn(e.type,!0);case 31:return vt("Activity");default:return""}}function Ri(e){try{var n="",s=null;do n+=ds(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var oe=Object.prototype.hasOwnProperty,gt=r.unstable_scheduleCallback,Tt=r.unstable_cancelCallback,Rt=r.unstable_shouldYield,le=r.unstable_requestPaint,ce=r.unstable_now,ge=r.unstable_getCurrentPriorityLevel,se=r.unstable_ImmediatePriority,Ee=r.unstable_UserBlockingPriority,$n=r.unstable_NormalPriority,Jl=r.unstable_LowPriority,co=r.unstable_IdlePriority,vh=r.log,ms=r.unstable_setDisableYieldValue,cr=null,rn=null;function Pn(e){if(typeof vh=="function"&&ms(e),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(cr,e)}catch{}}var hn=Math.clz32?Math.clz32:Zl,Eh=Math.log,ho=Math.LN2;function Zl(e){return e>>>=0,e===0?32:31-(Eh(e)/ho|0)|0}var gs=256,oi=262144,hr=4194304;function Jn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function jn(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Jn(o):(y&=E,y!==0?h=Jn(y):s||(s=E&~e,s!==0&&(h=Jn(s))))):(E=o&~f,E!==0?h=Jn(E):y!==0?h=Jn(y):s||(s=o&~e,s!==0&&(h=Jn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function fr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ta(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fo(){var e=hr;return hr<<=1,(hr&62914560)===0&&(hr=4194304),e}function Ii(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function dr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ke(e,n,s,o,h,f){var y=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,j=e.hiddenUpdates;for(s=y&~s;0<s;){var G=31-hn(s),X=1<<G;E[G]=0,R[G]=-1;var B=j[G];if(B!==null)for(j[G]=null,G=0;G<B.length;G++){var q=B[G];q!==null&&(q.lane&=-536870913)}s&=~X}o!==0&&mo(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function mo(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-hn(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function mr(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-hn(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function gr(e,n){var s=n&-n;return s=(s&42)!==0?1:go(s),(s&(e.suspendedLanes|n))!==0?0:s}function go(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function po(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ci(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:p_(e.type))}function Wl(e,n){var s=et.p;try{return et.p=e,n()}finally{et.p=s}}var li=Math.random().toString(36).slice(2),Te="__reactFiber$"+li,Qe="__reactProps$"+li,ui="__reactContainer$"+li,pr="__reactEvents$"+li,ci="__reactListeners$"+li,tu="__reactHandles$"+li,yo="__reactResources$"+li,Ni="__reactMarker$"+li;function ps(e){delete e[Te],delete e[Qe],delete e[pr],delete e[ci],delete e[tu]}function Di(e){var n=e[Te];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ui]||s[Te]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=t_(e);e!==null;){if(s=e[Te])return s;e=t_(e)}return n}e=s,s=e.parentNode}return null}function Oi(e){if(e=e[Te]||e[ui]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ys(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Zn(e){var n=e[yo];return n||(n=e[yo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function we(e){e[Ni]=!0}var ea=new Set,yr={};function fn(e,n){hi(e,n),hi(e+"Capture",n)}function hi(e,n){for(yr[e]=n,e=0;e<n.length;e++)ea.add(n[e])}var Th=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_o={},vo={};function eu(e){return oe.call(vo,e)?!0:oe.call(_o,e)?!1:Th.test(e)?vo[e]=!0:(_o[e]=!0,!1)}function _r(e,n,s){if(eu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function vr(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function zn(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nu(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ah(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function na(e){if(!e._valueTracker){var n=nu(e)?"checked":"value";e._valueTracker=Ah(e,n,""+e[n])}}function Eo(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=nu(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function ia(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xi=/[\n"\\]/g;function Ae(e){return e.replace(xi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Er(e,n,s,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+dn(n)):e.value!==""+dn(n)&&(e.value=""+dn(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?ra(e,y,dn(n)):s!=null?ra(e,y,dn(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+dn(E):e.removeAttribute("name")}function _s(e,n,s,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){na(e);return}s=s!=null?""+dn(s):"",n=n!=null?""+dn(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),na(e)}function ra(e,n,s){n==="number"&&ia(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Kt(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+dn(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function vs(e,n,s){if(n!=null&&(n=""+dn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+dn(s):""}function Tr(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(_e(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=dn(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),na(e)}function Bn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Sh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function To(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||Sh.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function iu(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&To(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&To(e,f,n[f])}function Ao(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fi(e){return wh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Be(){}var sa=null;function aa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mi=null,In=null;function ru(e){var n=Oi(e);if(n&&(e=n.stateNode)){var s=e[Qe]||null;t:switch(e=n.stateNode,n.type){case"input":if(Er(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ae(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Qe]||null;if(!h)throw Error(a(90));Er(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Eo(o)}break t;case"textarea":vs(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Kt(e,!!s.multiple,n,!1)}}}var So=!1;function su(e,n,s){if(So)return e(n,s);So=!0;try{var o=e(n);return o}finally{if(So=!1,(Mi!==null||In!==null)&&(ec(),Mi&&(n=Mi,e=In,In=Mi=null,ru(n),e)))for(n=0;n<e.length;n++)ru(e[n])}}function _n(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Qe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bo=!1;if(Wn)try{var di={};Object.defineProperty(di,"passive",{get:function(){bo=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{bo=!1}var Cn=null,oa=null,mi=null;function Ar(){if(mi)return mi;var e,n=oa,s=n.length,o,h="value"in Cn?Cn.value:Cn.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var y=s-e;for(o=1;o<=y&&n[s-o]===h[f-o];o++);return mi=h.slice(e,1<o?1-o:void 0)}function Es(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Sr(){return!0}function he(){return!1}function sn(e){function n(s,o,h,f,y){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Sr:he,this.isPropagationStopped=he,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ts=sn(Vi),br=S({},Vi,{view:0,detail:0}),au=sn(br),wr,la,mn,As=S({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mn&&(mn&&e.type==="mousemove"?(wr=e.screenX-mn.screenX,la=e.screenY-mn.screenY):la=wr=0,mn=e),wr)},movementY:function(e){return"movementY"in e?e.movementY:la}}),ou=sn(As),Ss=S({},As,{dataTransfer:0}),lu=sn(Ss),wo=S({},br,{relatedTarget:0}),Rr=sn(wo),uu=S({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),ua=sn(uu),Rh=S({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cu=sn(Rh),bs=S({},Vi,{data:0}),Ro=sn(bs),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Io={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Co={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Co[e])?!!n[e]:!1}function Ir(){return fu}var du=S({},br,{key:function(e){if(e.key){var n=hu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Io[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(e){return e.type==="keypress"?Es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mu=sn(du),Ui=S({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),No=sn(Ui),gu=S({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),pu=sn(gu),yu=S({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ca=sn(yu),gn=S({},As,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_u=sn(gn),vu=S({},Vi,{newState:0,oldState:0}),Cr=sn(vu),c=[9,13,27,32],m=Wn&&"CompositionEvent"in window,_=null;Wn&&"documentMode"in document&&(_=document.documentMode);var A=Wn&&"TextEvent"in window&&!_,L=Wn&&(!m||_&&8<_&&11>=_),H=" ",nt=!1;function Jt(e,n){switch(e){case"keyup":return c.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function De(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function qe(e,n){switch(e){case"compositionend":return De(n);case"keypress":return n.which!==32?null:(nt=!0,H);case"textInput":return e=n.data,e===H&&nt?null:e;default:return null}}function He(e,n){if(Mt)return e==="compositionend"||!m&&Jt(e,n)?(e=Ar(),mi=oa=Cn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return L&&n.locale!=="ko"?null:n.data;default:return null}}var Nr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vn(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Nr[e.type]:n==="textarea"}function ws(e,n,s,o){Mi?In?In.push(o):In=[o]:Mi=o,n=lc(n,"onChange"),0<n.length&&(s=new Ts("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var ki=null,Do=null;function ET(e){zy(e,0)}function Eu(e){var n=ys(e);if(Eo(n))return e}function sg(e,n){if(e==="change")return n}var ag=!1;if(Wn){var Ih;if(Wn){var Ch="oninput"in document;if(!Ch){var og=document.createElement("div");og.setAttribute("oninput","return;"),Ch=typeof og.oninput=="function"}Ih=Ch}else Ih=!1;ag=Ih&&(!document.documentMode||9<document.documentMode)}function lg(){ki&&(ki.detachEvent("onpropertychange",ug),Do=ki=null)}function ug(e){if(e.propertyName==="value"&&Eu(Do)){var n=[];ws(n,Do,e,aa(e)),su(ET,n)}}function TT(e,n,s){e==="focusin"?(lg(),ki=n,Do=s,ki.attachEvent("onpropertychange",ug)):e==="focusout"&&lg()}function AT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eu(Do)}function ST(e,n){if(e==="click")return Eu(n)}function bT(e,n){if(e==="input"||e==="change")return Eu(n)}function wT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Nn=typeof Object.is=="function"?Object.is:wT;function Oo(e,n){if(Nn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!oe.call(n,h)||!Nn(e[h],n[h]))return!1}return!0}function cg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hg(e,n){var s=cg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=cg(s)}}function fg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?fg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function dg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ia(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ia(e.document)}return n}function Nh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var RT=Wn&&"documentMode"in document&&11>=document.documentMode,ha=null,Dh=null,xo=null,Oh=!1;function mg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Oh||ha==null||ha!==ia(o)||(o=ha,"selectionStart"in o&&Nh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),xo&&Oo(xo,o)||(xo=o,o=lc(Dh,"onSelect"),0<o.length&&(n=new Ts("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ha)))}function Rs(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var fa={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},xh={},gg={};Wn&&(gg=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Is(e){if(xh[e])return xh[e];if(!fa[e])return e;var n=fa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in gg)return xh[e]=n[s];return e}var pg=Is("animationend"),yg=Is("animationiteration"),_g=Is("animationstart"),IT=Is("transitionrun"),CT=Is("transitionstart"),NT=Is("transitioncancel"),vg=Is("transitionend"),Eg=new Map,Mh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mh.push("scrollEnd");function ti(e,n){Eg.set(e,n),fn(n,[e])}var Tu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qn=[],da=0,Vh=0;function Au(){for(var e=da,n=Vh=da=0;n<e;){var s=qn[n];qn[n++]=null;var o=qn[n];qn[n++]=null;var h=qn[n];qn[n++]=null;var f=qn[n];if(qn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Tg(s,h,f)}}function Su(e,n,s,o){qn[da++]=e,qn[da++]=n,qn[da++]=s,qn[da++]=o,Vh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Uh(e,n,s,o){return Su(e,n,s,o),bu(e)}function Cs(e,n){return Su(e,null,null,n),bu(e)}function Tg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-hn(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function bu(e){if(50<tl)throw tl=0,Gf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ma={};function DT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,n,s,o){return new DT(e,n,s,o)}function kh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,n){var s=e.alternate;return s===null?(s=Dn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Ag(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function wu(e,n,s,o,h,f){var y=0;if(o=e,typeof e=="function")kh(e)&&(y=1);else if(typeof e=="string")y=UA(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Dn(31,s,n,h),e.elementType=I,e.lanes=f,e;case tt:return Ns(s.children,h,f,n);case J:y=8,h|=24;break;case lt:return e=Dn(12,s,n,h|2),e.elementType=lt,e.lanes=f,e;case re:return e=Dn(13,s,n,h),e.elementType=re,e.lanes=f,e;case St:return e=Dn(19,s,n,h),e.elementType=St,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case it:y=10;break t;case _t:y=9;break t;case Lt:y=11;break t;case C:y=14;break t;case b:y=16,o=null;break t}y=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Dn(y,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ns(e,n,s,o){return e=Dn(7,e,o,n),e.lanes=s,e}function Lh(e,n,s){return e=Dn(6,e,null,n),e.lanes=s,e}function Sg(e){var n=Dn(18,null,null,0);return n.stateNode=e,n}function Ph(e,n,s){return n=Dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var bg=new WeakMap;function Hn(e,n){if(typeof e=="object"&&e!==null){var s=bg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Ri(n)},bg.set(e,n),n)}return{value:e,source:n,stack:Ri(n)}}var ga=[],pa=0,Ru=null,Mo=0,Fn=[],Gn=0,Dr=null,gi=1,pi="";function Pi(e,n){ga[pa++]=Mo,ga[pa++]=Ru,Ru=e,Mo=n}function wg(e,n,s){Fn[Gn++]=gi,Fn[Gn++]=pi,Fn[Gn++]=Dr,Dr=e;var o=gi;e=pi;var h=32-hn(o)-1;o&=~(1<<h),s+=1;var f=32-hn(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,gi=1<<32-hn(n)+h|s<<h|o,pi=f+e}else gi=1<<f|s<<h|o,pi=e}function jh(e){e.return!==null&&(Pi(e,1),wg(e,1,0))}function zh(e){for(;e===Ru;)Ru=ga[--pa],ga[pa]=null,Mo=ga[--pa],ga[pa]=null;for(;e===Dr;)Dr=Fn[--Gn],Fn[Gn]=null,pi=Fn[--Gn],Fn[Gn]=null,gi=Fn[--Gn],Fn[Gn]=null}function Rg(e,n){Fn[Gn++]=gi,Fn[Gn++]=pi,Fn[Gn++]=Dr,gi=n.id,pi=n.overflow,Dr=e}var Ye=null,fe=null,qt=!1,Or=null,Kn=!1,Bh=Error(a(519));function xr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vo(Hn(n,e)),Bh}function Ig(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Te]=e,n[Qe]=o,s){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(s=0;s<nl.length;s++)kt(nl[s],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":kt("invalid",n),_s(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":kt("invalid",n);break;case"textarea":kt("invalid",n),Tr(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Fy(n.textContent,s)?(o.popover!=null&&(kt("beforetoggle",n),kt("toggle",n)),o.onScroll!=null&&kt("scroll",n),o.onScrollEnd!=null&&kt("scrollend",n),o.onClick!=null&&(n.onclick=Be),n=!0):n=!1,n||xr(e,!0)}function Cg(e){for(Ye=e.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Ye=Ye.return}}function ya(e){if(e!==Ye)return!1;if(!qt)return Cg(e),qt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||ad(e.type,e.memoizedProps)),s=!s),s&&fe&&xr(e),Cg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));fe=Wy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));fe=Wy(e)}else n===27?(n=fe,Kr(e.type)?(e=hd,hd=null,fe=e):fe=n):fe=Ye?Yn(e.stateNode.nextSibling):null;return!0}function Ds(){fe=Ye=null,qt=!1}function qh(){var e=Or;return e!==null&&(Sn===null?Sn=e:Sn.push.apply(Sn,e),Or=null),e}function Vo(e){Or===null?Or=[e]:Or.push(e)}var Hh=x(null),Os=null,ji=null;function Mr(e,n,s){W(Hh,n._currentValue),n._currentValue=s}function zi(e){e._currentValue=Hh.current,K(Hh)}function Fh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Gh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Fh(f.return,s,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),Fh(y,s,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function _a(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=h.type;Nn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===Vt.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}h=h.return}e!==null&&Gh(n,e,s,o),n.flags|=262144}function Iu(e){for(e=e.firstContext;e!==null;){if(!Nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xs(e){Os=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xe(e){return Ng(Os,e)}function Cu(e,n){return Os===null&&xs(e),Ng(e,n)}function Ng(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ji===null){if(e===null)throw Error(a(308));ji=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ji=ji.next=n;return s}var OT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},xT=r.unstable_scheduleCallback,MT=r.unstable_NormalPriority,Oe={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kh(){return{controller:new OT,data:new Map,refCount:0}}function Uo(e){e.refCount--,e.refCount===0&&xT(MT,function(){e.controller.abort()})}var ko=null,Qh=0,va=0,Ea=null;function VT(e,n){if(ko===null){var s=ko=[];Qh=0,va=Jf(),Ea={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Qh++,n.then(Dg,Dg),n}function Dg(){if(--Qh===0&&ko!==null){Ea!==null&&(Ea.status="fulfilled");var e=ko;ko=null,va=0,Ea=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function UT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Og=F.S;F.S=function(e,n){my=ce(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&VT(e,n),Og!==null&&Og(e,n)};var Ms=x(null);function Yh(){var e=Ms.current;return e!==null?e:ae.pooledCache}function Nu(e,n){n===null?W(Ms,Ms.current):W(Ms,n.pool)}function xg(){var e=Yh();return e===null?null:{parent:Oe._currentValue,pool:e}}var Ta=Error(a(460)),Xh=Error(a(474)),Du=Error(a(542)),Ou={then:function(){}};function Mg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Be,Be),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,kg(e),e;default:if(typeof n.status=="string")n.then(Be,Be);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,kg(e),e}throw Us=n,Ta}}function Vs(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Us=s,Ta):s}}var Us=null;function Ug(){if(Us===null)throw Error(a(459));var e=Us;return Us=null,e}function kg(e){if(e===Ta||e===Du)throw Error(a(483))}var Aa=null,Lo=0;function xu(e){var n=Lo;return Lo+=1,Aa===null&&(Aa=[]),Vg(Aa,e,n)}function Po(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Mu(e,n){throw n.$$typeof===N?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Lg(e){function n(U,D){if(e){var P=U.deletions;P===null?(U.deletions=[D],U.flags|=16):P.push(D)}}function s(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=Li(U,D),U.index=0,U.sibling=null,U}function f(U,D,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<D?(U.flags|=67108866,D):P):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function y(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,P,Y){return D===null||D.tag!==6?(D=Lh(P,U.mode,Y),D.return=U,D):(D=h(D,P),D.return=U,D)}function R(U,D,P,Y){var ft=P.type;return ft===tt?G(U,D,P.props.children,Y,P.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&Vs(ft)===D.type)?(D=h(D,P.props),Po(D,P),D.return=U,D):(D=wu(P.type,P.key,P.props,null,U.mode,Y),Po(D,P),D.return=U,D)}function j(U,D,P,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Ph(P,U.mode,Y),D.return=U,D):(D=h(D,P.children||[]),D.return=U,D)}function G(U,D,P,Y,ft){return D===null||D.tag!==7?(D=Ns(P,U.mode,Y,ft),D.return=U,D):(D=h(D,P),D.return=U,D)}function X(U,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Lh(""+D,U.mode,P),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case z:return P=wu(D.type,D.key,D.props,null,U.mode,P),Po(P,D),P.return=U,P;case Q:return D=Ph(D,U.mode,P),D.return=U,D;case b:return D=Vs(D),X(U,D,P)}if(_e(D)||k(D))return D=Ns(D,U.mode,P,null),D.return=U,D;if(typeof D.then=="function")return X(U,xu(D),P);if(D.$$typeof===it)return X(U,Cu(U,D),P);Mu(U,D)}return null}function B(U,D,P,Y){var ft=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(U,D,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case z:return P.key===ft?R(U,D,P,Y):null;case Q:return P.key===ft?j(U,D,P,Y):null;case b:return P=Vs(P),B(U,D,P,Y)}if(_e(P)||k(P))return ft!==null?null:G(U,D,P,Y,null);if(typeof P.then=="function")return B(U,D,xu(P),Y);if(P.$$typeof===it)return B(U,D,Cu(U,P),Y);Mu(U,P)}return null}function q(U,D,P,Y,ft){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(P)||null,E(D,U,""+Y,ft);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case z:return U=U.get(Y.key===null?P:Y.key)||null,R(D,U,Y,ft);case Q:return U=U.get(Y.key===null?P:Y.key)||null,j(D,U,Y,ft);case b:return Y=Vs(Y),q(U,D,P,Y,ft)}if(_e(Y)||k(Y))return U=U.get(P)||null,G(D,U,Y,ft,null);if(typeof Y.then=="function")return q(U,D,P,xu(Y),ft);if(Y.$$typeof===it)return q(U,D,P,Cu(D,Y),ft);Mu(D,Y)}return null}function at(U,D,P,Y){for(var ft=null,Qt=null,ct=D,xt=D=0,jt=null;ct!==null&&xt<P.length;xt++){ct.index>xt?(jt=ct,ct=null):jt=ct.sibling;var Yt=B(U,ct,P[xt],Y);if(Yt===null){ct===null&&(ct=jt);break}e&&ct&&Yt.alternate===null&&n(U,ct),D=f(Yt,D,xt),Qt===null?ft=Yt:Qt.sibling=Yt,Qt=Yt,ct=jt}if(xt===P.length)return s(U,ct),qt&&Pi(U,xt),ft;if(ct===null){for(;xt<P.length;xt++)ct=X(U,P[xt],Y),ct!==null&&(D=f(ct,D,xt),Qt===null?ft=ct:Qt.sibling=ct,Qt=ct);return qt&&Pi(U,xt),ft}for(ct=o(ct);xt<P.length;xt++)jt=q(ct,U,xt,P[xt],Y),jt!==null&&(e&&jt.alternate!==null&&ct.delete(jt.key===null?xt:jt.key),D=f(jt,D,xt),Qt===null?ft=jt:Qt.sibling=jt,Qt=jt);return e&&ct.forEach(function(Jr){return n(U,Jr)}),qt&&Pi(U,xt),ft}function yt(U,D,P,Y){if(P==null)throw Error(a(151));for(var ft=null,Qt=null,ct=D,xt=D=0,jt=null,Yt=P.next();ct!==null&&!Yt.done;xt++,Yt=P.next()){ct.index>xt?(jt=ct,ct=null):jt=ct.sibling;var Jr=B(U,ct,Yt.value,Y);if(Jr===null){ct===null&&(ct=jt);break}e&&ct&&Jr.alternate===null&&n(U,ct),D=f(Jr,D,xt),Qt===null?ft=Jr:Qt.sibling=Jr,Qt=Jr,ct=jt}if(Yt.done)return s(U,ct),qt&&Pi(U,xt),ft;if(ct===null){for(;!Yt.done;xt++,Yt=P.next())Yt=X(U,Yt.value,Y),Yt!==null&&(D=f(Yt,D,xt),Qt===null?ft=Yt:Qt.sibling=Yt,Qt=Yt);return qt&&Pi(U,xt),ft}for(ct=o(ct);!Yt.done;xt++,Yt=P.next())Yt=q(ct,U,xt,Yt.value,Y),Yt!==null&&(e&&Yt.alternate!==null&&ct.delete(Yt.key===null?xt:Yt.key),D=f(Yt,D,xt),Qt===null?ft=Yt:Qt.sibling=Yt,Qt=Yt);return e&&ct.forEach(function(KA){return n(U,KA)}),qt&&Pi(U,xt),ft}function ie(U,D,P,Y){if(typeof P=="object"&&P!==null&&P.type===tt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case z:t:{for(var ft=P.key;D!==null;){if(D.key===ft){if(ft=P.type,ft===tt){if(D.tag===7){s(U,D.sibling),Y=h(D,P.props.children),Y.return=U,U=Y;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&Vs(ft)===D.type){s(U,D.sibling),Y=h(D,P.props),Po(Y,P),Y.return=U,U=Y;break t}s(U,D);break}else n(U,D);D=D.sibling}P.type===tt?(Y=Ns(P.props.children,U.mode,Y,P.key),Y.return=U,U=Y):(Y=wu(P.type,P.key,P.props,null,U.mode,Y),Po(Y,P),Y.return=U,U=Y)}return y(U);case Q:t:{for(ft=P.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(U,D.sibling),Y=h(D,P.children||[]),Y.return=U,U=Y;break t}else{s(U,D);break}else n(U,D);D=D.sibling}Y=Ph(P,U.mode,Y),Y.return=U,U=Y}return y(U);case b:return P=Vs(P),ie(U,D,P,Y)}if(_e(P))return at(U,D,P,Y);if(k(P)){if(ft=k(P),typeof ft!="function")throw Error(a(150));return P=ft.call(P),yt(U,D,P,Y)}if(typeof P.then=="function")return ie(U,D,xu(P),Y);if(P.$$typeof===it)return ie(U,D,Cu(U,P),Y);Mu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(U,D.sibling),Y=h(D,P),Y.return=U,U=Y):(s(U,D),Y=Lh(P,U.mode,Y),Y.return=U,U=Y),y(U)):s(U,D)}return function(U,D,P,Y){try{Lo=0;var ft=ie(U,D,P,Y);return Aa=null,ft}catch(ct){if(ct===Ta||ct===Du)throw ct;var Qt=Dn(29,ct,null,U.mode);return Qt.lanes=Y,Qt.return=U,Qt}finally{}}}var ks=Lg(!0),Pg=Lg(!1),Vr=!1;function $h(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ur(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function kr(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,($t&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=bu(e),Tg(e,null,s),n}return Su(e,o,n,s),bu(e)}function jo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,mr(e,s)}}function Zh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Wh=!1;function zo(){if(Wh){var e=Ea;if(e!==null)throw e}}function Bo(e,n,s,o){Wh=!1;var h=e.updateQueue;Vr=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,j=R.next;R.next=null,y===null?f=j:y.next=j,y=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;y=0,G=j=R=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Pt&B)===B:(o&B)===B){B!==0&&B===va&&(Wh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,yt=E;B=n;var ie=s;switch(yt.tag){case 1:if(at=yt.payload,typeof at=="function"){X=at.call(ie,X,B);break t}X=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=yt.payload,B=typeof at=="function"?at.call(ie,X,B):at,B==null)break t;X=S({},X,B);break t;case 2:Vr=!0}}B=E.callback,B!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=q,R=X):G=G.next=q,y|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(R=X),h.baseState=R,h.firstBaseUpdate=j,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Br|=y,e.lanes=y,e.memoizedState=X}}function jg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function zg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)jg(s[e],n)}var Sa=x(null),Vu=x(0);function Bg(e,n){e=Xi,W(Vu,e),W(Sa,n),Xi=e|n.baseLanes}function tf(){W(Vu,Xi),W(Sa,Sa.current)}function ef(){Xi=Vu.current,K(Sa),K(Vu)}var On=x(null),Qn=null;function Lr(e){var n=e.alternate;W(Re,Re.current&1),W(On,e),Qn===null&&(n===null||Sa.current!==null||n.memoizedState!==null)&&(Qn=e)}function nf(e){W(Re,Re.current),W(On,e),Qn===null&&(Qn=e)}function qg(e){e.tag===22?(W(Re,Re.current),W(On,e),Qn===null&&(Qn=e)):Pr()}function Pr(){W(Re,Re.current),W(On,On.current)}function xn(e){K(On),Qn===e&&(Qn=null),K(Re)}var Re=x(0);function Uu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ud(s)||cd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Bi=0,Dt=null,ee=null,xe=null,ku=!1,ba=!1,Ls=!1,Lu=0,qo=0,wa=null,kT=0;function Se(){throw Error(a(321))}function rf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Nn(e[s],n[s]))return!1;return!0}function sf(e,n,s,o,h,f){return Bi=f,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?wp:Ef,Ls=!1,f=s(o,h),Ls=!1,ba&&(f=Fg(n,s,o,h)),Hg(e),f}function Hg(e){F.H=Go;var n=ee!==null&&ee.next!==null;if(Bi=0,xe=ee=Dt=null,ku=!1,qo=0,wa=null,n)throw Error(a(300));e===null||Me||(e=e.dependencies,e!==null&&Iu(e)&&(Me=!0))}function Fg(e,n,s,o){Dt=e;var h=0;do{if(ba&&(wa=null),qo=0,ba=!1,25<=h)throw Error(a(301));if(h+=1,xe=ee=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Rp,f=n(s,o)}while(ba);return f}function LT(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Ho(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(Dt.flags|=1024),n}function af(){var e=Lu!==0;return Lu=0,e}function of(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function lf(e){if(ku){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ku=!1}Bi=0,xe=ee=Dt=null,ba=!1,qo=Lu=0,wa=null}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?Dt.memoizedState=xe=e:xe=xe.next=e,xe}function Ie(){if(ee===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=xe===null?Dt.memoizedState:xe.next;if(n!==null)xe=n,ee=e;else{if(e===null)throw Dt.alternate===null?Error(a(467)):Error(a(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},xe===null?Dt.memoizedState=xe=e:xe=xe.next=e}return xe}function Pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(e){var n=qo;return qo+=1,wa===null&&(wa=[]),e=Vg(wa,e,n),n=Dt,(xe===null?n.memoizedState:xe.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?wp:Ef),e}function ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ho(e);if(e.$$typeof===it)return Xe(e)}throw Error(a(438,String(e)))}function uf(e){var n=null,s=Dt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Pu(),Dt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function qi(e,n){return typeof n=="function"?n(e):n}function zu(e){var n=Ie();return cf(n,ee,e)}function cf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,R=null,j=n,G=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Pt&X)===X:(Bi&X)===X){var B=j.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===va&&(G=!0);else if((Bi&B)===B){j=j.next,B===va&&(G=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=X,y=f):R=R.next=X,Dt.lanes|=B,Br|=B;X=j.action,Ls&&s(f,X),f=j.hasEagerState?j.eagerState:s(f,X)}else B={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=B,y=f):R=R.next=B,Dt.lanes|=X,Br|=X;j=j.next}while(j!==null&&j!==n);if(R===null?y=f:R.next=E,!Nn(f,e.memoizedState)&&(Me=!0,G&&(s=Ea,s!==null)))throw s;e.memoizedState=f,e.baseState=y,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function hf(e){var n=Ie(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);Nn(f,n.memoizedState)||(Me=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Gg(e,n,s){var o=Dt,h=Ie(),f=qt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var y=!Nn((ee||h).memoizedState,s);if(y&&(h.memoizedState=s,Me=!0),h=h.queue,mf(Yg.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||xe!==null&&xe.memoizedState.tag&1){if(o.flags|=2048,Ra(9,{destroy:void 0},Qg.bind(null,o,h,s,n),null),ae===null)throw Error(a(349));f||(Bi&127)!==0||Kg(o,n,s)}return s}function Kg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Dt.updateQueue,n===null?(n=Pu(),Dt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Qg(e,n,s,o){n.value=s,n.getSnapshot=o,Xg(n)&&$g(e)}function Yg(e,n,s){return s(function(){Xg(n)&&$g(e)})}function Xg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Nn(e,s)}catch{return!0}}function $g(e){var n=Cs(e,2);n!==null&&bn(n,e,2)}function ff(e){var n=pn();if(typeof e=="function"){var s=e;if(e=s(),Ls){Pn(!0);try{s()}finally{Pn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},n}function Jg(e,n,s,o){return e.baseState=s,cf(e,ee,typeof o=="function"?o:qi)}function PT(e,n,s,o,h){if(Hu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Zg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Zg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,y={};F.T=y;try{var E=s(h,o),R=F.S;R!==null&&R(y,E),Wg(e,n,E)}catch(j){df(e,n,j)}finally{f!==null&&y.types!==null&&(f.types=y.types),F.T=f}}else try{f=s(h,o),Wg(e,n,f)}catch(j){df(e,n,j)}}function Wg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){tp(e,n,o)},function(o){return df(e,n,o)}):tp(e,n,s)}function tp(e,n,s){n.status="fulfilled",n.value=s,ep(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Zg(e,s)))}function df(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,ep(n),n=n.next;while(n!==o)}e.action=null}function ep(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function np(e,n){return n}function ip(e,n){if(qt){var s=ae.formState;if(s!==null){t:{var o=Dt;if(qt){if(fe){e:{for(var h=fe,f=Kn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Yn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){fe=Yn(h.nextSibling),o=h.data==="F!";break t}}xr(o)}o=!1}o&&(n=s[0])}}return s=pn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:np,lastRenderedState:n},s.queue=o,s=Ap.bind(null,Dt,o),o.dispatch=s,o=ff(!1),f=vf.bind(null,Dt,!1,o.queue),o=pn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=PT.bind(null,Dt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function rp(e){var n=Ie();return sp(n,ee,e)}function sp(e,n,s){if(n=cf(e,n,np)[0],e=zu(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ho(n)}catch(y){throw y===Ta?Du:y}else o=n;n=Ie();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Dt.flags|=2048,Ra(9,{destroy:void 0},jT.bind(null,h,s),null)),[o,f,e]}function jT(e,n){e.action=n}function ap(e){var n=Ie(),s=ee;if(s!==null)return sp(n,s,e);Ie(),n=n.memoizedState,s=Ie();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ra(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=Pu(),Dt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function op(){return Ie().memoizedState}function Bu(e,n,s,o){var h=pn();Dt.flags|=e,h.memoizedState=Ra(1|n,{destroy:void 0},s,o===void 0?null:o)}function qu(e,n,s,o){var h=Ie();o=o===void 0?null:o;var f=h.memoizedState.inst;ee!==null&&o!==null&&rf(o,ee.memoizedState.deps)?h.memoizedState=Ra(n,f,s,o):(Dt.flags|=e,h.memoizedState=Ra(1|n,f,s,o))}function lp(e,n){Bu(8390656,8,e,n)}function mf(e,n){qu(2048,8,e,n)}function zT(e){Dt.flags|=4;var n=Dt.updateQueue;if(n===null)n=Pu(),Dt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function up(e){var n=Ie().memoizedState;return zT({ref:n,nextImpl:e}),function(){if(($t&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function cp(e,n){return qu(4,2,e,n)}function hp(e,n){return qu(4,4,e,n)}function fp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function dp(e,n,s){s=s!=null?s.concat([e]):null,qu(4,4,fp.bind(null,n,e),s)}function gf(){}function mp(e,n){var s=Ie();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&rf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function gp(e,n){var s=Ie();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&rf(n,o[1]))return o[0];if(o=e(),Ls){Pn(!0);try{e()}finally{Pn(!1)}}return s.memoizedState=[o,n],o}function pf(e,n,s){return s===void 0||(Bi&1073741824)!==0&&(Pt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=py(),Dt.lanes|=e,Br|=e,s)}function pp(e,n,s,o){return Nn(s,n)?s:Sa.current!==null?(e=pf(e,s,o),Nn(e,n)||(Me=!0),e):(Bi&42)===0||(Bi&1073741824)!==0&&(Pt&261930)===0?(Me=!0,e.memoizedState=s):(e=py(),Dt.lanes|=e,Br|=e,n)}function yp(e,n,s,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var y=F.T,E={};F.T=E,vf(e,!1,n,s);try{var R=h(),j=F.S;if(j!==null&&j(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=UT(R,o);Fo(e,n,G,Un(e))}else Fo(e,n,o,Un(e))}catch(X){Fo(e,n,{then:function(){},status:"rejected",reason:X},Un())}finally{et.p=f,y!==null&&E.types!==null&&(y.types=E.types),F.T=y}}function BT(){}function yf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=_p(e).queue;yp(e,h,n,ht,s===null?BT:function(){return vp(e),s(o)})}function _p(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function vp(e){var n=_p(e);n.next===null&&(n=e.alternate.memoizedState),Fo(e,n.next.queue,{},Un())}function _f(){return Xe(ol)}function Ep(){return Ie().memoizedState}function Tp(){return Ie().memoizedState}function qT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Un();e=Ur(s);var o=kr(n,e,s);o!==null&&(bn(o,n,s),jo(o,n,s)),n={cache:Kh()},e.payload=n;return}n=n.return}}function HT(e,n,s){var o=Un();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Hu(e)?Sp(n,s):(s=Uh(e,n,s,o),s!==null&&(bn(s,e,o),bp(s,n,o)))}function Ap(e,n,s){var o=Un();Fo(e,n,s,o)}function Fo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hu(e))Sp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,s);if(h.hasEagerState=!0,h.eagerState=E,Nn(E,y))return Su(e,n,h,0),ae===null&&Au(),!1}catch{}finally{}if(s=Uh(e,n,h,o),s!==null)return bn(s,e,o),bp(s,n,o),!0}return!1}function vf(e,n,s,o){if(o={lane:2,revertLane:Jf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Hu(e)){if(n)throw Error(a(479))}else n=Uh(e,s,o,2),n!==null&&bn(n,e,2)}function Hu(e){var n=e.alternate;return e===Dt||n!==null&&n===Dt}function Sp(e,n){ba=ku=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function bp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,mr(e,s)}}var Go={readContext:Xe,use:ju,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se};Go.useEffectEvent=Se;var wp={readContext:Xe,use:ju,useCallback:function(e,n){return pn().memoizedState=[e,n===void 0?null:n],e},useContext:Xe,useEffect:lp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Bu(4194308,4,fp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Bu(4194308,4,e,n)},useInsertionEffect:function(e,n){Bu(4,2,e,n)},useMemo:function(e,n){var s=pn();n=n===void 0?null:n;var o=e();if(Ls){Pn(!0);try{e()}finally{Pn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=pn();if(s!==void 0){var h=s(n);if(Ls){Pn(!0);try{s(n)}finally{Pn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=HT.bind(null,Dt,e),[o.memoizedState,e]},useRef:function(e){var n=pn();return e={current:e},n.memoizedState=e},useState:function(e){e=ff(e);var n=e.queue,s=Ap.bind(null,Dt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:gf,useDeferredValue:function(e,n){var s=pn();return pf(s,e,n)},useTransition:function(){var e=ff(!1);return e=yp.bind(null,Dt,e.queue,!0,!1),pn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Dt,h=pn();if(qt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ae===null)throw Error(a(349));(Pt&127)!==0||Kg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,lp(Yg.bind(null,o,f,e),[e]),o.flags|=2048,Ra(9,{destroy:void 0},Qg.bind(null,o,f,s,n),null),s},useId:function(){var e=pn(),n=ae.identifierPrefix;if(qt){var s=pi,o=gi;s=(o&~(1<<32-hn(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Lu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=kT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:_f,useFormState:ip,useActionState:ip,useOptimistic:function(e){var n=pn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=vf.bind(null,Dt,!0,s),s.dispatch=n,[e,n]},useMemoCache:uf,useCacheRefresh:function(){return pn().memoizedState=qT.bind(null,Dt)},useEffectEvent:function(e){var n=pn(),s={impl:e};return n.memoizedState=s,function(){if(($t&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Ef={readContext:Xe,use:ju,useCallback:mp,useContext:Xe,useEffect:mf,useImperativeHandle:dp,useInsertionEffect:cp,useLayoutEffect:hp,useMemo:gp,useReducer:zu,useRef:op,useState:function(){return zu(qi)},useDebugValue:gf,useDeferredValue:function(e,n){var s=Ie();return pp(s,ee.memoizedState,e,n)},useTransition:function(){var e=zu(qi)[0],n=Ie().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Gg,useId:Ep,useHostTransitionStatus:_f,useFormState:rp,useActionState:rp,useOptimistic:function(e,n){var s=Ie();return Jg(s,ee,e,n)},useMemoCache:uf,useCacheRefresh:Tp};Ef.useEffectEvent=up;var Rp={readContext:Xe,use:ju,useCallback:mp,useContext:Xe,useEffect:mf,useImperativeHandle:dp,useInsertionEffect:cp,useLayoutEffect:hp,useMemo:gp,useReducer:hf,useRef:op,useState:function(){return hf(qi)},useDebugValue:gf,useDeferredValue:function(e,n){var s=Ie();return ee===null?pf(s,e,n):pp(s,ee.memoizedState,e,n)},useTransition:function(){var e=hf(qi)[0],n=Ie().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Gg,useId:Ep,useHostTransitionStatus:_f,useFormState:ap,useActionState:ap,useOptimistic:function(e,n){var s=Ie();return ee!==null?Jg(s,ee,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:uf,useCacheRefresh:Tp};Rp.useEffectEvent=up;function Tf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Af={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Un(),h=Ur(o);h.payload=n,s!=null&&(h.callback=s),n=kr(e,h,o),n!==null&&(bn(n,e,o),jo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Un(),h=Ur(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=kr(e,h,o),n!==null&&(bn(n,e,o),jo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Un(),o=Ur(s);o.tag=2,n!=null&&(o.callback=n),n=kr(e,o,s),n!==null&&(bn(n,e,s),jo(n,e,s))}};function Ip(e,n,s,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Oo(s,o)||!Oo(h,f):!0}function Cp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Af.enqueueReplaceState(n,n.state,null)}function Ps(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Np(e){Tu(e)}function Dp(e){console.error(e)}function Op(e){Tu(e)}function Fu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function xp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Sf(e,n,s){return s=Ur(s),s.tag=3,s.payload={element:null},s.callback=function(){Fu(e,n)},s}function Mp(e){return e=Ur(e),e.tag=3,e}function Vp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){xp(n,s,o)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){xp(n,s,o),typeof h!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function FT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&_a(n,s,h,!0),s=On.current,s!==null){switch(s.tag){case 31:case 13:return Qn===null?nc():s.alternate===null&&be===0&&(be=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Ou?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Yf(e,o,h)),!1;case 22:return s.flags|=65536,o===Ou?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Yf(e,o,h)),!1}throw Error(a(435,s.tag))}return Yf(e,o,h),nc(),!1}if(qt)return n=On.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Bh&&(e=Error(a(422),{cause:o}),Vo(Hn(e,s)))):(o!==Bh&&(n=Error(a(423),{cause:o}),Vo(Hn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Hn(o,s),h=Sf(e.stateNode,o,h),Zh(e,h),be!==4&&(be=2)),!1;var f=Error(a(520),{cause:o});if(f=Hn(f,s),Wo===null?Wo=[f]:Wo.push(f),be!==4&&(be=2),n===null)return!0;o=Hn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Sf(s.stateNode,o,e),Zh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(qr===null||!qr.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Mp(h),Vp(h,e,s,o),Zh(s,h),!1}s=s.return}while(s!==null);return!1}var bf=Error(a(461)),Me=!1;function $e(e,n,s,o){n.child=e===null?Pg(n,null,s,o):ks(n,e.child,s,o)}function Up(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return xs(n),o=sf(e,n,s,y,f,h),E=af(),e!==null&&!Me?(of(e,n,h),Hi(e,n,h)):(qt&&E&&jh(n),n.flags|=1,$e(e,n,o,h),n.child)}function kp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!kh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Lp(e,n,f,o,h)):(e=wu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!xf(e,h)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:Oo,s(y,o)&&e.ref===n.ref)return Hi(e,n,h)}return n.flags|=1,e=Li(f,o),e.ref=n.ref,e.return=n,n.child=e}function Lp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Oo(f,o)&&e.ref===n.ref)if(Me=!1,n.pendingProps=o=f,xf(e,h))(e.flags&131072)!==0&&(Me=!0);else return n.lanes=e.lanes,Hi(e,n,h)}return wf(e,n,s,o,h)}function Pp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return jp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?Bg(n,f):tf(),qg(n);else return o=n.lanes=536870912,jp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Nu(n,f.cachePool),Bg(n,f),Pr(),n.memoizedState=null):(e!==null&&Nu(n,null),tf(),Pr());return $e(e,n,h,s),n.child}function Ko(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function jp(e,n,s,o,h){var f=Yh();return f=f===null?null:{parent:Oe._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Nu(n,null),tf(),qg(n),e!==null&&_a(e,n,o,!0),n.childLanes=h,null}function Gu(e,n){return n=Qu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function zp(e,n,s){return ks(n,e.child,null,s),e=Gu(n,n.pendingProps),e.flags|=2,xn(n),n.memoizedState=null,e}function GT(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(qt){if(o.mode==="hidden")return e=Gu(n,o),n.lanes=536870912,Ko(null,e);if(nf(n),(e=fe)?(e=Zy(e,Kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Dr!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=Sg(e),s.return=n,n.child=s,Ye=n,fe=null)):e=null,e===null)throw xr(n);return n.lanes=536870912,null}return Gu(n,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(nf(n),h)if(n.flags&256)n.flags&=-257,n=zp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Me||_a(e,n,s,!1),h=(s&e.childLanes)!==0,Me||h){if(o=ae,o!==null&&(y=gr(o,s),y!==0&&y!==f.retryLane))throw f.retryLane=y,Cs(e,y),bn(o,e,y),bf;nc(),n=zp(e,n,s)}else e=f.treeContext,fe=Yn(y.nextSibling),Ye=n,qt=!0,Or=null,Kn=!1,e!==null&&Rg(n,e),n=Gu(n,o),n.flags|=4096;return n}return e=Li(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ku(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function wf(e,n,s,o,h){return xs(n),s=sf(e,n,s,o,void 0,h),o=af(),e!==null&&!Me?(of(e,n,h),Hi(e,n,h)):(qt&&o&&jh(n),n.flags|=1,$e(e,n,s,h),n.child)}function Bp(e,n,s,o,h,f){return xs(n),n.updateQueue=null,s=Fg(n,o,s,h),Hg(e),o=af(),e!==null&&!Me?(of(e,n,f),Hi(e,n,f)):(qt&&o&&jh(n),n.flags|=1,$e(e,n,s,f),n.child)}function qp(e,n,s,o,h){if(xs(n),n.stateNode===null){var f=ma,y=s.contextType;typeof y=="object"&&y!==null&&(f=Xe(y)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Af,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},$h(n),y=s.contextType,f.context=typeof y=="object"&&y!==null?Xe(y):ma,f.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Tf(n,s,y,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Af.enqueueReplaceState(f,f.state,null),Bo(n,o,f,h),zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Ps(s,E);f.props=R;var j=f.context,G=s.contextType;y=ma,typeof G=="object"&&G!==null&&(y=Xe(G));var X=s.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==y)&&Cp(n,f,o,y),Vr=!1;var B=n.memoizedState;f.state=B,Bo(n,o,f,h),zo(),j=n.memoizedState,E||B!==j||Vr?(typeof X=="function"&&(Tf(n,s,X,o),j=n.memoizedState),(R=Vr||Ip(n,s,R,o,B,j,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=y,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Jh(e,n),y=n.memoizedProps,G=Ps(s,y),f.props=G,X=n.pendingProps,B=f.context,j=s.contextType,R=ma,typeof j=="object"&&j!==null&&(R=Xe(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||B!==R)&&Cp(n,f,o,R),Vr=!1,B=n.memoizedState,f.state=B,Bo(n,o,f,h),zo();var q=n.memoizedState;y!==X||B!==q||Vr||e!==null&&e.dependencies!==null&&Iu(e.dependencies)?(typeof E=="function"&&(Tf(n,s,E,o),q=n.memoizedState),(G=Vr||Ip(n,s,G,o,B,q,R)||e!==null&&e.dependencies!==null&&Iu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ks(n,e.child,null,h),n.child=ks(n,null,s,h)):$e(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Hi(e,n,h),e}function Hp(e,n,s,o){return Ds(),n.flags|=256,$e(e,n,s,o),n.child}var Rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function If(e){return{baseLanes:e,cachePool:xg()}}function Cf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Vn),e}function Fp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(qt){if(h?Lr(n):Pr(),(e=fe)?(e=Zy(e,Kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Dr!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=Sg(e),s.return=n,n.child=s,Ye=n,fe=null)):e=null,e===null)throw xr(n);return cd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Pr(),h=n.mode,E=Qu({mode:"hidden",children:E},h),o=Ns(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=If(s),o.childLanes=Cf(e,y,s),n.memoizedState=Rf,Ko(null,o)):(Lr(n),Nf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Lr(n),n.flags&=-257,n=Df(e,n,s)):n.memoizedState!==null?(Pr(),n.child=e.child,n.flags|=128,n=null):(Pr(),E=o.fallback,h=n.mode,o=Qu({mode:"visible",children:o.children},h),E=Ns(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,ks(n,e.child,null,s),o=n.child,o.memoizedState=If(s),o.childLanes=Cf(e,y,s),n.memoizedState=Rf,n=Ko(null,o));else if(Lr(n),cd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var j=y.dgst;y=j,o=Error(a(419)),o.stack="",o.digest=y,Vo({value:o,source:null,stack:null}),n=Df(e,n,s)}else if(Me||_a(e,n,s,!1),y=(s&e.childLanes)!==0,Me||y){if(y=ae,y!==null&&(o=gr(y,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,Cs(e,o),bn(y,e,o),bf;ud(E)||nc(),n=Df(e,n,s)}else ud(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,fe=Yn(E.nextSibling),Ye=n,qt=!0,Or=null,Kn=!1,e!==null&&Rg(n,e),n=Nf(n,o.children),n.flags|=4096);return n}return h?(Pr(),E=o.fallback,h=n.mode,R=e.child,j=R.sibling,o=Li(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,j!==null?E=Li(j,E):(E=Ns(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Ko(null,o),o=n.child,E=e.child.memoizedState,E===null?E=If(s):(h=E.cachePool,h!==null?(R=Oe._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=xg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Cf(e,y,s),n.memoizedState=Rf,Ko(e.child,o)):(Lr(n),s=e.child,e=s.sibling,s=Li(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=s,n.memoizedState=null,s)}function Nf(e,n){return n=Qu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Qu(e,n){return e=Dn(22,e,null,n),e.lanes=0,e}function Df(e,n,s){return ks(n,e.child,null,s),e=Nf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Gp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Fh(e.return,n,s)}function Of(e,n,s,o,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=s,y.tailMode=h,y.treeForkCount=f)}function Kp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=Re.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,W(Re,y),$e(e,n,o,s),o=qt?Mo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gp(e,s,n);else if(e.tag===19)Gp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Uu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Of(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Uu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Of(n,!0,s,null,f,o);break;case"together":Of(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Hi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Br|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(_a(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Li(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Li(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function xf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Iu(e)))}function KT(e,n,s){switch(n.tag){case 3:Le(n,n.stateNode.containerInfo),Mr(n,Oe,e.memoizedState.cache),Ds();break;case 27:case 5:Ln(n);break;case 4:Le(n,n.stateNode.containerInfo);break;case 10:Mr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,nf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Lr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Fp(e,n,s):(Lr(n),e=Hi(e,n,s),e!==null?e.sibling:null);Lr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(_a(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Kp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(Re,Re.current),o)break;return null;case 22:return n.lanes=0,Pp(e,n,s,n.pendingProps);case 24:Mr(n,Oe,e.memoizedState.cache)}return Hi(e,n,s)}function Qp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Me=!0;else{if(!xf(e,s)&&(n.flags&128)===0)return Me=!1,KT(e,n,s);Me=(e.flags&131072)!==0}else Me=!1,qt&&(n.flags&1048576)!==0&&wg(n,Mo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Vs(n.elementType),n.type=e,typeof e=="function")kh(e)?(o=Ps(e,o),n.tag=1,n=qp(null,n,e,o,s)):(n.tag=0,n=wf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Lt){n.tag=11,n=Up(null,n,e,o,s);break t}else if(h===C){n.tag=14,n=kp(null,n,e,o,s);break t}}throw n=ye(e)||e,Error(a(306,n,""))}}return n;case 0:return wf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Ps(o,n.pendingProps),qp(e,n,o,h,s);case 3:t:{if(Le(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Jh(e,n),Bo(n,o,null,s);var y=n.memoizedState;if(o=y.cache,Mr(n,Oe,o),o!==f.cache&&Gh(n,[Oe],s,!0),zo(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Hp(e,n,o,s);break t}else if(o!==h){h=Hn(Error(a(424)),n),Vo(h),n=Hp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(fe=Yn(e.firstChild),Ye=n,qt=!0,Or=null,Kn=!0,s=Pg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ds(),o===h){n=Hi(e,n,s);break t}$e(e,n,o,s)}n=n.child}return n;case 26:return Ku(e,n),e===null?(s=r_(n.type,null,n.pendingProps,null))?n.memoizedState=s:qt||(s=n.type,e=n.pendingProps,o=uc(Ot.current).createElement(s),o[Te]=n,o[Qe]=e,Je(o,s,e),we(o),n.stateNode=o):n.memoizedState=r_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ln(n),e===null&&qt&&(o=n.stateNode=e_(n.type,n.pendingProps,Ot.current),Ye=n,Kn=!0,h=fe,Kr(n.type)?(hd=h,fe=Yn(o.firstChild)):fe=h),$e(e,n,n.pendingProps.children,s),Ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&qt&&((h=o=fe)&&(o=AA(o,n.type,n.pendingProps,Kn),o!==null?(n.stateNode=o,Ye=n,fe=Yn(o.firstChild),Kn=!1,h=!0):h=!1),h||xr(n)),Ln(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,ad(h,f)?o=null:y!==null&&ad(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=sf(e,n,LT,null,null,s),ol._currentValue=h),Ku(e,n),$e(e,n,o,s),n.child;case 6:return e===null&&qt&&((e=s=fe)&&(s=SA(s,n.pendingProps,Kn),s!==null?(n.stateNode=s,Ye=n,fe=null,e=!0):e=!1),e||xr(n)),null;case 13:return Fp(e,n,s);case 4:return Le(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ks(n,null,o,s):$e(e,n,o,s),n.child;case 11:return Up(e,n,n.type,n.pendingProps,s);case 7:return $e(e,n,n.pendingProps,s),n.child;case 8:return $e(e,n,n.pendingProps.children,s),n.child;case 12:return $e(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Mr(n,n.type,o.value),$e(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,xs(n),h=Xe(h),o=o(h),n.flags|=1,$e(e,n,o,s),n.child;case 14:return kp(e,n,n.type,n.pendingProps,s);case 15:return Lp(e,n,n.type,n.pendingProps,s);case 19:return Kp(e,n,s);case 31:return GT(e,n,s);case 22:return Pp(e,n,s,n.pendingProps);case 24:return xs(n),o=Xe(Oe),e===null?(h=Yh(),h===null&&(h=ae,f=Kh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},$h(n),Mr(n,Oe,h)):((e.lanes&s)!==0&&(Jh(e,n),Bo(n,null,null,s),zo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Mr(n,Oe,o)):(o=f.cache,Mr(n,Oe,o),o!==h.cache&&Gh(n,[Oe],s,!0))),$e(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Fi(e){e.flags|=4}function Mf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ey())e.flags|=8192;else throw Us=Ou,Xh}else e.flags&=-16777217}function Yp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!u_(n))if(Ey())e.flags|=8192;else throw Us=Ou,Xh}function Yu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?fo():536870912,e.lanes|=n,Da|=n)}function Qo(e,n){if(!qt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function de(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function QT(e,n,s){var o=n.pendingProps;switch(zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(n),null;case 1:return de(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),zi(Oe),ue(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ya(n)?Fi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,qh())),de(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Fi(n),f!==null?(de(n),Yp(n,f)):(de(n),Mf(n,h,null,o,s))):f?f!==e.memoizedState?(Fi(n),de(n),Yp(n,f)):(de(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Fi(n),de(n),Mf(n,h,e,o,s)),null;case 27:if(dt(n),s=Ot.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return de(n),null}e=st.current,ya(n)?Ig(n):(e=e_(h,o,s),n.stateNode=e,Fi(n))}return de(n),null;case 5:if(dt(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return de(n),null}if(f=st.current,ya(n))Ig(n);else{var y=uc(Ot.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[Te]=n,f[Qe]=o;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(Je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Fi(n)}}return de(n),Mf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Ot.current,ya(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Ye,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Te]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Fy(e.nodeValue,s)),e||xr(n,!0)}else e=uc(e).createTextNode(o),e[Te]=n,n.stateNode=e}return de(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ya(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Te]=n}else Ds(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),e=!1}else s=qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(xn(n),n):(xn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return de(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ya(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Te]=n}else Ds(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),h=!1}else h=qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(xn(n),n):(xn(n),null)}return xn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Yu(n,n.updateQueue),de(n),null);case 4:return ue(),e===null&&ed(n.stateNode.containerInfo),de(n),null;case 10:return zi(n.type),de(n),null;case 19:if(K(Re),o=n.memoizedState,o===null)return de(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Qo(o,!1);else{if(be!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Uu(e),f!==null){for(n.flags|=128,Qo(o,!1),e=f.updateQueue,n.updateQueue=e,Yu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Ag(s,e),s=s.sibling;return W(Re,Re.current&1|2),qt&&Pi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ce()>Wu&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Uu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Yu(n,e),Qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!qt)return de(n),null}else 2*ce()-o.renderingStartTime>Wu&&s!==536870912&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ce(),e.sibling=null,s=Re.current,W(Re,h?s&1|2:s&1),qt&&Pi(n,o.treeForkCount),e):(de(n),null);case 22:case 23:return xn(n),ef(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(de(n),n.subtreeFlags&6&&(n.flags|=8192)):de(n),s=n.updateQueue,s!==null&&Yu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(Ms),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),zi(Oe),de(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function YT(e,n){switch(zh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return zi(Oe),ue(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return dt(n),null;case 31:if(n.memoizedState!==null){if(xn(n),n.alternate===null)throw Error(a(340));Ds()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(xn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ds()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Re),null;case 4:return ue(),null;case 10:return zi(n.type),null;case 22:case 23:return xn(n),ef(),e!==null&&K(Ms),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return zi(Oe),null;case 25:return null;default:return null}}function Xp(e,n){switch(zh(n),n.tag){case 3:zi(Oe),ue();break;case 26:case 27:case 5:dt(n);break;case 4:ue();break;case 31:n.memoizedState!==null&&xn(n);break;case 13:xn(n);break;case 19:K(Re);break;case 10:zi(n.type);break;case 22:case 23:xn(n),ef(),e!==null&&K(Ms);break;case 24:zi(Oe)}}function Yo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,y=s.inst;o=f(),y.destroy=o}s=s.next}while(s!==h)}}catch(E){Wt(n,n.return,E)}}function jr(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var R=s,j=E;try{j()}catch(G){Wt(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){Wt(n,n.return,G)}}function $p(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{zg(n,s)}catch(o){Wt(e,e.return,o)}}}function Jp(e,n,s){s.props=Ps(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Wt(e,n,o)}}function Xo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Wt(e,n,h)}}function yi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Wt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Wt(e,n,h)}else s.current=null}function Zp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Wt(e,e.return,h)}}function Vf(e,n,s){try{var o=e.stateNode;pA(o,e.type,s,n),o[Qe]=n}catch(h){Wt(e,e.return,h)}}function Wp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Kr(e.type)||e.tag===4}function Uf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Wp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Kr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Be));else if(o!==4&&(o===27&&Kr(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(kf(e,n,s),e=e.sibling;e!==null;)kf(e,n,s),e=e.sibling}function Xu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Kr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Xu(e,n,s),e=e.sibling;e!==null;)Xu(e,n,s),e=e.sibling}function ty(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Je(n,o,s),n[Te]=e,n[Qe]=s}catch(f){Wt(e,e.return,f)}}var Gi=!1,Ve=!1,Lf=!1,ey=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function XT(e,n){if(e=e.containerInfo,rd=pc,e=dg(e),Nh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var y=0,E=-1,R=-1,j=0,G=0,X=e,B=null;e:for(;;){for(var q;X!==s||h!==0&&X.nodeType!==3||(E=y+h),X!==f||o!==0&&X.nodeType!==3||(R=y+o),X.nodeType===3&&(y+=X.nodeValue.length),(q=X.firstChild)!==null;)B=X,X=q;for(;;){if(X===e)break e;if(B===s&&++j===h&&(E=y),B===f&&++G===o&&(R=y),(q=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=q}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(sd={focusedElem:e,selectionRange:s},pc=!1,Fe=n;Fe!==null;)if(n=Fe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Fe=e;else for(;Fe!==null;){switch(n=Fe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=Ps(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Wt(s,s.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)ld(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ld(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Fe=e;break}Fe=n.return}}function ny(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Qi(e,s),o&4&&Yo(5,s);break;case 1:if(Qi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(y){Wt(s,s.return,y)}else{var h=Ps(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Wt(s,s.return,y)}}o&64&&$p(s),o&512&&Xo(s,s.return);break;case 3:if(Qi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{zg(e,n)}catch(y){Wt(s,s.return,y)}}break;case 27:n===null&&o&4&&ty(s);case 26:case 5:Qi(e,s),n===null&&o&4&&Zp(s),o&512&&Xo(s,s.return);break;case 12:Qi(e,s);break;case 31:Qi(e,s),o&4&&sy(e,s);break;case 13:Qi(e,s),o&4&&ay(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=rA.bind(null,s),bA(e,s))));break;case 22:if(o=s.memoizedState!==null||Gi,!o){n=n!==null&&n.memoizedState!==null||Ve,h=Gi;var f=Ve;Gi=o,(Ve=n)&&!f?Yi(e,s,(s.subtreeFlags&8772)!==0):Qi(e,s),Gi=h,Ve=f}break;case 30:break;default:Qi(e,s)}}function iy(e){var n=e.alternate;n!==null&&(e.alternate=null,iy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ps(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pe=null,En=!1;function Ki(e,n,s){for(s=s.child;s!==null;)ry(e,n,s),s=s.sibling}function ry(e,n,s){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(cr,s)}catch{}switch(s.tag){case 26:Ve||yi(s,n),Ki(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ve||yi(s,n);var o=pe,h=En;Kr(s.type)&&(pe=s.stateNode,En=!1),Ki(e,n,s),rl(s.stateNode),pe=o,En=h;break;case 5:Ve||yi(s,n);case 6:if(o=pe,h=En,pe=null,Ki(e,n,s),pe=o,En=h,pe!==null)if(En)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(s.stateNode)}catch(f){Wt(s,n,f)}else try{pe.removeChild(s.stateNode)}catch(f){Wt(s,n,f)}break;case 18:pe!==null&&(En?(e=pe,$y(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Pa(e)):$y(pe,s.stateNode));break;case 4:o=pe,h=En,pe=s.stateNode.containerInfo,En=!0,Ki(e,n,s),pe=o,En=h;break;case 0:case 11:case 14:case 15:jr(2,s,n),Ve||jr(4,s,n),Ki(e,n,s);break;case 1:Ve||(yi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Jp(s,n,o)),Ki(e,n,s);break;case 21:Ki(e,n,s);break;case 22:Ve=(o=Ve)||s.memoizedState!==null,Ki(e,n,s),Ve=o;break;default:Ki(e,n,s)}}function sy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pa(e)}catch(s){Wt(n,n.return,s)}}}function ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pa(e)}catch(s){Wt(n,n.return,s)}}function $T(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ey),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ey),n;default:throw Error(a(435,e.tag))}}function $u(e,n){var s=$T(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=sA.bind(null,e,o);o.then(h,h)}})}function Tn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Kr(E.type)){pe=E.stateNode,En=!1;break t}break;case 5:pe=E.stateNode,En=!1;break t;case 3:case 4:pe=E.stateNode.containerInfo,En=!0;break t}E=E.return}if(pe===null)throw Error(a(160));ry(f,y,h),pe=null,En=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)oy(n,e),n=n.sibling}var ei=null;function oy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tn(n,e),An(e),o&4&&(jr(3,e,e.return),Yo(3,e),jr(5,e,e.return));break;case 1:Tn(n,e),An(e),o&512&&(Ve||s===null||yi(s,s.return)),o&64&&Gi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ei;if(Tn(n,e),An(e),o&512&&(Ve||s===null||yi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ni]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Je(f,o,s),f[Te]=e,we(f),o=f;break t;case"link":var y=o_("link","href",h).get(o+(s.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),Je(f,o,s),h.head.appendChild(f);break;case"meta":if(y=o_("meta","content",h).get(o+(s.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(E,1);break e}}f=h.createElement(o),Je(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Te]=e,we(f),o=f}e.stateNode=o}else l_(h,e.type,e.stateNode);else e.stateNode=a_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?l_(h,e.type,e.stateNode):a_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Vf(e,e.memoizedProps,s.memoizedProps)}break;case 27:Tn(n,e),An(e),o&512&&(Ve||s===null||yi(s,s.return)),s!==null&&o&4&&Vf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Tn(n,e),An(e),o&512&&(Ve||s===null||yi(s,s.return)),e.flags&32){h=e.stateNode;try{Bn(h,"")}catch(at){Wt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Vf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Lf=!0);break;case 6:if(Tn(n,e),An(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){Wt(e,e.return,at)}}break;case 3:if(fc=null,h=ei,ei=cc(n.containerInfo),Tn(n,e),ei=h,An(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Pa(n.containerInfo)}catch(at){Wt(e,e.return,at)}Lf&&(Lf=!1,ly(e));break;case 4:o=ei,ei=cc(e.stateNode.containerInfo),Tn(n,e),An(e),ei=o;break;case 12:Tn(n,e),An(e);break;case 31:Tn(n,e),An(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 13:Tn(n,e),An(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Zu=ce()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,j=Gi,G=Ve;if(Gi=j||h,Ve=G||R,Tn(n,e),Ve=G,Gi=j,An(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||Gi||Ve||js(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(at){Wt(R,R.return,at)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Wt(R,R.return,at)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;h?Jy(q,!0):Jy(R.stateNode,!1)}catch(at){Wt(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,$u(e,s))));break;case 19:Tn(n,e),An(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,$u(e,o)));break;case 30:break;case 21:break;default:Tn(n,e),An(e)}}function An(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Wp(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Uf(e);Xu(e,f,h);break;case 5:var y=s.stateNode;s.flags&32&&(Bn(y,""),s.flags&=-33);var E=Uf(e);Xu(e,E,y);break;case 3:case 4:var R=s.stateNode.containerInfo,j=Uf(e);kf(e,j,R);break;default:throw Error(a(161))}}catch(G){Wt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ly(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ly(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ny(e,n.alternate,n),n=n.sibling}function js(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:jr(4,n,n.return),js(n);break;case 1:yi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Jp(n,n.return,s),js(n);break;case 27:rl(n.stateNode);case 26:case 5:yi(n,n.return),js(n);break;case 22:n.memoizedState===null&&js(n);break;case 30:js(n);break;default:js(n)}e=e.sibling}}function Yi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Yi(h,f,s),Yo(4,f);break;case 1:if(Yi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Wt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)jg(R[h],E)}catch(j){Wt(o,o.return,j)}}s&&y&64&&$p(f),Xo(f,f.return);break;case 27:ty(f);case 26:case 5:Yi(h,f,s),s&&o===null&&y&4&&Zp(f),Xo(f,f.return);break;case 12:Yi(h,f,s);break;case 31:Yi(h,f,s),s&&y&4&&sy(h,f);break;case 13:Yi(h,f,s),s&&y&4&&ay(h,f);break;case 22:f.memoizedState===null&&Yi(h,f,s),Xo(f,f.return);break;case 30:break;default:Yi(h,f,s)}n=n.sibling}}function Pf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Uo(s))}function jf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e))}function ni(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)uy(e,n,s,o),n=n.sibling}function uy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ni(e,n,s,o),h&2048&&Yo(9,n);break;case 1:ni(e,n,s,o);break;case 3:ni(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e)));break;case 12:if(h&2048){ni(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Wt(n,n.return,R)}}else ni(e,n,s,o);break;case 31:ni(e,n,s,o);break;case 13:ni(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ni(e,n,s,o):$o(e,n):f._visibility&2?ni(e,n,s,o):(f._visibility|=2,Ia(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Pf(y,n);break;case 24:ni(e,n,s,o),h&2048&&jf(n.alternate,n);break;default:ni(e,n,s,o)}}function Ia(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,E=s,R=o,j=y.flags;switch(y.tag){case 0:case 11:case 15:Ia(f,y,E,R,h),Yo(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Ia(f,y,E,R,h):$o(f,y):(G._visibility|=2,Ia(f,y,E,R,h)),h&&j&2048&&Pf(y.alternate,y);break;case 24:Ia(f,y,E,R,h),h&&j&2048&&jf(y.alternate,y);break;default:Ia(f,y,E,R,h)}n=n.sibling}}function $o(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:$o(s,o),h&2048&&Pf(o.alternate,o);break;case 24:$o(s,o),h&2048&&jf(o.alternate,o);break;default:$o(s,o)}n=n.sibling}}var Jo=8192;function Ca(e,n,s){if(e.subtreeFlags&Jo)for(e=e.child;e!==null;)cy(e,n,s),e=e.sibling}function cy(e,n,s){switch(e.tag){case 26:Ca(e,n,s),e.flags&Jo&&e.memoizedState!==null&&kA(s,ei,e.memoizedState,e.memoizedProps);break;case 5:Ca(e,n,s);break;case 3:case 4:var o=ei;ei=cc(e.stateNode.containerInfo),Ca(e,n,s),ei=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Jo,Jo=16777216,Ca(e,n,s),Jo=o):Ca(e,n,s));break;default:Ca(e,n,s)}}function hy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Zo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Fe=o,dy(o,e)}hy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fy(e),e=e.sibling}function fy(e){switch(e.tag){case 0:case 11:case 15:Zo(e),e.flags&2048&&jr(9,e,e.return);break;case 3:Zo(e);break;case 12:Zo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ju(e)):Zo(e);break;default:Zo(e)}}function Ju(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Fe=o,dy(o,e)}hy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:jr(8,n,n.return),Ju(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Ju(n));break;default:Ju(n)}e=e.sibling}}function dy(e,n){for(;Fe!==null;){var s=Fe;switch(s.tag){case 0:case 11:case 15:jr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Uo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Fe=o;else t:for(s=e;Fe!==null;){o=Fe;var h=o.sibling,f=o.return;if(iy(o),o===s){Fe=null;break t}if(h!==null){h.return=f,Fe=h;break t}Fe=f}}}var JT={getCacheForType:function(e){var n=Xe(Oe),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Xe(Oe).controller.signal}},ZT=typeof WeakMap=="function"?WeakMap:Map,$t=0,ae=null,Ut=null,Pt=0,Zt=0,Mn=null,zr=!1,Na=!1,zf=!1,Xi=0,be=0,Br=0,zs=0,Bf=0,Vn=0,Da=0,Wo=null,Sn=null,qf=!1,Zu=0,my=0,Wu=1/0,tc=null,qr=null,Pe=0,Hr=null,Oa=null,$i=0,Hf=0,Ff=null,gy=null,tl=0,Gf=null;function Un(){return($t&2)!==0&&Pt!==0?Pt&-Pt:F.T!==null?Jf():Ci()}function py(){if(Vn===0)if((Pt&536870912)===0||qt){var e=oi;oi<<=1,(oi&3932160)===0&&(oi=262144),Vn=e}else Vn=536870912;return e=On.current,e!==null&&(e.flags|=32),Vn}function bn(e,n,s){(e===ae&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(xa(e,0),Fr(e,Pt,Vn,!1)),dr(e,s),(($t&2)===0||e!==ae)&&(e===ae&&(($t&2)===0&&(zs|=s),be===4&&Fr(e,Pt,Vn,!1)),_i(e))}function yy(e,n,s){if(($t&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||fr(e,n),h=o?eA(e,n):Qf(e,n,!0),f=o;do{if(h===0){Na&&!o&&Fr(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!WT(s)){h=Qf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=Wo;var R=E.current.memoizedState.isDehydrated;if(R&&(xa(E,y).flags|=256),y=Qf(E,y,!1),y!==2){if(zf&&!R){E.errorRecoveryDisabledLanes|=f,zs|=f,h=4;break t}f=Sn,Sn=h,f!==null&&(Sn===null?Sn=f:Sn.push.apply(Sn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){xa(e,0),Fr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Fr(o,n,Vn,!zr);break t;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Zu+300-ce(),10<h)){if(Fr(o,n,Vn,!zr),jn(o,0,!0)!==0)break t;$i=n,o.timeoutHandle=Yy(_y.bind(null,o,s,Sn,tc,qf,n,Vn,zs,Da,zr,f,"Throttled",-0,0),h);break t}_y(o,s,Sn,tc,qf,n,Vn,zs,Da,zr,f,null,-0,0)}}break}while(!0);_i(e)}function _y(e,n,s,o,h,f,y,E,R,j,G,X,B,q){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Be},cy(n,f,X);var at=(f&62914560)===f?Zu-ce():(f&4194048)===f?my-ce():0;if(at=LA(X,at),at!==null){$i=f,e.cancelPendingCommit=at(Ry.bind(null,e,n,f,s,o,h,y,E,R,G,X,null,B,q)),Fr(e,f,y,!j);return}}Ry(e,n,f,s,o,h,y,E,R)}function WT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Nn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fr(e,n,s,o){n&=~Bf,n&=~zs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-hn(h),y=1<<f;o[f]=-1,h&=~y}s!==0&&mo(e,s,n)}function ec(){return($t&6)===0?(el(0),!1):!0}function Kf(){if(Ut!==null){if(Zt===0)var e=Ut.return;else e=Ut,ji=Os=null,lf(e),Aa=null,Lo=0,e=Ut;for(;e!==null;)Xp(e.alternate,e),e=e.return;Ut=null}}function xa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,vA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),$i=0,Kf(),ae=e,Ut=s=Li(e.current,null),Pt=n,Zt=0,Mn=null,zr=!1,Na=fr(e,n),zf=!1,Da=Vn=Bf=zs=Br=be=0,Sn=Wo=null,qf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-hn(o),f=1<<h;n|=e[h],o&=~f}return Xi=n,Au(),s}function vy(e,n){Dt=null,F.H=Go,n===Ta||n===Du?(n=Ug(),Zt=3):n===Xh?(n=Ug(),Zt=4):Zt=n===bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Mn=n,Ut===null&&(be=1,Fu(e,Hn(n,e.current)))}function Ey(){var e=On.current;return e===null?!0:(Pt&4194048)===Pt?Qn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?e===Qn:!1}function Ty(){var e=F.H;return F.H=Go,e===null?Go:e}function Ay(){var e=F.A;return F.A=JT,e}function nc(){be=4,zr||(Pt&4194048)!==Pt&&On.current!==null||(Na=!0),(Br&134217727)===0&&(zs&134217727)===0||ae===null||Fr(ae,Pt,Vn,!1)}function Qf(e,n,s){var o=$t;$t|=2;var h=Ty(),f=Ay();(ae!==e||Pt!==n)&&(tc=null,xa(e,n)),n=!1;var y=be;t:do try{if(Zt!==0&&Ut!==null){var E=Ut,R=Mn;switch(Zt){case 8:Kf(),y=6;break t;case 3:case 2:case 9:case 6:On.current===null&&(n=!0);var j=Zt;if(Zt=0,Mn=null,Ma(e,E,R,j),s&&Na){y=0;break t}break;default:j=Zt,Zt=0,Mn=null,Ma(e,E,R,j)}}tA(),y=be;break}catch(G){vy(e,G)}while(!0);return n&&e.shellSuspendCounter++,ji=Os=null,$t=o,F.H=h,F.A=f,Ut===null&&(ae=null,Pt=0,Au()),y}function tA(){for(;Ut!==null;)Sy(Ut)}function eA(e,n){var s=$t;$t|=2;var o=Ty(),h=Ay();ae!==e||Pt!==n?(tc=null,Wu=ce()+500,xa(e,n)):Na=fr(e,n);t:do try{if(Zt!==0&&Ut!==null){n=Ut;var f=Mn;e:switch(Zt){case 1:Zt=0,Mn=null,Ma(e,n,f,1);break;case 2:case 9:if(Mg(f)){Zt=0,Mn=null,by(n);break}n=function(){Zt!==2&&Zt!==9||ae!==e||(Zt=7),_i(e)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Mg(f)?(Zt=0,Mn=null,by(n)):(Zt=0,Mn=null,Ma(e,n,f,7));break;case 5:var y=null;switch(Ut.tag){case 26:y=Ut.memoizedState;case 5:case 27:var E=Ut;if(y?u_(y):E.stateNode.complete){Zt=0,Mn=null;var R=E.sibling;if(R!==null)Ut=R;else{var j=E.return;j!==null?(Ut=j,ic(j)):Ut=null}break e}}Zt=0,Mn=null,Ma(e,n,f,5);break;case 6:Zt=0,Mn=null,Ma(e,n,f,6);break;case 8:Kf(),be=6;break t;default:throw Error(a(462))}}nA();break}catch(G){vy(e,G)}while(!0);return ji=Os=null,F.H=o,F.A=h,$t=s,Ut!==null?0:(ae=null,Pt=0,Au(),be)}function nA(){for(;Ut!==null&&!Rt();)Sy(Ut)}function Sy(e){var n=Qp(e.alternate,e,Xi);e.memoizedProps=e.pendingProps,n===null?ic(e):Ut=n}function by(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Bp(s,n,n.pendingProps,n.type,void 0,Pt);break;case 11:n=Bp(s,n,n.pendingProps,n.type.render,n.ref,Pt);break;case 5:lf(n);default:Xp(s,n),n=Ut=Ag(n,Xi),n=Qp(s,n,Xi)}e.memoizedProps=e.pendingProps,n===null?ic(e):Ut=n}function Ma(e,n,s,o){ji=Os=null,lf(n),Aa=null,Lo=0;var h=n.return;try{if(FT(e,h,n,s,Pt)){be=1,Fu(e,Hn(s,e.current)),Ut=null;return}}catch(f){if(h!==null)throw Ut=h,f;be=1,Fu(e,Hn(s,e.current)),Ut=null;return}n.flags&32768?(qt||o===1?e=!0:Na||(Pt&536870912)!==0?e=!1:(zr=e=!0,(o===2||o===9||o===3||o===6)&&(o=On.current,o!==null&&o.tag===13&&(o.flags|=16384))),wy(n,e)):ic(n)}function ic(e){var n=e;do{if((n.flags&32768)!==0){wy(n,zr);return}e=n.return;var s=QT(n.alternate,n,Xi);if(s!==null){Ut=s;return}if(n=n.sibling,n!==null){Ut=n;return}Ut=n=e}while(n!==null);be===0&&(be=5)}function wy(e,n){do{var s=YT(e.alternate,e);if(s!==null){s.flags&=32767,Ut=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ut=e;return}Ut=e=s}while(e!==null);be=6,Ut=null}function Ry(e,n,s,o,h,f,y,E,R){e.cancelPendingCommit=null;do rc();while(Pe!==0);if(($t&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Vh,Ke(e,s,f,y,E,R),e===ae&&(Ut=ae=null,Pt=0),Oa=n,Hr=e,$i=s,Hf=f,Ff=h,gy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,aA($n,function(){return Oy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=et.p,et.p=2,y=$t,$t|=4;try{XT(e,n,s)}finally{$t=y,et.p=h,F.T=o}}Pe=1,Iy(),Cy(),Ny()}}function Iy(){if(Pe===1){Pe=0;var e=Hr,n=Oa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=et.p;et.p=2;var h=$t;$t|=4;try{oy(n,e);var f=sd,y=dg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&fg(E.ownerDocument.documentElement,E)){if(R!==null&&Nh(E)){var j=R.start,G=R.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var q=B.getSelection(),at=E.textContent.length,yt=Math.min(R.start,at),ie=R.end===void 0?yt:Math.min(R.end,at);!q.extend&&yt>ie&&(y=ie,ie=yt,yt=y);var U=hg(E,yt),D=hg(E,ie);if(U&&D&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=X.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),yt>ie?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}pc=!!rd,sd=rd=null}finally{$t=h,et.p=o,F.T=s}}e.current=n,Pe=2}}function Cy(){if(Pe===2){Pe=0;var e=Hr,n=Oa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=et.p;et.p=2;var h=$t;$t|=4;try{ny(e,n.alternate,n)}finally{$t=h,et.p=o,F.T=s}}Pe=3}}function Ny(){if(Pe===4||Pe===3){Pe=0,le();var e=Hr,n=Oa,s=$i,o=gy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,Oa=Hr=null,Dy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(qr=null),po(s),n=n.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(cr,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=et.p,et.p=2,F.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{F.T=n,et.p=h}}($i&3)!==0&&rc(),_i(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Gf?tl++:(tl=0,Gf=e):tl=0,el(0)}}function Dy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Uo(n)))}function rc(){return Iy(),Cy(),Ny(),Oy()}function Oy(){if(Pe!==5)return!1;var e=Hr,n=Hf;Hf=0;var s=po($i),o=F.T,h=et.p;try{et.p=32>s?32:s,F.T=null,s=Ff,Ff=null;var f=Hr,y=$i;if(Pe=0,Oa=Hr=null,$i=0,($t&6)!==0)throw Error(a(331));var E=$t;if($t|=4,fy(f.current),uy(f,f.current,y,s),$t=E,el(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(cr,f)}catch{}return!0}finally{et.p=h,F.T=o,Dy(e,n)}}function xy(e,n,s){n=Hn(s,n),n=Sf(e.stateNode,n,2),e=kr(e,n,2),e!==null&&(dr(e,2),_i(e))}function Wt(e,n,s){if(e.tag===3)xy(e,e,s);else for(;n!==null;){if(n.tag===3){xy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qr===null||!qr.has(o))){e=Hn(s,e),s=Mp(2),o=kr(n,s,2),o!==null&&(Vp(s,o,n,e),dr(o,2),_i(o));break}}n=n.return}}function Yf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new ZT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(zf=!0,h.add(s),e=iA.bind(null,e,n,s),n.then(e,e))}function iA(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ae===e&&(Pt&s)===s&&(be===4||be===3&&(Pt&62914560)===Pt&&300>ce()-Zu?($t&2)===0&&xa(e,0):Bf|=s,Da===Pt&&(Da=0)),_i(e)}function My(e,n){n===0&&(n=fo()),e=Cs(e,n),e!==null&&(dr(e,n),_i(e))}function rA(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),My(e,s)}function sA(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),My(e,s)}function aA(e,n){return gt(e,n)}var sc=null,Va=null,Xf=!1,ac=!1,$f=!1,Gr=0;function _i(e){e!==Va&&e.next===null&&(Va===null?sc=Va=e:Va=Va.next=e),ac=!0,Xf||(Xf=!0,lA())}function el(e,n){if(!$f&&ac){$f=!0;do for(var s=!1,o=sc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-hn(42|e)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Ly(o,f))}else f=Pt,f=jn(o,o===ae?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||fr(o,f)||(s=!0,Ly(o,f));o=o.next}while(s);$f=!1}}function oA(){Vy()}function Vy(){ac=Xf=!1;var e=0;Gr!==0&&_A()&&(e=Gr);for(var n=ce(),s=null,o=sc;o!==null;){var h=o.next,f=Uy(o,n);f===0?(o.next=null,s===null?sc=h:s.next=h,h===null&&(Va=s)):(s=o,(e!==0||(f&3)!==0)&&(ac=!0)),o=h}Pe!==0&&Pe!==5||el(e),Gr!==0&&(Gr=0)}function Uy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-hn(f),E=1<<y,R=h[y];R===-1?((E&s)===0||(E&o)!==0)&&(h[y]=ta(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=ae,s=Pt,s=jn(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Tt(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||fr(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&Tt(o),po(s)){case 2:case 8:s=Ee;break;case 32:s=$n;break;case 268435456:s=co;break;default:s=$n}return o=ky.bind(null,e),s=gt(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&Tt(o),e.callbackPriority=2,e.callbackNode=null,2}function ky(e,n){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(rc()&&e.callbackNode!==s)return null;var o=Pt;return o=jn(e,e===ae?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(yy(e,o,n),Uy(e,ce()),e.callbackNode!=null&&e.callbackNode===s?ky.bind(null,e):null)}function Ly(e,n){if(rc())return null;yy(e,n,!0)}function lA(){EA(function(){($t&6)!==0?gt(se,oA):Vy()})}function Jf(){if(Gr===0){var e=va;e===0&&(e=gs,gs<<=1,(gs&261888)===0&&(gs=256)),Gr=e}return Gr}function Py(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fi(""+e)}function jy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function uA(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Py((h[Qe]||null).action),y=o.submitter;y&&(n=(n=y[Qe]||null)?Py(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ts("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Gr!==0){var R=y?jy(h,y):new FormData(h);yf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?jy(h,y):new FormData(h),yf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Zf=0;Zf<Mh.length;Zf++){var Wf=Mh[Zf],cA=Wf.toLowerCase(),hA=Wf[0].toUpperCase()+Wf.slice(1);ti(cA,"on"+hA)}ti(pg,"onAnimationEnd"),ti(yg,"onAnimationIteration"),ti(_g,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(IT,"onTransitionRun"),ti(CT,"onTransitionStart"),ti(NT,"onTransitionCancel"),ti(vg,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function zy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],R=E.instance,j=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(G){Tu(G)}h.currentTarget=null,f=R}else for(y=0;y<o.length;y++){if(E=o[y],R=E.instance,j=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(G){Tu(G)}h.currentTarget=null,f=R}}}}function kt(e,n){var s=n[pr];s===void 0&&(s=n[pr]=new Set);var o=e+"__bubble";s.has(o)||(By(n,e,2,!1),s.add(o))}function td(e,n,s){var o=0;n&&(o|=4),By(s,e,o,n)}var oc="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[oc]){e[oc]=!0,ea.forEach(function(s){s!=="selectionchange"&&(fA.has(s)||td(s,!1,e),td(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[oc]||(n[oc]=!0,td("selectionchange",!1,n))}}function By(e,n,s,o){switch(p_(n)){case 2:var h=zA;break;case 8:h=BA;break;default:h=pd}s=h.bind(null,n,s,e),h=void 0,!bo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function nd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=Di(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){o=f=y;continue t}E=E.parentNode}}o=o.return}su(function(){var j=f,G=aa(s),X=[];t:{var B=Eg.get(e);if(B!==void 0){var q=Ts,at=e;switch(e){case"keypress":if(Es(s)===0)break t;case"keydown":case"keyup":q=mu;break;case"focusin":at="focus",q=Rr;break;case"focusout":at="blur",q=Rr;break;case"beforeblur":case"afterblur":q=Rr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=pu;break;case pg:case yg:case _g:q=ua;break;case vg:q=ca;break;case"scroll":case"scrollend":q=au;break;case"wheel":q=_u;break;case"copy":case"cut":case"paste":q=cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=No;break;case"toggle":case"beforetoggle":q=Cr}var yt=(n&4)!==0,ie=!yt&&(e==="scroll"||e==="scrollend"),U=yt?B!==null?B+"Capture":null:B;yt=[];for(var D=j,P;D!==null;){var Y=D;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||U===null||(Y=_n(D,U),Y!=null&&yt.push(il(D,Y,P))),ie)break;D=D.return}0<yt.length&&(B=new q(B,at,null,s,G),X.push({event:B,listeners:yt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",B&&s!==sa&&(at=s.relatedTarget||s.fromElement)&&(Di(at)||at[ui]))break t;if((q||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,q?(at=s.relatedTarget||s.toElement,q=j,at=at?Di(at):null,at!==null&&(ie=u(at),yt=at.tag,at!==ie||yt!==5&&yt!==27&&yt!==6)&&(at=null)):(q=null,at=j),q!==at)){if(yt=ou,Y="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(yt=No,Y="onPointerLeave",U="onPointerEnter",D="pointer"),ie=q==null?B:ys(q),P=at==null?B:ys(at),B=new yt(Y,D+"leave",q,s,G),B.target=ie,B.relatedTarget=P,Y=null,Di(G)===j&&(yt=new yt(U,D+"enter",at,s,G),yt.target=P,yt.relatedTarget=ie,Y=yt),ie=Y,q&&at)e:{for(yt=dA,U=q,D=at,P=0,Y=U;Y;Y=yt(Y))P++;Y=0;for(var ft=D;ft;ft=yt(ft))Y++;for(;0<P-Y;)U=yt(U),P--;for(;0<Y-P;)D=yt(D),Y--;for(;P--;){if(U===D||D!==null&&U===D.alternate){yt=U;break e}U=yt(U),D=yt(D)}yt=null}else yt=null;q!==null&&qy(X,B,q,yt,!1),at!==null&&ie!==null&&qy(X,ie,at,yt,!0)}}t:{if(B=j?ys(j):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var Qt=sg;else if(vn(B))if(ag)Qt=bT;else{Qt=AT;var ct=TT}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&Ao(j.elementType)&&(Qt=sg):Qt=ST;if(Qt&&(Qt=Qt(e,j))){ws(X,Qt,s,G);break t}ct&&ct(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&ra(B,"number",B.value)}switch(ct=j?ys(j):window,e){case"focusin":(vn(ct)||ct.contentEditable==="true")&&(ha=ct,Dh=j,xo=null);break;case"focusout":xo=Dh=ha=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,mg(X,s,G);break;case"selectionchange":if(RT)break;case"keydown":case"keyup":mg(X,s,G)}var xt;if(m)t:{switch(e){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else Mt?Jt(e,s)&&(jt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(jt="onCompositionStart");jt&&(L&&s.locale!=="ko"&&(Mt||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&Mt&&(xt=Ar()):(Cn=G,oa="value"in Cn?Cn.value:Cn.textContent,Mt=!0)),ct=lc(j,jt),0<ct.length&&(jt=new Ro(jt,e,null,s,G),X.push({event:jt,listeners:ct}),xt?jt.data=xt:(xt=De(s),xt!==null&&(jt.data=xt)))),(xt=A?qe(e,s):He(e,s))&&(jt=lc(j,"onBeforeInput"),0<jt.length&&(ct=new Ro("onBeforeInput","beforeinput",null,s,G),X.push({event:ct,listeners:jt}),ct.data=xt)),uA(X,e,j,s,G)}zy(X,n)})}function il(e,n,s){return{instance:e,listener:n,currentTarget:s}}function lc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=_n(e,s),h!=null&&o.unshift(il(e,h,f)),h=_n(e,n),h!=null&&o.push(il(e,h,f))),e.tag===3)return o;e=e.return}return[]}function dA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qy(e,n,s,o,h){for(var f=n._reactName,y=[];s!==null&&s!==o;){var E=s,R=E.alternate,j=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||j===null||(R=j,h?(j=_n(s,f),j!=null&&y.unshift(il(s,j,R))):h||(j=_n(s,f),j!=null&&y.push(il(s,j,R)))),s=s.return}y.length!==0&&e.push({event:n,listeners:y})}var mA=/\r\n?/g,gA=/\u0000|\uFFFD/g;function Hy(e){return(typeof e=="string"?e:""+e).replace(mA,`
`).replace(gA,"")}function Fy(e,n){return n=Hy(n),Hy(e)===n}function ne(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Bn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Bn(e,""+o);break;case"className":vr(e,"class",o);break;case"tabIndex":vr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":vr(e,s,o);break;case"style":iu(e,o,f);break;case"data":if(n!=="object"){vr(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=fi(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ne(e,n,"name",h.name,h,null),ne(e,n,"formEncType",h.formEncType,h,null),ne(e,n,"formMethod",h.formMethod,h,null),ne(e,n,"formTarget",h.formTarget,h,null)):(ne(e,n,"encType",h.encType,h,null),ne(e,n,"method",h.method,h,null),ne(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=fi(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Be);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=fi(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":kt("beforetoggle",e),kt("toggle",e),_r(e,"popover",o);break;case"xlinkActuate":zn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":zn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":zn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":zn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":zn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":zn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":zn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":zn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":zn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":_r(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=bh.get(s)||s,_r(e,s,o))}}function id(e,n,s,o,h,f){switch(s){case"style":iu(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?Bn(e,o):(typeof o=="number"||typeof o=="bigint")&&Bn(e,""+o);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Be);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Qe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):_r(e,s,o)}}}function Je(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",e),kt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,f,y,s,null)}}h&&ne(e,n,"srcSet",s.srcSet,s,null),o&&ne(e,n,"src",s.src,s,null);return;case"input":kt("invalid",e);var E=f=y=h=null,R=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":y=G;break;case"checked":R=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ne(e,n,o,G,s,null)}}_s(e,f,E,R,j,y,h,!1);return;case"select":kt("invalid",e),o=y=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:ne(e,n,h,E,s,null)}n=f,s=y,e.multiple=!!o,n!=null?Kt(e,!!o,n,!1):s!=null&&Kt(e,!!o,s,!0);return;case"textarea":kt("invalid",e),f=h=o=null;for(y in s)if(s.hasOwnProperty(y)&&(E=s[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ne(e,n,y,E,s,null)}Tr(e,o,h,f);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(o=s[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ne(e,n,R,o,s,null)}return;case"dialog":kt("beforetoggle",e),kt("toggle",e),kt("cancel",e),kt("close",e);break;case"iframe":case"object":kt("load",e);break;case"video":case"audio":for(o=0;o<nl.length;o++)kt(nl[o],e);break;case"image":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"embed":case"source":case"link":kt("error",e),kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,j,o,s,null)}return;default:if(Ao(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&id(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ne(e,n,E,o,s,null))}function pA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,R=null,j=null,G=null;for(q in s){var X=s[q];if(s.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=X;default:o.hasOwnProperty(q)||ne(e,n,q,null,o,X)}}for(var B in o){var q=o[B];if(X=s[B],o.hasOwnProperty(B)&&(q!=null||X!=null))switch(B){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":G=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&ne(e,n,B,q,o,X)}}Er(e,y,E,R,j,G,f,h);return;case"select":q=y=E=B=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||ne(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&ne(e,n,h,f,o,R)}n=E,s=y,o=q,B!=null?Kt(e,!!s,B,!1):!!o!=!!s&&(n!=null?Kt(e,!!s,n,!0):Kt(e,!!s,s?[]:"",!1));return;case"textarea":q=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ne(e,n,E,null,o,h)}for(y in o)if(h=o[y],f=s[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ne(e,n,y,h,o,f)}vs(e,B,q);return;case"option":for(var at in s)if(B=s[at],s.hasOwnProperty(at)&&B!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:ne(e,n,at,null,o,B)}for(R in o)if(B=o[R],q=s[R],o.hasOwnProperty(R)&&B!==q&&(B!=null||q!=null))switch(R){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ne(e,n,R,B,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)B=s[yt],s.hasOwnProperty(yt)&&B!=null&&!o.hasOwnProperty(yt)&&ne(e,n,yt,null,o,B);for(j in o)if(B=o[j],q=s[j],o.hasOwnProperty(j)&&B!==q&&(B!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:ne(e,n,j,B,o,q)}return;default:if(Ao(n)){for(var ie in s)B=s[ie],s.hasOwnProperty(ie)&&B!==void 0&&!o.hasOwnProperty(ie)&&id(e,n,ie,void 0,o,B);for(G in o)B=o[G],q=s[G],!o.hasOwnProperty(G)||B===q||B===void 0&&q===void 0||id(e,n,G,B,o,q);return}}for(var U in s)B=s[U],s.hasOwnProperty(U)&&B!=null&&!o.hasOwnProperty(U)&&ne(e,n,U,null,o,B);for(X in o)B=o[X],q=s[X],!o.hasOwnProperty(X)||B===q||B==null&&q==null||ne(e,n,X,B,o,q)}function Gy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&Gy(y)){for(y=0,E=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],j=R.startTime;if(j>E)break;var G=R.transferSize,X=R.initiatorType;G&&Gy(X)&&(R=R.responseEnd,y+=G*(R<E?1:(E-j)/(R-j)))}if(--o,n+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var rd=null,sd=null;function uc(e){return e.nodeType===9?e:e.ownerDocument}function Ky(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ad(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var od=null;function _A(){var e=window.event;return e&&e.type==="popstate"?e===od?!1:(od=e,!0):(od=null,!1)}var Yy=typeof setTimeout=="function"?setTimeout:void 0,vA=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,EA=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(e){return Xy.resolve(null).then(e).catch(TA)}:Yy;function TA(e){setTimeout(function(){throw e})}function Kr(e){return e==="head"}function $y(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Pa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")rl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,rl(s);for(var f=s.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[Ni]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=y}}else s==="body"&&rl(e.ownerDocument.body);s=h}while(s);Pa(n)}function Jy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function ld(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ld(s),ps(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function AA(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ni])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function SA(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Yn(e.nextSibling),e===null))return null;return e}function Zy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yn(e.nextSibling),e===null))return null;return e}function ud(e){return e.data==="$?"||e.data==="$~"}function cd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function bA(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Yn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var hd=null;function Wy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Yn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function t_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function e_(e,n,s){switch(n=uc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function rl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ps(e)}var Xn=new Map,n_=new Set;function cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ji=et.d;et.d={f:wA,r:RA,D:IA,C:CA,L:NA,m:DA,X:xA,S:OA,M:MA};function wA(){var e=Ji.f(),n=ec();return e||n}function RA(e){var n=Oi(e);n!==null&&n.tag===5&&n.type==="form"?vp(n):Ji.r(e)}var Ua=typeof document>"u"?null:document;function i_(e,n,s){var o=Ua;if(o&&typeof n=="string"&&n){var h=Ae(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),n_.has(h)||(n_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Je(n,"link",e),we(n),o.head.appendChild(n)))}}function IA(e){Ji.D(e),i_("dns-prefetch",e,null)}function CA(e,n){Ji.C(e,n),i_("preconnect",e,n)}function NA(e,n,s){Ji.L(e,n,s);var o=Ua;if(o&&e&&n){var h='link[rel="preload"][as="'+Ae(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Ae(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Ae(s.imageSizes)+'"]')):h+='[href="'+Ae(e)+'"]';var f=h;switch(n){case"style":f=ka(e);break;case"script":f=La(e)}Xn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Xn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(sl(f))||n==="script"&&o.querySelector(al(f))||(n=o.createElement("link"),Je(n,"link",e),we(n),o.head.appendChild(n)))}}function DA(e,n){Ji.m(e,n);var s=Ua;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Ae(o)+'"][href="'+Ae(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=La(e)}if(!Xn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Xn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(al(f)))return}o=s.createElement("link"),Je(o,"link",e),we(o),s.head.appendChild(o)}}}function OA(e,n,s){Ji.S(e,n,s);var o=Ua;if(o&&e){var h=Zn(o).hoistableStyles,f=ka(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(sl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Xn.get(f))&&fd(e,s);var R=y=o.createElement("link");we(R),Je(R,"link",e),R._p=new Promise(function(j,G){R.onload=j,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,hc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function xA(e,n){Ji.X(e,n);var s=Ua;if(s&&e){var o=Zn(s).hoistableScripts,h=La(e),f=o.get(h);f||(f=s.querySelector(al(h)),f||(e=S({src:e,async:!0},n),(n=Xn.get(h))&&dd(e,n),f=s.createElement("script"),we(f),Je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function MA(e,n){Ji.M(e,n);var s=Ua;if(s&&e){var o=Zn(s).hoistableScripts,h=La(e),f=o.get(h);f||(f=s.querySelector(al(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Xn.get(h))&&dd(e,n),f=s.createElement("script"),we(f),Je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function r_(e,n,s,o){var h=(h=Ot.current)?cc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ka(s.href),s=Zn(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ka(s.href);var f=Zn(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(sl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Xn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Xn.set(e,s),f||VA(h,e,s,y.state))),n&&o===null)throw Error(a(528,""));return y}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=La(s),s=Zn(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ka(e){return'href="'+Ae(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function s_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function VA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Je(n,"link",s),we(n),e.head.appendChild(n))}function La(e){return'[src="'+Ae(e)+'"]'}function al(e){return"script[async]"+e}function a_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Ae(s.href)+'"]');if(o)return n.instance=o,we(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),we(o),Je(o,"style",h),hc(o,s.precedence,e),n.instance=o;case"stylesheet":h=ka(s.href);var f=e.querySelector(sl(h));if(f)return n.state.loading|=4,n.instance=f,we(f),f;o=s_(s),(h=Xn.get(h))&&fd(o,h),f=(e.ownerDocument||e).createElement("link"),we(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Je(f,"link",o),n.state.loading|=4,hc(f,s.precedence,e),n.instance=f;case"script":return f=La(s.src),(h=e.querySelector(al(f)))?(n.instance=h,we(h),h):(o=s,(h=Xn.get(f))&&(o=S({},s),dd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),we(h),Je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,hc(o,s.precedence,e));return n.instance}function hc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function fd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function dd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var fc=null;function o_(e,n,s){if(fc===null){var o=new Map,h=fc=new Map;h.set(s,o)}else h=fc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[Ni]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function l_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function UA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function u_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function kA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ka(o.href),f=n.querySelector(sl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=dc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,we(f);return}f=n.ownerDocument||n,o=s_(o),(h=Xn.get(h))&&fd(o,h),f=f.createElement("link"),we(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Je(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=dc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var md=0;function LA(e,n){return e.stylesheets&&e.count===0&&gc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&md===0&&(md=62500*yA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>md?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mc=null;function gc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mc=new Map,n.forEach(PA,e),mc=null,dc.call(e))}function PA(e,n){if(!(n.state.loading&4)){var s=mc.get(e);if(s)var o=s.get(null);else{s=new Map,mc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),o=y)}o&&s.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=s.get(y)||o,f===o&&s.set(null,h),s.set(y,h),this.count++,o=dc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ol={$$typeof:it,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function jA(e,n,s,o,h,f,y,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function c_(e,n,s,o,h,f,y,E,R,j,G,X){return e=new jA(e,n,s,y,R,j,G,X,E),n=1,f===!0&&(n|=24),f=Dn(3,null,null,n),e.current=f,f.stateNode=e,n=Kh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},$h(f),e}function h_(e){return e?(e=ma,e):ma}function f_(e,n,s,o,h,f){h=h_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ur(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=kr(e,o,n),s!==null&&(bn(s,e,n),jo(s,e,n))}function d_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function gd(e,n){d_(e,n),(e=e.alternate)&&d_(e,n)}function m_(e){if(e.tag===13||e.tag===31){var n=Cs(e,67108864);n!==null&&bn(n,e,67108864),gd(e,67108864)}}function g_(e){if(e.tag===13||e.tag===31){var n=Un();n=go(n);var s=Cs(e,n);s!==null&&bn(s,e,n),gd(e,n)}}var pc=!0;function zA(e,n,s,o){var h=F.T;F.T=null;var f=et.p;try{et.p=2,pd(e,n,s,o)}finally{et.p=f,F.T=h}}function BA(e,n,s,o){var h=F.T;F.T=null;var f=et.p;try{et.p=8,pd(e,n,s,o)}finally{et.p=f,F.T=h}}function pd(e,n,s,o){if(pc){var h=yd(o);if(h===null)nd(e,n,o,yc,s),y_(e,o);else if(HA(h,e,n,s,o))o.stopPropagation();else if(y_(e,o),n&4&&-1<qA.indexOf(e)){for(;h!==null;){var f=Oi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Jn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-hn(y);E.entanglements[1]|=R,y&=~R}_i(f),($t&6)===0&&(Wu=ce()+500,el(0))}}break;case 31:case 13:E=Cs(f,2),E!==null&&bn(E,f,2),ec(),gd(f,2)}if(f=yd(o),f===null&&nd(e,n,o,yc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else nd(e,n,o,null,s)}}function yd(e){return e=aa(e),_d(e)}var yc=null;function _d(e){if(yc=null,e=Di(e),e!==null){var n=u(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return yc=e,null}function p_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ge()){case se:return 2;case Ee:return 8;case $n:case Jl:return 32;case co:return 268435456;default:return 32}default:return 32}}var vd=!1,Qr=null,Yr=null,Xr=null,ll=new Map,ul=new Map,$r=[],qA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y_(e,n){switch(e){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(n.pointerId)}}function cl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Oi(n),n!==null&&m_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function HA(e,n,s,o,h){switch(n){case"focusin":return Qr=cl(Qr,e,n,s,o,h),!0;case"dragenter":return Yr=cl(Yr,e,n,s,o,h),!0;case"mouseover":return Xr=cl(Xr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return ll.set(f,cl(ll.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ul.set(f,cl(ul.get(f)||null,e,n,s,o,h)),!0}return!1}function __(e){var n=Di(e.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Wl(e.priority,function(){g_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Wl(e.priority,function(){g_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=yd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);sa=o,s.target.dispatchEvent(o),sa=null}else return n=Oi(s),n!==null&&m_(n),e.blockedOn=s,!1;n.shift()}return!0}function v_(e,n,s){_c(e)&&s.delete(n)}function FA(){vd=!1,Qr!==null&&_c(Qr)&&(Qr=null),Yr!==null&&_c(Yr)&&(Yr=null),Xr!==null&&_c(Xr)&&(Xr=null),ll.forEach(v_),ul.forEach(v_)}function vc(e,n){e.blockedOn===n&&(e.blockedOn=null,vd||(vd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,FA)))}var Ec=null;function E_(e){Ec!==e&&(Ec=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ec===e&&(Ec=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(_d(o||s)===null)continue;break}var f=Oi(s);f!==null&&(e.splice(n,3),n-=3,yf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Pa(e){function n(R){return vc(R,e)}Qr!==null&&vc(Qr,e),Yr!==null&&vc(Yr,e),Xr!==null&&vc(Xr,e),ll.forEach(n),ul.forEach(n);for(var s=0;s<$r.length;s++){var o=$r[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<$r.length&&(s=$r[0],s.blockedOn===null);)__(s),s.blockedOn===null&&$r.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],y=h[Qe]||null;if(typeof f=="function")y||E_(s);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Qe]||null)E=y.formAction;else if(_d(h)!==null)continue}else E=y.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),E_(s)}}}function T_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ed(e){this._internalRoot=e}Tc.prototype.render=Ed.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Un();f_(s,o,e,n,null,null)},Tc.prototype.unmount=Ed.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;f_(e.current,2,null,e,null,null),ec(),n[ui]=null}};function Tc(e){this._internalRoot=e}Tc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ci();e={blockedOn:null,target:e,priority:n};for(var s=0;s<$r.length&&n!==0&&n<$r[s].priority;s++);$r.splice(s,0,e),s===0&&__(e)}};var A_=t.version;if(A_!=="19.2.0")throw Error(a(527,A_,"19.2.0"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var GA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{cr=Ac.inject(GA),rn=Ac}catch{}}return fl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Np,f=Dp,y=Op;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=c_(e,1,!1,null,null,s,o,null,h,f,y,T_),e[ui]=n.current,ed(e),new Ed(n)},fl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Np,y=Dp,E=Op,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=c_(e,1,!0,n,s??null,o,h,R,f,y,E,T_),n.context=h_(null),s=n.current,o=Un(),o=go(o),h=Ur(o),h.callback=null,kr(s,h,o),s=o,n.current.lanes=s,dr(n,s),_i(n),e[ui]=n.current,ed(e),new Tc(n)},fl.version="19.2.0",fl}var x_;function eS(){if(x_)return Ad.exports;x_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ad.exports=tS(),Ad.exports}var nS=eS(),wt=um(),M_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},iS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[i++];t[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[i++],d=r[i++],g=r[i++],p=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},e0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,v=p?r[l+2]:0,T=u>>2,S=(u&3)<<4|g>>4;let N=(g&15)<<2|v>>6,z=v&63;p||(z=64,d||(N=64)),a.push(i[T],i[S],i[N],i[z])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(t0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):iS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const u=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const v=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,u==null||g==null||v==null||S==null)throw new rS;const N=u<<2|g>>4;if(a.push(N),v!==64){const z=g<<4&240|v>>2;if(a.push(z),S!==64){const Q=v<<6&192|S;a.push(Q)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sS=function(r){const t=t0(r);return e0.encodeByteArray(t,!0)},Pc=function(r){return sS(r).replace(/\./g,"")},n0=function(r){try{return e0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=()=>aS().__FIREBASE_DEFAULTS__,lS=()=>{if(typeof process>"u"||typeof M_>"u")return;const r=M_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},uS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&n0(r[1]);return t&&JSON.parse(t)},th=()=>{try{return oS()||lS()||uS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},i0=r=>{var t,i;return(i=(t=th())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},cS=r=>{const t=i0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},r0=()=>{var r;return(r=th())===null||r===void 0?void 0:r.config},s0=r=>{var t;return(t=th())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Pc(JSON.stringify(i)),Pc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function mS(){var r;const t=(r=th())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function yS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _S(){const r=cn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function vS(){return!mS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ES(){try{return typeof indexedDB=="object"}catch{return!1}}function TS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;t(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="FirebaseError";class or extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=AS,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?SS(u,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new or(l,g,a)}}function SS(r,t){return r.replace(bS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const bS=/\{\$([^}]+)}/g;function wS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Il(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const u=r[l],d=t[l];if(V_(u)&&V_(d)){if(!Il(u,d))return!1}else if(u!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function V_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function ml(r){const t={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,u]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(u)}}),t}function gl(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}function RS(r,t){const i=new IS(r,t);return i.subscribe.bind(i)}class IS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");CS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Id),l.error===void 0&&(l.error=Id),l.complete===void 0&&(l.complete=Id);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Id(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(r){return r&&r._delegate?r._delegate:r}class Gs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new hS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(OS(t))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(t=Bs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Bs){return this.instances.has(t)}getOptions(t=Bs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);a===g&&d.resolve(l)}return l}onInit(t,i){var a;const l=this.normalizeInstanceIdentifier(i),u=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;u.add(t),this.onInitCallbacks.set(l,u);const d=this.instances.get(l);return d&&t(d,l),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:DS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Bs){return this.component?this.component.multipleInstances?t:Bs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DS(r){return r===Bs?void 0:r}function OS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new NS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ht||(Ht={}));const MS={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},VS=Ht.INFO,US={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},kS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=US[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cm{constructor(t){this.name=t,this._logLevel=VS,this._logHandler=kS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?MS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const LS=(r,t)=>t.some(i=>r instanceof i);let U_,k_;function PS(){return U_||(U_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jS(){return k_||(k_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a0=new WeakMap,Pd=new WeakMap,o0=new WeakMap,Cd=new WeakMap,hm=new WeakMap;function zS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{i(rs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&a0.set(i,r)}).catch(()=>{}),hm.set(t,r),t}function BS(r){if(Pd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});Pd.set(r,t)}let jd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Pd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||o0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return rs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function qS(r){jd=r(jd)}function HS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Nd(this),t,...i);return o0.set(a,t.sort?t.sort():[t]),rs(a)}:jS().includes(r)?function(...t){return r.apply(Nd(this),t),rs(a0.get(this))}:function(...t){return rs(r.apply(Nd(this),t))}}function FS(r){return typeof r=="function"?HS(r):(r instanceof IDBTransaction&&BS(r),LS(r,PS())?new Proxy(r,jd):r)}function rs(r){if(r instanceof IDBRequest)return zS(r);if(Cd.has(r))return Cd.get(r);const t=FS(r);return t!==r&&(Cd.set(r,t),hm.set(t,r)),t}const Nd=r=>hm.get(r);function GS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:u}={}){const d=indexedDB.open(r,t),g=rs(d);return a&&d.addEventListener("upgradeneeded",p=>{a(rs(d.result),p.oldVersion,p.newVersion,rs(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const KS=["get","getKey","getAll","getAllKeys","count"],QS=["put","add","delete","clear"],Dd=new Map;function L_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Dd.get(t))return Dd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=QS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||KS.includes(i)))return;const u=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let v=p.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&p.done]))[0]};return Dd.set(t,u),u}qS(r=>({...r,get:(t,i,a)=>L_(t,i)||r.get(t,i,a),has:(t,i)=>!!L_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(XS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function XS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const zd="@firebase/app",P_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new cm("@firebase/app"),$S="@firebase/app-compat",JS="@firebase/analytics-compat",ZS="@firebase/analytics",WS="@firebase/app-check-compat",tb="@firebase/app-check",eb="@firebase/auth",nb="@firebase/auth-compat",ib="@firebase/database",rb="@firebase/data-connect",sb="@firebase/database-compat",ab="@firebase/functions",ob="@firebase/functions-compat",lb="@firebase/installations",ub="@firebase/installations-compat",cb="@firebase/messaging",hb="@firebase/messaging-compat",fb="@firebase/performance",db="@firebase/performance-compat",mb="@firebase/remote-config",gb="@firebase/remote-config-compat",pb="@firebase/storage",yb="@firebase/storage-compat",_b="@firebase/firestore",vb="@firebase/vertexai-preview",Eb="@firebase/firestore-compat",Tb="firebase",Ab="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="[DEFAULT]",Sb={[zd]:"fire-core",[$S]:"fire-core-compat",[ZS]:"fire-analytics",[JS]:"fire-analytics-compat",[tb]:"fire-app-check",[WS]:"fire-app-check-compat",[eb]:"fire-auth",[nb]:"fire-auth-compat",[ib]:"fire-rtdb",[rb]:"fire-data-connect",[sb]:"fire-rtdb-compat",[ab]:"fire-fn",[ob]:"fire-fn-compat",[lb]:"fire-iid",[ub]:"fire-iid-compat",[cb]:"fire-fcm",[hb]:"fire-fcm-compat",[fb]:"fire-perf",[db]:"fire-perf-compat",[mb]:"fire-rc",[gb]:"fire-rc-compat",[pb]:"fire-gcs",[yb]:"fire-gcs-compat",[_b]:"fire-fst",[Eb]:"fire-fst-compat",[vb]:"fire-vertex","fire-js":"fire-js",[Tb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Map,bb=new Map,qd=new Map;function j_(r,t){try{r.container.addComponent(t)}catch(i){ir.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Qa(r){const t=r.name;if(qd.has(t))return ir.debug(`There were multiple attempts to register component ${t}.`),!1;qd.set(t,r);for(const i of jc.values())j_(i,r);for(const i of bb.values())j_(i,r);return!0}function fm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Ei(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new Pl("app","Firebase",wb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=Ab;function l0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Bd,automaticDataCollectionEnabled:!1},t),l=a.name;if(typeof l!="string"||!l)throw ss.create("bad-app-name",{appName:String(l)});if(i||(i=r0()),!i)throw ss.create("no-options");const u=jc.get(l);if(u){if(Il(i,u.options)&&Il(a,u.config))return u;throw ss.create("duplicate-app",{appName:l})}const d=new xS(l);for(const p of qd.values())d.addComponent(p);const g=new Rb(i,a,d);return jc.set(l,g),g}function u0(r=Bd){const t=jc.get(r);if(!t&&r===Bd&&r0())return l0();if(!t)throw ss.create("no-app",{appName:r});return t}function as(r,t,i){var a;let l=(a=Sb[r])!==null&&a!==void 0?a:r;i&&(l+=`-${i}`);const u=l.match(/\s|\//),d=t.match(/\s|\//);if(u||d){const g=[`Unable to register library "${l}" with version "${t}":`];u&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ir.warn(g.join(" "));return}Qa(new Gs(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="firebase-heartbeat-database",Cb=1,Cl="firebase-heartbeat-store";let Od=null;function c0(){return Od||(Od=GS(Ib,Cb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Cl)}catch(i){console.warn(i)}}}}).catch(r=>{throw ss.create("idb-open",{originalErrorMessage:r.message})})),Od}async function Nb(r){try{const i=(await c0()).transaction(Cl),a=await i.objectStore(Cl).get(h0(r));return await i.done,a}catch(t){if(t instanceof or)ir.warn(t.message);else{const i=ss.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ir.warn(i.message)}}}async function z_(r,t){try{const a=(await c0()).transaction(Cl,"readwrite");await a.objectStore(Cl).put(t,h0(r)),await a.done}catch(i){if(i instanceof or)ir.warn(i.message);else{const a=ss.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ir.warn(a.message)}}}function h0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=1024,Ob=720*60*60*1e3;class xb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Vb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=B_();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const g=new Date(d.date).valueOf();return Date.now()-g<=Ob}),this._storage.overwrite(this._heartbeatsCache))}catch(a){ir.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=B_(),{heartbeatsToSend:a,unsentEntries:l}=Mb(this._heartbeatsCache.heartbeats),u=Pc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return ir.warn(i),""}}}function B_(){return new Date().toISOString().substring(0,10)}function Mb(r,t=Db){const i=[];let a=r.slice();for(const l of r){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),q_(i)>t){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),q_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Vb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ES()?TS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Nb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return z_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return z_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function q_(r){return Pc(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(r){Qa(new Gs("platform-logger",t=>new YS(t),"PRIVATE")),Qa(new Gs("heartbeat",t=>new xb(t),"PRIVATE")),as(zd,P_,r),as(zd,P_,"esm2017"),as("fire-js","")}Ub("");var kb="firebase",Lb="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(kb,Lb,"app");function dm(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(i[a[l]]=r[a[l]]);return i}function f0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Pb=f0,d0=new Pl("auth","Firebase",f0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new cm("@firebase/auth");function jb(r,...t){zc.logLevel<=Ht.WARN&&zc.warn(`Auth (${io}): ${r}`,...t)}function Cc(r,...t){zc.logLevel<=Ht.ERROR&&zc.error(`Auth (${io}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(r,...t){throw mm(r,...t)}function Ti(r,...t){return mm(r,...t)}function m0(r,t,i){const a=Object.assign(Object.assign({},Pb()),{[t]:i});return new Pl("auth","Firebase",a).create(t,{appName:r.name})}function er(r){return m0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return d0.create(r,...t)}function At(r,t,...i){if(!r)throw mm(t,...i)}function Zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Cc(t),new Error(t)}function rr(r,t){r||Zi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function zb(){return H_()==="http:"||H_()==="https:"}function H_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zb()||pS()||"connection"in navigator)?navigator.onLine:!0}function qb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,rr(i>t,"Short delay should be less than long delay!"),this.isMobile=dS()||yS()}get(){return Bb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(r,t){rr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=new zl(3e4,6e4);function lr(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function ur(r,t,i,a,l={}){return p0(r,l,async()=>{let u={},d={};a&&(t==="GET"?d=a:u={body:JSON.stringify(a)});const g=jl(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:t,headers:p},u);return gS()||(v.referrerPolicy="no-referrer"),g0.fetch()(y0(r,r.config.apiHost,i,g),v)})}async function p0(r,t,i){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},Hb),t);try{const l=new Kb(r),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Sc(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[p,v]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Sc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw Sc(r,"user-disabled",d);const T=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw m0(r,T,v);ri(r,T)}}catch(l){if(l instanceof or)throw l;ri(r,"network-request-failed",{message:String(l)})}}async function Bl(r,t,i,a,l={}){const u=await ur(r,t,i,a,l);return"mfaPendingCredential"in u&&ri(r,"multi-factor-auth-required",{_serverResponse:u}),u}function y0(r,t,i,a){const l=`${t}${i}?${a}`;return r.config.emulator?gm(r.config,l):`${r.config.apiScheme}://${l}`}function Gb(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kb{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ti(this.auth,"network-request-failed")),Fb.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ti(r,t,a);return l.customData._tokenResponse=i,l}function F_(r){return r!==void 0&&r.enterprise!==void 0}class Qb{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return Gb(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function Yb(r,t){return ur(r,"GET","/v2/recaptchaConfig",lr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(r,t){return ur(r,"POST","/v1/accounts:delete",t)}async function _0(r,t){return ur(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function $b(r,t=!1){const i=ze(r),a=await i.getIdToken(t),l=pm(a);At(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:l,token:a,authTime:El(xd(l.auth_time)),issuedAtTime:El(xd(l.iat)),expirationTime:El(xd(l.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function xd(r){return Number(r)*1e3}function pm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const l=n0(i);return l?JSON.parse(l):(Cc("Failed to decode base64 JWT payload"),null)}catch(l){return Cc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function G_(r){const t=pm(r);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof or&&Jb(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function Jb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(r){var t;const i=r.auth,a=await r.getIdToken(),l=await Nl(r,_0(i,{idToken:a}));At(l==null?void 0:l.users.length,i,"internal-error");const u=l.users[0];r._notifyReloadListener(u);const d=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?v0(u.providerUserInfo):[],g=tw(r.providerData,d),p=r.isAnonymous,v=!(r.email&&u.passwordHash)&&!(g!=null&&g.length),T=p?v:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:g,metadata:new Fd(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,S)}async function Wb(r){const t=ze(r);await Bc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function tw(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function v0(r){return r.map(t=>{var{providerId:i}=t,a=dm(t,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew(r,t){const i=await p0(r,{},async()=>{const a=jl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=y0(r,l,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",g0.fetch()(d,{method:"POST",headers:g,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function nw(r,t){return ur(r,"POST","/v2/accounts:revokeToken",lr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):G_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){At(t.length!==0,"internal-error");const i=G_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:u}=await ew(t,i);this.updateTokensAndExpiration(a,l,Number(u))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:u}=i,d=new Ha;return a&&(At(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(At(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),u&&(At(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(r,t){At(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wi{constructor(t){var{uid:i,auth:a,stsTokenManager:l}=t,u=dm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Fd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const i=await Nl(this,this.stsTokenManager.getToken(this.auth,t));return At(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return $b(this,t)}reload(){return Wb(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Wi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Bc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ei(this.auth.app))return Promise.reject(er(this.auth));const t=await this.getIdToken();return await Nl(this,Xb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var a,l,u,d,g,p,v,T;const S=(a=i.displayName)!==null&&a!==void 0?a:void 0,N=(l=i.email)!==null&&l!==void 0?l:void 0,z=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,Q=(d=i.photoURL)!==null&&d!==void 0?d:void 0,tt=(g=i.tenantId)!==null&&g!==void 0?g:void 0,J=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,lt=(v=i.createdAt)!==null&&v!==void 0?v:void 0,_t=(T=i.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:it,emailVerified:Lt,isAnonymous:re,providerData:St,stsTokenManager:C}=i;At(it&&C,t,"internal-error");const b=Ha.fromJSON(this.name,C);At(typeof it=="string",t,"internal-error"),Zr(S,t.name),Zr(N,t.name),At(typeof Lt=="boolean",t,"internal-error"),At(typeof re=="boolean",t,"internal-error"),Zr(z,t.name),Zr(Q,t.name),Zr(tt,t.name),Zr(J,t.name),Zr(lt,t.name),Zr(_t,t.name);const I=new Wi({uid:it,auth:t,email:N,emailVerified:Lt,displayName:S,isAnonymous:re,photoURL:Q,phoneNumber:z,tenantId:tt,stsTokenManager:b,createdAt:lt,lastLoginAt:_t});return St&&Array.isArray(St)&&(I.providerData=St.map(M=>Object.assign({},M))),J&&(I._redirectEventId=J),I}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ha;l.updateFromServerResponse(i);const u=new Wi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Bc(u),u}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];At(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?v0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),g=new Ha;g.updateFromIdToken(a);const p=new Wi({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Fd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;function tr(r){rr(r instanceof Function,"Expected a class definition");let t=K_.get(r);return t?(rr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,K_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}E0.type="NONE";const Q_=E0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(r,t,i){return`firebase:${r}:${t}:${i}`}class Fa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:u}=this.auth;this.fullUserKey=Nc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Nc("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Wi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Fa(tr(Q_),t,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=l[0]||tr(Q_);const d=Nc(a,t.config.apiKey,t.name);let g=null;for(const v of i)try{const T=await v._get(d);if(T){const S=Wi._fromJSON(t,T);v!==u&&(g=S),u=v;break}}catch{}const p=l.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Fa(u,t,a):(u=p[0],g&&await u._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==u)try{await v._remove(d)}catch{}})),new Fa(u,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(b0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(T0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(R0(t))return"Blackberry";if(I0(t))return"Webos";if(A0(t))return"Safari";if((t.includes("chrome/")||S0(t))&&!t.includes("edge/"))return"Chrome";if(w0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function T0(r=cn()){return/firefox\//i.test(r)}function A0(r=cn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function S0(r=cn()){return/crios\//i.test(r)}function b0(r=cn()){return/iemobile/i.test(r)}function w0(r=cn()){return/android/i.test(r)}function R0(r=cn()){return/blackberry/i.test(r)}function I0(r=cn()){return/webos/i.test(r)}function ym(r=cn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function iw(r=cn()){var t;return ym(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function rw(){return _S()&&document.documentMode===10}function C0(r=cn()){return ym(r)||w0(r)||I0(r)||R0(r)||/windows phone/i.test(r)||b0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(r,t=[]){let i;switch(r){case"Browser":i=Y_(cn());break;case"Worker":i=`${Y_(cn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${io}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=u=>new Promise((d,g)=>{try{const p=t(u);d(p)}catch(p){g(p)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aw(r,t={}){return ur(r,"GET","/v2/passwordPolicy",lr(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=6;class lw{constructor(t){var i,a,l,u;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:ow,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,a,l,u,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X_(this),this.idTokenSubscription=new X_(this),this.beforeStateQueue=new sw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=tr(i)),this._initializationPromise=this.queue(async()=>{var a,l;if(!this._deleted&&(this.persistenceManager=await Fa.create(this,t),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await _0(this,{idToken:t}),a=await Wi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(Ei(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Bc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=qb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ei(this.app))return Promise.reject(er(this));const i=t?ze(t):null;return i&&At(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ei(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ei(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await aw(this),i=new lw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Pl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await nw(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&tr(t)||this._popupRedirectResolver;At(i,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[tr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,a,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=N0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&jb(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Js(r){return ze(r)}class X_{constructor(t){this.auth=t,this.observer=null,this.addObserver=RS(i=>this.observer=i)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cw(r){eh=r}function D0(r){return eh.loadJS(r)}function hw(){return eh.recaptchaEnterpriseScript}function fw(){return eh.gapiScript}function dw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const mw="recaptcha-enterprise",gw="NO_RECAPTCHA";class pw{constructor(t){this.type=mw,this.auth=Js(t)}async verify(t="verify",i=!1){async function a(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{Yb(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const v=new Qb(p);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,d(v.siteKey)}}).catch(p=>{g(p)})})}function l(u,d,g){const p=window.grecaptcha;F_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(v=>{d(v)}).catch(()=>{d(gw)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((u,d)=>{a(this.auth).then(g=>{if(!i&&F_(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=hw();p.length!==0&&(p+=g),D0(p).then(()=>{l(g,u,d)}).catch(v=>{d(v)})}}).catch(g=>{d(g)})})}}async function $_(r,t,i,a=!1){const l=new pw(r);let u;try{u=await l.verify(i)}catch{u=await l.verify(i,!0)}const d=Object.assign({},t);return a?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Gd(r,t,i,a){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await $_(r,t,i,i==="getOobCode");return a(r,u)}else return a(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await $_(r,t,i,i==="getOobCode");return a(r,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(r,t){const i=fm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(Il(u,t??{}))return l;ri(l,"already-initialized")}return i.initialize({options:t})}function _w(r,t){const i=(t==null?void 0:t.persistence)||[],a=(Array.isArray(i)?i:[i]).map(tr);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function vw(r,t,i){const a=Js(r);At(a._canInitEmulator,a,"emulator-config-failed"),At(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,u=O0(t),{host:d,port:g}=Ew(t),p=g===null?"":`:${g}`;a.config.emulator={url:`${u}//${d}${p}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})}),Tw()}function O0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Ew(r){const t=O0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const u=l[1];return{host:u,port:J_(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:J_(d)}}}function J_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Tw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,i){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function Aw(r,t){return ur(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sw(r,t){return Bl(r,"POST","/v1/accounts:signInWithPassword",lr(r,t))}async function bw(r,t){return ur(r,"POST","/v1/accounts:sendOobCode",lr(r,t))}async function ww(r,t){return bw(r,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rw(r,t){return Bl(r,"POST","/v1/accounts:signInWithEmailLink",lr(r,t))}async function Iw(r,t){return Bl(r,"POST","/v1/accounts:signInWithEmailLink",lr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends _m{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Dl(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new Dl(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gd(t,i,"signInWithPassword",Sw);case"emailLink":return Rw(t,{email:this._email,oobCode:this._password});default:ri(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gd(t,a,"signUpPassword",Aw);case"emailLink":return Iw(t,{idToken:i,email:this._email,oobCode:this._password});default:ri(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(r,t){return Bl(r,"POST","/v1/accounts:signInWithIdp",lr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="http://localhost";class Ks extends _m{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ks(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ri("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l}=i,u=dm(i,["providerId","signInMethod"]);if(!a||!l)return null;const d=new Ks(a,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ga(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ga(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ga(t,i)}buildRequest(){const t={requestUri:Cw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=jl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Dw(r){const t=ml(gl(r)).link,i=t?ml(gl(t)).deep_link_id:null,a=ml(gl(r)).deep_link_id;return(a?ml(gl(a)).link:null)||a||i||t||r}class vm{constructor(t){var i,a,l,u,d,g;const p=ml(gl(t)),v=(i=p.apiKey)!==null&&i!==void 0?i:null,T=(a=p.oobCode)!==null&&a!==void 0?a:null,S=Nw((l=p.mode)!==null&&l!==void 0?l:null);At(v&&T&&S,"argument-error"),this.apiKey=v,this.operation=S,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(t){const i=Dw(t);try{return new vm(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.providerId=ro.PROVIDER_ID}static credential(t,i){return Dl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=vm.parseLink(i);return At(a,"argument-error"),Dl._fromEmailAndCode(t,a.code,a.tenantId)}}ro.PROVIDER_ID="password";ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends x0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends ql{constructor(){super("facebook.com")}static credential(t){return Ks._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wr.credentialFromTaggedObject(t)}static credentialFromError(t){return Wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wr.credential(t.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ks._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return ts.credential(i,a)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends ql{constructor(){super("github.com")}static credential(t){return Ks._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return es.credentialFromTaggedObject(t)}static credentialFromError(t){return es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return es.credential(t.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends ql{constructor(){super("twitter.com")}static credential(t,i){return Ks._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return ns.credentialFromTaggedObject(t)}static credentialFromError(t){return ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return ns.credential(i,a)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ow(r,t){return Bl(r,"POST","/v1/accounts:signUp",lr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const u=await Wi._fromIdTokenResponse(t,a,l),d=Z_(a);return new Qs({user:u,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=Z_(a);return new Qs({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function Z_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends or{constructor(t,i,a,l){var u;super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,qc.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new qc(t,i,a,l)}}function M0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?qc._fromErrorAndOperation(r,u,t,a):u})}async function xw(r,t,i=!1){const a=await Nl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Qs._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(r,t,i=!1){const{auth:a}=r;if(Ei(a.app))return Promise.reject(er(a));const l="reauthenticate";try{const u=await Nl(r,M0(a,l,t,r),i);At(u.idToken,a,"internal-error");const d=pm(u.idToken);At(d,a,"internal-error");const{sub:g}=d;return At(r.uid===g,a,"user-mismatch"),Qs._forOperation(r,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ri(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V0(r,t,i=!1){if(Ei(r.app))return Promise.reject(er(r));const a="signIn",l=await M0(r,a,t),u=await Qs._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(u.user),u}async function Vw(r,t){return V0(Js(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U0(r){const t=Js(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Uw(r,t,i){if(Ei(r.app))return Promise.reject(er(r));const a=Js(r),d=await Gd(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ow).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&U0(r),p}),g=await Qs._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(g.user),g}function kw(r,t,i){return Ei(r.app)?Promise.reject(er(r)):Vw(ze(r),ro.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&U0(r),a})}async function Lw(r,t){const i=ze(r),l={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:u}=await ww(i.auth,l);u!==r.email&&await r.reload()}function Pw(r,t,i,a){return ze(r).onIdTokenChanged(t,i,a)}function jw(r,t,i){return ze(r).beforeAuthStateChanged(t,i)}function zw(r,t,i,a){return ze(r).onAuthStateChanged(t,i,a)}const Hc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Hc,"1"),this.storage.removeItem(Hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=1e3,qw=10;class L0 extends k0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);rw()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,qw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Bw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}L0.type="LOCAL";const Hw=L0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0 extends k0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}P0.type="SESSION";const j0=P0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new nh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,u)),p=await Fw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,p)=>{const v=Em("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const N=S;if(N.data.eventId===v)switch(N.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(N.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(){return window}function Kw(r){Ai().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function Qw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Yw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Xw(){return z0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="firebaseLocalStorageDb",$w=1,Fc="firebaseLocalStorage",q0="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ih(r,t){return r.transaction([Fc],t?"readwrite":"readonly").objectStore(Fc)}function Jw(){const r=indexedDB.deleteDatabase(B0);return new Hl(r).toPromise()}function Kd(){const r=indexedDB.open(B0,$w);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Fc,{keyPath:q0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Fc)?t(a):(a.close(),await Jw(),t(await Kd()))})})}async function W_(r,t,i){const a=ih(r,!0).put({[q0]:t,value:i});return new Hl(a).toPromise()}async function Zw(r,t){const i=ih(r,!1).get(t),a=await new Hl(i).toPromise();return a===void 0?null:a.value}function tv(r,t){const i=ih(r,!0).delete(t);return new Hl(i).toPromise()}const Ww=800,tR=3;class H0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>tR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nh._getInstance(Xw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await Qw(),!this.activeServiceWorker)return;this.sender=new Gw(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Yw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Kd();return await W_(t,Hc,"1"),await tv(t,Hc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>W_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Zw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>tv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=ih(l,!1).getAll();return new Hl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ww)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H0.type="LOCAL";const eR=H0;new zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(r,t){return t?tr(t):(At(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm extends _m{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ga(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ga(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ga(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function iR(r){return V0(r.auth,new Tm(r),r.bypassAuthState)}function rR(r){const{auth:t,user:i}=r;return At(i,t,"internal-error"),Mw(i,new Tm(r),r.bypassAuthState)}async function sR(r){const{auth:t,user:i}=r;return At(i,t,"internal-error"),xw(i,new Tm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(t,i,a,l,u=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:u,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return iR;case"linkViaPopup":case"linkViaRedirect":return sR;case"reauthViaPopup":case"reauthViaRedirect":return rR;default:ri(this.auth,"internal-error")}}resolve(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new zl(2e3,1e4);class qa extends F0{constructor(t,i,a,l,u){super(t,i,l,u),this.provider=a,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const t=Em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,aR.get())};t()}}qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="pendingRedirect",Dc=new Map;class lR extends F0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Dc.get(this.auth._key());if(!t){try{const a=await uR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Dc.set(this.auth._key(),t)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uR(r,t){const i=fR(t),a=hR(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function cR(r,t){Dc.set(r._key(),t)}function hR(r){return tr(r._redirectPersistence)}function fR(r){return Nc(oR,r.config.apiKey,r.name)}async function dR(r,t,i=!1){if(Ei(r.app))return Promise.reject(er(r));const a=Js(r),l=nR(a,t),d=await new lR(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=600*1e3;class gR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!pR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var a;if(t.error&&!G0(t)){const l=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(Ti(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=mR&&this.cachedEventUids.clear(),this.cachedEventUids.has(ev(t))}saveEventToCache(t){this.cachedEventUids.add(ev(t)),this.lastProcessedEventTime=Date.now()}}function ev(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function G0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function pR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(r,t={}){return ur(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vR=/^https?/;async function ER(r){if(r.config.emulator)return;const{authorizedDomains:t}=await yR(r);for(const i of t)try{if(TR(i))return}catch{}ri(r,"unauthorized-domain")}function TR(r){const t=Hd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!vR.test(i))return!1;if(_R.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=new zl(3e4,6e4);function nv(){const r=Ai().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function SR(r){return new Promise((t,i)=>{var a,l,u;function d(){nv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nv(),i(Ti(r,"network-request-failed"))},timeout:AR.get()})}if(!((l=(a=Ai().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((u=Ai().gapi)===null||u===void 0)&&u.load)d();else{const g=dw("iframefcb");return Ai()[g]=()=>{gapi.load?d():i(Ti(r,"network-request-failed"))},D0(`${fw()}?onload=${g}`).catch(p=>i(p))}}).catch(t=>{throw Oc=null,t})}let Oc=null;function bR(r){return Oc=Oc||SR(r),Oc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=new zl(5e3,15e3),RR="__/auth/iframe",IR="emulator/auth/iframe",CR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DR(r){const t=r.config;At(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?gm(t,IR):`https://${r.config.authDomain}/${RR}`,a={apiKey:t.apiKey,appName:r.name,v:io},l=NR.get(r.config.apiHost);l&&(a.eid=l);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${i}?${jl(a).slice(1)}`}async function OR(r){const t=await bR(r),i=Ai().gapi;return At(i,r,"internal-error"),t.open({where:document.body,url:DR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CR,dontclear:!0},a=>new Promise(async(l,u)=>{await a.restyle({setHideOnLeave:!1});const d=Ti(r,"network-request-failed"),g=Ai().setTimeout(()=>{u(d)},wR.get());function p(){Ai().clearTimeout(g),l(a)}a.ping(p).then(p,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MR=500,VR=600,UR="_blank",kR="http://localhost";class iv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LR(r,t,i,a=MR,l=VR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const p=Object.assign(Object.assign({},xR),{width:a.toString(),height:l.toString(),top:u,left:d}),v=cn().toLowerCase();i&&(g=S0(v)?UR:i),T0(v)&&(t=t||kR,p.scrollbars="yes");const T=Object.entries(p).reduce((N,[z,Q])=>`${N}${z}=${Q},`,"");if(iw(v)&&g!=="_self")return PR(t||"",g),new iv(null);const S=window.open(t||"",g,T);At(S,r,"popup-blocked");try{S.focus()}catch{}return new iv(S)}function PR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="__/auth/handler",zR="emulator/auth/handler",BR=encodeURIComponent("fac");async function rv(r,t,i,a,l,u){At(r.config.authDomain,r,"auth-domain-config-required"),At(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:io,eventId:l};if(t instanceof x0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",wS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(t instanceof ql){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),v=p?`#${BR}=${encodeURIComponent(p)}`:"";return`${qR(r)}?${jl(g).slice(1)}${v}`}function qR({config:r}){return r.emulator?gm(r,zR):`https://${r.authDomain}/${jR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="webStorageSupport";class HR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=j0,this._completeRedirectFn=dR,this._overrideRedirectResult=cR}async _openPopup(t,i,a,l){var u;rr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await rv(t,i,a,Hd(),l);return LR(t,d,Em())}async _openRedirect(t,i,a,l){await this._originValidation(t);const u=await rv(t,i,a,Hd(),l);return Kw(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(rr(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await OR(t),a=new gR(t);return i.register("authEvent",l=>(At(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Md,{type:Md},l=>{var u;const d=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[Md];d!==void 0&&i(!!d),ri(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ER(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return C0()||A0()||ym()}}const FR=HR;var sv="@firebase/auth",av="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QR(r){Qa(new Gs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;At(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:N0(r)},v=new uw(a,l,u,p);return _w(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Qa(new Gs("auth-internal",t=>{const i=Js(t.getProvider("auth").getImmediate());return(a=>new GR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(sv,av,KR(r)),as(sv,av,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=300,XR=s0("authIdTokenMaxAge")||YR;let ov=null;const $R=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>XR)return;const l=i==null?void 0:i.token;ov!==l&&(ov=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function JR(r=u0()){const t=fm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=yw(r,{popupRedirectResolver:FR,persistence:[eR,Hw,j0]}),a=s0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=$R(u.toString());jw(i,d,()=>d(i.currentUser)),Pw(i,g=>d(g))}}const l=i0("auth");return l&&vw(i,`http://${l}`),i}function ZR(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}cw({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const u=Ti("internal-error");u.customData=l,i(u)},a.type="text/javascript",a.charset="UTF-8",ZR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QR("Browser");var lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hs,K0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,b){function I(){}I.prototype=b.prototype,C.D=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(M,V,k){for(var w=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)w[ye-2]=arguments[ye];return b.prototype[V].apply(M,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);var M=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)M[V]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(V=0;16>V;++V)M[V]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],V=C.g[2];var k=C.g[3],w=b+(k^I&(V^k))+M[0]+3614090360&4294967295;b=I+(w<<7&4294967295|w>>>25),w=k+(V^b&(I^V))+M[1]+3905402710&4294967295,k=b+(w<<12&4294967295|w>>>20),w=V+(I^k&(b^I))+M[2]+606105819&4294967295,V=k+(w<<17&4294967295|w>>>15),w=I+(b^V&(k^b))+M[3]+3250441966&4294967295,I=V+(w<<22&4294967295|w>>>10),w=b+(k^I&(V^k))+M[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(V^b&(I^V))+M[5]+1200080426&4294967295,k=b+(w<<12&4294967295|w>>>20),w=V+(I^k&(b^I))+M[6]+2821735955&4294967295,V=k+(w<<17&4294967295|w>>>15),w=I+(b^V&(k^b))+M[7]+4249261313&4294967295,I=V+(w<<22&4294967295|w>>>10),w=b+(k^I&(V^k))+M[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(V^b&(I^V))+M[9]+2336552879&4294967295,k=b+(w<<12&4294967295|w>>>20),w=V+(I^k&(b^I))+M[10]+4294925233&4294967295,V=k+(w<<17&4294967295|w>>>15),w=I+(b^V&(k^b))+M[11]+2304563134&4294967295,I=V+(w<<22&4294967295|w>>>10),w=b+(k^I&(V^k))+M[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(V^b&(I^V))+M[13]+4254626195&4294967295,k=b+(w<<12&4294967295|w>>>20),w=V+(I^k&(b^I))+M[14]+2792965006&4294967295,V=k+(w<<17&4294967295|w>>>15),w=I+(b^V&(k^b))+M[15]+1236535329&4294967295,I=V+(w<<22&4294967295|w>>>10),w=b+(V^k&(I^V))+M[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^V&(b^I))+M[6]+3225465664&4294967295,k=b+(w<<9&4294967295|w>>>23),w=V+(b^I&(k^b))+M[11]+643717713&4294967295,V=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(V^k))+M[0]+3921069994&4294967295,I=V+(w<<20&4294967295|w>>>12),w=b+(V^k&(I^V))+M[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^V&(b^I))+M[10]+38016083&4294967295,k=b+(w<<9&4294967295|w>>>23),w=V+(b^I&(k^b))+M[15]+3634488961&4294967295,V=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(V^k))+M[4]+3889429448&4294967295,I=V+(w<<20&4294967295|w>>>12),w=b+(V^k&(I^V))+M[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^V&(b^I))+M[14]+3275163606&4294967295,k=b+(w<<9&4294967295|w>>>23),w=V+(b^I&(k^b))+M[3]+4107603335&4294967295,V=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(V^k))+M[8]+1163531501&4294967295,I=V+(w<<20&4294967295|w>>>12),w=b+(V^k&(I^V))+M[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^V&(b^I))+M[2]+4243563512&4294967295,k=b+(w<<9&4294967295|w>>>23),w=V+(b^I&(k^b))+M[7]+1735328473&4294967295,V=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(V^k))+M[12]+2368359562&4294967295,I=V+(w<<20&4294967295|w>>>12),w=b+(I^V^k)+M[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^V)+M[8]+2272392833&4294967295,k=b+(w<<11&4294967295|w>>>21),w=V+(k^b^I)+M[11]+1839030562&4294967295,V=k+(w<<16&4294967295|w>>>16),w=I+(V^k^b)+M[14]+4259657740&4294967295,I=V+(w<<23&4294967295|w>>>9),w=b+(I^V^k)+M[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^V)+M[4]+1272893353&4294967295,k=b+(w<<11&4294967295|w>>>21),w=V+(k^b^I)+M[7]+4139469664&4294967295,V=k+(w<<16&4294967295|w>>>16),w=I+(V^k^b)+M[10]+3200236656&4294967295,I=V+(w<<23&4294967295|w>>>9),w=b+(I^V^k)+M[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^V)+M[0]+3936430074&4294967295,k=b+(w<<11&4294967295|w>>>21),w=V+(k^b^I)+M[3]+3572445317&4294967295,V=k+(w<<16&4294967295|w>>>16),w=I+(V^k^b)+M[6]+76029189&4294967295,I=V+(w<<23&4294967295|w>>>9),w=b+(I^V^k)+M[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^V)+M[12]+3873151461&4294967295,k=b+(w<<11&4294967295|w>>>21),w=V+(k^b^I)+M[15]+530742520&4294967295,V=k+(w<<16&4294967295|w>>>16),w=I+(V^k^b)+M[2]+3299628645&4294967295,I=V+(w<<23&4294967295|w>>>9),w=b+(V^(I|~k))+M[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~V))+M[7]+1126891415&4294967295,k=b+(w<<10&4294967295|w>>>22),w=V+(b^(k|~I))+M[14]+2878612391&4294967295,V=k+(w<<15&4294967295|w>>>17),w=I+(k^(V|~b))+M[5]+4237533241&4294967295,I=V+(w<<21&4294967295|w>>>11),w=b+(V^(I|~k))+M[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~V))+M[3]+2399980690&4294967295,k=b+(w<<10&4294967295|w>>>22),w=V+(b^(k|~I))+M[10]+4293915773&4294967295,V=k+(w<<15&4294967295|w>>>17),w=I+(k^(V|~b))+M[1]+2240044497&4294967295,I=V+(w<<21&4294967295|w>>>11),w=b+(V^(I|~k))+M[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~V))+M[15]+4264355552&4294967295,k=b+(w<<10&4294967295|w>>>22),w=V+(b^(k|~I))+M[6]+2734768916&4294967295,V=k+(w<<15&4294967295|w>>>17),w=I+(k^(V|~b))+M[13]+1309151649&4294967295,I=V+(w<<21&4294967295|w>>>11),w=b+(V^(I|~k))+M[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~V))+M[11]+3174756917&4294967295,k=b+(w<<10&4294967295|w>>>22),w=V+(b^(k|~I))+M[2]+718787259&4294967295,V=k+(w<<15&4294967295|w>>>17),w=I+(k^(V|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var I=b-this.blockSize,M=this.B,V=this.h,k=0;k<b;){if(V==0)for(;k<=I;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<b;)if(M[V++]=C.charCodeAt(k++),V==this.blockSize){l(this,M),V=0;break}}else for(;k<b;)if(M[V++]=C[k++],V==this.blockSize){l(this,M),V=0;break}}this.h=V,this.o+=b},a.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var I=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=I&255,I/=256;for(this.u(C),C=Array(16),b=I=0;4>b;++b)for(var M=0;32>M;M+=8)C[I++]=this.g[b]>>>M&255;return C};function u(C,b){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;for(var I=[],M=!0,V=C.length-1;0<=V;V--){var k=C[V]|0;M&&k==b||(I[V]=k,M=!1)}this.g=I}var g={};function p(C){return-128<=C&&128>C?u(C,function(b){return new d([b|0],0>b?-1:0)}):new d([C|0],0>C?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return S;if(0>C)return J(v(-C));for(var b=[],I=1,M=0;C>=I;M++)b[M]=C/I|0,I*=4294967296;return new d(b,0)}function T(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return J(T(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=v(Math.pow(b,8)),M=S,V=0;V<C.length;V+=8){var k=Math.min(8,C.length-V),w=parseInt(C.substring(V,V+k),b);8>k?(k=v(Math.pow(b,k)),M=M.j(k).add(v(w))):(M=M.j(I),M=M.add(v(w)))}return M}var S=p(0),N=p(1),z=p(16777216);r=d.prototype,r.m=function(){if(tt(this))return-J(this).m();for(var C=0,b=1,I=0;I<this.g.length;I++){var M=this.i(I);C+=(0<=M?M:4294967296+M)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(Q(this))return"0";if(tt(this))return"-"+J(this).toString(C);for(var b=v(Math.pow(C,6)),I=this,M="";;){var V=Lt(I,b).g;I=lt(I,V.j(b));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=V,Q(I))return k+M;for(;6>k.length;)k="0"+k;M=k+M}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function Q(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function tt(C){return C.h==-1}r.l=function(C){return C=lt(this,C),tt(C)?-1:Q(C)?0:1};function J(C){for(var b=C.g.length,I=[],M=0;M<b;M++)I[M]=~C.g[M];return new d(I,~C.h).add(N)}r.abs=function(){return tt(this)?J(this):this},r.add=function(C){for(var b=Math.max(this.g.length,C.g.length),I=[],M=0,V=0;V<=b;V++){var k=M+(this.i(V)&65535)+(C.i(V)&65535),w=(k>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);M=w>>>16,k&=65535,w&=65535,I[V]=w<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function lt(C,b){return C.add(J(b))}r.j=function(C){if(Q(this)||Q(C))return S;if(tt(this))return tt(C)?J(this).j(J(C)):J(J(this).j(C));if(tt(C))return J(this.j(J(C)));if(0>this.l(z)&&0>C.l(z))return v(this.m()*C.m());for(var b=this.g.length+C.g.length,I=[],M=0;M<2*b;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<C.g.length;V++){var k=this.i(M)>>>16,w=this.i(M)&65535,ye=C.i(V)>>>16,_e=C.i(V)&65535;I[2*M+2*V]+=w*_e,_t(I,2*M+2*V),I[2*M+2*V+1]+=k*_e,_t(I,2*M+2*V+1),I[2*M+2*V+1]+=w*ye,_t(I,2*M+2*V+1),I[2*M+2*V+2]+=k*ye,_t(I,2*M+2*V+2)}for(M=0;M<b;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=b;M<2*b;M++)I[M]=0;return new d(I,0)};function _t(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function it(C,b){this.g=C,this.h=b}function Lt(C,b){if(Q(b))throw Error("division by zero");if(Q(C))return new it(S,S);if(tt(C))return b=Lt(J(C),b),new it(J(b.g),J(b.h));if(tt(b))return b=Lt(C,J(b)),new it(J(b.g),b.h);if(30<C.g.length){if(tt(C)||tt(b))throw Error("slowDivide_ only works with positive integers.");for(var I=N,M=b;0>=M.l(C);)I=re(I),M=re(M);var V=St(I,1),k=St(M,1);for(M=St(M,2),I=St(I,2);!Q(M);){var w=k.add(M);0>=w.l(C)&&(V=V.add(I),k=w),M=St(M,1),I=St(I,1)}return b=lt(C,V.j(b)),new it(V,b)}for(V=S;0<=C.l(b);){for(I=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),k=v(I),w=k.j(b);tt(w)||0<w.l(C);)I-=M,k=v(I),w=k.j(b);Q(k)&&(k=N),V=V.add(k),C=lt(C,w)}return new it(V,C)}r.A=function(C){return Lt(this,C).h},r.and=function(C){for(var b=Math.max(this.g.length,C.g.length),I=[],M=0;M<b;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},r.or=function(C){for(var b=Math.max(this.g.length,C.g.length),I=[],M=0;M<b;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},r.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),I=[],M=0;M<b;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function re(C){for(var b=C.g.length+1,I=[],M=0;M<b;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function St(C,b){var I=b>>5;b%=32;for(var M=C.g.length-I,V=[],k=0;k<M;k++)V[k]=0<b?C.i(k+I)>>>b|C.i(k+I+1)<<32-b:C.i(k+I);return new d(V,C.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,K0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=T,Hs=d}).apply(typeof lv<"u"?lv:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Q0,pl,Y0,xc,Qd,X0,$0,J0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,_){return c==Array.prototype||c==Object.prototype||(c[m]=_.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(c,m){if(m)t:{var _=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in _))break t;_=_[L]}c=c[c.length-1],A=_[c],m=m(A),m!=A&&m!=null&&t(_,c,{configurable:!0,writable:!0,value:m})}}function u(c,m){c instanceof String&&(c+="");var _=0,A=!1,L={next:function(){if(!A&&_<c.length){var H=_++;return{value:m(H,c[H]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}l("Array.prototype.values",function(c){return c||function(){return u(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function v(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function T(c,m,_){return c.call.apply(c.bind,arguments)}function S(c,m,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),c.apply(m,L)}}return function(){return c.apply(m,arguments)}}function N(c,m,_){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:S,N.apply(null,arguments)}function z(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function Q(c,m){function _(){}_.prototype=m.prototype,c.aa=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,L,H){for(var nt=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)nt[Jt-2]=arguments[Jt];return m.prototype[L].apply(A,nt)}}function tt(c){const m=c.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=c[A];return _}return[]}function J(c,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const L=c.length||0,H=A.length||0;c.length=L+H;for(let nt=0;nt<H;nt++)c[L+nt]=A[nt]}else c.push(A)}}class lt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function _t(c){return/^[\s\xa0]*$/.test(c)}function it(){var c=g.navigator;return c&&(c=c.userAgent)?c:""}function Lt(c){return Lt[" "](c),c}Lt[" "]=function(){};var re=it().indexOf("Gecko")!=-1&&!(it().toLowerCase().indexOf("webkit")!=-1&&it().indexOf("Edge")==-1)&&!(it().indexOf("Trident")!=-1||it().indexOf("MSIE")!=-1)&&it().indexOf("Edge")==-1;function St(c,m,_){for(const A in c)m.call(_,c[A],A,c)}function C(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function b(c){const m={};for(const _ in c)m[_]=c[_];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,m){let _,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(_ in A)c[_]=A[_];for(let H=0;H<I.length;H++)_=I[H],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function V(c){var m=1;c=c.split(":");const _=[];for(;0<m&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function k(c){g.setTimeout(()=>{throw c},0)}function w(){var c=Bt;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ye{constructor(){this.h=this.g=null}add(m,_){const A=_e.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var _e=new lt(()=>new F,c=>c.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ht=!1,Bt=new ye,Gt=()=>{const c=g.Promise.resolve(void 0);et=()=>{c.then(x)}};var x=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(_){k(_)}var m=_e;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}ht=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var st=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return c})();function pt(c,m){if(W.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(re){t:{try{Lt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else _=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ot[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&pt.aa.h.call(this)}}Q(pt,W);var Ot={2:"touch",3:"pen",4:"mouse"};pt.prototype.h=function(){pt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),Le=0;function ue(c,m,_,A,L){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=L,this.key=++Le,this.da=this.fa=!1}function Ln(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function dt(c){this.src=c,this.g={},this.h=0}dt.prototype.add=function(c,m,_,A,L){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var nt=Et(c,m,A,L);return-1<nt?(m=c[nt],_||(m.fa=!1)):(m=new ue(m,this.src,H,!!A,L),m.fa=_,c.push(m)),m};function rt(c,m){var _=m.type;if(_ in c.g){var A=c.g[_],L=Array.prototype.indexOf.call(A,m,void 0),H;(H=0<=L)&&Array.prototype.splice.call(A,L,1),H&&(Ln(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Et(c,m,_,A){for(var L=0;L<c.length;++L){var H=c[L];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==A)return L}return-1}var vt="closure_lm_"+(1e6*Math.random()|0),Ne={};function Rn(c,m,_,A,L){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Rn(c,m[H],_,A,L);return null}return _=ge(_),c&&c[Vt]?c.K(m,_,v(A)?!!A.capture:!1,L):ds(c,m,_,!1,A,L)}function ds(c,m,_,A,L,H){if(!m)throw Error("Invalid event type");var nt=v(L)?!!L.capture:!!L,Jt=le(c);if(Jt||(c[vt]=Jt=new dt(c)),_=Jt.add(m,_,A,nt,H),_.proxy)return _;if(A=Ri(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)st||(L=nt),L===void 0&&(L=!1),c.addEventListener(m.toString(),A,L);else if(c.attachEvent)c.attachEvent(Tt(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ri(){function c(_){return m.call(c.src,c.listener,_)}const m=Rt;return c}function oe(c,m,_,A,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)oe(c,m[H],_,A,L);else A=v(A)?!!A.capture:!!A,_=ge(_),c&&c[Vt]?(c=c.i,m=String(m).toString(),m in c.g&&(H=c.g[m],_=Et(H,_,A,L),-1<_&&(Ln(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete c.g[m],c.h--)))):c&&(c=le(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Et(m,_,A,L)),(_=-1<c?m[c]:null)&&gt(_))}function gt(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Vt])rt(m.i,c);else{var _=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(_,A,c.capture):m.detachEvent?m.detachEvent(Tt(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=le(m))?(rt(_,c),_.h==0&&(_.src=null,m[vt]=null)):Ln(c)}}}function Tt(c){return c in Ne?Ne[c]:Ne[c]="on"+c}function Rt(c,m){if(c.da)c=!0;else{m=new pt(m,this);var _=c.listener,A=c.ha||c.src;c.fa&&gt(c),c=_.call(A,m)}return c}function le(c){return c=c[vt],c instanceof dt?c:null}var ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function ge(c){return typeof c=="function"?c:(c[ce]||(c[ce]=function(m){return c.handleEvent(m)}),c[ce])}function se(){K.call(this),this.i=new dt(this),this.M=this,this.F=null}Q(se,K),se.prototype[Vt]=!0,se.prototype.removeEventListener=function(c,m,_,A){oe(this,c,m,_,A)};function Ee(c,m){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new W(m,c);else if(m instanceof W)m.target=m.target||c;else{var L=m;m=new W(A,c),M(m,L)}if(L=!0,_)for(var H=_.length-1;0<=H;H--){var nt=m.g=_[H];L=$n(nt,A,!0,m)&&L}if(nt=m.g=c,L=$n(nt,A,!0,m)&&L,L=$n(nt,A,!1,m)&&L,_)for(H=0;H<_.length;H++)nt=m.g=_[H],L=$n(nt,A,!1,m)&&L}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var _=c.g[m],A=0;A<_.length;A++)Ln(_[A]);delete c.g[m],c.h--}}this.F=null},se.prototype.K=function(c,m,_,A){return this.i.add(String(c),m,!1,_,A)},se.prototype.L=function(c,m,_,A){return this.i.add(String(c),m,!0,_,A)};function $n(c,m,_,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,H=0;H<m.length;++H){var nt=m[H];if(nt&&!nt.da&&nt.capture==_){var Jt=nt.listener,De=nt.ha||nt.src;nt.fa&&rt(c.i,nt),L=Jt.call(De,A)!==!1&&L}}return L&&!A.defaultPrevented}function Jl(c,m,_){if(typeof c=="function")_&&(c=N(c,_));else if(c&&typeof c.handleEvent=="function")c=N(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(c,m||0)}function co(c){c.g=Jl(()=>{c.g=null,c.i&&(c.i=!1,co(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class vh extends K{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:co(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(c){K.call(this),this.h=c,this.g={}}Q(ms,K);var cr=[];function rn(c){St(c.g,function(m,_){this.g.hasOwnProperty(_)&&gt(m)},c),c.g={}}ms.prototype.N=function(){ms.aa.N.call(this),rn(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=g.JSON.stringify,hn=g.JSON.parse,Eh=class{stringify(c){return g.JSON.stringify(c,void 0)}parse(c){return g.JSON.parse(c,void 0)}};function ho(){}ho.prototype.h=null;function Zl(c){return c.h||(c.h=c.i())}function gs(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hr(){W.call(this,"d")}Q(hr,W);function Jn(){W.call(this,"c")}Q(Jn,W);var jn={},fr=null;function ta(){return fr=fr||new se}jn.La="serverreachability";function fo(c){W.call(this,jn.La,c)}Q(fo,W);function Ii(c){const m=ta();Ee(m,new fo(m))}jn.STAT_EVENT="statevent";function dr(c,m){W.call(this,jn.STAT_EVENT,c),this.stat=m}Q(dr,W);function Ke(c){const m=ta();Ee(m,new dr(m,c))}jn.Ma="timingevent";function mo(c,m){W.call(this,jn.Ma,c),this.size=m}Q(mo,W);function mr(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){c()},m)}function gr(){this.g=!0}gr.prototype.xa=function(){this.g=!1};function go(c,m,_,A,L,H){c.info(function(){if(c.g)if(H)for(var nt="",Jt=H.split("&"),De=0;De<Jt.length;De++){var Mt=Jt[De].split("=");if(1<Mt.length){var qe=Mt[0];Mt=Mt[1];var He=qe.split("_");nt=2<=He.length&&He[1]=="type"?nt+(qe+"="+Mt+"&"):nt+(qe+"=redacted&")}}else nt=null;else nt=H;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+_+`
`+nt})}function po(c,m,_,A,L,H,nt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+_+`
`+H+" "+nt})}function Ci(c,m,_,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+li(c,_)+(A?" "+A:"")})}function Wl(c,m){c.info(function(){return"TIMEOUT: "+m})}gr.prototype.info=function(){};function li(c,m){if(!c.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var H=L[0];if(H!="noop"&&H!="stop"&&H!="close")for(var nt=1;nt<L.length;nt++)L[nt]=""}}}}return Pn(_)}catch{return m}}var Te={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ui;function pr(){}Q(pr,ho),pr.prototype.g=function(){return new XMLHttpRequest},pr.prototype.i=function(){return{}},ui=new pr;function ci(c,m,_,A){this.j=c,this.i=m,this.l=_,this.R=A||1,this.U=new ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tu}function tu(){this.i=null,this.g="",this.h=!1}var yo={},Ni={};function ps(c,m,_){c.L=1,c.v=vs(Ae(m)),c.m=_,c.P=!0,Di(c,null)}function Di(c,m){c.F=Date.now(),Zn(c),c.A=Ae(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Mi(_.i,"t",A),c.C=0,_=c.j.J,c.h=new tu,c.g=pu(c.j,_?m:null,!c.m),0<c.O&&(c.M=new vh(N(c.Y,c,c.g),c.O)),m=c.U,_=c.g,A=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(cr[0]=L.toString()),L=cr);for(var H=0;H<L.length;H++){var nt=Rn(_,L[H],A||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Ii(),go(c.i,c.u,c.A,c.l,c.R,c.m)}ci.prototype.ca=function(c){c=c.target;const m=this.M;m&&mn(c)==3?m.j():this.Y(c)},ci.prototype.Y=function(c){try{if(c==this.g)t:{const He=mn(this.g);var m=this.g.Ba();const Nr=this.g.Z();if(!(3>He)&&(He!=3||this.g&&(this.h.h||this.g.oa()||As(this.g)))){this.J||He!=4||m==7||(m==8||0>=Nr?Ii(3):Ii(2)),ea(this);var _=this.g.Z();this.X=_;e:if(Oi(this)){var A=As(this.g);c="";var L=A.length,H=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),yr(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,c+=this.h.i.decode(A[m],{stream:!(H&&m==L-1)});A.length=0,this.h.g+=c,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=_==200,po(this.i,this.u,this.A,this.l,this.R,He,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Jt,De=this.g;if((Jt=De.g?De.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_t(Jt)){var Mt=Jt;break e}}Mt=null}if(_=Mt)Ci(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hi(this,_);else{this.o=!1,this.s=3,Ke(12),fn(this),yr(this);break t}}if(this.P){_=!0;let vn;for(;!this.J&&this.C<nt.length;)if(vn=ys(this,nt),vn==Ni){He==4&&(this.s=4,Ke(14),_=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==yo){this.s=4,Ke(15),Ci(this.i,this.l,nt,"[Invalid Chunk]"),_=!1;break}else Ci(this.i,this.l,vn,null),hi(this,vn);if(Oi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||nt.length!=0||this.h.h||(this.s=1,Ke(16),_=!1),this.o=this.o&&_,!_)Ci(this.i,this.l,nt,"[Invalid Chunked Response]"),fn(this),yr(this);else if(0<nt.length&&!this.W){this.W=!0;var qe=this.j;qe.g==this&&qe.ba&&!qe.M&&(qe.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),Co(qe),qe.M=!0,Ke(11))}}else Ci(this.i,this.l,nt,null),hi(this,nt);He==4&&fn(this),this.o&&!this.J&&(He==4?du(this.j,this):(this.o=!1,Zn(this)))}else ou(this.g),_==400&&0<nt.indexOf("Unknown SID")?(this.s=3,Ke(12)):(this.s=0,Ke(13)),fn(this),yr(this)}}}catch{}finally{}};function Oi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ys(c,m){var _=c.C,A=m.indexOf(`
`,_);return A==-1?Ni:(_=Number(m.substring(_,A)),isNaN(_)?yo:(A+=1,A+_>m.length?Ni:(m=m.slice(A,A+_),c.C=A+_,m)))}ci.prototype.cancel=function(){this.J=!0,fn(this)};function Zn(c){c.S=Date.now()+c.I,we(c,c.I)}function we(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mr(N(c.ba,c),m)}function ea(c){c.B&&(g.clearTimeout(c.B),c.B=null)}ci.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Wl(this.i,this.A),this.L!=2&&(Ii(),Ke(17)),fn(this),this.s=2,yr(this)):we(this,this.S-c)};function yr(c){c.j.G==0||c.J||du(c.j,c)}function fn(c){ea(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,rn(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function hi(c,m){try{var _=c.j;if(_.G!=0&&(_.g==c||_r(_.h,c))){if(!c.K&&_r(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ir(_),Rr(_);else break t;Io(_),Ke(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=mr(N(_.Za,_),6e3));if(1>=eu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ui(_,11)}else if((c.K||_.g==c)&&Ir(_),!_t(m))for(L=_.Da.g.parse(m),m=0;m<L.length;m++){let Mt=L[m];if(_.T=Mt[0],Mt=Mt[1],_.G==2)if(Mt[0]=="c"){_.K=Mt[1],_.ia=Mt[2];const qe=Mt[3];qe!=null&&(_.la=qe,_.j.info("VER="+_.la));const He=Mt[4];He!=null&&(_.Aa=He,_.j.info("SVER="+_.Aa));const Nr=Mt[5];Nr!=null&&typeof Nr=="number"&&0<Nr&&(A=1.5*Nr,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const vn=c.g;if(vn){const ws=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var H=A.h;H.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(vr(H,H.h),H.h=null))}if(A.D){const ki=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;ki&&(A.ya=ki,Kt(A.I,A.D,ki))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var nt=c;if(A.qa=gu(A,A.J?A.ia:null,A.W),nt.K){zn(A.h,nt);var Jt=nt,De=A.L;De&&(Jt.I=De),Jt.B&&(ea(Jt),Zn(Jt)),A.g=nt}else hu(A);0<_.i.length&&ua(_)}else Mt[0]!="stop"&&Mt[0]!="close"||Ui(_,7);else _.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Ui(_,7):wo(_):Mt[0]!="noop"&&_.l&&_.l.ta(Mt),_.v=0)}}Ii(4)}catch{}}var Th=class{constructor(c,m){this.g=c,this.map=m}};function _o(c){this.l=c||10,g.PerformanceNavigationTiming?(c=g.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function eu(c){return c.h?1:c.g?c.g.size:0}function _r(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function vr(c,m){c.g?c.g.add(m):c.h=m}function zn(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}_o.prototype.cancel=function(){if(this.i=dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function dn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.D);return m}return tt(c.i)}function nu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var m=[],_=c.length,A=0;A<_;A++)m.push(c[A]);return m}m=[],_=0;for(A in c)m[_++]=c[A];return m}function Ah(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var m=[];c=c.length;for(var _=0;_<c;_++)m.push(_);return m}m=[],_=0;for(const A in c)m[_++]=A;return m}}}function na(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var _=Ah(c),A=nu(c),L=A.length,H=0;H<L;H++)m.call(void 0,A[H],_&&_[H],c)}var Eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(c,m){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),L=null;if(0<=A){var H=c[_].substring(0,A);L=c[_].substring(A+1)}else H=c[_];m(H,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function xi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xi){this.h=c.h,Er(this,c.j),this.o=c.o,this.g=c.g,_s(this,c.s),this.l=c.l;var m=c.i,_=new fi;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),ra(this,_),this.m=c.m}else c&&(m=String(c).match(Eo))?(this.h=!1,Er(this,m[1]||"",!0),this.o=Tr(m[2]||""),this.g=Tr(m[3]||"",!0),_s(this,m[4]),this.l=Tr(m[5]||"",!0),ra(this,m[6]||"",!0),this.m=Tr(m[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}xi.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Bn(m,To,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Bn(m,To,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Bn(_,_.charAt(0)=="/"?Ao:iu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Bn(_,wh)),c.join("")};function Ae(c){return new xi(c)}function Er(c,m,_){c.j=_?Tr(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function _s(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function ra(c,m,_){m instanceof fi?(c.i=m,ru(c.i,c.h)):(_||(m=Bn(m,bh)),c.i=new fi(m,c.h))}function Kt(c,m,_){c.i.set(m,_)}function vs(c){return Kt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Tr(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Bn(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,Sh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Sh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var To=/[#\/\?@]/g,iu=/[#\?:]/g,Ao=/[#\?]/g,bh=/[#\?@]/g,wh=/#/g;function fi(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Be(c){c.g||(c.g=new Map,c.h=0,c.i&&ia(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=fi.prototype,r.add=function(c,m){Be(this),this.i=null,c=In(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function sa(c,m){Be(c),m=In(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function aa(c,m){return Be(c),m=In(c,m),c.g.has(m)}r.forEach=function(c,m){Be(this),this.g.forEach(function(_,A){_.forEach(function(L){c.call(m,L,A,this)},this)},this)},r.na=function(){Be(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const L=c[A];for(let H=0;H<L.length;H++)_.push(m[A])}return _},r.V=function(c){Be(this);let m=[];if(typeof c=="string")aa(this,c)&&(m=m.concat(this.g.get(In(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)m=m.concat(c[_])}return m},r.set=function(c,m){return Be(this),this.i=null,c=In(this,c),aa(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Mi(c,m,_){sa(c,m),0<_.length&&(c.i=null,c.g.set(In(c,m),tt(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const H=encodeURIComponent(String(A)),nt=this.V(A);for(A=0;A<nt.length;A++){var L=H;nt[A]!==""&&(L+="="+encodeURIComponent(String(nt[A]))),c.push(L)}}return this.i=c.join("&")};function In(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ru(c,m){m&&!c.j&&(Be(c),c.i=null,c.g.forEach(function(_,A){var L=A.toLowerCase();A!=L&&(sa(this,A),Mi(this,L,_))},c)),c.j=m}function So(c,m){const _=new gr;if(g.Image){const A=new Image;A.onload=z(_n,_,"TestLoadImage: loaded",!0,m,A),A.onerror=z(_n,_,"TestLoadImage: error",!1,m,A),A.onabort=z(_n,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=z(_n,_,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function su(c,m){const _=new gr,A=new AbortController,L=setTimeout(()=>{A.abort(),_n(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(H=>{clearTimeout(L),H.ok?_n(_,"TestPingServer: ok",!0,m):_n(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),_n(_,"TestPingServer: error",!1,m)})}function _n(c,m,_,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(_)}catch{}}function Wn(){this.g=new Eh}function bo(c,m,_){const A=_||"";try{na(c,function(L,H){let nt=L;v(L)&&(nt=Pn(L)),m.push(A+H+"="+encodeURIComponent(nt))})}catch(L){throw m.push(A+"type="+encodeURIComponent("_badmap")),L}}function di(c){this.l=c.Ub||null,this.j=c.eb||!1}Q(di,ho),di.prototype.g=function(){return new Cn(this.l,this.j)},di.prototype.i=(function(c){return function(){return c}})({});function Cn(c,m){se.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Q(Cn,se),r=Cn.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Ar(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ar(this)),this.g&&(this.readyState=3,Ar(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oa(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function oa(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?mi(this):Ar(this),this.readyState==3&&oa(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,mi(this))},r.Qa=function(c){this.g&&(this.response=c,mi(this))},r.ga=function(){this.g&&mi(this)};function mi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ar(c)}r.setRequestHeader=function(c,m){this.u.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function Ar(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Es(c){let m="";return St(c,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Sr(c,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Es(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Kt(c,m,_))}function he(c){se.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Q(he,se);var sn=/^https?$/i,Vi=["POST","PUT"];r=he.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ui.g(),this.v=this.o?Zl(this.o):Zl(ui),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(H){Ts(this,H);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)_.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())_.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),L=g.FormData&&c instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Vi,m,void 0))||A||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,nt]of _)this.g.setRequestHeader(H,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{la(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){Ts(this,H)}};function Ts(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,br(c),wr(c)}function br(c){c.A||(c.A=!0,Ee(c,"complete"),Ee(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ee(this,"complete"),Ee(this,"abort"),wr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wr(this,!0)),he.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?au(this):this.bb())},r.bb=function(){au(this)};function au(c){if(c.h&&typeof d<"u"&&(!c.v[1]||mn(c)!=4||c.Z()!=2)){if(c.u&&mn(c)==4)Jl(c.Ea,0,c);else if(Ee(c,"readystatechange"),mn(c)==4){c.h=!1;try{const nt=c.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=nt===0){var L=String(c.D).match(Eo)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),A=!sn.test(L?L.toLowerCase():"")}_=A}if(_)Ee(c,"complete"),Ee(c,"success");else{c.m=6;try{var H=2<mn(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",br(c)}}finally{wr(c)}}}}function wr(c,m){if(c.g){la(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Ee(c,"ready");try{_.onreadystatechange=A}catch{}}}function la(c){c.I&&(g.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function mn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),hn(m)}};function As(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ou(c){const m={};c=(c.g&&2<=mn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(_t(c[A]))continue;var _=V(c[A]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[L]||[];m[L]=H,H.push(_)}C(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function lu(c){this.Aa=0,this.i=[],this.j=new gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ss("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ss("baseRetryDelayMs",5e3,c),this.cb=Ss("retryDelaySeedMs",1e4,c),this.Wa=Ss("forwardChannelMaxRetries",2,c),this.wa=Ss("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new _o(c&&c.concurrentRequestLimit),this.Da=new Wn,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=lu.prototype,r.la=8,r.G=1,r.connect=function(c,m,_,A){Ke(0),this.W=c,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=gu(this,null,this.W),ua(this)};function wo(c){if(uu(c),c.G==3){var m=c.U++,_=Ae(c.I);if(Kt(_,"SID",c.K),Kt(_,"RID",m),Kt(_,"TYPE","terminate"),bs(c,_),m=new ci(c,c.j,m),m.L=2,m.v=vs(Ae(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=pu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Zn(m)}No(c)}function Rr(c){c.g&&(Co(c),c.g.cancel(),c.g=null)}function uu(c){Rr(c),c.u&&(g.clearTimeout(c.u),c.u=null),Ir(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&g.clearTimeout(c.s),c.s=null)}function ua(c){if(!vo(c.h)&&!c.s){c.s=!0;var m=c.Ga;et||Gt(),ht||(et(),ht=!0),Bt.add(m,c),c.B=0}}function Rh(c,m){return eu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mr(N(c.Ga,c,m),mu(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new ci(this,this.j,c);let H=this.o;if(this.S&&(H?(H=b(H),M(H,this.S)):H=this.S),this.m!==null||this.O||(L.H=H,H=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Ro(this,L,m),_=Ae(this.I),Kt(_,"RID",c),Kt(_,"CVER",22),this.D&&Kt(_,"X-HTTP-Session-Id",this.D),bs(this,_),H&&(this.O?m="headers="+encodeURIComponent(String(Es(H)))+"&"+m:this.m&&Sr(_,this.m,H)),vr(this.h,L),this.Ua&&Kt(_,"TYPE","init"),this.P?(Kt(_,"$req",m),Kt(_,"SID","null"),L.T=!0,ps(L,_,null)):ps(L,_,m),this.G=2}}else this.G==3&&(c?cu(this,c):this.i.length==0||vo(this.h)||cu(this))};function cu(c,m){var _;m?_=m.l:_=c.U++;const A=Ae(c.I);Kt(A,"SID",c.K),Kt(A,"RID",_),Kt(A,"AID",c.T),bs(c,A),c.m&&c.o&&Sr(A,c.m,c.o),_=new ci(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Ro(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),vr(c.h,_),ps(_,A,m)}function bs(c,m){c.H&&St(c.H,function(_,A){Kt(m,A,_)}),c.l&&na({},function(_,A){Kt(m,A,_)})}function Ro(c,m,_){_=Math.min(c.i.length,_);var A=c.l?N(c.l.Na,c.l,c):null;t:{var L=c.i;let H=-1;for(;;){const nt=["count="+_];H==-1?0<_?(H=L[0].g,nt.push("ofs="+H)):H=0:nt.push("ofs="+H);let Jt=!0;for(let De=0;De<_;De++){let Mt=L[De].g;const qe=L[De].map;if(Mt-=H,0>Mt)H=Math.max(0,L[De].g-100),Jt=!1;else try{bo(qe,nt,"req"+Mt+"_")}catch{A&&A(qe)}}if(Jt){A=nt.join("&");break t}}}return c=c.i.splice(0,_),m.D=c,A}function hu(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;et||Gt(),ht||(et(),ht=!0),Bt.add(m,c),c.v=0}}function Io(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mr(N(c.Fa,c),mu(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mr(N(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ke(10),Rr(this),fu(this))};function Co(c){c.A!=null&&(g.clearTimeout(c.A),c.A=null)}function fu(c){c.g=new ci(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Ae(c.qa);Kt(m,"RID","rpc"),Kt(m,"SID",c.K),Kt(m,"AID",c.T),Kt(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Kt(m,"TO",c.ja),Kt(m,"TYPE","xmlhttp"),bs(c,m),c.m&&c.o&&Sr(m,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=vs(Ae(m)),_.m=null,_.P=!0,Di(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Rr(this),Io(this),Ke(19))};function Ir(c){c.C!=null&&(g.clearTimeout(c.C),c.C=null)}function du(c,m){var _=null;if(c.g==m){Ir(c),Co(c),c.g=null;var A=2}else if(_r(c.h,m))_=m.D,zn(c.h,m),A=1;else return;if(c.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var L=c.B;A=ta(),Ee(A,new mo(A,_)),ua(c)}else hu(c);else if(L=m.s,L==3||L==0&&0<m.X||!(A==1&&Rh(c,m)||A==2&&Io(c)))switch(_&&0<_.length&&(m=c.h,m.i=m.i.concat(_)),L){case 1:Ui(c,5);break;case 4:Ui(c,10);break;case 3:Ui(c,6);break;default:Ui(c,2)}}}function mu(c,m){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*m}function Ui(c,m){if(c.j.info("Error code "+m),m==2){var _=N(c.fb,c),A=c.Xa;const L=!A;A=new xi(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Er(A,"https"),vs(A),L?So(A.toString(),_):su(A.toString(),_)}else Ke(2);c.G=0,c.l&&c.l.sa(m),No(c),uu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ke(2)):(this.j.info("Failed to ping google.com"),Ke(1))};function No(c){if(c.G=0,c.ka=[],c.l){const m=dn(c.h);(m.length!=0||c.i.length!=0)&&(J(c.ka,m),J(c.ka,c.i),c.h.i.length=0,tt(c.i),c.i.length=0),c.l.ra()}}function gu(c,m,_){var A=_ instanceof xi?Ae(_):new xi(_);if(A.g!="")m&&(A.g=m+"."+A.g),_s(A,A.s);else{var L=g.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var H=new xi(null);A&&Er(H,A),m&&(H.g=m),L&&_s(H,L),_&&(H.l=_),A=H}return _=c.D,m=c.ya,_&&m&&Kt(A,_,m),Kt(A,"VER",c.la),bs(c,A),A}function pu(c,m,_){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new he(new di({eb:_})):new he(c.pa),m.Ha(c.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}r=yu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ca(){}ca.prototype.g=function(c,m){return new gn(c,m)};function gn(c,m){se.call(this),this.g=new lu(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!_t(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!_t(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Cr(this)}Q(gn,se),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){wo(this.g)},gn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Pn(c),c=_);m.i.push(new Th(m.Ya++,c)),m.G==3&&ua(m)},gn.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,gn.aa.N.call(this)};function _u(c){hr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const _ in m){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}Q(_u,hr);function vu(){Jn.call(this),this.status=1}Q(vu,Jn);function Cr(c){this.g=c}Q(Cr,yu),Cr.prototype.ua=function(){Ee(this.g,"a")},Cr.prototype.ta=function(c){Ee(this.g,new _u(c))},Cr.prototype.sa=function(c){Ee(this.g,new vu)},Cr.prototype.ra=function(){Ee(this.g,"b")},ca.prototype.createWebChannel=ca.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,J0=function(){return new ca},$0=function(){return ta()},X0=jn,Qd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,xc=Te,Qe.COMPLETE="complete",Y0=Qe,gs.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",se.prototype.listen=se.prototype.K,pl=gs,he.prototype.listenOnce=he.prototype.L,he.prototype.getLastError=he.prototype.Ka,he.prototype.getLastErrorCode=he.prototype.Ba,he.prototype.getStatus=he.prototype.Z,he.prototype.getResponseJson=he.prototype.Oa,he.prototype.getResponseText=he.prototype.oa,he.prototype.send=he.prototype.ea,he.prototype.setWithCredentials=he.prototype.Ha,Q0=he}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const uv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ln=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new cm("@firebase/firestore");function dl(){return Ys.logLevel}function ut(r,...t){if(Ys.logLevel<=Ht.DEBUG){const i=t.map(Am);Ys.debug(`Firestore (${so}): ${r}`,...i)}}function sr(r,...t){if(Ys.logLevel<=Ht.ERROR){const i=t.map(Am);Ys.error(`Firestore (${so}): ${r}`,...i)}}function Ya(r,...t){if(Ys.logLevel<=Ht.WARN){const i=t.map(Am);Ys.warn(`Firestore (${so}): ${r}`,...i)}}function Am(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(r="Unexpected state"){const t=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: `+r;throw sr(t),new Error(t)}function te(r,t){r||bt()}function Nt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends or{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class WR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(ln.UNAUTHENTICATED)))}shutdown(){}}class t1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class e1{constructor(t){this.t=t,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){te(this.o===void 0);let a=this.i;const l=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let u=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(te(typeof a.accessToken=="string"),new Z0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return te(t===null||typeof t=="string"),new ln(t)}}class n1{constructor(t,i,a){this.l=t,this.h=i,this.P=a,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class i1{constructor(t,i,a){this.l=t,this.h=i,this.P=a}getToken(){return Promise.resolve(new n1(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable((()=>i(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class r1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s1{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){te(this.o===void 0);const a=u=>{u.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.R;return this.R=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>a(u)))};const l=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(te(typeof i.token=="string"),this.R=i.token,new r1(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length;let a="";for(;a.length<20;){const l=a1(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<i&&(a+=t.charAt(l[u]%t.length))}return a}}function Xt(r,t){return r<t?-1:r>t?1:0}function Xa(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return je.fromMillis(Date.now())}static fromDate(t){return je.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor(1e6*(t-1e3*i));return new je(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Xt(this.nanoseconds,t.nanoseconds):Xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new je(0,0))}static max(){return new Ct(new je(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,i,a){i===void 0?i=0:i>t.length&&bt(),a===void 0?a=t.length-i:a>t.length-i&&bt(),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ol.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ol?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const u=t.get(l),d=i.get(l);if(u<d)return-1;if(u>d)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class me extends Ol{construct(t,i,a){return new me(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new me(i)}static emptyPath(){return new me([])}}const o1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ol{construct(t,i,a){return new tn(t,i,a)}static isValidIdentifier(t){return o1.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tn(["__name__"])}static fromServerFormat(t){const i=[];let a="",l=0;const u=()=>{if(a.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ot($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ot($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(u(),l++)}if(u(),d)throw new ot($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(i)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(me.fromString(t))}static fromName(t){return new mt(me.fromString(t).popFirst(5))}static empty(){return new mt(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&me.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return me.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new me(t.slice()))}}function l1(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Ct.fromTimestamp(a===1e9?new je(i+1,0):new je(i,a));return new ls(l,mt.empty(),t)}function u1(r){return new ls(r.readTime,r.key,-1)}class ls{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new ls(Ct.min(),mt.empty(),-1)}static max(){return new ls(Ct.max(),mt.empty(),-1)}}function c1(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,t.documentKey),i!==0?i:Xt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==h1)throw r;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let l=0,u=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&i()}),(p=>a(p)))})),d=!0,u===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,u)=>{a.push(i.call(this,l,u))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,l)=>{const u=t.length,d=new Array(u);let g=0;for(let p=0;p<u;p++){const v=p;i(t[v]).next((T=>{d[v]=T,++g,g===u&&a(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new Z(((a,l)=>{const u=()=>{t()===!0?i().next((()=>{u()}),l):a()};u()}))}}function d1(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Gl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ie(a),this.se=a=>i.writeSequenceNumber(a))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Sm.oe=-1;function rh(r){return r==null}function Gc(r){return r===0&&1/r==-1/0}function m1(r){return typeof r=="number"&&Number.isInteger(r)&&!Gc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Zs(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function tE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t,i){this.comparator=t,this.root=i||We.EMPTY}insert(t,i){return new ve(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wc(this.root,t,this.comparator,!0)}}class wc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?a(t.key,i):1,i&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,i,a,l,u){this.key=t,this.value=i,this.color=a??We.RED,this.left=l??We.EMPTY,this.right=u??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,u){return new We(t??this.key,i??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const u=a(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,i,a),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return We.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const t=this.left.check();if(t!==this.right.check())throw bt();return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(t,i,a,l,u){return this}insert(t,i,a){return new We(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new hv(this.data.getIterator())}getIteratorFrom(t){return new hv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof en)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new en(this.comparator);return i.data=t,i}}class hv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new kn([])}unionWith(t){let i=new en(tn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new kn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Xa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new eE("Invalid base64 string: "+u):u}})(t);return new nn(i)}static fromUint8Array(t){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(t);return new nn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const g1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(r){if(te(!!r),typeof r=="string"){let t=0;const i=g1.exec(r);if(te(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ce(r.seconds),nanos:Ce(r.nanos)}}function Ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xs(r){return typeof r=="string"?nn.fromBase64String(r):nn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function wm(r){const t=r.mapValue.fields.__previous_value__;return bm(t)?wm(t):t}function xl(r){const t=us(r.mapValue.fields.__local_write_time__.timestampValue);return new je(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t,i,a,l,u,d,g,p,v){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=v}}class Ml{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc={mapValue:{}};function $s(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?bm(r)?4:_1(r)?9007199254740991:y1(r)?10:11:bt()}function wi(r,t){if(r===t)return!0;const i=$s(r);if(i!==$s(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return xl(r).isEqual(xl(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=us(l.timestampValue),g=us(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,u){return Xs(l.bytesValue).isEqual(Xs(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,u){return Ce(l.geoPointValue.latitude)===Ce(u.geoPointValue.latitude)&&Ce(l.geoPointValue.longitude)===Ce(u.geoPointValue.longitude)})(r,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Ce(l.integerValue)===Ce(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Ce(l.doubleValue),g=Ce(u.doubleValue);return d===g?Gc(d)===Gc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Xa(r.arrayValue.values||[],t.arrayValue.values||[],wi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(cv(d)!==cv(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!wi(d[p],g[p])))return!1;return!0})(r,t);default:return bt()}}function Vl(r,t){return(r.values||[]).find((i=>wi(i,t)))!==void 0}function $a(r,t){if(r===t)return 0;const i=$s(r),a=$s(t);if(i!==a)return Xt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Xt(r.booleanValue,t.booleanValue);case 2:return(function(u,d){const g=Ce(u.integerValue||u.doubleValue),p=Ce(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(r,t);case 3:return fv(r.timestampValue,t.timestampValue);case 4:return fv(xl(r),xl(t));case 5:return Xt(r.stringValue,t.stringValue);case 6:return(function(u,d){const g=Xs(u),p=Xs(d);return g.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,d){const g=u.split("/"),p=d.split("/");for(let v=0;v<g.length&&v<p.length;v++){const T=Xt(g[v],p[v]);if(T!==0)return T}return Xt(g.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,d){const g=Xt(Ce(u.latitude),Ce(d.latitude));return g!==0?g:Xt(Ce(u.longitude),Ce(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return dv(r.arrayValue,t.arrayValue);case 10:return(function(u,d){var g,p,v,T;const S=u.fields||{},N=d.fields||{},z=(g=S.value)===null||g===void 0?void 0:g.arrayValue,Q=(p=N.value)===null||p===void 0?void 0:p.arrayValue,tt=Xt(((v=z==null?void 0:z.values)===null||v===void 0?void 0:v.length)||0,((T=Q==null?void 0:Q.values)===null||T===void 0?void 0:T.length)||0);return tt!==0?tt:dv(z,Q)})(r.mapValue,t.mapValue);case 11:return(function(u,d){if(u===Rc.mapValue&&d===Rc.mapValue)return 0;if(u===Rc.mapValue)return 1;if(d===Rc.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),v=d.fields||{},T=Object.keys(v);p.sort(),T.sort();for(let S=0;S<p.length&&S<T.length;++S){const N=Xt(p[S],T[S]);if(N!==0)return N;const z=$a(g[p[S]],v[T[S]]);if(z!==0)return z}return Xt(p.length,T.length)})(r.mapValue,t.mapValue);default:throw bt()}}function fv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Xt(r,t);const i=us(r),a=us(t),l=Xt(i.seconds,a.seconds);return l!==0?l:Xt(i.nanos,a.nanos)}function dv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const u=$a(i[l],a[l]);if(u)return u}return Xt(i.length,a.length)}function Ja(r){return Yd(r)}function Yd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=us(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Xs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const u of i.values||[])l?l=!1:a+=",",a+=Yd(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of a)u?u=!1:l+=",",l+=`${d}:${Yd(i.fields[d])}`;return l+"}"})(r.mapValue):bt()}function mv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Xd(r){return!!r&&"integerValue"in r}function Rm(r){return!!r&&"arrayValue"in r}function gv(r){return!!r&&"nullValue"in r}function pv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mc(r){return!!r&&"mapValue"in r}function y1(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function Tl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Zs(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Tl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Tl(r.arrayValue.values[i]);return t}return Object.assign({},r)}function _1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t){this.value=t}static empty(){return new wn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Mc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tl(i)}setAll(t){let i=tn.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Tl(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,a,l)}delete(t){const i=this.field(t.popLast());Mc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return wi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Mc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Zs(i,((l,u)=>t[l]=u));for(const l of a)delete t[l]}clone(){return new wn(Tl(this.value))}}function nE(r){const t=[];return Zs(r.fields,((i,a)=>{const l=new tn([i]);if(Mc(a)){const u=nE(a.mapValue).fields;if(u.length===0)t.push(l);else for(const d of u)t.push(l.child(d))}else t.push(l)})),new kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t,i,a,l,u,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(t){return new un(t,0,Ct.min(),Ct.min(),Ct.min(),wn.empty(),0)}static newFoundDocument(t,i,a,l){return new un(t,1,i,Ct.min(),a,l,0)}static newNoDocument(t,i){return new un(t,2,i,Ct.min(),Ct.min(),wn.empty(),0)}static newUnknownDocument(t,i){return new un(t,3,i,Ct.min(),Ct.min(),wn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,i){this.position=t,this.inclusive=i}}function yv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const u=t[l],d=r.position[l];if(u.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=$a(d,i.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function _v(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!wi(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,i="asc"){this.field=t,this.dir=i}}function v1(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{}class ke extends iE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new T1(t,i,a):i==="array-contains"?new b1(t,a):i==="in"?new w1(t,a):i==="not-in"?new R1(t,a):i==="array-contains-any"?new I1(t,a):new ke(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new A1(t,a):new S1(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison($a(i,this.value)):i!==null&&$s(this.value)===$s(i)&&this.matchesComparison($a(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends iE{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new si(t,i)}matches(t){return rE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rE(r){return r.op==="and"}function sE(r){return E1(r)&&rE(r)}function E1(r){for(const t of r.filters)if(t instanceof si)return!1;return!0}function $d(r){if(r instanceof ke)return r.field.canonicalString()+r.op.toString()+Ja(r.value);if(sE(r))return r.filters.map((t=>$d(t))).join(",");{const t=r.filters.map((i=>$d(i))).join(",");return`${r.op}(${t})`}}function aE(r,t){return r instanceof ke?(function(a,l){return l instanceof ke&&a.op===l.op&&a.field.isEqual(l.field)&&wi(a.value,l.value)})(r,t):r instanceof si?(function(a,l){return l instanceof si&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((u,d,g)=>u&&aE(d,l.filters[g])),!0):!1})(r,t):void bt()}function oE(r){return r instanceof ke?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ja(i.value)}`})(r):r instanceof si?(function(i){return i.op.toString()+" {"+i.getFilters().map(oE).join(" ,")+"}"})(r):"Filter"}class T1 extends ke{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class A1 extends ke{constructor(t,i){super(t,"in",i),this.keys=lE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class S1 extends ke{constructor(t,i){super(t,"not-in",i),this.keys=lE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function lE(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((a=>mt.fromName(a.referenceValue)))}class b1 extends ke{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Rm(i)&&Vl(i.arrayValue,this.value)}}class w1 extends ke{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class R1 extends ke{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!Vl(this.value.arrayValue,i)}}class I1 extends ke{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Rm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vl(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t,i=null,a=[],l=[],u=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.ue=null}}function vv(r,t=null,i=[],a=[],l=null,u=null,d=null){return new C1(r,t,i,a,l,u,d)}function Im(r){const t=Nt(r);if(t.ue===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>$d(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),rh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ja(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ja(a))).join(",")),t.ue=i}return t.ue}function Cm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!v1(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!aE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!_v(r.startAt,t.startAt)&&_v(r.endAt,t.endAt)}function Jd(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t,i=null,a=[],l=[],u=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function N1(r,t,i,a,l,u,d,g){return new ao(r,t,i,a,l,u,d,g)}function Nm(r){return new ao(r)}function Ev(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function uE(r){return r.collectionGroup!==null}function Al(r){const t=Nt(r);if(t.ce===null){t.ce=[];const i=new Set;for(const u of t.explicitOrderBy)t.ce.push(u),i.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new en(tn.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.ce.push(new Ul(u,a))})),i.has(tn.keyField().canonicalString())||t.ce.push(new Ul(tn.keyField(),a))}return t.ce}function Si(r){const t=Nt(r);return t.le||(t.le=D1(t,Al(r))),t.le}function D1(r,t){if(r.limitType==="F")return vv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Ul(l.field,u)}));const i=r.endAt?new Kc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Kc(r.startAt.position,r.startAt.inclusive):null;return vv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Zd(r,t){const i=r.filters.concat([t]);return new ao(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Qc(r,t,i){return new ao(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function sh(r,t){return Cm(Si(r),Si(t))&&r.limitType===t.limitType}function cE(r){return`${Im(Si(r))}|lt:${r.limitType}`}function ja(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>oE(l))).join(", ")}]`),rh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ja(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ja(l))).join(",")),`Target(${a})`})(Si(r))}; limitType=${r.limitType})`}function ah(r,t){return t.isFoundDocument()&&(function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):mt.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,t)&&(function(a,l){for(const u of Al(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,p){const v=yv(d,g,p);return d.inclusive?v<=0:v<0})(a.startAt,Al(a),l)||a.endAt&&!(function(d,g,p){const v=yv(d,g,p);return d.inclusive?v>=0:v>0})(a.endAt,Al(a),l))})(r,t)}function O1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function hE(r){return(t,i)=>{let a=!1;for(const l of Al(r)){const u=x1(l,t,i);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function x1(r,t,i){const a=r.field.isKeyField()?mt.comparator(t.key,i.key):(function(u,d,g){const p=d.data.field(u),v=g.data.field(u);return p!==null&&v!==null?$a(p,v):bt()})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return bt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Zs(this.inner,((i,a)=>{for(const[l,u]of a)t(l,u)}))}isEmpty(){return tE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=new ve(mt.comparator);function ar(){return M1}const fE=new ve(mt.comparator);function yl(...r){let t=fE;for(const i of r)t=t.insert(i.key,i);return t}function dE(r){let t=fE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function qs(){return Sl()}function mE(){return Sl()}function Sl(){return new oo((r=>r.toString()),((r,t)=>r.isEqual(t)))}const V1=new ve(mt.comparator),U1=new en(mt.comparator);function zt(...r){let t=U1;for(const i of r)t=t.add(i);return t}const k1=new en(Xt);function L1(){return k1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function gE(r){return{integerValue:""+r}}function P1(r,t){return m1(t)?gE(t):Dm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this._=void 0}}function j1(r,t,i){return r instanceof kl?(function(l,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&bm(u)&&(u=wm(u)),u&&(d.fields.__previous_value__=u),{mapValue:d}})(i,t):r instanceof Za?yE(r,t):r instanceof Ll?_E(r,t):(function(l,u){const d=pE(l,u),g=Tv(d)+Tv(l.Pe);return Xd(d)&&Xd(l.Pe)?gE(g):Dm(l.serializer,g)})(r,t)}function z1(r,t,i){return r instanceof Za?yE(r,t):r instanceof Ll?_E(r,t):i}function pE(r,t){return r instanceof Yc?(function(a){return Xd(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(t)?t:{integerValue:0}:null}class kl extends oh{}class Za extends oh{constructor(t){super(),this.elements=t}}function yE(r,t){const i=vE(t);for(const a of r.elements)i.some((l=>wi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ll extends oh{constructor(t){super(),this.elements=t}}function _E(r,t){let i=vE(t);for(const a of r.elements)i=i.filter((l=>!wi(l,a)));return{arrayValue:{values:i}}}class Yc extends oh{constructor(t,i){super(),this.serializer=t,this.Pe=i}}function Tv(r){return Ce(r.integerValue||r.doubleValue)}function vE(r){return Rm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(t,i){this.field=t,this.transform=i}}function B1(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Za&&l instanceof Za||a instanceof Ll&&l instanceof Ll?Xa(a.elements,l.elements,wi):a instanceof Yc&&l instanceof Yc?wi(a.Pe,l.Pe):a instanceof kl&&l instanceof kl})(r.transform,t.transform)}class q1{constructor(t,i){this.version=t,this.transformResults=i}}class ii{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ii}static exists(t){return new ii(void 0,t)}static updateTime(t){return new ii(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class lh{}function TE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new SE(r.key,ii.none()):new Kl(r.key,r.data,ii.none());{const i=r.data,a=wn.empty();let l=new en(tn.comparator);for(let u of t.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?a.delete(u):a.set(u,d),l=l.add(u)}return new hs(r.key,a,new kn(l.toArray()),ii.none())}}function H1(r,t,i){r instanceof Kl?(function(l,u,d){const g=l.value.clone(),p=Sv(l.fieldTransforms,u,d.transformResults);g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof hs?(function(l,u,d){if(!Vc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=Sv(l.fieldTransforms,u,d.transformResults),p=u.data;p.setAll(AE(l)),p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function bl(r,t,i,a){return r instanceof Kl?(function(u,d,g,p){if(!Vc(u.precondition,d))return g;const v=u.value.clone(),T=bv(u.fieldTransforms,p,d);return v.setAll(T),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,t,i,a):r instanceof hs?(function(u,d,g,p){if(!Vc(u.precondition,d))return g;const v=bv(u.fieldTransforms,p,d),T=d.data;return T.setAll(AE(u)),T.setAll(v),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(u,d,g){return Vc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function F1(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),u=pE(a.transform,l||null);u!=null&&(i===null&&(i=wn.empty()),i.set(a.field,u))}return i||null}function Av(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Xa(a,l,((u,d)=>B1(u,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Kl extends lh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class hs extends lh{constructor(t,i,a,l,u=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function AE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Sv(r,t,i){const a=new Map;te(r.length===i.length);for(let l=0;l<i.length;l++){const u=r[l],d=u.transform,g=t.data.field(u.field);a.set(u.field,z1(d,g,i[l]))}return a}function bv(r,t,i){const a=new Map;for(const l of r){const u=l.transform,d=i.data.field(l.field);a.set(l.field,j1(u,d,t))}return a}class SE extends lh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G1 extends lh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&H1(u,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=bl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=bl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=mE();return this.mutations.forEach((l=>{const u=t.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=i.has(l.key)?null:g;const p=TE(d,g);p!==null&&a.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(Ct.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&Xa(this.mutations,t.mutations,((i,a)=>Av(i,a)))&&Xa(this.baseMutations,t.baseMutations,((i,a)=>Av(i,a)))}}class Om{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){te(t.mutations.length===a.length);let l=(function(){return V1})();const u=t.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,a[d].version);return new Om(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue,Ft;function X1(r){switch(r){default:return bt();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function bE(r){if(r===void 0)return sr("GRPC error has no .code"),$.UNKNOWN;switch(r){case Ue.OK:return $.OK;case Ue.CANCELLED:return $.CANCELLED;case Ue.UNKNOWN:return $.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return $.INTERNAL;case Ue.UNAVAILABLE:return $.UNAVAILABLE;case Ue.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ue.NOT_FOUND:return $.NOT_FOUND;case Ue.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ue.ABORTED:return $.ABORTED;case Ue.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ue.DATA_LOSS:return $.DATA_LOSS;default:return bt()}}(Ft=Ue||(Ue={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=new Hs([4294967295,4294967295],0);function wv(r){const t=$1().encode(r),i=new K0;return i.update(t),new Uint8Array(i.digest())}function Rv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Hs([i,a],0),new Hs([l,u],0)]}class xm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new _l(`Invalid padding: ${i}`);if(a<0)throw new _l(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new _l(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=Hs.fromNumber(this.Ie)}Ee(t,i,a){let l=t.add(i.multiply(Hs.fromNumber(a)));return l.compare(J1)===1&&(l=new Hs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const i=wv(t),[a,l]=Rv(i);for(let u=0;u<this.hashCount;u++){const d=this.Ee(a,l,u);if(!this.de(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new xm(u,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.Ie===0)return;const i=wv(t),[a,l]=Rv(i);for(let u=0;u<this.hashCount;u++){const d=this.Ee(a,l,u);this.Ae(d)}}Ae(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,i,a,l,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new uh(Ct.min(),l,new ve(Xt),ar(),zt())}}class Ql{constructor(t,i,a,l,u){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ql(a,i,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t,i,a,l){this.Re=t,this.removedTargetIds=i,this.key=a,this.Ve=l}}class wE{constructor(t,i){this.targetId=t,this.me=i}}class RE{constructor(t,i,a=nn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Iv{constructor(){this.fe=0,this.ge=Nv(),this.pe=nn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=zt(),i=zt(),a=zt();return this.ge.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:bt()}})),new Ql(this.pe,this.ye,t,i,a)}Ce(){this.we=!1,this.ge=Nv()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Z1{constructor(t){this.Le=t,this.Be=new Map,this.ke=ar(),this.qe=Cv(),this.Qe=new ve(Xt)}Ke(t){for(const i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(const i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,(i=>{const a=this.Ge(i);switch(t.state){case 0:this.ze(i)&&a.De(t.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(t.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(a.Ne(),a.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),a.De(t.resumeToken));break;default:bt()}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach(((a,l)=>{this.ze(l)&&i(l)}))}He(t){const i=t.targetId,a=t.me.count,l=this.Je(i);if(l){const u=l.target;if(Jd(u))if(a===0){const d=new mt(u.path);this.Ue(i,d,un.newNoDocument(d,Ct.min()))}else te(a===1);else{const d=this.Ye(i);if(d!==a){const g=this.Ze(t),p=g?this.Xe(g,t,d):1;if(p!==0){this.je(i);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,v)}}}}}Ze(t){const i=t.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=i;let d,g;try{d=Xs(a).toUint8Array()}catch(p){if(p instanceof eE)return Ya("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new xm(d,l,u)}catch(p){return Ya(p instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ie===0?null:g}Xe(t,i,a){return i.me.count===a-this.nt(t,i.targetId)?0:2}nt(t,i){const a=this.Le.getRemoteKeysForTarget(i);let l=0;return a.forEach((u=>{const d=this.Le.tt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.Ue(i,u,null),l++)})),l}rt(t){const i=new Map;this.Be.forEach(((u,d)=>{const g=this.Je(d);if(g){if(u.current&&Jd(g.target)){const p=new mt(g.target.path);this.ke.get(p)!==null||this.it(d,p)||this.Ue(d,p,un.newNoDocument(p,t))}u.be&&(i.set(d,u.ve()),u.Ce())}}));let a=zt();this.qe.forEach(((u,d)=>{let g=!0;d.forEachWhile((p=>{const v=this.Je(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(u))})),this.ke.forEach(((u,d)=>d.setReadTime(t)));const l=new uh(t,i,this.Qe,this.ke,a);return this.ke=ar(),this.qe=Cv(),this.Qe=new ve(Xt),l}$e(t,i){if(!this.ze(t))return;const a=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,a),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,a){if(!this.ze(t))return;const l=this.Ge(t);this.it(t,i)?l.Fe(i,1):l.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),a&&(this.ke=this.ke.insert(i,a))}removeTarget(t){this.Be.delete(t)}Ye(t){const i=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new Iv,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new en(Xt),this.qe=this.qe.insert(t,i)),i}ze(t){const i=this.Je(t)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",t),i}Je(t){const i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Iv),this.Le.getRemoteKeysForTarget(t).forEach((i=>{this.Ue(t,i,null)}))}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}}function Cv(){return new ve(mt.comparator)}function Nv(){return new ve(mt.comparator)}const W1={asc:"ASCENDING",desc:"DESCENDING"},tI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eI={and:"AND",or:"OR"};class nI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Wd(r,t){return r.useProto3Json||rh(t)?t:{value:t}}function Xc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function IE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function iI(r,t){return Xc(r,t.toTimestamp())}function bi(r){return te(!!r),Ct.fromTimestamp((function(i){const a=us(i);return new je(a.seconds,a.nanos)})(r))}function Mm(r,t){return tm(r,t).canonicalString()}function tm(r,t){const i=(function(l){return new me(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function CE(r){const t=me.fromString(r);return te(ME(t)),t}function em(r,t){return Mm(r.databaseId,t.path)}function Vd(r,t){const i=CE(t);if(i.get(1)!==r.databaseId.projectId)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(DE(i))}function NE(r,t){return Mm(r.databaseId,t)}function rI(r){const t=CE(r);return t.length===4?me.emptyPath():DE(t)}function nm(r){return new me(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function DE(r){return te(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Dv(r,t,i){return{name:em(r,t),fields:i.value.mapValue.fields}}function sI(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:bt()})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(v,T){return v.useProto3Json?(te(T===void 0||typeof T=="string"),nn.fromBase64String(T||"")):(te(T===void 0||T instanceof Buffer||T instanceof Uint8Array),nn.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(v){const T=v.code===void 0?$.UNKNOWN:bE(v.code);return new ot(T,v.message||"")})(d);i=new RE(a,l,u,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Vd(r,a.document.name),u=bi(a.document.updateTime),d=a.document.createTime?bi(a.document.createTime):Ct.min(),g=new wn({mapValue:{fields:a.document.fields}}),p=un.newFoundDocument(l,u,d,g),v=a.targetIds||[],T=a.removedTargetIds||[];i=new Uc(v,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Vd(r,a.document),u=a.readTime?bi(a.readTime):Ct.min(),d=un.newNoDocument(l,u),g=a.removedTargetIds||[];i=new Uc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Vd(r,a.document),u=a.removedTargetIds||[];i=new Uc([],u,l,null)}else{if(!("filter"in t))return bt();{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,d=new Y1(l,u),g=a.targetId;i=new wE(g,d)}}return i}function aI(r,t){let i;if(t instanceof Kl)i={update:Dv(r,t.key,t.value)};else if(t instanceof SE)i={delete:em(r,t.key)};else if(t instanceof hs)i={update:Dv(r,t.key,t.data),updateMask:gI(t.fieldMask)};else{if(!(t instanceof G1))return bt();i={verify:em(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(u,d){const g=d.transform;if(g instanceof kl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Za)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ll)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Yc)return{fieldPath:d.field.canonicalString(),increment:g.Pe};throw bt()})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:iI(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:bt()})(r,t.precondition)),i}function oI(r,t){return r&&r.length>0?(te(t!==void 0),r.map((i=>(function(l,u){let d=l.updateTime?bi(l.updateTime):bi(u);return d.isEqual(Ct.min())&&(d=bi(u)),new q1(d,l.transformResults||[])})(i,t)))):[]}function lI(r,t){return{documents:[NE(r,t.path)]}}function uI(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=NE(r,l);const u=(function(v){if(v.length!==0)return xE(si.create(v,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const d=(function(v){if(v.length!==0)return v.map((T=>(function(N){return{field:za(N.field),direction:fI(N.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Wd(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{_t:i,parent:l}}function cI(r){let t=rI(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){te(a===1);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let u=[];i.where&&(u=(function(S){const N=OE(S);return N instanceof si&&sE(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((N=>(function(Q){return new Ul(Ba(Q.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let N;return N=typeof S=="object"?S.value:S,rh(N)?null:N})(i.limit));let p=null;i.startAt&&(p=(function(S){const N=!!S.before,z=S.values||[];return new Kc(z,N)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const N=!S.before,z=S.values||[];return new Kc(z,N)})(i.endAt)),N1(t,l,d,u,g,"F",p,v)}function hI(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt()}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function OE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ba(i.unaryFilter.field);return ke.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ba(i.unaryFilter.field);return ke.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ba(i.unaryFilter.field);return ke.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ba(i.unaryFilter.field);return ke.create(d,"!=",{nullValue:"NULL_VALUE"});default:return bt()}})(r):r.fieldFilter!==void 0?(function(i){return ke.create(Ba(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return si.create(i.compositeFilter.filters.map((a=>OE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return bt()}})(i.compositeFilter.op))})(r):bt()}function fI(r){return W1[r]}function dI(r){return tI[r]}function mI(r){return eI[r]}function za(r){return{fieldPath:r.canonicalString()}}function Ba(r){return tn.fromServerFormat(r.fieldPath)}function xE(r){return r instanceof ke?(function(i){if(i.op==="=="){if(pv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NAN"}};if(gv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(pv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NAN"}};if(gv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(i.field),op:dI(i.op),value:i.value}}})(r):r instanceof si?(function(i){const a=i.getFilters().map((l=>xE(l)));return a.length===1?a[0]:{compositeFilter:{op:mI(i.op),filters:a}}})(r):bt()}function gI(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function ME(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t,i,a,l,u=Ct.min(),d=Ct.min(),g=nn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new is(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t){this.ct=t}}function yI(r){const t=cI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qc(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.un=new vI}addToCollectionParentIndex(t,i){return this.un.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.un.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(ls.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(ls.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class vI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new en(me.comparator),u=!l.has(a);return this.index[i]=l.add(a),u}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new en(me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Wa(0)}static kn(){return new Wa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.changes=new oo((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&bl(a.mutation,l,kn.empty(),je.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const l=qs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((u=>{let d=yl();return u.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=qs();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const l=[];return a.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let u=ar();const d=Sl(),g=(function(){return Sl()})();return i.forEach(((p,v)=>{const T=a.get(v.key);l.has(v.key)&&(T===void 0||T.mutation instanceof hs)?u=u.insert(v.key,v):T!==void 0?(d.set(v.key,T.mutation.getFieldMask()),bl(T.mutation,v,T.mutation.getFieldMask(),je.now())):d.set(v.key,kn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((v,T)=>d.set(v,T))),i.forEach(((v,T)=>{var S;return g.set(v,new TI(T,(S=d.get(v))!==null&&S!==void 0?S:null))})),g)))}recalculateAndSaveOverlays(t,i){const a=Sl();let l=new ve(((d,g)=>d-g)),u=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((p=>{const v=i.get(p);if(v===null)return;let T=a.get(p)||kn.empty();T=g.applyToLocalView(v,T),a.set(p,T);const S=(l.get(g.batchId)||zt()).add(p);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),v=p.key,T=p.value,S=mE();T.forEach((N=>{if(!u.has(N)){const z=TE(i.get(N),a.get(N));z!==null&&S.set(N,z),u=u.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,S))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):uE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-u.size):Z.resolve(qs());let g=-1,p=u;return d.next((v=>Z.forEach(v,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),u.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(t,T).next((N=>{p=p.insert(T,N)}))))).next((()=>this.populateOverlays(t,v,u))).next((()=>this.computeViews(t,p,v,zt()))).next((T=>({batchId:g,changes:dE(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((a=>{let l=yl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const u=i.collectionGroup;let d=yl();return this.indexManager.getCollectionParents(t,u).next((g=>Z.forEach(g,(p=>{const v=(function(S,N){return new ao(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,v,a,l).next((T=>{T.forEach(((S,N)=>{d=d.insert(S,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,u,l)))).next((d=>{u.forEach(((p,v)=>{const T=v.getKey();d.get(T)===null&&(d=d.insert(T,un.newInvalidDocument(T)))}));let g=yl();return d.forEach(((p,v)=>{const T=u.get(p);T!==void 0&&bl(T.mutation,v,kn.empty(),je.now()),ah(i,v)&&(g=g.insert(p,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,i){return Z.resolve(this.hr.get(i))}saveBundleMetadata(t,i){return this.hr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:bi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.Pr.get(i))}saveNamedQuery(t,i){return this.Pr.set(i.name,(function(l){return{name:l.name,query:yI(l.bundledQuery),readTime:bi(l.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.overlays=new ve(mt.comparator),this.Ir=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=qs();return Z.forEach(i,(l=>this.getOverlay(t,l).next((u=>{u!==null&&a.set(l,u)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,u)=>{this.ht(t,i,u)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Ir.get(a);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Ir.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const l=qs(),u=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,v=p.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===u&&p.largestBatchId>a&&l.set(p.getKey(),p)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let u=new ve(((v,T)=>v-T));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let T=u.get(v.largestBatchId);T===null&&(T=qs(),u=u.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const g=qs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((v,T)=>g.set(v,T))),!(g.size()>=l)););return Z.resolve(g)}ht(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Ir.get(l.largestBatchId).delete(a.key);this.Ir.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Q1(i,a));let u=this.Ir.get(i);u===void 0&&(u=zt(),this.Ir.set(i,u)),this.Ir.set(i,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(){this.Tr=new en(Ge.Er),this.dr=new en(Ge.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,i){const a=new Ge(t,i);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Vr(new Ge(t,i))}mr(t,i){t.forEach((a=>this.removeReference(a,i)))}gr(t){const i=new mt(new me([])),a=new Ge(i,t),l=new Ge(i,t+1),u=[];return this.dr.forEachInRange([a,l],(d=>{this.Vr(d),u.push(d.key)})),u}pr(){this.Tr.forEach((t=>this.Vr(t)))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const i=new mt(new me([])),a=new Ge(i,t),l=new Ge(i,t+1);let u=zt();return this.dr.forEachInRange([a,l],(d=>{u=u.add(d.key)})),u}containsKey(t){const i=new Ge(t,0),a=this.Tr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ge{constructor(t,i){this.key=t,this.wr=i}static Er(t,i){return mt.comparator(t.key,i.key)||Xt(t.wr,i.wr)}static Ar(t,i){return Xt(t.wr,i.wr)||mt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new en(Ge.Er)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new K1(u,i,a,l);this.mutationQueue.push(d);for(const g of l)this.br=this.br.add(new Ge(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.vr(a),u=l<0?0:l;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ge(i,0),l=new Ge(i,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([a,l],(d=>{const g=this.Dr(d.wr);u.push(g)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new en(Xt);return i.forEach((l=>{const u=new Ge(l,0),d=new Ge(l,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,d],(g=>{a=a.add(g.wr)}))})),Z.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let u=a;mt.isDocumentKey(u)||(u=u.child(""));const d=new Ge(new mt(u),0);let g=new en(Xt);return this.br.forEachWhile((p=>{const v=p.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(g=g.add(p.wr)),!0)}),d),Z.resolve(this.Cr(g))}Cr(t){const i=[];return t.forEach((a=>{const l=this.Dr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){te(this.Fr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.br;return Z.forEach(i.mutations,(l=>{const u=new Ge(l.key,i.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.br=a}))}On(t){}containsKey(t,i){const a=new Ge(i,0),l=this.br.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}Fr(t,i){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const i=this.vr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t){this.Mr=t,this.docs=(function(){return new ve(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),u=l?l.size:0,d=this.Mr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():un.newInvalidDocument(i))}getEntries(t,i){let a=ar();return i.forEach((l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():un.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let u=ar();const d=i.path,g=new mt(d.child("")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:v,value:{document:T}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||c1(u1(T),a)<=0||(l.has(T.key)||ah(i,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,i,a,l){bt()}Or(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new CI(this)}getSize(t){return Z.resolve(this.size)}}class CI extends EI{constructor(t){super(),this.cr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.cr.addEntry(t,l)):this.cr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.cr.getEntry(t,i)}getAllFromCache(t,i){return this.cr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t){this.persistence=t,this.Nr=new oo((i=>Im(i)),Cm),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Vm,this.targetCount=0,this.kr=Wa.Bn()}forEachTarget(t,i){return this.Nr.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Lr&&(this.Lr=i),Z.resolve()}Kn(t){this.Nr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.kr=new Wa(i),this.highestTargetId=i),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,i){return this.Kn(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Kn(i),Z.resolve()}removeTargetData(t,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let l=0;const u=[];return this.Nr.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Nr.delete(d),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Z.waitFor(u).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.Nr.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this.Br.Rr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this.Br.mr(i,a);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.Br.gr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this.Br.yr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this.Br.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(t,i){this.qr={},this.overlays={},this.Qr=new Sm(0),this.Kr=!1,this.Kr=!0,this.$r=new wI,this.referenceDelegate=t(this),this.Ur=new NI(this),this.indexManager=new _I,this.remoteDocumentCache=(function(l){return new II(l)})((a=>this.referenceDelegate.Wr(a))),this.serializer=new pI(i),this.Gr=new SI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new bI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.qr[t.toKey()];return a||(a=new RI(i,this.referenceDelegate),this.qr[t.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,i,a){ut("MemoryPersistence","Starting transaction:",t);const l=new OI(this.Qr.next());return this.referenceDelegate.zr(),a(l).next((u=>this.referenceDelegate.jr(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Hr(t,i){return Z.or(Object.values(this.qr).map((a=>()=>a.containsKey(t,i))))}}class OI extends f1{constructor(t){super(),this.currentSequenceNumber=t}}class Um{constructor(t){this.persistence=t,this.Jr=new Vm,this.Yr=null}static Zr(t){return new Um(t)}get Xr(){if(this.Yr)return this.Yr;throw bt()}addReference(t,i,a){return this.Jr.addReference(a,i),this.Xr.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Jr.removeReference(a,i),this.Xr.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.Xr.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Jr.gr(i.targetId).forEach((l=>this.Xr.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((u=>this.Xr.add(u.toString())))})).next((()=>a.removeTargetData(t,i)))}zr(){this.Yr=new Set}jr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,(a=>{const l=mt.fromPath(a);return this.ei(t,l).next((u=>{u||i.removeEntry(l,Ct.min())}))})).next((()=>(this.Yr=null,i.apply(t))))}updateLimboDocument(t,i){return this.ei(t,i).next((a=>{a?this.Xr.delete(i.toString()):this.Xr.add(i.toString())}))}Wr(t){return 0}ei(t,i){return Z.or([()=>Z.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Hr(t,i)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.$i=a,this.Ui=l}static Wi(t,i){let a=zt(),l=zt();for(const u of i.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new km(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return vS()?8:d1(cn())>0?6:4})()}initialize(t,i){this.Ji=t,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(t,i,a,l){const u={result:null};return this.Yi(t,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.Zi(t,i,l,a).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new xI;return this.Xi(t,i,d).next((g=>{if(u.result=g,this.zi)return this.es(t,i,d,g.size)}))})).next((()=>u.result))}es(t,i,a,l){return a.documentReadCount<this.ji?(dl()<=Ht.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(dl()<=Ht.DEBUG&&ut("QueryEngine","Query:",ja(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.Hi*l?(dl()<=Ht.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(i))):Z.resolve())}Yi(t,i){if(Ev(i))return Z.resolve(null);let a=Si(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Qc(i,null,"F"),a=Si(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((u=>{const d=zt(...u);return this.Ji.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((p=>{const v=this.ts(i,g);return this.ns(i,v,d,p.readTime)?this.Yi(t,Qc(i,null,"F")):this.rs(t,v,i,p)}))))})))))}Zi(t,i,a,l){return Ev(i)||l.isEqual(Ct.min())?Z.resolve(null):this.Ji.getDocuments(t,a).next((u=>{const d=this.ts(i,u);return this.ns(i,d,a,l)?Z.resolve(null):(dl()<=Ht.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ja(i)),this.rs(t,d,i,l1(l,-1)).next((g=>g)))}))}ts(t,i){let a=new en(hE(t));return i.forEach(((l,u)=>{ah(t,u)&&(a=a.add(u))})),a}ns(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Xi(t,i,a){return dl()<=Ht.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",ja(i)),this.Ji.getDocumentsMatchingQuery(t,i,ls.min(),a)}rs(t,i,a,l){return this.Ji.getDocumentsMatchingQuery(t,a,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t,i,a,l){this.persistence=t,this.ss=i,this.serializer=l,this.os=new ve(Xt),this._s=new oo((u=>Im(u)),Cm),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(a)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new AI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.os)))}}function UI(r,t,i,a){return new VI(r,t,i,a)}async function VE(r,t){const i=Nt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((u=>(l=u,i.ls(t),i.mutationQueue.getAllMutationBatches(a)))).next((u=>{const d=[],g=[];let p=zt();for(const v of l){d.push(v.batchId);for(const T of v.mutations)p=p.add(T.key)}for(const v of u){g.push(v.batchId);for(const T of v.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(a,p).next((v=>({hs:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function kI(r,t){const i=Nt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),u=i.cs.newChangeBuffer({trackRemovals:!0});return(function(g,p,v,T){const S=v.batch,N=S.keys();let z=Z.resolve();return N.forEach((Q=>{z=z.next((()=>T.getEntry(p,Q))).next((tt=>{const J=v.docVersions.get(Q);te(J!==null),tt.version.compareTo(J)<0&&(S.applyToRemoteDocument(tt,v),tt.isValidDocument()&&(tt.setReadTime(v.commitVersion),T.addEntry(tt)))}))})),z.next((()=>g.mutationQueue.removeMutationBatch(p,S)))})(i,a,t,u).next((()=>u.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let p=zt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(p=p.add(g.batch.mutations[v].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function UE(r){const t=Nt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Ur.getLastRemoteSnapshotVersion(i)))}function LI(r,t){const i=Nt(r),a=t.snapshotVersion;let l=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.cs.newChangeBuffer({trackRemovals:!0});l=i.os;const g=[];t.targetChanges.forEach(((T,S)=>{const N=l.get(S);if(!N)return;g.push(i.Ur.removeMatchingKeys(u,T.removedDocuments,S).next((()=>i.Ur.addMatchingKeys(u,T.addedDocuments,S))));let z=N.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?z=z.withResumeToken(nn.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):T.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(T.resumeToken,a)),l=l.insert(S,z),(function(tt,J,lt){return tt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=3e8?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(N,z,T)&&g.push(i.Ur.updateTargetData(u,z))}));let p=ar(),v=zt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(u,T))})),g.push(PI(u,d,t.documentUpdates).next((T=>{p=T.Ps,v=T.Is}))),!a.isEqual(Ct.min())){const T=i.Ur.getLastRemoteSnapshotVersion(u).next((S=>i.Ur.setTargetsMetadata(u,u.currentSequenceNumber,a)));g.push(T)}return Z.waitFor(g).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,p,v))).next((()=>p))})).then((u=>(i.os=l,u)))}function PI(r,t,i){let a=zt(),l=zt();return i.forEach((u=>a=a.add(u))),t.getEntries(r,a).next((u=>{let d=ar();return i.forEach(((g,p)=>{const v=u.get(g);p.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Ct.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):ut("LocalStore","Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",p.version)})),{Ps:d,Is:l}}))}function jI(r,t){const i=Nt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function zI(r,t){const i=Nt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Ur.getTargetData(a,t).next((u=>u?(l=u,Z.resolve(l)):i.Ur.allocateTargetId(a).next((d=>(l=new is(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Ur.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.os.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.os=i.os.insert(a.targetId,a),i._s.set(t,a.targetId)),a}))}async function im(r,t,i){const a=Nt(r),l=a.os.get(t),u=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",u,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Gl(d))throw d;ut("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}a.os=a.os.remove(t),a._s.delete(l.target)}function Ov(r,t,i){const a=Nt(r);let l=Ct.min(),u=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,v,T){const S=Nt(p),N=S._s.get(T);return N!==void 0?Z.resolve(S.os.get(N)):S.Ur.getTargetData(v,T)})(a,d,Si(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(d,g.targetId).next((p=>{u=p}))})).next((()=>a.ss.getDocumentsMatchingQuery(d,t,i?l:Ct.min(),i?u:zt()))).next((g=>(BI(a,O1(t),g),{documents:g,Ts:u})))))}function BI(r,t,i){let a=r.us.get(t)||Ct.min();i.forEach(((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.us.set(t,a)}class xv{constructor(){this.activeTargetIds=L1()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class qI{constructor(){this.so=new xv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,i,a){this.oo[t]=i}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new xv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ut("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){ut("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function Ud(){return Ic===null?Ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class KI extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const a=i.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+i.host,this.vo=`projects/${l}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${l}`:`project_id=${l}&database_id=${u}`}get Fo(){return!1}Mo(i,a,l,u,d){const g=Ud(),p=this.xo(i,a.toUriEncodedString());ut("RestConnection",`Sending RPC '${i}' ${g}:`,p,l);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,u,d),this.No(i,p,v,l).then((T=>(ut("RestConnection",`Received RPC '${i}' ${g}: `,T),T)),(T=>{throw Ya("RestConnection",`RPC '${i}' ${g} failed with error: `,T,"url: ",p,"request:",l),T}))}Lo(i,a,l,u,d,g){return this.Mo(i,a,l,u,d)}Oo(i,a,l){i["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+so})(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((u,d)=>i[d]=u)),l&&l.headers.forEach(((u,d)=>i[d]=u))}xo(i,a){const l=FI[i];return`${this.Do}/v1/${a}:${l}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,i,a,l){const u=Ud();return new Promise(((d,g)=>{const p=new Q0;p.setWithCredentials(!0),p.listenOnce(Y0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case xc.NO_ERROR:const T=p.getResponseJson();ut(on,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(T)),d(T);break;case xc.TIMEOUT:ut(on,`RPC '${t}' ${u} timed out`),g(new ot($.DEADLINE_EXCEEDED,"Request time out"));break;case xc.HTTP_ERROR:const S=p.getStatus();if(ut(on,`RPC '${t}' ${u} failed with status:`,S,"response text:",p.getResponseText()),S>0){let N=p.getResponseJson();Array.isArray(N)&&(N=N[0]);const z=N==null?void 0:N.error;if(z&&z.status&&z.message){const Q=(function(J){const lt=J.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(lt)>=0?lt:$.UNKNOWN})(z.status);g(new ot(Q,z.message))}else g(new ot($.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ot($.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{ut(on,`RPC '${t}' ${u} completed.`)}}));const v=JSON.stringify(l);ut(on,`RPC '${t}' ${u} sending request:`,l),p.send(i,"POST",v,a,15)}))}Bo(t,i,a){const l=Ud(),u=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=J0(),g=$0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const T=u.join("");ut(on,`Creating RPC '${t}' stream ${l}: ${T}`,p);const S=d.createWebChannel(T,p);let N=!1,z=!1;const Q=new GI({Io:J=>{z?ut(on,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(N||(ut(on,`Opening RPC '${t}' stream ${l} transport.`),S.open(),N=!0),ut(on,`RPC '${t}' stream ${l} sending:`,J),S.send(J))},To:()=>S.close()}),tt=(J,lt,_t)=>{J.listen(lt,(it=>{try{_t(it)}catch(Lt){setTimeout((()=>{throw Lt}),0)}}))};return tt(S,pl.EventType.OPEN,(()=>{z||(ut(on,`RPC '${t}' stream ${l} transport opened.`),Q.yo())})),tt(S,pl.EventType.CLOSE,(()=>{z||(z=!0,ut(on,`RPC '${t}' stream ${l} transport closed`),Q.So())})),tt(S,pl.EventType.ERROR,(J=>{z||(z=!0,Ya(on,`RPC '${t}' stream ${l} transport errored:`,J),Q.So(new ot($.UNAVAILABLE,"The operation could not be completed")))})),tt(S,pl.EventType.MESSAGE,(J=>{var lt;if(!z){const _t=J.data[0];te(!!_t);const it=_t,Lt=it.error||((lt=it[0])===null||lt===void 0?void 0:lt.error);if(Lt){ut(on,`RPC '${t}' stream ${l} received error:`,Lt);const re=Lt.status;let St=(function(I){const M=Ue[I];if(M!==void 0)return bE(M)})(re),C=Lt.message;St===void 0&&(St=$.INTERNAL,C="Unknown error status: "+re+" with message "+Lt.message),z=!0,Q.So(new ot(St,C)),S.close()}else ut(on,`RPC '${t}' stream ${l} received:`,_t),Q.bo(_t)}})),tt(g,X0.STAT_EVENT,(J=>{J.stat===Qd.PROXY?ut(on,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===Qd.NOPROXY&&ut(on,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Q.wo()}),0),Q}}function kd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(r){return new nI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(t,i,a=1e3,l=1.5,u=6e4){this.ui=t,this.timerId=i,this.ko=a,this.qo=l,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const i=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),l=Math.max(0,i-a);l>0&&ut("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,l,(()=>(this.Uo=Date.now(),t()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t,i,a,l,u,d,g,p){this.ui=t,this.Ho=a,this.Jo=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new kE(t,i)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,i){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(sr(i.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(i)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.Yo===i&&this.P_(a,l)}),(a=>{t((()=>{const l=new ot($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(l)}))}))}P_(t,i){const a=this.h_(this.Yo);this.stream=this.T_(t,i),this.stream.Eo((()=>{a((()=>this.listener.Eo()))})),this.stream.Ro((()=>{a((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((l=>{a((()=>this.I_(l)))})),this.stream.onMessage((l=>{a((()=>++this.e_==1?this.E_(l):this.onNext(l)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(t){return ut("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return i=>{this.ui.enqueueAndForget((()=>this.Yo===t?i():(ut("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QI extends LE{constructor(t,i,a,l,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=u}T_(t,i){return this.connection.Bo("Listen",t,i)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const i=sI(this.serializer,t),a=(function(u){if(!("targetChange"in u))return Ct.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ct.min():d.readTime?bi(d.readTime):Ct.min()})(t);return this.listener.d_(i,a)}A_(t){const i={};i.database=nm(this.serializer),i.addTarget=(function(u,d){let g;const p=d.target;if(g=Jd(p)?{documents:lI(u,p)}:{query:uI(u,p)._t},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=IE(u,d.resumeToken);const v=Wd(u,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(Ct.min())>0){g.readTime=Xc(u,d.snapshotVersion.toTimestamp());const v=Wd(u,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,t);const a=hI(this.serializer,t);a&&(i.labels=a),this.a_(i)}R_(t){const i={};i.database=nm(this.serializer),i.removeTarget=t,this.a_(i)}}class YI extends LE{constructor(t,i,a,l,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,i){return this.connection.Bo("Write",t,i)}E_(t){return te(!!t.streamToken),this.lastStreamToken=t.streamToken,te(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){te(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const i=oI(t.writeResults,t.commitTime),a=bi(t.commitTime);return this.listener.g_(a,i)}p_(){const t={};t.database=nm(this.serializer),this.a_(t)}m_(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>aI(this.serializer,a)))};this.a_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI extends class{}{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.y_=!1}w_(){if(this.y_)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,i,a,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Mo(t,tm(i,a),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot($.UNKNOWN,u.toString())}))}Lo(t,i,a,l,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Lo(t,tm(i,a),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot($.UNKNOWN,d.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class $I{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(sr(i),this.D_=!1):ut("OnlineStateTracker",i)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t,i,a,l,u){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o((d=>{a.enqueueAndForget((async()=>{Ws(this)&&(ut("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const v=Nt(p);v.L_.add(4),await Yl(v),v.q_.set("Unknown"),v.L_.delete(4),await hh(v)})(this))}))})),this.q_=new $I(a,l)}}async function hh(r){if(Ws(r))for(const t of r.B_)await t(!0)}async function Yl(r){for(const t of r.B_)await t(!1)}function PE(r,t){const i=Nt(r);i.N_.has(t.targetId)||(i.N_.set(t.targetId,t),zm(i)?jm(i):lo(i).r_()&&Pm(i,t))}function Lm(r,t){const i=Nt(r),a=lo(i);i.N_.delete(t),a.r_()&&jE(i,t),i.N_.size===0&&(a.r_()?a.o_():Ws(i)&&i.q_.set("Unknown"))}function Pm(r,t){if(r.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}lo(r).A_(t)}function jE(r,t){r.Q_.xe(t),lo(r).R_(t)}function jm(r){r.Q_=new Z1({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>r.N_.get(t)||null,tt:()=>r.datastore.serializer.databaseId}),lo(r).start(),r.q_.v_()}function zm(r){return Ws(r)&&!lo(r).n_()&&r.N_.size>0}function Ws(r){return Nt(r).L_.size===0}function zE(r){r.Q_=void 0}async function ZI(r){r.q_.set("Online")}async function WI(r){r.N_.forEach(((t,i)=>{Pm(r,t)}))}async function tC(r,t){zE(r),zm(r)?(r.q_.M_(t),jm(r)):r.q_.set("Unknown")}async function eC(r,t,i){if(r.q_.set("Online"),t instanceof RE&&t.state===2&&t.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.N_.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.N_.delete(g),l.Q_.removeTarget(g))})(r,t)}catch(a){ut("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),a),await $c(r,a)}else if(t instanceof Uc?r.Q_.Ke(t):t instanceof wE?r.Q_.He(t):r.Q_.We(t),!i.isEqual(Ct.min()))try{const a=await UE(r.localStore);i.compareTo(a)>=0&&await(function(u,d){const g=u.Q_.rt(d);return g.targetChanges.forEach(((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.N_.get(v);T&&u.N_.set(v,T.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,v)=>{const T=u.N_.get(p);if(!T)return;u.N_.set(p,T.withResumeToken(nn.EMPTY_BYTE_STRING,T.snapshotVersion)),jE(u,p);const S=new is(T.target,p,v,T.sequenceNumber);Pm(u,S)})),u.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){ut("RemoteStore","Failed to raise snapshot:",a),await $c(r,a)}}async function $c(r,t,i){if(!Gl(t))throw t;r.L_.add(1),await Yl(r),r.q_.set("Offline"),i||(i=()=>UE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ut("RemoteStore","Retrying IndexedDB access"),await i(),r.L_.delete(1),await hh(r)}))}function BE(r,t){return t().catch((i=>$c(r,i,t)))}async function fh(r){const t=Nt(r),i=cs(t);let a=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;nC(t);)try{const l=await jI(t.localStore,a);if(l===null){t.O_.length===0&&i.o_();break}a=l.batchId,iC(t,l)}catch(l){await $c(t,l)}qE(t)&&HE(t)}function nC(r){return Ws(r)&&r.O_.length<10}function iC(r,t){r.O_.push(t);const i=cs(r);i.r_()&&i.V_&&i.m_(t.mutations)}function qE(r){return Ws(r)&&!cs(r).n_()&&r.O_.length>0}function HE(r){cs(r).start()}async function rC(r){cs(r).p_()}async function sC(r){const t=cs(r);for(const i of r.O_)t.m_(i.mutations)}async function aC(r,t,i){const a=r.O_.shift(),l=Om.from(a,t,i);await BE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await fh(r)}async function oC(r,t){t&&cs(r).V_&&await(async function(a,l){if((function(d){return X1(d)&&d!==$.ABORTED})(l.code)){const u=a.O_.shift();cs(a).s_(),await BE(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l))),await fh(a)}})(r,t),qE(r)&&HE(r)}async function Vv(r,t){const i=Nt(r);i.asyncQueue.verifyOperationInProgress(),ut("RemoteStore","RemoteStore received new credentials");const a=Ws(i);i.L_.add(3),await Yl(i),a&&i.q_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.L_.delete(3),await hh(i)}async function lC(r,t){const i=Nt(r);t?(i.L_.delete(2),await hh(i)):t||(i.L_.add(2),await Yl(i),i.q_.set("Unknown"))}function lo(r){return r.K_||(r.K_=(function(i,a,l){const u=Nt(i);return u.w_(),new QI(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Eo:ZI.bind(null,r),Ro:WI.bind(null,r),mo:tC.bind(null,r),d_:eC.bind(null,r)}),r.B_.push((async t=>{t?(r.K_.s_(),zm(r)?jm(r):r.q_.set("Unknown")):(await r.K_.stop(),zE(r))}))),r.K_}function cs(r){return r.U_||(r.U_=(function(i,a,l){const u=Nt(i);return u.w_(),new YI(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:rC.bind(null,r),mo:oC.bind(null,r),f_:sC.bind(null,r),g_:aC.bind(null,r)}),r.B_.push((async t=>{t?(r.U_.s_(),await fh(r)):(await r.U_.stop(),r.O_.length>0&&(ut("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,i,a,l,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,u){const d=Date.now()+a,g=new Bm(t,i,d,l,u);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qm(r,t){if(sr("AsyncQueue",`${t}: ${r}`),Gl(r))return new ot($.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=yl(),this.sortedSet=new ve(this.comparator)}static emptySet(t){return new Ka(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ka;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(){this.W_=new ve(mt.comparator)}track(t){const i=t.doc.key,a=this.W_.get(i);a?t.type!==0&&a.type===3?this.W_=this.W_.insert(i,t):t.type===3&&a.type!==1?this.W_=this.W_.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.W_=this.W_.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.W_=this.W_.remove(i):t.type===1&&a.type===2?this.W_=this.W_.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):bt():this.W_=this.W_.insert(i,t)}G_(){const t=[];return this.W_.inorderTraversal(((i,a)=>{t.push(a)})),t}}class to{constructor(t,i,a,l,u,d,g,p,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,l,u){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new to(t,i,Ka.emptySet(i),d,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((t=>t.J_()))}}class cC{constructor(){this.queries=kv(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(i,a){const l=Nt(i),u=l.queries;l.queries=kv(),u.forEach(((d,g)=>{for(const p of g.j_)p.onError(a)}))})(this,new ot($.ABORTED,"Firestore shutting down"))}}function kv(){return new oo((r=>cE(r)),sh)}async function hC(r,t){const i=Nt(r);let a=3;const l=t.query;let u=i.queries.get(l);u?!u.H_()&&t.J_()&&(a=2):(u=new uC,a=t.J_()?0:1);try{switch(a){case 0:u.z_=await i.onListen(l,!0);break;case 1:u.z_=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=qm(d,`Initialization of query '${ja(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,u),u.j_.push(t),t.Z_(i.onlineState),u.z_&&t.X_(u.z_)&&Hm(i)}async function fC(r,t){const i=Nt(r),a=t.query;let l=3;const u=i.queries.get(a);if(u){const d=u.j_.indexOf(t);d>=0&&(u.j_.splice(d,1),u.j_.length===0?l=t.J_()?0:1:!u.H_()&&t.J_()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function dC(r,t){const i=Nt(r);let a=!1;for(const l of t){const u=l.query,d=i.queries.get(u);if(d){for(const g of d.j_)g.X_(l)&&(a=!0);d.z_=l}}a&&Hm(i)}function mC(r,t,i){const a=Nt(r),l=a.queries.get(t);if(l)for(const u of l.j_)u.onError(i);a.queries.delete(t)}function Hm(r){r.Y_.forEach((t=>{t.next()}))}var rm,Lv;(Lv=rm||(rm={})).ea="default",Lv.Cache="cache";class gC{constructor(t,i,a){this.query=t,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new to(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.na?this.ia(t)&&(this.ta.next(t),i=!0):this.sa(t,this.onlineState)&&(this.oa(t),i=!0),this.ra=t,i}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),i=!0),i}sa(t,i){if(!t.fromCache||!this.J_())return!0;const a=i!=="Offline";return(!this.options._a||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const i=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}oa(t){t=to.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==rm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t){this.key=t}}class GE{constructor(t){this.key=t}}class pC{constructor(t,i){this.query=t,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=zt(),this.mutatedKeys=zt(),this.Aa=hE(t),this.Ra=new Ka(this.Aa)}get Va(){return this.Ta}ma(t,i){const a=i?i.fa:new Uv,l=i?i.Ra:this.Ra;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,S)=>{const N=l.get(T),z=ah(this.query,S)?S:null,Q=!!N&&this.mutatedKeys.has(N.key),tt=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let J=!1;N&&z?N.data.isEqual(z.data)?Q!==tt&&(a.track({type:3,doc:z}),J=!0):this.ga(N,z)||(a.track({type:2,doc:z}),J=!0,(p&&this.Aa(z,p)>0||v&&this.Aa(z,v)<0)&&(g=!0)):!N&&z?(a.track({type:0,doc:z}),J=!0):N&&!z&&(a.track({type:1,doc:N}),J=!0,(p||v)&&(g=!0)),J&&(z?(d=d.add(z),u=tt?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),a.track({type:1,doc:T})}return{Ra:d,fa:a,ns:g,mutatedKeys:u}}ga(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const u=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const d=t.fa.G_();d.sort(((T,S)=>(function(z,Q){const tt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return tt(z)-tt(Q)})(T.type,S.type)||this.Aa(T.doc,S.doc))),this.pa(a),l=l!=null&&l;const g=i&&!l?this.ya():[],p=this.da.size===0&&this.current&&!l?1:0,v=p!==this.Ea;return this.Ea=p,d.length!==0||v?{snapshot:new to(this.query,t.Ra,u,d,t.mutatedKeys,p===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:g}:{wa:g}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Uv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach((i=>this.Ta=this.Ta.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ta=this.Ta.delete(i))),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=zt(),this.Ra.forEach((a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))}));const i=[];return t.forEach((a=>{this.da.has(a)||i.push(new GE(a))})),this.da.forEach((a=>{t.has(a)||i.push(new FE(a))})),i}ba(t){this.Ta=t.Ts,this.da=zt();const i=this.ma(t.documents);return this.applyChanges(i,!0)}Da(){return to.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class yC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class _C{constructor(t){this.key=t,this.va=!1}}class vC{constructor(t,i,a,l,u,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new oo((g=>cE(g)),sh),this.Ma=new Map,this.xa=new Set,this.Oa=new ve(mt.comparator),this.Na=new Map,this.La=new Vm,this.Ba={},this.ka=new Map,this.qa=Wa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function EC(r,t,i=!0){const a=JE(r);let l;const u=a.Fa.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Da()):l=await KE(a,t,i,!0),l}async function TC(r,t){const i=JE(r);await KE(i,t,!0,!1)}async function KE(r,t,i,a){const l=await zI(r.localStore,Si(t)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,i);let g;return a&&(g=await AC(r,t,u,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&PE(r.remoteStore,l),g}async function AC(r,t,i,a,l){r.Ka=(S,N,z)=>(async function(tt,J,lt,_t){let it=J.view.ma(lt);it.ns&&(it=await Ov(tt.localStore,J.query,!1).then((({documents:C})=>J.view.ma(C,it))));const Lt=_t&&_t.targetChanges.get(J.targetId),re=_t&&_t.targetMismatches.get(J.targetId)!=null,St=J.view.applyChanges(it,tt.isPrimaryClient,Lt,re);return jv(tt,J.targetId,St.wa),St.snapshot})(r,S,N,z);const u=await Ov(r.localStore,t,!0),d=new pC(t,u.Ts),g=d.ma(u.documents),p=Ql.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),v=d.applyChanges(g,r.isPrimaryClient,p);jv(r,i,v.wa);const T=new yC(t,i,d);return r.Fa.set(t,T),r.Ma.has(i)?r.Ma.get(i).push(t):r.Ma.set(i,[t]),v.snapshot}async function SC(r,t,i){const a=Nt(r),l=a.Fa.get(t),u=a.Ma.get(l.targetId);if(u.length>1)return a.Ma.set(l.targetId,u.filter((d=>!sh(d,t)))),void a.Fa.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await im(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Lm(a.remoteStore,l.targetId),sm(a,l.targetId)})).catch(Fl)):(sm(a,l.targetId),await im(a.localStore,l.targetId,!0))}async function bC(r,t){const i=Nt(r),a=i.Fa.get(t),l=i.Ma.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Lm(i.remoteStore,a.targetId))}async function wC(r,t,i){const a=xC(r);try{const l=await(function(d,g){const p=Nt(d),v=je.now(),T=g.reduce(((z,Q)=>z.add(Q.key)),zt());let S,N;return p.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let Q=ar(),tt=zt();return p.cs.getEntries(z,T).next((J=>{Q=J,Q.forEach(((lt,_t)=>{_t.isValidDocument()||(tt=tt.add(lt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(z,Q))).next((J=>{S=J;const lt=[];for(const _t of g){const it=F1(_t,S.get(_t.key).overlayedDocument);it!=null&&lt.push(new hs(_t.key,it,nE(it.value.mapValue),ii.exists(!0)))}return p.mutationQueue.addMutationBatch(z,v,lt,g)})).next((J=>{N=J;const lt=J.applyToLocalDocumentSet(S,tt);return p.documentOverlayCache.saveOverlays(z,J.batchId,lt)}))})).then((()=>({batchId:N.batchId,changes:dE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,p){let v=d.Ba[d.currentUser.toKey()];v||(v=new ve(Xt)),v=v.insert(g,p),d.Ba[d.currentUser.toKey()]=v})(a,l.batchId,i),await Xl(a,l.changes),await fh(a.remoteStore)}catch(l){const u=qm(l,"Failed to persist write");i.reject(u)}}async function QE(r,t){const i=Nt(r);try{const a=await LI(i.localStore,t);t.targetChanges.forEach(((l,u)=>{const d=i.Na.get(u);d&&(te(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.va=!0:l.modifiedDocuments.size>0?te(d.va):l.removedDocuments.size>0&&(te(d.va),d.va=!1))})),await Xl(i,a,t)}catch(a){await Fl(a)}}function Pv(r,t,i){const a=Nt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Fa.forEach(((u,d)=>{const g=d.view.Z_(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const p=Nt(d);p.onlineState=g;let v=!1;p.queries.forEach(((T,S)=>{for(const N of S.j_)N.Z_(g)&&(v=!0)})),v&&Hm(p)})(a.eventManager,t),l.length&&a.Ca.d_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function RC(r,t,i){const a=Nt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Na.get(t),u=l&&l.key;if(u){let d=new ve(mt.comparator);d=d.insert(u,un.newNoDocument(u,Ct.min()));const g=zt().add(u),p=new uh(Ct.min(),new Map,new ve(Xt),d,g);await QE(a,p),a.Oa=a.Oa.remove(u),a.Na.delete(t),Fm(a)}else await im(a.localStore,t,!1).then((()=>sm(a,t,i))).catch(Fl)}async function IC(r,t){const i=Nt(r),a=t.batch.batchId;try{const l=await kI(i.localStore,t);XE(i,a,null),YE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Xl(i,l)}catch(l){await Fl(l)}}async function CC(r,t,i){const a=Nt(r);try{const l=await(function(d,g){const p=Nt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let T;return p.mutationQueue.lookupMutationBatch(v,g).next((S=>(te(S!==null),T=S.keys(),p.mutationQueue.removeMutationBatch(v,S)))).next((()=>p.mutationQueue.performConsistencyCheck(v))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(v,T,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T))).next((()=>p.localDocuments.getDocuments(v,T)))}))})(a.localStore,t);XE(a,t,i),YE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Xl(a,l)}catch(l){await Fl(l)}}function YE(r,t){(r.ka.get(t)||[]).forEach((i=>{i.resolve()})),r.ka.delete(t)}function XE(r,t,i){const a=Nt(r);let l=a.Ba[a.currentUser.toKey()];if(l){const u=l.get(t);u&&(i?u.reject(i):u.resolve(),l=l.remove(t)),a.Ba[a.currentUser.toKey()]=l}}function sm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Ma.get(t))r.Fa.delete(a),i&&r.Ca.$a(a,i);r.Ma.delete(t),r.isPrimaryClient&&r.La.gr(t).forEach((a=>{r.La.containsKey(a)||$E(r,a)}))}function $E(r,t){r.xa.delete(t.path.canonicalString());const i=r.Oa.get(t);i!==null&&(Lm(r.remoteStore,i),r.Oa=r.Oa.remove(t),r.Na.delete(i),Fm(r))}function jv(r,t,i){for(const a of i)a instanceof FE?(r.La.addReference(a.key,t),NC(r,a)):a instanceof GE?(ut("SyncEngine","Document no longer in limbo: "+a.key),r.La.removeReference(a.key,t),r.La.containsKey(a.key)||$E(r,a.key)):bt()}function NC(r,t){const i=t.key,a=i.path.canonicalString();r.Oa.get(i)||r.xa.has(a)||(ut("SyncEngine","New document in limbo: "+i),r.xa.add(a),Fm(r))}function Fm(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const t=r.xa.values().next().value;r.xa.delete(t);const i=new mt(me.fromString(t)),a=r.qa.next();r.Na.set(a,new _C(i)),r.Oa=r.Oa.insert(i,a),PE(r.remoteStore,new is(Si(Nm(i.path)),a,"TargetPurposeLimboResolution",Sm.oe))}}async function Xl(r,t,i){const a=Nt(r),l=[],u=[],d=[];a.Fa.isEmpty()||(a.Fa.forEach(((g,p)=>{d.push(a.Ka(p,t,i).then((v=>{var T;if((v||i)&&a.isPrimaryClient){const S=v?!v.fromCache:(T=i==null?void 0:i.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;a.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(v){l.push(v);const S=km.Wi(p.targetId,v);u.push(S)}})))})),await Promise.all(d),a.Ca.d_(l),await(async function(p,v){const T=Nt(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(v,(N=>Z.forEach(N.$i,(z=>T.persistence.referenceDelegate.addReference(S,N.targetId,z))).next((()=>Z.forEach(N.Ui,(z=>T.persistence.referenceDelegate.removeReference(S,N.targetId,z)))))))))}catch(S){if(!Gl(S))throw S;ut("LocalStore","Failed to update sequence numbers: "+S)}for(const S of v){const N=S.targetId;if(!S.fromCache){const z=T.os.get(N),Q=z.snapshotVersion,tt=z.withLastLimboFreeSnapshotVersion(Q);T.os=T.os.insert(N,tt)}}})(a.localStore,u))}async function DC(r,t){const i=Nt(r);if(!i.currentUser.isEqual(t)){ut("SyncEngine","User change. New user:",t.toKey());const a=await VE(i.localStore,t);i.currentUser=t,(function(u,d){u.ka.forEach((g=>{g.forEach((p=>{p.reject(new ot($.CANCELLED,d))}))})),u.ka.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Xl(i,a.hs)}}function OC(r,t){const i=Nt(r),a=i.Na.get(t);if(a&&a.va)return zt().add(a.key);{let l=zt();const u=i.Ma.get(t);if(!u)return l;for(const d of u){const g=i.Fa.get(d);l=l.unionWith(g.view.Va)}return l}}function JE(r){const t=Nt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=QE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=OC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=RC.bind(null,t),t.Ca.d_=dC.bind(null,t.eventManager),t.Ca.$a=mC.bind(null,t.eventManager),t}function xC(r){const t=Nt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=IC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=CC.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ch(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,i){return null}Ha(t,i){return null}za(t){return UI(this.persistence,new MI,t.initialUser,this.serializer)}Ga(t){return new DI(Um.Zr,this.serializer)}Wa(t){return new qI}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class am{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Pv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=DC.bind(null,this.syncEngine),await lC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new cC})()}createDatastore(t){const i=ch(t.databaseInfo.databaseId),a=(function(u){return new KI(u)})(t.databaseInfo);return(function(u,d,g,p){return new XI(u,d,g,p)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,u,d,g){return new JI(a,l,u,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Pv(this.syncEngine,i,0)),(function(){return Mv.D()?new Mv:new HI})())}createSyncEngine(t,i){return(function(l,u,d,g,p,v,T){const S=new vC(l,u,d,g,p,v);return T&&(S.Qa=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(l){const u=Nt(l);ut("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await Yl(u),u.k_.shutdown(),u.q_.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}am.provider={build:()=>new am};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):sr("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t,i,a,l,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=ln.UNAUTHENTICATED,this.clientId=W0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async d=>{ut("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ut("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=qm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Ld(r,t){r.asyncQueue.verifyOperationInProgress(),ut("FirestoreClient","Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await VE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function zv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await UC(r);ut("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Vv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Vv(t.remoteStore,l))),r._onlineComponents=t}async function UC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ld(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ya("Error using user provided cache. Falling back to memory cache: "+i),await Ld(r,new Jc)}}else ut("FirestoreClient","Using default OfflineComponentProvider"),await Ld(r,new Jc);return r._offlineComponents}async function ZE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut("FirestoreClient","Using user provided OnlineComponentProvider"),await zv(r,r._uninitializedComponentsProvider._online)):(ut("FirestoreClient","Using default OnlineComponentProvider"),await zv(r,new am))),r._onlineComponents}function kC(r){return ZE(r).then((t=>t.syncEngine))}async function Bv(r){const t=await ZE(r),i=t.eventManager;return i.onListen=EC.bind(null,t.syncEngine),i.onUnlisten=SC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=TC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=bC.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(r,t,i){if(!i)throw new ot($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function LC(r,t,i,a){if(t===!0&&a===!0)throw new ot($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Hv(r){if(!mt.isDocumentKey(r))throw new ot($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Fv(r){if(mt.isDocumentKey(r))throw new ot($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function dh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":bt()}function nr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dh(r);throw new ot($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new ot($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(i=t.ssl)===null||i===void 0||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ot($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}LC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WE((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gv(t),t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new WR;switch(a.type){case"firstParty":return new i1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=qv.get(i);a&&(ut("ComponentProvider","Removing Datastore"),qv.delete(i),a.terminate())})(this),Promise.resolve()}}function PC(r,t,i,a={}){var l;const u=(r=nr(r,mh))._getSettings(),d=`${t}:${i}`;if(u.host!=="firestore.googleapis.com"&&u.host!==d&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:d,ssl:!1})),a.mockUserToken){let g,p;if(typeof a.mockUserToken=="string")g=a.mockUserToken,p=ln.MOCK_USER;else{g=fS(a.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const v=a.mockUserToken.sub||a.mockUserToken.user_id;if(!v)throw new ot($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ln(v)}r._authCredentials=new t1(new Z0(g,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new fs(this.firestore,t,this._query)}}class yn{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new yn(this.firestore,t,this._key)}}class os extends fs{constructor(t,i,a){super(t,i,Nm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new yn(this.firestore,null,new mt(t))}withConverter(t){return new os(this.firestore,t,this._path)}}function Zc(r,t,...i){if(r=ze(r),tT("collection","path",t),r instanceof mh){const a=me.fromString(t,...i);return Fv(a),new os(r,null,a)}{if(!(r instanceof yn||r instanceof os))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(me.fromString(t,...i));return Fv(a),new os(r.firestore,null,a)}}function vi(r,t,...i){if(r=ze(r),arguments.length===1&&(t=W0.newId()),tT("doc","path",t),r instanceof mh){const a=me.fromString(t,...i);return Hv(a),new yn(r,null,new mt(a))}{if(!(r instanceof yn||r instanceof os))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(me.fromString(t,...i));return Hv(a),new yn(r.firestore,r instanceof os?r.converter:null,new mt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new kE(this,"async_queue_retry"),this.Vu=()=>{const a=kd();a&&ut("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=t;const i=kd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const i=kd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise((()=>{}));const i=new Fs;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Pu.push(t),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!Gl(t))throw t;ut("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(t){const i=this.mu.then((()=>(this.du=!0,t().catch((a=>{this.Eu=a,this.du=!1;const l=(function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g})(a);throw sr("INTERNAL UNHANDLED ERROR: ",l),a})).then((a=>(this.du=!1,a))))));return this.mu=i,i}enqueueAfterDelay(t,i,a){this.fu(),this.Ru.indexOf(t)>-1&&(i=0);const l=Bm.createAndSchedule(this,t,i,a,(u=>this.yu(u)));return this.Tu.push(l),l}fu(){this.Eu&&bt()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const i of this.Tu)if(i.timerId===t)return!0;return!1}bu(t){return this.wu().then((()=>{this.Tu.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.Tu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.wu()}))}Du(t){this.Ru.push(t)}yu(t){const i=this.Tu.indexOf(t);this.Tu.splice(i,1)}}function Qv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of a)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class eo extends mh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Kv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Kv(t),this._firestoreClient=void 0,await t}}}function jC(r,t){const i=typeof r=="object"?r:u0(),a=typeof r=="string"?r:"(default)",l=fm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=cS("firestore");u&&PC(l,...u)}return l}function eT(r){if(r._terminated)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||zC(r),r._firestoreClient}function zC(r){var t,i,a;const l=r._freezeSettings(),u=(function(g,p,v,T){return new p1(g,p,v,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,WE(T.experimentalLongPollingOptions),T.useFetchStreams)})(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new VC(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t){this._byteString=t}static fromBase64String(t){try{return new no(nn.fromBase64String(t))}catch(i){throw new ot($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new no(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Xt(this._lat,t._lat)||Xt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0})(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=/^__.*__$/;class qC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new hs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(t,this.data,i,this.fieldTransforms)}}class nT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new hs(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function iT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class ph{constructor(t,i,a,l,u,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new ph(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Fu({path:a,xu:!1});return l.Ou(t),l}Nu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.Fu({path:a,xu:!1});return l.vu(),l}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Wc(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(iT(this.Cu)&&BC.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class HC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||ch(t)}Qu(t,i,a,l=!1){return new ph({Cu:t,methodName:i,qu:a,path:tn.emptyPath(),xu:!1,ku:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yh(r){const t=r._freezeSettings(),i=ch(r._databaseId);return new HC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function rT(r,t,i,a,l,u={}){const d=r.Qu(u.merge||u.mergeFields?2:0,t,i,l);Xm("Data must be an object, but it was:",d,a);const g=sT(a,d);let p,v;if(u.merge)p=new kn(d.fieldMask),v=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const N=om(t,S,i);if(!d.contains(N))throw new ot($.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);oT(T,N)||T.push(N)}p=new kn(T),v=d.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,v=d.fieldTransforms;return new qC(new wn(g),p,v)}class _h extends $l{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _h}}function FC(r,t,i){return new ph({Cu:3,qu:t.settings.qu,methodName:r._methodName,xu:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Qm extends $l{_toFieldTransform(t){return new EE(t.path,new kl)}isEqual(t){return t instanceof Qm}}class Ym extends $l{constructor(t,i){super(t),this.Ku=i}_toFieldTransform(t){const i=FC(this,t,!0),a=this.Ku.map((u=>uo(u,i))),l=new Za(a);return new EE(t.path,l)}isEqual(t){return t instanceof Ym&&Il(this.Ku,t.Ku)}}function GC(r,t,i,a){const l=r.Qu(1,t,i);Xm("Data must be an object, but it was:",l,a);const u=[],d=wn.empty();Zs(a,((p,v)=>{const T=$m(t,p,i);v=ze(v);const S=l.Nu(T);if(v instanceof _h)u.push(T);else{const N=uo(v,S);N!=null&&(u.push(T),d.set(T,N))}}));const g=new kn(u);return new nT(d,g,l.fieldTransforms)}function KC(r,t,i,a,l,u){const d=r.Qu(1,t,i),g=[om(t,a,i)],p=[l];if(u.length%2!=0)throw new ot($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)g.push(om(t,u[N])),p.push(u[N+1]);const v=[],T=wn.empty();for(let N=g.length-1;N>=0;--N)if(!oT(v,g[N])){const z=g[N];let Q=p[N];Q=ze(Q);const tt=d.Nu(z);if(Q instanceof _h)v.push(z);else{const J=uo(Q,tt);J!=null&&(v.push(z),T.set(z,J))}}const S=new kn(v);return new nT(T,S,d.fieldTransforms)}function QC(r,t,i,a=!1){return uo(i,r.Qu(a?4:3,t))}function uo(r,t){if(aT(r=ze(r)))return Xm("Unsupported field value:",t,r),sT(r,t);if(r instanceof $l)return(function(a,l){if(!iT(l.Cu))throw l.Bu(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Bu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return(function(a,l){const u=[];let d=0;for(const g of a){let p=uo(g,l.Lu(d));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),d++}return{arrayValue:{values:u}}})(r,t)}return(function(a,l){if((a=ze(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return P1(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=je.fromDate(a);return{timestampValue:Xc(l.serializer,u)}}if(a instanceof je){const u=new je(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Xc(l.serializer,u)}}if(a instanceof Gm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof no)return{bytesValue:IE(l.serializer,a._byteString)};if(a instanceof yn){const u=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw l.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Mm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Km)return(function(d,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Bu("VectorValues must only contain numeric values.");return Dm(g.serializer,p)}))}}}}}})(a,l);throw l.Bu(`Unsupported field value: ${dh(a)}`)})(r,t)}function sT(r,t){const i={};return tE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zs(r,((a,l)=>{const u=uo(l,t.Mu(a));u!=null&&(i[a]=u)})),{mapValue:{fields:i}}}function aT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof je||r instanceof Gm||r instanceof no||r instanceof yn||r instanceof $l||r instanceof Km)}function Xm(r,t,i){if(!aT(i)||!(function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)})(i)){const a=dh(i);throw a==="an object"?t.Bu(r+" a custom object"):t.Bu(r+" "+a)}}function om(r,t,i){if((t=ze(t))instanceof gh)return t._internalPath;if(typeof t=="string")return $m(r,t);throw Wc("Field path arguments must be of type string or ",r,!1,void 0,i)}const YC=new RegExp("[~\\*/\\[\\]]");function $m(r,t,i){if(t.search(YC)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new gh(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Wc(r,t,i,a,l){const u=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||d)&&(p+=" (found",u&&(p+=` in field ${a}`),d&&(p+=` in document ${l}`),p+=")"),new ot($.INVALID_ARGUMENT,g+r+p)}function oT(r,t){return r.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(t,i,a,l,u){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new XC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Jm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class XC extends lT{data(){return super.data()}}function Jm(r,t){return typeof t=="string"?$m(r,t):t instanceof gh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zm{}class Wm extends Zm{}function uT(r,t,...i){let a=[];t instanceof Zm&&a.push(t),a=a.concat(i),(function(u){const d=u.filter((p=>p instanceof eg)).length,g=u.filter((p=>p instanceof tg)).length;if(d>1||d>0&&g>0)throw new ot($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class tg extends Wm{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new tg(t,i,a)}_apply(t){const i=this._parse(t);return cT(t._query,i),new fs(t.firestore,t.converter,Zd(t._query,i))}_parse(t){const i=yh(t.firestore);return(function(u,d,g,p,v,T,S){let N;if(v.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ot($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Xv(S,T);const z=[];for(const Q of S)z.push(Yv(p,u,Q));N={arrayValue:{values:z}}}else N=Yv(p,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Xv(S,T),N=QC(g,d,S,T==="in"||T==="not-in");return ke.create(v,T,N)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class eg extends Zm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new eg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:si.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const p of g)cT(d,p),d=Zd(d,p)})(t._query,i),new fs(t.firestore,t.converter,Zd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ng extends Wm{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new ng(t,i)}_apply(t){const i=(function(l,u,d){if(l.startAt!==null)throw new ot($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ot($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ul(u,d)})(t._query,this._field,this._direction);return new fs(t.firestore,t.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new ao(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function JC(r,t="asc"){const i=t,a=Jm("orderBy",r);return ng._create(a,i)}class ig extends Wm{constructor(t,i,a){super(),this.type=t,this._limit=i,this._limitType=a}static _create(t,i,a){return new ig(t,i,a)}_apply(t){return new fs(t.firestore,t.converter,Qc(t._query,this._limit,this._limitType))}}function ZC(r){return ig._create("limit",r,"F")}function Yv(r,t,i){if(typeof(i=ze(i))=="string"){if(i==="")throw new ot($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uE(t)&&i.indexOf("/")!==-1)throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(me.fromString(i));if(!mt.isDocumentKey(a))throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return mv(r,new mt(a))}if(i instanceof yn)return mv(r,i._key);throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(i)}.`)}function Xv(r,t){if(!Array.isArray(r)||r.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function cT(r,t){const i=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new ot($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class WC{convertValue(t,i="none"){switch($s(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Xs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw bt()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Zs(t,((l,u)=>{a[l]=this.convertValue(u,i)})),a}convertVectorValue(t){var i,a,l;const u=(l=(a=(i=t.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map((d=>Ce(d.doubleValue)));return new Km(u)}convertGeoPoint(t){return new Gm(Ce(t.latitude),Ce(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=wm(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(xl(t));default:return null}}convertTimestamp(t){const i=us(t);return new je(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=me.fromString(t);te(ME(a));const l=new Ml(a.get(1),a.get(3)),u=new mt(a.popFirst(5));return l.isEqual(i)||sr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fT extends lT{constructor(t,i,a,l,u,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Jm("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class kc extends fT{data(t={}){return super.data(t)}}class t2{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new vl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new kc(this._firestore,this._userDataWriter,a.key,a,new vl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const p=new kc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new vl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new kc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new vl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,T=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:e2(g.type),doc:p,oldIndex:v,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function e2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}class dT extends WC{constructor(t){super(),this.firestore=t}convertBytes(t){return new no(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new yn(this.firestore,null,i)}}function wl(r,t,i){r=nr(r,yn);const a=nr(r.firestore,eo),l=hT(r.converter,t,i);return rg(a,[rT(yh(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,ii.none())])}function Rl(r,t,i,...a){r=nr(r,yn);const l=nr(r.firestore,eo),u=yh(l);let d;return d=typeof(t=ze(t))=="string"||t instanceof gh?KC(u,"updateDoc",r._key,t,i,a):GC(u,"updateDoc",r._key,t),rg(l,[d.toMutation(r._key,ii.exists(!0))])}function mT(r,t){const i=nr(r.firestore,eo),a=vi(r),l=hT(r.converter,t);return rg(i,[rT(yh(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,ii.exists(!1))]).then((()=>a))}function Lc(r,...t){var i,a,l;r=ze(r);let u={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||Qv(t[d])||(u=t[d],d++);const g={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Qv(t[d])){const S=t[d];t[d]=(i=S.next)===null||i===void 0?void 0:i.bind(S),t[d+1]=(a=S.error)===null||a===void 0?void 0:a.bind(S),t[d+2]=(l=S.complete)===null||l===void 0?void 0:l.bind(S)}let p,v,T;if(r instanceof yn)v=nr(r.firestore,eo),T=Nm(r._key.path),p={next:S=>{t[d]&&t[d](n2(v,r,S))},error:t[d+1],complete:t[d+2]};else{const S=nr(r,fs);v=nr(S.firestore,eo),T=S._query;const N=new dT(v);p={next:z=>{t[d]&&t[d](new t2(v,N,S,z))},error:t[d+1],complete:t[d+2]},$C(r._query)}return(function(N,z,Q,tt){const J=new MC(tt),lt=new gC(z,J,Q);return N.asyncQueue.enqueueAndForget((async()=>hC(await Bv(N),lt))),()=>{J.Za(),N.asyncQueue.enqueueAndForget((async()=>fC(await Bv(N),lt)))}})(eT(v),T,g,p)}function rg(r,t){return(function(a,l){const u=new Fs;return a.asyncQueue.enqueueAndForget((async()=>wC(await kC(a),l,u))),u.promise})(eT(r),t)}function n2(r,t,i){const a=i.docs.get(t._key),l=new dT(r);return new fT(r,l,t._key,a,new vl(i.hasPendingWrites,i.fromCache),t.converter)}function i2(){return new Qm("serverTimestamp")}function $v(...r){return new Ym("arrayUnion",r)}(function(t,i=!0){(function(l){so=l})(io),Qa(new Gs("firestore",((a,{instanceIdentifier:l,options:u})=>{const d=a.getProvider("app").getImmediate(),g=new eo(new e1(a.getProvider("auth-internal")),new s1(a.getProvider("app-check-internal")),(function(v,T){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ot($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(v.options.projectId,T)})(d,l),d);return u=Object.assign({useFetchStreams:i},u),g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),as(uv,"4.7.3",t),as(uv,"4.7.3","esm2017")})();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=wt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:u,iconNode:d,...g},p)=>wt.createElement("svg",{ref:p,...s2,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:gT("lucide",l),...g},[...d.map(([v,T])=>wt.createElement(v,T)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=(r,t)=>{const i=wt.forwardRef(({className:a,...l},u)=>wt.createElement(a2,{ref:u,iconNode:t,className:gT(`lucide-${r2(r)}`,a),...l}));return i.displayName=`${r}`,i};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=ai("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=ai("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=ai("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=ai("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=ai("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=ai("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=ai("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=ai("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=ai("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=ai("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=ai("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),d2=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{},Ze=typeof __app_id<"u"?__app_id:"default-doof-crew";function m2(){const r=typeof __shared_mode<"u"?!!__shared_mode:!0,[t,i]=wt.useState(null),[a,l]=wt.useState(null),[u,d]=wt.useState(null),[g,p]=wt.useState(!1),[v,T]=wt.useState([]),[S,N]=wt.useState(null),[z,Q]=wt.useState(null),[tt,J]=wt.useState(!1),[lt,_t]=wt.useState(!1),[it,Lt]=wt.useState(null),[re,St]=wt.useState(!1),[C,b]=wt.useState(null),[I,M]=wt.useState(!1),[V,k]=wt.useState(0),[w,ye]=wt.useState(null),[_e,F]=wt.useState(null),[et,ht]=wt.useState(null);wt.useEffect(()=>{try{const dt=l0(d2),rt=JR(dt),Et=jC(dt);i(Et),l(rt);const vt=zw(rt,async Ne=>{if(Ne){d(Ne.uid),Lt(Ne.email||null),p(!0);return}d(null),p(!0)});return()=>vt()}catch(dt){console.error("Error initializing Firebase:",dt),b("Failed to initialize application. Invalid configuration.")}},[]),wt.useEffect(()=>{if(!g||!t||!u)return;const dt=r?`apps/${Ze}`:`users/${u}/apps/${Ze}`,rt=`${dt}/djs`,Et=uT(Zc(t,rt)),vt=Lc(Et,gt=>{const Tt=[];gt.forEach(Rt=>{Tt.push({id:Rt.id,...Rt.data()})}),T(Tt)},gt=>{console.error("Error listening to DJs:",gt),b("Failed to load DJ list.")}),Ne=`${dt}/schedule/mainStage`,Rn=vi(t,Ne),ds=Lc(Rn,async gt=>{var Tt;if(gt.exists())N(gt.data()),M(!1);else try{const Rt=Zv();await wl(Rn,Rt),N(Rt),M(!1)}catch(Rt){console.error("Error creating base schedule:",Rt);try{(Tt=window.firebaseOpsAgent)==null||Tt.log({level:"error",type:"schedule.create.error",code:(Rt==null?void 0:Rt.code)||"",message:(Rt==null?void 0:Rt.message)||"",path:Ne})}catch{}b("Failed to initialize schedule."),M(!0)}},gt=>{var Rt;console.error("Error listening to schedule:",gt);try{(Rt=window.firebaseOpsAgent)==null||Rt.log({level:"error",type:"schedule.listen.error",code:(gt==null?void 0:gt.code)||"",message:(gt==null?void 0:gt.message)||"",path:Ne})}catch{}const Tt=(gt==null?void 0:gt.code)||"";Tt.includes("permission")||Tt.includes("denied")?b(`Failed to load schedule (permission denied). Path: ${Ne}`):b("Failed to load schedule."),M(!0)}),Ri=vi(t,`${dt}/meta/app`);wl(Ri,{ownerUid:u,appId:Ze,createdAt:new Date().toISOString(),allowedAdminEmails:[],allowedAdminUids:[]},{merge:!0}).catch(gt=>{console.warn("Could not ensure crew meta doc",gt)});const oe=Lc(Ri,gt=>{const Tt=gt.data(),Rt=Tt==null?void 0:Tt.ownerUid,le=(Tt==null?void 0:Tt.allowedAdminEmails)||[],ce=(Tt==null?void 0:Tt.allowedAdminUids)||[],ge=Rt===u||!!it&&le.includes(it)||ce.includes(u);_t(ge)});return()=>{vt(),ds(),oe&&oe()}},[g,t,u,it]);const Bt=dt=>{Q(dt),J(!0)},Gt=()=>{J(!1),Q(null)},x=(dt,rt)=>{dt.dataTransfer.setData("application/json",JSON.stringify(rt)),dt.dataTransfer.effectAllowed="move",ht(rt),ye(null),F(null)},K=dt=>{dt.preventDefault(),dt.dataTransfer.dropEffect="move"},W=dt=>{dt.preventDefault(),k(rt=>rt+1)},st=(dt,rt)=>{dt.preventDefault(),k(Et=>Et+1),ye(Et=>Et===null?et&&(et.from==="slot"||et.from==="resize")&&typeof et.slotIndex=="number"?et.slotIndex:rt:Et),F(rt)},pt=dt=>{dt.preventDefault(),k(rt=>rt-1)},Ot=async(dt,rt)=>{dt.preventDefault(),k(0),St(!0);try{const Et=JSON.parse(dt.dataTransfer.getData("application/json")),vt=[...S.timeSlots],Ne=vi(t,`${r?`apps/${Ze}`:`users/${u}/apps/${Ze}`}/schedule/mainStage`),Rn=Et.from==="resize",ds=w!==null&&_e!==null&&(dt.shiftKey||Rn),Ri=oe=>{let gt=Math.min(w,rt,_e),Tt=Math.max(w,rt,_e);const Rt=Et.from==="pool",le=Rt?Et.dj.id:Et.djId,ce=Rt?Et.dj.djName:Et.djName;if(Rn&&typeof Et.slotIndex=="number"){const ge=Et.slotIndex;Et.direction==="right"?rt<ge?(gt=ge,Tt=ge):(gt=ge,Tt=Math.max(ge,rt)):Et.direction==="left"&&(rt>ge?(gt=ge,Tt=ge):(gt=Math.min(ge,rt),Tt=ge))}for(let ge=gt;ge<=Tt;ge++){const se={...vt[ge]};if(oe)if(se.djId&&se.djId!==le){const Ee=Array.isArray(se.guests)?[...se.guests]:[];Ee.find($n=>$n.djId===le)||Ee.push({djId:le,djName:ce}),vt[ge]={...se,guests:Ee}}else vt[ge]={...se,djId:le,djName:ce};else vt[ge]={...se,djId:le,djName:ce}}};if(ds)Ri(Rn?!1:dt.altKey);else if(Et.from==="pool"){const oe=Et.dj.id,gt=Et.dj.djName,Tt=vt.findIndex(Rt=>Rt.djId===oe);if(Tt>-1){const Rt={...vt[rt]};vt[rt]={...vt[rt],djId:oe,djName:gt},vt[Tt]={...vt[Tt],djId:Rt.djId,djName:Rt.djName}}else{const Rt={...vt[rt]};if(Rt.djId&&Rt.djId!==oe){const le=Array.isArray(Rt.guests)?[...Rt.guests]:[];le.find(ce=>ce.djId===oe)||le.push({djId:oe,djName:gt}),vt[rt]={...Rt,guests:le}}else vt[rt]={...Rt,djId:oe,djName:gt}}}else if(Et.from==="slot"){const oe=Et.slotIndex;if(oe===rt)return;if(dt.shiftKey){const gt=Math.min(oe,rt),Tt=Math.max(oe,rt),Rt={...vt[oe]};for(let le=gt;le<=Tt;le++)vt[le]={...vt[le],djId:Rt.djId,djName:Rt.djName}}else if(dt.altKey){const gt={...vt[oe]},Tt={...vt[rt]};if(Tt.djId&&Tt.djId!==gt.djId){const Rt=Array.isArray(Tt.guests)?[...Tt.guests]:[];gt.djId&&!Rt.find(le=>le.djId===gt.djId)&&(Rt.push({djId:gt.djId,djName:gt.djName||""}),vt[rt]={...Tt,guests:Rt})}else vt[rt]={...Tt,djId:gt.djId,djName:gt.djName}}else{const gt={...vt[oe]},Tt={...vt[rt]};vt[rt]={...Tt,djId:gt.djId,djName:gt.djName},vt[oe]={...gt,djId:Tt.djId,djName:Tt.djName}}}await Rl(Ne,{timeSlots:vt})}catch(Et){console.error("Error handling drop on slot:",Et),b("Failed to update schedule.")}finally{St(!1),ye(null),F(null),ht(null)}},Vt=async dt=>{dt.preventDefault(),k(0),St(!0);try{const rt=JSON.parse(dt.dataTransfer.getData("application/json"));if(rt.from==="slot"){const Et=rt.slotIndex,vt=[...S.timeSlots];vt[Et]={...vt[Et],djId:null,djName:null};const Ne=vi(t,`${r?`apps/${Ze}`:`users/${u}/apps/${Ze}`}/schedule/mainStage`);await Rl(Ne,{timeSlots:vt})}}catch(rt){console.error("Error unassigning DJ:",rt),b("Failed to update schedule.")}finally{St(!1)}},Le=async()=>{var dt;if(window.confirm("Clear all slot assignments and return all DJs to the unassigned pool?")){St(!0);try{const rt=vi(t,`${r?`apps/${Ze}`:`users/${u}/apps/${Ze}`}/schedule/mainStage`),Et=S.timeSlots.map(vt=>({time:vt.time,djId:null,djName:null}));await Rl(rt,{timeSlots:Et})}catch(rt){console.error("Error resetting schedule:",rt);const Et=(rt==null?void 0:rt.code)||"";Et.includes("permission")||Et.includes("denied")?b("Failed to reset schedule (permission denied). Please verify you have write access."):b("Failed to reset schedule: "+((rt==null?void 0:rt.message)||"Unknown error"));try{(dt=window.firebaseOpsAgent)==null||dt.log({level:"error",type:"schedule.reset.error",code:Et,message:(rt==null?void 0:rt.message)||""})}catch{}}finally{St(!1)}}},ue=new Set(((S==null?void 0:S.timeSlots)||[]).flatMap(dt=>[...dt.djId?[dt.djId]:[],...(dt.guests||[]).map(rt=>rt.djId)])),Ln=v.filter(dt=>!ue.has(dt.id));return g?g&&!u?O.jsx(y2,{auth:a,db:t,appId:Ze}):S?O.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 font-sans p-4 md:p-8",children:[O.jsxs("header",{className:"mb-6",children:[O.jsx("h1",{className:"text-4xl font-bold text-center text-blue-400",children:"Doof Crew Admin"}),u&&O.jsxs("div",{className:"text-center text-sm text-gray-400 mt-2 flex flex-col items-center gap-1",children:[O.jsxs("p",{children:["Share this User ID with your crew: ",O.jsx("code",{className:"bg-gray-700 p-1 rounded-md",children:u})]}),lt&&O.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-green-800 text-green-200 text-xs uppercase tracking-wide",children:"Admin"}),O.jsx("div",{className:"mt-2",children:O.jsx("a",{href:"/hub.html",className:"inline-block py-1.5 px-3 bg-indigo-600 hover:bg-indigo-700 rounded-md text-white",children:"Enter the Portal"})})]})]}),C&&O.jsxs("div",{className:"bg-red-800 border border-red-600 text-white p-4 rounded-lg mb-6 flex items-center",children:[O.jsx(lm,{className:"w-5 h-5 mr-3"}),O.jsx("p",{children:C}),O.jsx("button",{onClick:()=>b(null),className:"ml-auto text-red-200 hover:text-white",children:O.jsx(_T,{className:"w-5 h-5"})})]}),O.jsxs("main",{className:"flex flex-col lg:flex-row gap-8",children:[O.jsxs("aside",{className:"w-full lg:w-1/3 flex flex-col gap-6",children:[O.jsx(p2,{db:t,userId:u,appId:Ze,setIsLoading:St,setError:b,disabled:re}),O.jsx(S2,{djs:Ln,onDjClick:Bt,onDragStart:x,onDragOver:K,onDragEnter:W,onDragLeave:pt,onDrop:Vt,isDropZoneActive:V>0,disabled:re,schedule:S})]}),O.jsx("section",{className:"w-full lg:w-2/3",children:O.jsx(b2,{schedule:S,djs:v,onDjClick:Bt,onDragStart:x,onDragOver:K,onDragEnter:W,onDragEnterSlot:st,onDragLeave:pt,onDrop:Ot,isDropZoneActive:V>0,disabled:re,activeRange:w!==null?{start:Math.min(w,_e??w),end:Math.max(w,_e??w)}:null,onReset:Le})})]}),O.jsx("div",{className:"mt-8",children:O.jsx(g2,{db:t,userId:u,appId:Ze,sharedMode:r,userEmail:it})}),lt&&!r&&O.jsxs("div",{className:"mb-6 mx-auto max-w-2xl bg-gray-800 p-4 rounded-lg",children:[O.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Admin Settings"}),O.jsx(A2,{db:t,userId:u,appId:Ze})]}),tt&&z&&O.jsx(R2,{dj:z,onClose:Gt})]}):O.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white font-sans p-4",children:[O.jsxs("div",{className:"flex items-center",children:[O.jsx(Jv,{className:"animate-pulse w-16 h-16"}),O.jsx("span",{className:"ml-4 text-2xl",children:"Loading Crew Data..."})]}),C&&O.jsxs("div",{className:"mt-6 max-w-xl w-full bg-red-800 border border-red-600 text-white p-4 rounded-lg",children:[O.jsxs("div",{className:"flex items-center",children:[O.jsx(lm,{className:"w-5 h-5 mr-3"}),O.jsx("p",{className:"font-semibold",children:C})]}),O.jsx("p",{className:"text-sm text-red-200 mt-2",children:"If this persists, you may not have permission to read or write your schedule. Please sign out and back in, or contact support."}),I&&O.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[O.jsx("button",{onClick:async()=>{var dt;if(!(!t||!u)){St(!0),b(null);try{const rt=vi(t,`${r?`apps/${Ze}`:`users/${u}/apps/${Ze}`}/schedule/mainStage`),Et=Zv();await wl(rt,Et),N(Et)}catch(rt){console.error(rt);try{(dt=window.firebaseOpsAgent)==null||dt.log({level:"error",type:"schedule.create.error",code:(rt==null?void 0:rt.code)||"",message:(rt==null?void 0:rt.message)||"",path:`${r?`apps/${Ze}`:`users/${u}/apps/${Ze}`}/schedule/mainStage`})}catch{}const Et=(rt==null?void 0:rt.code)||"";Et.includes("permission")||Et.includes("denied")?b("Could not create base schedule (permission denied). Please update Firestore rules to allow authenticated users to write to this app namespace."):b("Could not create base schedule.")}finally{St(!1)}}},className:"py-2 px-3 bg-blue-600 hover:bg-blue-700 rounded-md text-white",children:"Create Base Schedule (Temple  31 Jan 2025)"}),O.jsx("a",{href:"/hub.html",className:"py-2 px-3 bg-gray-700 hover:bg-gray-600 rounded-md text-white",children:"Enter the Portal"})]})]})]}):O.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-900 text-white font-sans",children:[O.jsx(Jv,{className:"animate-pulse w-16 h-16"}),O.jsx("span",{className:"ml-4 text-2xl",children:"Checking session"})]})}function g2({db:r,userId:t,appId:i,sharedMode:a,userEmail:l}){const[u,d]=wt.useState([]),[g,p]=wt.useState(""),v=a?`apps/${i}`:`users/${t}/apps/${i}`;wt.useEffect(()=>{const S=uT(Zc(r,`${v}/chat/main/messages`),JC("createdAt","asc"),ZC(100)),N=Lc(S,z=>{const Q=[];z.forEach(tt=>Q.push({id:tt.id,...tt.data()})),d(Q)});return()=>N()},[r,v]);const T=async S=>{S.preventDefault();const N=g.trim();if(N)try{await mT(Zc(r,`${v}/chat/main/messages`),{uid:t,email:l||null,text:N,createdAt:i2()}),p("")}catch(z){console.error(z)}};return O.jsxs("div",{className:"max-w-3xl mx-auto bg-gray-800 p-4 rounded-lg",children:[O.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Crew Chat"}),O.jsxs("div",{className:"h-64 overflow-y-auto bg-gray-900 rounded-md p-3 space-y-2 border border-gray-700",children:[u.length===0&&O.jsx("div",{className:"text-gray-500",children:"No messages yet. Say hi!"}),u.map(S=>O.jsxs("div",{className:"text-sm",children:[O.jsx("span",{className:"text-blue-300",children:S.email||S.uid.slice(0,6)}),O.jsx("span",{className:"text-gray-400",children:": "}),O.jsx("span",{className:"text-gray-100 whitespace-pre-wrap",children:S.text})]},S.id))]}),O.jsxs("form",{onSubmit:T,className:"mt-3 flex gap-2",children:[O.jsx("input",{value:g,onChange:S=>p(S.target.value),placeholder:"Type a message",className:"flex-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"}),O.jsx("button",{className:"py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Send"})]})]})}function Zv(){const r="Temple - 31 Jan 2025",a=[];for(let l=720;l<1440;l+=15){const u=Wv(l),d=Wv(l+15);a.push({time:`${u} - ${d}`,djId:null,djName:null})}return{name:r,timeSlots:a}}function Wv(r){const t=(r%1440+1440)%1440,i=Math.floor(t/60),a=t%60,l=i.toString().padStart(2,"0"),u=a.toString().padStart(2,"0");return`${l}:${u}`}function p2({db:r,userId:t,appId:i,setIsLoading:a,setError:l,disabled:u}){const d=typeof __shared_mode<"u"?!!__shared_mode:!0,[g,p]=wt.useState({djName:"",realName:"",info:"",photoUrl:"",visualUrl:""}),v=S=>{const{name:N,value:z}=S.target;p(Q=>({...Q,[N]:z}))},T=async S=>{if(S.preventDefault(),!g.djName||!g.realName){l("DJ Name and Real Name are required.");return}a(!0),l(null);try{const N=`${d?`apps/${i}`:`users/${t}/apps/${i}`}/djs`;await mT(Zc(r,N),{...g,createdAt:new Date().toISOString(),createdBy:t,uid:null,email:null}),p({djName:"",realName:"",info:"",photoUrl:"",visualUrl:""})}catch(N){console.error("Error registering DJ:",N),l("Failed to register DJ. Please try again.")}finally{a(!1)}};return O.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[O.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center",children:[O.jsx(h2,{className:"w-6 h-6 mr-3 text-blue-400"}),"Register DJ"]}),O.jsxs("form",{onSubmit:T,className:"space-y-4",children:[O.jsxs("div",{children:[O.jsx("label",{htmlFor:"djName",className:"block text-sm font-medium text-gray-300",children:"DJ Name"}),O.jsx("input",{type:"text",id:"djName",name:"djName",value:g.djName,onChange:v,required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"realName",className:"block text-sm font-medium text-gray-300",children:"Real Name"}),O.jsx("input",{type:"text",id:"realName",name:"realName",value:g.realName,onChange:v,required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"info",className:"block text-sm font-medium text-gray-300",children:"Promo Info / Bio"}),O.jsx("textarea",{id:"info",name:"info",rows:3,value:g.info,onChange:v,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"photoUrl",className:"block text-sm font-medium text-gray-300",children:"Promo Photo (URL)"}),O.jsx("input",{type:"url",id:"photoUrl",name:"photoUrl",value:g.photoUrl,onChange:v,placeholder:"https://example.com/photo.jpg",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"visualUrl",className:"block text-sm font-medium text-gray-300",children:"Visuals / Content (URL)"}),O.jsx("input",{type:"url",id:"visualUrl",name:"visualUrl",value:g.visualUrl,onChange:v,placeholder:"https://youtube.com/watch?v=...",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]}),O.jsx("button",{type:"submit",disabled:u,className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Registering...":"Register DJ"})]})]})}function y2({auth:r,db:t,appId:i}){const[a,l]=wt.useState("login");return O.jsx("div",{className:"min-h-screen bg-gray-900 text-gray-100 font-sans p-6 flex items-center justify-center",children:O.jsxs("div",{className:"max-w-2xl w-full bg-gray-800 rounded-xl shadow-lg p-6",children:[O.jsx("h1",{className:"text-3xl font-bold text-blue-400 mb-2 text-center",children:"Temple DJ Spot"}),O.jsx("p",{className:"text-center text-gray-300 mb-6",children:"Sign in to manage your crew and set times."}),O.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[O.jsx("button",{onClick:()=>l("login"),className:`py-2 px-4 rounded-md ${a==="login"?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,children:"Login"}),O.jsx("button",{onClick:()=>l("register"),className:`py-2 px-4 rounded-md ${a==="register"?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,children:"Register"})]}),a==="login"?O.jsx(E2,{auth:r}):O.jsx(T2,{auth:r,db:t,appId:i}),O.jsxs("div",{className:"mt-6",children:[O.jsx(_2,{}),O.jsx(v2,{})]})]})})}function _2(){return O.jsx("div",{className:"text-sm text-gray-300 space-y-2",children:O.jsx("p",{children:"Your Portal UI account is shared across sites. Register once on the main site, then return here to manage your crew. When you first sign in, well set up your crew space automatically."})})}function v2(){return O.jsxs("div",{className:"mt-6 text-xs text-gray-400 border-t border-gray-700 pt-4 leading-relaxed",children:[O.jsx("p",{className:"font-semibold text-gray-300 mb-1",children:"Terms & Conditions (Summary)"}),O.jsxs("ul",{className:"list-disc ml-5 space-y-1",children:[O.jsx("li",{children:"Use this service responsibly and in compliance with applicable laws."}),O.jsx("li",{children:"You own the content you upload; you grant us a license to host and display it to provide the service."}),O.jsx("li",{children:"Dont upload content that is illegal, infringing, or harmful."}),O.jsx("li",{children:"We may update features and policies; continued use constitutes acceptance of changes."}),O.jsx("li",{children:"This service is provided as is without warranties; were not liable for indirect or consequential damages."}),O.jsx("li",{children:"If youre under your regional age of digital consent, use only with a guardians permission."}),O.jsx("li",{children:"We may suspend accounts that violate these terms or abuse resources."}),O.jsx("li",{children:"For data requests or takedowns, contact support via the main Portal UI site."})]})]})}function E2({auth:r}){const[t,i]=wt.useState(""),[a,l]=wt.useState(""),[u,d]=wt.useState(!1),[g,p]=wt.useState(null),v=async T=>{if(T.preventDefault(),!!r){d(!0),p(null);try{await kw(r,t,a),p("Logged in successfully.")}catch(S){console.error(S);const N=(S==null?void 0:S.code)||"";let z="Login failed. Check your credentials.";N.includes("auth/user-not-found")&&(z="No account with that email."),N.includes("auth/wrong-password")&&(z="Incorrect password."),p(z)}finally{d(!1)}}};return O.jsxs("form",{onSubmit:v,className:"space-y-3",children:[O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm text-gray-300",children:"Email"}),O.jsx("input",{value:t,onChange:T=>i(T.target.value),type:"email",required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm text-gray-300",children:"Password"}),O.jsx("input",{value:a,onChange:T=>l(T.target.value),type:"password",required:!0,minLength:6,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),g&&O.jsx("div",{className:"text-sm text-yellow-300",children:g}),O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("button",{disabled:u,type:"submit",className:"py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-md",children:u?"Signing in":"Sign in"}),O.jsx("a",{href:"/login.html",className:"text-sm text-gray-400",children:"I prefer the full login page"})]})]})}function T2({auth:r,db:t,appId:i}){const[a,l]=wt.useState(""),[u,d]=wt.useState(""),[g,p]=wt.useState(""),[v,T]=wt.useState(""),[S,N]=wt.useState(!1),[z,Q]=wt.useState(null),tt=async J=>{if(J.preventDefault(),!(!r||!t)){if(g!==v){Q("Passwords do not match");return}N(!0),Q(null);try{const lt=await Uw(r,u,g);await wl(vi(t,"users",lt.user.uid),{uid:lt.user.uid,fullName:a,email:u,createdAt:new Date().toISOString()}),await wl(vi(t,`users/${lt.user.uid}/apps/${i}`,"meta"),{ownerUid:lt.user.uid,appId:i,createdAt:new Date().toISOString()});try{await Lw(lt.user)}catch{}Q("Registered and signed in. Verification email sent (if supported).")}catch(lt){console.error(lt);let _t="Registration failed.";const it=(lt==null?void 0:lt.code)||"";it.includes("auth/email-already-in-use")&&(_t="This email is already registered."),it.includes("auth/weak-password")&&(_t="Password is too weak."),Q(_t)}finally{N(!1)}}};return O.jsxs("form",{onSubmit:tt,className:"space-y-3",children:[O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm text-gray-300",children:"Full name"}),O.jsx("input",{value:a,onChange:J=>l(J.target.value),type:"text",required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm text-gray-300",children:"Email"}),O.jsx("input",{value:u,onChange:J=>d(J.target.value),type:"email",required:!0,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm text-gray-300",children:"Password"}),O.jsx("input",{value:g,onChange:J=>p(J.target.value),type:"password",required:!0,minLength:6,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm text-gray-300",children:"Confirm"}),O.jsx("input",{value:v,onChange:J=>T(J.target.value),type:"password",required:!0,minLength:6,className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]})]}),z&&O.jsx("div",{className:"text-sm text-yellow-300",children:z}),O.jsx("div",{children:O.jsx("button",{disabled:S,type:"submit",className:"py-2 px-4 bg-blue-600 hover:bg-blue-700 rounded-md",children:S?"Registering":"Create account"})})]})}function A2({db:r,userId:t,appId:i}){const[a,l]=wt.useState(""),[u,d]=wt.useState(""),[g,p]=wt.useState(!1),[v,T]=wt.useState(null),S=`users/${t}/apps/${i}`,N=vi(r,`${S}/meta/app`),z=async tt=>{if(tt.preventDefault(),!!a){p(!0),T(null);try{await Rl(N,{allowedAdminEmails:$v(a.trim().toLowerCase())}),T("Admin email added."),l("")}catch(J){console.error(J),T("Failed to add email.")}finally{p(!1)}}},Q=async tt=>{if(tt.preventDefault(),!!u){p(!0),T(null);try{await Rl(N,{allowedAdminUids:$v(u.trim())}),T("Admin UID added."),d("")}catch(J){console.error(J),T("Failed to add UID.")}finally{p(!1)}}};return O.jsxs("div",{className:"space-y-3",children:[O.jsxs("form",{onSubmit:z,className:"flex items-end gap-2",children:[O.jsxs("div",{className:"flex-1",children:[O.jsx("label",{className:"block text-sm text-gray-300",children:"Add admin by email"}),O.jsx("input",{value:a,onChange:tt=>l(tt.target.value),type:"email",placeholder:"crew@example.com",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),O.jsx("button",{disabled:g||!a,className:"py-2 px-3 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Add"})]}),O.jsxs("form",{onSubmit:Q,className:"flex items-end gap-2",children:[O.jsxs("div",{className:"flex-1",children:[O.jsx("label",{className:"block text-sm text-gray-300",children:"Add admin by UID"}),O.jsx("input",{value:u,onChange:tt=>d(tt.target.value),type:"text",placeholder:"Paste Firebase UID",className:"w-full mt-1 p-2 bg-gray-700 border border-gray-600 rounded-md text-white"})]}),O.jsx("button",{disabled:g||!u,className:"py-2 px-3 bg-blue-600 hover:bg-blue-700 rounded-md",children:"Add"})]}),v&&O.jsx("div",{className:"text-sm text-gray-300",children:v}),O.jsx("div",{className:"text-xs text-gray-400",children:"Tip: Ask the user to copy their UID from the header or provide their account email."})]})}function S2({djs:r,onDjClick:t,onDragStart:i,onDragOver:a,onDragEnter:l,onDragLeave:u,onDrop:d,isDropZoneActive:g,disabled:p,schedule:v}){const T=S=>v?v.timeSlots.filter(N=>N.djId===S||N.guests&&N.guests.some(z=>z.djId===S)):[];return O.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg flex-grow",children:[O.jsxs("h2",{className:"text-2xl font-semibold mb-4 flex items-center",children:[O.jsx(pT,{className:"w-6 h-6 mr-3 text-blue-400"}),"Unassigned DJs"]}),O.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:r.length===0?O.jsx("p",{className:"text-gray-400",children:"No unassigned DJs. Register one!"}):r.map(S=>{const N=T(S.id);return O.jsx("div",{children:O.jsx(vT,{dj:S,onClick:()=>t(S),isDraggable:!p,onDragStart:z=>i(z,{from:"pool",dj:S}),showInvite:N.length>0,assignedSlots:N})},S.id)})}),O.jsx("div",{onDragOver:a,onDragEnter:l,onDragLeave:u,onDrop:d,className:`mt-6 p-4 border-2 border-dashed rounded-lg text-center transition-all duration-200 ${g?"border-red-500 bg-red-900/50":"border-gray-600"}`,children:O.jsxs("div",{className:"flex flex-col items-center justify-center pointer-events-none",children:[O.jsx(yT,{className:`w-8 h-8 ${g?"text-red-400":"text-gray-500"}`}),O.jsx("p",{className:`mt-2 text-sm ${g?"text-red-300":"text-gray-400"}`,children:"Drag a DJ here to unassign"})]})})]})}function b2({schedule:r,djs:t,onDjClick:i,onDragStart:a,onDragOver:l,onDragEnter:u,onDragEnterSlot:d,onDragLeave:g,onDrop:p,isDropZoneActive:v,disabled:T,activeRange:S,onReset:N}){return O.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg",children:[O.jsxs("div",{className:"flex items-center justify-between mb-6",children:[O.jsxs("h2",{className:"text-2xl font-semibold flex items-center",children:[O.jsx(o2,{className:"w-6 h-6 mr-3 text-blue-400"}),r.name," Set Times"]}),O.jsxs("button",{onClick:N,disabled:T,className:"py-2 px-4 bg-red-600 hover:bg-red-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-md text-white text-sm flex items-center gap-2",title:"Clear all assignments and return DJs to unassigned pool",children:[O.jsx(yT,{className:"w-4 h-4"}),"Reset Schedule"]})]}),O.jsx("p",{className:"text-xs text-gray-400 mb-4",children:"Tips: Drag to swap. Use the small edge handles on an assigned slot to extend earlier/later. Hold Shift while dropping to fill a range. Hold Alt to overlap into a slot without replacing."}),O.jsx("div",{className:"space-y-4",children:r.timeSlots.map((z,Q)=>O.jsx("div",{children:O.jsx(w2,{slot:z,slotIndex:Q,allDjs:t,onDjClick:i,onDragStart:a,onDragOver:l,onDragEnter:u,onDragEnterSlot:d,onDragLeave:g,onDrop:p,disabled:T,activeRange:S})},Q))})]})}function w2({slot:r,slotIndex:t,allDjs:i,onDjClick:a,onDragStart:l,onDragOver:u,onDragEnter:d,onDragEnterSlot:g,onDragLeave:p,onDrop:v,disabled:T,activeRange:S}){const[N,z]=wt.useState(!1),Q=r.djId&&i.find(it=>it.id===r.djId)||null,tt=S?t>=S.start&&t<=S.end:!1,J=it=>{it.preventDefault(),it.stopPropagation(),z(!0),d(it),g(it,t)},lt=it=>{it.preventDefault(),it.stopPropagation(),z(!1),p(it)},_t=it=>{it.preventDefault(),it.stopPropagation(),z(!1),v(it,t)};return O.jsxs("div",{className:`flex items-center bg-gray-700 rounded-lg p-3 transition-all duration-200 ${N||tt?"ring-2 ring-blue-500 bg-gray-600":""}`,onDragOver:u,onDragEnter:J,onDragLeave:lt,onDrop:_t,children:[O.jsxs("div",{className:"w-32 flex-shrink-0 text-blue-300 font-mono flex items-center",children:[O.jsx(l2,{className:"w-4 h-4 mr-2"}),r.time]}),O.jsxs("div",{className:"flex-grow relative",children:[Q?O.jsxs("div",{className:"relative",children:[O.jsx("div",{draggable:!T,onDragStart:it=>l(it,{from:"resize",direction:"left",slotIndex:t,djId:Q.id,djName:Q.djName}),title:"Extend earlier",className:"absolute left-0 top-1/2 -translate-y-1/2 w-2 h-8 bg-blue-500/60 hover:bg-blue-500 rounded-sm cursor-ew-resize"}),O.jsx("div",{draggable:!T,onDragStart:it=>l(it,{from:"resize",direction:"right",slotIndex:t,djId:Q.id,djName:Q.djName}),title:"Extend later",className:"absolute right-0 top-1/2 -translate-y-1/2 w-2 h-8 bg-blue-500/60 hover:bg-blue-500 rounded-sm cursor-ew-resize"}),O.jsx(vT,{dj:Q,onClick:()=>a(Q),isDraggable:!T,onDragStart:it=>l(it,{from:"slot",slotIndex:t,djId:Q.id,djName:Q.djName})})]}):O.jsx("div",{className:"text-center text-gray-500 p-3 border border-dashed border-gray-600 rounded-md",children:"Empty Slot"}),r.guests&&r.guests.length>0&&O.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:r.guests.map(it=>O.jsxs("span",{className:"text-xs bg-gray-900 border border-gray-600 rounded px-2 py-1 text-gray-200",children:["+ ",it.djName]},it.djId))})]})]})}function vT({dj:r,onClick:t,isDraggable:i,onDragStart:a,showInvite:l,assignedSlots:u}){var T;const[d,g]=wt.useState(!1),p=`https://placehold.co/40x40/374151/9CA3AF?text=${encodeURIComponent(((T=r.djName)==null?void 0:T.charAt(0))||"D")}`,v=S=>{S.stopPropagation();let N=`${window.location.origin}/Registration.html?djName=${encodeURIComponent(r.djName)}&realName=${encodeURIComponent(r.realName)}`;if(u&&u.length>0){const z=u.map(Q=>Q.time).join(",");N+=`&slots=${encodeURIComponent(z)}`}navigator.clipboard.writeText(N).then(()=>{g(!0),setTimeout(()=>g(!1),2e3)}).catch(z=>{console.error("Failed to copy invite link:",z)})};return O.jsxs("div",{draggable:i,onDragStart:a,className:`flex items-center bg-gray-900 p-2 rounded-md shadow-sm ${i?"cursor-move":"cursor-pointer"} border border-gray-700 hover:bg-gray-800 transition-colors`,children:[O.jsx(u2,{className:"w-5 h-5 mr-2 text-gray-500 flex-shrink-0"}),O.jsx("img",{src:r.photoUrl||p,alt:r.djName,onError:S=>{S.currentTarget.src=p},className:"w-10 h-10 rounded-full object-cover mr-3 flex-shrink-0"}),O.jsxs("div",{className:"flex-grow min-w-0",onClick:t,children:[O.jsx("p",{className:"text-md font-semibold text-white truncate",children:r.djName}),O.jsx("p",{className:"text-sm text-gray-400 truncate",children:r.realName})]}),l&&O.jsx("button",{onClick:v,className:`ml-2 px-2 py-1 rounded text-xs font-medium transition-colors flex-shrink-0 ${d?"bg-green-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,title:"Copy invite link to clipboard",children:d?"Copied!":"Invite"})]})}function R2({dj:r,onClose:t}){const i="https://placehold.co/600x400/374151/9CA3AF?text=No+Photo";return O.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-75 backdrop-blur-sm",onClick:t,children:O.jsxs("div",{className:"bg-gray-800 w-full max-w-lg rounded-xl shadow-2xl overflow-hidden",onClick:a=>a.stopPropagation(),children:[O.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[O.jsxs("h2",{className:"text-2xl font-bold text-blue-400 flex items-center",children:[O.jsx(pT,{className:"w-6 h-6 mr-3"}),r.djName]}),O.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white rounded-full p-1 transition-colors",children:O.jsx(_T,{className:"w-6 h-6"})})]}),O.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[O.jsx("img",{src:r.photoUrl||i,alt:r.djName,onError:a=>{a.currentTarget.src=i},className:"w-full h-64 object-cover rounded-lg bg-gray-700"}),O.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[O.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[O.jsx(c2,{className:"w-4 h-4 mr-2"}),"Real Name"]}),O.jsx("p",{className:"text-lg text-white",children:r.realName})]}),r.info&&O.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[O.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[O.jsx(lm,{className:"w-4 h-4 mr-2"}),"Bio / Info"]}),O.jsx("p",{className:"text-white whitespace-pre-wrap",children:r.info})]}),r.visualUrl&&O.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[O.jsxs("h3",{className:"text-sm font-semibold text-gray-400 flex items-center",children:[O.jsx(f2,{className:"w-4 h-4 mr-2"}),"Visuals / Content"]}),O.jsx("a",{href:r.visualUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 hover:underline truncate block",children:r.visualUrl})]})]})]})})}const I2=document.getElementById("root"),C2=nS.createRoot(I2);C2.render(O.jsx(m2,{}));
